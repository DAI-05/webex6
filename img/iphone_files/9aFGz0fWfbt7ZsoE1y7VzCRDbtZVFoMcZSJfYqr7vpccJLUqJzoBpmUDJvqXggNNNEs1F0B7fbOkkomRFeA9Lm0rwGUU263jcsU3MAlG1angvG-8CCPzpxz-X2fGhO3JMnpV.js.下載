if (self.CavalryLogger) { CavalryLogger.start_js(["eMDVKEh"]); }

__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){e.exports={boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}}}),null);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4048841598565751",metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4281565965299392",metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4117708481614906"}),null);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3186012261435736"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="2229218363872708"}),null);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="2533792060016176"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2480352425341129",metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2260280317411482",metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WorkplaceMSRevealImageMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],kind:"ScalarField",name:"messenger_business_reveal_image",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkplaceMSRevealImageMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkplaceMSRevealImageMutation",selections:b},params:{id:"4160690120649582",metadata:{},name:"WorkplaceMSRevealImageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("composerAudioClipReducer",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return babelHelpers["extends"]({},a,{audioClip:b.audioClip})}function h(a,b){return babelHelpers["extends"]({},a,{audioClip:void 0})}function a(a,b){switch(b.type){case"SET_AUDIO_CLIP":return g(a,b);case"REMOVE_AUDIO_CLIP":return h(a,b)}return a}f["default"]=a}),66);
__d("useControlledComposerViewStateDispatcher",["ReactDOMComet","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useComposerViewStateDispatcher")();return h(function(b){d("ReactDOMComet").unstable_flushControlled!=null?d("ReactDOMComet").unstable_flushControlled(function(){return a(b)}):a(b)},[a])}g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("MWFilePressableGlimmer.react",["BaseGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"k4urcfbm kr520xx4 j9ispegn poy2od1o datstx6m sr8vsuhl",children:h.jsx("div",{className:"pfqjqu37 aodizinl lb8aey2d",children:h.jsx(c("BaseGlimmer.react"),{className:"orb7ywq3 emzo65vh fmqxjp7s czkt41v7 orhb3f3m",index:0})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFilePDFViewerModalWrapper.entrypoint",["JSResourceForInteraction","useMWFilePDFDataQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=babelHelpers["extends"]({},a.routeParams);return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:b("useMWFilePDFDataQuery$Parameters"),variables:a}}}},root:c("JSResourceForInteraction")("MWFilePDFViewerModalWrapper.react").__setRef("MWFilePDFViewerModalWrapper.entrypoint")};g["default"]=a}),98);
__d("WADynamicRouter",["Promise"],(function(a,b,c,d,e,f){var g={sentinel:"RESPONSE_NAMESPACE"},h={sentinel:"NOT_HANDLED"};a=function(){function a(){var a=this;this.$1=b("Promise").resolve();this.$2=new Map();this.$3=0;this.$4=null;this.$5=null;this.$6=null;this.fireAndForget=function(b,c,d,e){e===void 0&&(e=!1),a.$8(b,c,d,null,e)};this.sendAndReceive=function(c,d,e,f){f===void 0&&(f=!1);return new(b("Promise"))(function(b,h){a.$8(c,d,e,function(c){try{var d=k(c);d?d.call(c,function(c){a.$8(g,"",c,b,f)},function(b){a.$8(g,"",b,h,!1)}):a.$8(g,"",c,b,f)}catch(b){a.$8(g,"",b,h,!1)}},f)})};this.$7=function(){var b=a.$5;if(!b)return;var c=a.$2,d;while(b&&!(d=i(c,b)))a.$5=b=b.nextRoute;if(!b||!d)return;c=a.$9(d,b);var e=!0;if(c!==h){var f=b.prevRoute,g=b.nextRoute;a.$5===b&&(a.$5=g);f?f.nextRoute=g:a.$4=g;g?g.prevRoute=f:(e=!1,a.$6=f)}e&&a.$1.then(a.$7);return c}}var c=a.prototype;c.hasHandlerForNamespace=function(a){return this.$2.has(a)};c.getHandledNamespaces=function(){return Array.from(this.$2.keys())};c.setNamespaceHandler=function(a,b){var c=this.$2,d=c.get(a);if(d===b)return;++this.$3;c.set(a,b);if(!d){c=this.$4;c&&(this.$5||this.$1.then(this.$7),this.$5=c)}};c.setHandlers=function(a,b){function c(a,c,d){a=b[a](c);d&&d(a)}this.setNamespaceHandler(a,c)};c.$8=function(a,b,c,d,e){var f=this.$6;a={namespace:a,route:b,arg:c,resolver:d,prevRoute:f,nextRoute:null,silentLog:e};this.$6=a;b=!0;f?(f.nextRoute=a,b=!this.$5):this.$4=a;b&&i(this.$2,a)&&(this.$5=a,this.$1.then(this.$7))};c.$9=function(a,c){var d=c.route,e=c.arg,f=c.resolver;c=c.silentLog;var g=this.$3,i=null,j=null;try{i=a(d,e,f,c)}catch(a){j=b("Promise").reject(a)}if(i===h)if(g===this.$3)j=b("Promise").reject(new Error("DynamicRouter: NOT_HANDLED can only be used when updating handlers"));else return h;if(f){j&&f(j);return}else return j};return a}();function i(a,b){b=b.namespace;return b===g?j:a.get(b)}function j(a,b,c){c(b)}function k(a){if(a!=null&&(typeof a==="object"||typeof a==="function")){a=a.then;return typeof a==="function"?a:null}return null}f.NOT_HANDLED=h;f.DynamicRouter=a}),66);
__d("MAWBridge",["WADynamicRouter"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouter").DynamicRouter)();function a(){return h}g.getBridge=a}),98);
__d("WAPromiseDelays",["Promise"],(function(a,b,c,d,e,f){function a(a,c){return new(b("Promise"))(function(b){setTimeout(b,a,c)})}function c(a,c,d){return new(b("Promise"))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}f.delayMs=a;f.withTimeout=c}),66);
__d("MAWTimedBridge",["FBLogger","MAWMaybeWithTimeout","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;function a(a,b,e){e===void 0&&(e=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup().then(function(){return a}),e,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete bridge route "+b+" in time")})}g.bridgeTimeout=a}),98);
__d("MAWBridge.bs",["MAWBridge","MAWTimedBridge"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return{fireAndForget:function(e){b("MAWBridge").getBridge().fireAndForget(a,c,d)},sendAndReceive:function(e){return b("MAWTimedBridge").bridgeTimeout(b("MAWBridge").getBridge().sendAndReceive(a,c,d),c)},sendAndReceiveWithTimeout:function(e){return b("MAWTimedBridge").bridgeTimeout(b("MAWBridge").getBridge().sendAndReceive(a,c,d),c,e)}}}f.createApi=a}),null);
__d("MAWBackendBridge.bs",["MAWBridge.bs"],(function(a,b,c,d,e,f){"use strict";var g="backend",h="archiveThread",i={$$event:h},j="clearSignalAndTempStores",k={$$event:j},l={$$event:"createThread"},m="createThreadThroughMI",n={$$event:m},o="deleteThread",p={$$event:o},q="getCurrentUserDeviceInfo",r={$$event:q},s="markThreadAsUnread",t={$$event:s},u="updateThreadMuteSetting",v={$$event:u},w="initSync",x={$$event:w},y="loadMoreThreads",z={$$event:y},A="loadMoreMsgs",B={$$event:A},C="loadMoreMedia",D={$$event:C},E="getBlobDataUrlByMediaId",F={$$event:E},G="getGroupSuperAdmin",H={$$event:G},I="getThumbnailBlobDataUrlByMediaId",J={$$event:I},K="retryUploadMedia",L={$$event:K},M="optimisticUploadMedia",N={$$event:M},O="sendChatStateFromComposer",P={$$event:O},Q="getThreadJidByChatId",R={$$event:Q},S="getProtocolMsgIdByMsgId",T={$$event:S};function a(a){return{TAG:0,_0:a}}function c(a){return{TAG:1,_0:a}}function d(a){return{TAG:2,_0:a}}function e(a){return{TAG:3,_0:a}}var U="search",V={$$event:U},W="getThreadDevicesInfo",X={$$event:W},Y="updateContactName",aa={$$event:Y},Z="updateParticipantName",ba={$$event:Z},$="fetchExistingThread",ca={$$event:$};function da(a){return b("MAWBridge.bs").createApi(g,h,a)}function ea(a){return b("MAWBridge.bs").createApi(g,j,a)}function fa(a){return b("MAWBridge.bs").createApi(g,m,a)}function ga(a){return b("MAWBridge.bs").createApi(g,o,a)}function ha(a){return b("MAWBridge.bs").createApi(g,q,a)}function ia(a){return b("MAWBridge.bs").createApi(g,s,a)}function ja(a){return b("MAWBridge.bs").createApi(g,u,a)}function ka(a){return b("MAWBridge.bs").createApi(g,w,a)}function la(a){return b("MAWBridge.bs").createApi(g,y,a)}function ma(a){return b("MAWBridge.bs").createApi(g,A,a)}function na(a){return b("MAWBridge.bs").createApi(g,C,a)}function oa(a){return b("MAWBridge.bs").createApi(g,E,a)}function pa(a){return b("MAWBridge.bs").createApi(g,G,a)}function qa(a){return b("MAWBridge.bs").createApi(g,I,a)}function ra(a){return b("MAWBridge.bs").createApi(g,W,a)}function sa(a){return b("MAWBridge.bs").createApi(g,K,a)}function ta(a){return b("MAWBridge.bs").createApi(g,M,a)}function ua(a){return b("MAWBridge.bs").createApi(g,Y,a)}function va(a){return b("MAWBridge.bs").createApi(g,Z,a)}function wa(a){return b("MAWBridge.bs").createApi(g,$,a)}function xa(a){return b("MAWBridge.bs").createApi(g,U,a)}function ya(a){return b("MAWBridge.bs").createApi(g,O,a)}function za(a){return b("MAWBridge.bs").createApi(g,Q,a)}function Aa(a){return b("MAWBridge.bs").createApi(g,S,a)}f.namespace=g;f.ArchiveThread=i;f.ClearSignalAndTempStores=k;f.CreateThread=l;f.CreateThreadThroughMI=n;f.DeleteThread=p;f.GetCurrentUserDeviceInfo=r;f.MarkThreadAsUnread=t;f.UpdateThreadMuteSetting=v;f.InitSync=x;f.LoadMoreThreads=z;f.LoadMoreMsgs=B;f.LoadMoreMedia=D;f.GetBlobDataUrlByMediaId=F;f.GetGroupSuperAdmin=H;f.GetThumbnailBlobDataUrlByMediaId=J;f.RetryUploadMedia=L;f.OptimisticUploadMedia=N;f.SendChatStateFromComposer=P;f.GetThreadJidByChatId=R;f.GetProtocolMsgIdByMsgId=T;f.bridgeMsg=a;f.bridgeGroupInfo=c;f.bridgeContact=d;f.bridgeParticipant=e;f.Search=V;f.GetThreadDevicesInfo=X;f.UpdateContactName=aa;f.UpdateParticipantName=ba;f.FetchExistingThread=ca;f.archiveThread=da;f.clearSignalAndTempStores=ea;f.createThreadThroughMI=fa;f.deleteThread=ga;f.getCurrentUserDeviceInfo=ha;f.markThreadAsUnread=ia;f.updateThreadMuteSetting=ja;f.initSync=ka;f.loadMoreThreads=la;f.loadMoreMsgs=ma;f.loadMoreMedia=na;f.getBlobDataUrlByMediaId=oa;f.getGroupSuperAdmin=pa;f.getThumbnailBlobDataUrlByMediaId=qa;f.getThreadDevicesInfo=ra;f.retryUploadMedia=sa;f.optimisticUploadMedia=ta;f.updateContactName=ua;f.updateParticipantName=va;f.fetchExistingThread=wa;f.search=xa;f.sendChatStateFromComposer=ya;f.getThreadJidByChatId=za;f.getProtocolMsgIdByMsgId=Aa}),null);
__d("MWBaseTheme.bs",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={light:a,dark:b,type:"VARIABLES"};f.empty=c}),null);
__d("MWTextWithEntities.bs",["CometLink.react","MWMessageCellFocusTable.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){return function(e,f){f={href:f.uri,children:e,xstyle:a};c!==void 0&&(f.target=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.testid=d);return h.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:h.jsx("span",{role:"gridcell",children:h.jsx(b("CometLink.react"),f)})})}}f.linkPlugin=a}),null);
__d("MWLSAttachmentAttribution.bs",["bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.X,d=a.Y;if(c!==void 0&&d!==void 0)return{id:b("bs_int64").to_string(c),iconUrl:a.Z,name:d}}f.get=a}),null);
__d("MWEncryptedUrl.bs",["invariant","Base64.bs","CancellablePromise.bs","CancellationToken.bs","Crypto.bs","Promise","bs_caml_option","bs_curry","bs_pervasives","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a,c,d){var e=i.useState(function(){if(c!==void 0)return;else return a}),f=e[1];i.useEffect(function(){var e=b("CancellationToken.bs").make(void 0),h=0;if(c!==void 0&&a!==void 0){var i;i=(i=b("CancellablePromise.bs")).ignoreFailed(void 0,i.then_(e,function(a){var c;switch(d.TAG|0){case 1:c="data:image/jpeg;base64,";break;case 6:c="data:audio/wav;base64,";break;case 7:c="data:video/mp4;base64,";break;default:c=b("bs_pervasives").failwith("Unsupported attachment for encryptedUrl")}b("bs_curry")._1(f,function(d){return c+b("Base64.bs").fromArrayBuffer(a)});return b("Promise").resolve(void 0)},i.then_(e,function(a){var c=a[1],d=c.slice(0,2),e=c.slice(2,14);c=c.slice(14);return b("Crypto.bs").decrypt({name:"AES-GCM",iv:e,additionalData:b("bs_caml_option").some(d),tagLength:128},a[0],c)},i.then_(e,function(a){var d=b("Base64.bs").toArrayBuffer(c);d.byteLength===32||g(0,20660);return b("Promise").all([b("Crypto.bs").importKey("raw",d,{NAME:"Aes",VAL:"AES-GCM"},!1,["decrypt"]),b("Promise").resolve(a)])},i.then_(e,function(a){return a.arrayBuffer()},window.fetch(a))))));b("promiseDone")(i,void 0,void 0)}else h=1;h===1&&b("bs_curry")._1(f,function(b){return a});return e.cancel},[a,c,f]);return e[0]}c=128;f.aesGCMTagLength=c;f.useMaybeEncryptedUrl=a}),null);
__d("XCometMessengerAttachmentMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_attachment_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWChatAttachmentMediaPreview.bs",["fbt","CometImageCover.react","CometPressable.react","FBID.bs","MWEncryptedUrl.bs","XCometMessengerAttachmentMediaControllerRouteBuilder","bs_belt_Option","bs_caml_int64","bs_int64","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=String(18)+"px",l={imageContainer:{verticalAlign:"sf5mxxl7",boxShadow:"m648lm6m",borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",lineHeight:"soycq5t1"},standalone:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"}};function m(a){var c=a.attachmentMediaUrl,d=a.previewUrl,e=a.widthStyle;a=a.decryptionKey;d=b("MWEncryptedUrl.bs").useMaybeEncryptedUrl(d,a,{TAG:1,_0:{isGIF:!1,previewUrl:"",previewHeight:void 0,previewWidth:void 0,appAttribution:void 0,photoFbid:void 0,blurredImageUri:void 0,decryptionKey:void 0,title:void 0}});if(d!==void 0)return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u958b\u555f\u76f8\u7247"/*FBT_CALL*/),linkProps:{url:c},testid:"attachment-media-image",xstyle:function(a){return[l.standalone]},children:j.jsx(b("CometImageCover.react"),{src:d,style:{maxHeight:String(200)+"px",maxWidth:"100%",minHeight:String(24)+"px",width:e,borderTopLeftRadius:k,borderTopRightRadius:k,borderBottomLeftRadius:k,borderBottomRightRadius:k}})});else return null}c={make:m};function n(a){var c=b("bs_belt_Option").mapWithDefault(a.L,1,b("bs_caml_int64").to_int32),d=b("bs_belt_Option").mapWithDefault(a.K,1,b("bs_caml_int64").to_int32);d=d/c;a=a.K;if(a!==void 0)return(c>200?200*d:b("bs_caml_int64").to_float(a)).toString()+"px";else return"auto"}function a(a){a=a.attachment;var c=a.F;if(c!==void 0)return j.jsx("div",{className:(i||(i=b("stylex")))(l.imageContainer,l.standalone),children:j.jsx(m,{attachmentMediaUrl:b("XCometMessengerAttachmentMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a)),attachment_id:b("FBID.bs").ofStringExn(a.e)}),previewUrl:c,widthStyle:n(a),decryptionKey:a.bi})});else return null}d=200;e=24;var o=!1,p=18;a=a;f.maxHeight=d;f.minHeight=e;f.withAppAttribution=o;f.radius=p;f.radiusStyle=k;f.styles=l;f.MediaPreview=c;f.calculateWidthStyle=n;f.make=a}),null);
__d("MWChatFileIcon.bs",["ix","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"o3lre8g0",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.icon),children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("908355"),16),color:"primary"})})}c=a;f.styles=k;f.make=c}),null);
__d("MessengerFilePreviewGenerationEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({SCHEDULED_ASYNC_JOB:"scheduled_async_job",ENT_LOAD_FAILURE:"ent_load_failure",ADD_PREVIEWS_START:"add_previews_start",ADD_PREVIEWS_GENERATE_PHOTOS:"add_previews_generate_photos",ADD_PREVIEWS_SUCCESS:"add_previews_success",ADD_PREVIEWS_FAIL:"add_previews_fail",ADD_PREVIEWS_DELETE_PDF:"add_previews_delete_pdf",ADD_PREVIEWS_SAVE_PDF:"add_previews_save_pdf",INVALID_FILE_TYPE:"invalid_file_type",DOWNLOAD_DATA_FAILURE:"download_data_failure",FILE_VIEWER_CLICK:"file_viewer_click",FILE_VIEWER_DIRECT_DOWNLOAD:"file_viewer_direct_download",FILE_VIEWER_IMPRESSION:"file_viewer_impression",FILE_VIEWER_FALLBACK:"file_viewer_fallback",FILE_VIEWER_DOWNLOAD_FROM_HEADER:"file_viewer_download_from_header",FILE_VIEWER_DOWNLOAD_FROM_FALLBACK:"file_viewer_download_from_fallback",FILE_VIEWER_OPEN_FORWARD_DIALOG:"file_viewer_open_forward_dialog",FILE_VIEWER_FORWARD:"file_viewer_forward",FILE_VIEWER_CLOSE:"file_viewer_close"});f["default"]=a}),66);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("606");c=b("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e.exports=c}),null);
__d("MessengerFilePreviewGenerationFalcoEvent.bs",["MessengerFilePreviewGenerationFalcoEvent"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MessengerFilePreviewGenerationFalcoEvent").log(a)}function c(a){b("MessengerFilePreviewGenerationFalcoEvent").logAsync(a)}function d(a){b("MessengerFilePreviewGenerationFalcoEvent").logImmediately(a)}function e(a){b("MessengerFilePreviewGenerationFalcoEvent").logCritical(a)}f.log=a;f.logAsync=c;f.logImmediately=d;f.logCritical=e}),null);
__d("MWFileViewerLogger.bs",["FBID.bs","MessengerFilePreviewGenerationEvent","MessengerFilePreviewGenerationFalcoEvent.bs","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","gkx"],(function(a,b,c,d,e,f){"use strict";function c(c){c=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return b("bs_int64").to_string(b("bs_curry")._1(c,void 0))}var g=b("gkx")("1016");function h(a,c){if(g)return b("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){return{attachment_id:b("bs_caml_option").some(c.attachmentID),entry_point:c.entryPoint,event:a,filesize:b("bs_belt_Option").flatMap(c.attachment,function(a){return b("bs_belt_Option").map(a.i,b("bs_int64").to_string)}),filetype:b("bs_belt_Option").flatMap(c.attachment,function(a){return a.D}),is_rich_preview:c.isRichPreview,message_id:c.messageID.messageId,session_id:c.sessionId,thread_id:b("FBID.bs").ofString(b("bs_int64").to_string(c.thread.a)),thread_type:b("bs_caml_int64").to_int32(c.thread.c)}})}function d(a){return h(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_CLICK,a)}function e(a){return h(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_DIRECT_DOWNLOAD,a)}function i(a,c){if(g)return b("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){var d;return{attachment_id:(d=b("bs_caml_option")).some(c.attachmentId),entry_point:d.nullable_to_opt(c.entryPoint),event:a,filesize:d.nullable_to_opt(c.filesize),filetype:d.nullable_to_opt(c.filetype),file_pages:d.nullable_to_opt(c.filePages),message_id:c.messageId,session_id:c.sessionId,target_id:d.nullable_to_opt(c.targetId),thread_id:d.some(c.threadId),thread_type:d.nullable_to_opt(c.threadType)}})}function j(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_IMPRESSION,a)}function k(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_FALLBACK,a)}function l(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_DOWNLOAD_FROM_HEADER,a)}function m(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_DOWNLOAD_FROM_FALLBACK,a)}function n(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_OPEN_FORWARD_DIALOG,a)}function o(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_FORWARD,a)}function p(a){if(g)return b("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){var c;return{attachment_id:(c=b("bs_caml_option")).some(a.attachmentId),entry_point:c.nullable_to_opt(a.entryPoint),event:b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_CLOSE,filesize:c.nullable_to_opt(a.filesize),filetype:c.nullable_to_opt(a.filetype),file_pages:c.nullable_to_opt(a.filePages),max_scroll_depth:c.nullable_to_opt(a.maxScrollDepth),message_id:a.messageId,session_duration:c.nullable_to_opt(a.sessionDuration),session_id:a.sessionId,thread_id:c.some(a.threadId),thread_type:c.nullable_to_opt(a.threadType)}})}f.generateSessionId=c;f.logFileViewerClick=d;f.logFileViewerDirectDownload=e;f.logFileViewerImpression=j;f.logFileViewerFallback=k;f.logFileViewerDownloadFromHeader=l;f.logFileViewerDownloadFromFallback=m;f.logFileViewerOpenForwardDialog=n;f.logFileViewerForward=o;f.logFileViewerClose=p}),null);
__d("MWFilePressableHooks.bs",["MWFileViewerLogger.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_curry","qex","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachments").asc,{hd:a.threadId,tl:{hd:a.messageId,tl:0}}),1)},[c,a]))}function j(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:a.threadId,tl:0}),1)},[c,a]))}function a(a,c,d,e,f,g){var k=i(a),l=j(a),m=b("bs_belt_Option").isSome(b("bs_belt_Option").flatMap(k,function(a){return a.F})),n=b("qex")._("912")===!0,o=b("qex")._("920")===!0,p=m&&n&&o;return h.useCallback(function(h){d!==void 0&&b("bs_curry")._1(d,h);h={messageID:a,attachmentID:c,thread:l,attachment:k,entryPoint:e,sessionId:f,isRichPreview:p};if(g)return b("MWFileViewerLogger.bs").logFileViewerDirectDownload(h);else return b("MWFileViewerLogger.bs").logFileViewerClick(h)},[l,k,f])}f.useOnPressHandler=a}),null);
__d("XCometMessengerFileControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_file/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWFilePressable.bs",["CometEntryPointDialogTrigger.react","CometErrorBoundary.re","CometPressable.react","CurrentEnvironment","FBID.bs","FBLogger","MWFilePDFViewerModalWrapper.entrypoint","MWFilePressableGlimmer.react","MWFilePressableHooks.bs","MWFileViewerLogger.bs","URI","XCometMessengerFileControllerRouteBuilder","bs_belt_Option","bs_caml_option","bs_curry","bs_int64","qex","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f,g,h,j){return i.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:b("MWFilePDFViewerModalWrapper.entrypoint"),otherProps:{entryPoint:a,sessionID:h,downloadUri:e},preloadParams:{routeParams:{attachment_id:d,message_id:c.messageId,thread_id:b("bs_int64").to_string(c.threadId)}},fallback:function(a){return i.jsx(b("MWFilePressableGlimmer.react"),{})},children:function(a){var c={display:"inline",onPress:function(c){f!==void 0&&b("bs_curry")._1(f,c);return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:j};g!==void 0&&(c.xstyle=b("bs_caml_option").valFromOption(g));return i.jsx(b("CometPressable.react"),c)}})}function k(a,c,d,e,f,g,h,j){d=b("XCometMessengerFileControllerRouteBuilder").buildURL({attachment_id:d,message_id:c.messageId,thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadId))});c={entryPoint:a,sessionID:h,downloadUri:e};a={passthroughProps:c,url:d};h={display:"inline",linkProps:a,overlayDisabled:!0,children:j};f!==void 0&&(h.onPress=b("bs_caml_option").valFromOption(f));g!==void 0&&(h.xstyle=b("bs_caml_option").valFromOption(g));return i.jsx(b("CometPressable.react"),h)}function l(a,c,d,e){a=b("bs_belt_Option").map(a,function(a){return{download:!0,target:"_blank",url:a}});e={display:"inline",overlayDisabled:!0,children:e};a!==void 0&&(e.linkProps=b("bs_caml_option").valFromOption(a));c!==void 0&&(e.onPress=b("bs_caml_option").valFromOption(c));d!==void 0&&(e.xstyle=b("bs_caml_option").valFromOption(d));return i.jsx(b("CometPressable.react"),e)}function m(a,c,d,e,f,g,h){var i=b("qex")._("913")===!0,m=!i,n=b("MWFileViewerLogger.bs").generateSessionId(void 0);f=b("MWFilePressableHooks.bs").useOnPressHandler(c,d,f,a,n,m);m=b("CurrentEnvironment").facebookdotcom;if(i)if(m)return k(a,c,d,e,f,g,n,h);else return j(a,c,d,e,f,g,n,h);else return l(e,f,g,h)}function a(a){var c=a.messageID,d=a.attachmentID,e=a.url,f=a.onPress,g=a.entryPoint,j=a.xstyle;a=a.children;return c!==void 0&&typeof c!=="number"&&c.TAG!==0&&d!==void 0&&e!==void 0?i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:m(g,c._0,b("bs_caml_option").valFromOption(d),e,f,j,a),onError:function(a){a=a?a.message:"Cannot open file viewer";b("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);(h||(h=b("URI"))).goURIOnNewWindow(new h(e))}}):l(e,f,j,a)}c=a;f.makeDialogTrigger=j;f.makePushViewLink=k;f.makeFilePressableDirectDownload=l;f.makeFilePressable=m;f.make=c}),null);
__d("MessengerFilePreviewGenerationEntryPoint",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({CHAT_FILE_V1:"chat_file_v1",CHAT_FILE_V2:"chat_file_v2",CHAT_FILE_V3:"chat_file_v3",CHAT_FILE_V4:"chat_file_v4",INBOX_INFO_V1:"inbox_info_v1",INBOX_INFO_V2:"inbox_info_v2",DIRECT_LINK:"direct_link"});c=a;f["default"]=c}),66);
__d("MWChatFile.bs",["fbt","LineClamp.react","MWChatFileIcon.bs","MWFilePressable.bs","MessengerFilePreviewGenerationEntryPoint","bs_belt_Option","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",alignItems:"bp9cbjyn",userSelect:"abiwlrkh",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},content:{flexGrow:"buofh1pr",color:"oo9gr5id",fontWeight:"lrazzd5p",wordBreak:"qv66sw1b"},icon:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"o3lre8g0",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function a(a){var c=a.messageID,d=a.attachmentID,e=a.url;a=a.fileName;a=a!==void 0?a:g._(/*FBT_CALL*/"\u6a94\u6848"/*FBT_CALL*/);a=j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[j.jsx(b("MWChatFileIcon.bs").make,{}),j.jsx("div",{className:i(k.content),children:j.jsx(b("LineClamp.react"),{lines:3,children:a})})]});a={entryPoint:b("MessengerFilePreviewGenerationEntryPoint").CHAT_FILE_V1,children:a};c!==void 0&&(a.messageID=b("bs_caml_option").valFromOption(c));d!==void 0&&(a.attachmentID=b("bs_caml_option").valFromOption(d));c=b("bs_belt_Option").map(e,function(a){return a.toString()});c!==void 0&&(a.url=c);return j.jsx(b("MWFilePressable.bs").make,a)}c=a;f.styles=k;f.make=c}),null);
__d("WorkplaceMSRevealImage",["CometRelay","WorkplaceMSRevealImageMutation.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback;function a(){var a=d("CometRelay").useMutation(h!==void 0?h:h=b("WorkplaceMSRevealImageMutation.graphql")),c=a[0];a[1];return i(function(a,b){c({variables:{input:{image_id:a,message_id:b}}})},[c])}g.useHook=a}),98);
__d("MWChatHideImage.bs",["fbt","ix","CometPressable.react","IconSource","MDSText.react","MWChatMessageId.bs","TetraIcon.react","WorkplaceMSRevealImage","bs_curry","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={wrapper:{backgroundColor:"tqsryivl",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",lineHeight:"dfwzkoeu",textAlign:"oqcyycmt",verticalAlign:"sf5mxxl7",paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"jfpizvyy",paddingStart:"h4z51re5"},title:{paddingTop:"cxgpxx05",paddingEnd:"rz4wbd8a",paddingBottom:"osnr6wyh",paddingStart:"a8nywdso"}};function a(a){var c=a.fbid,d=a.messageID,e=b("WorkplaceMSRevealImage").useHook();a=k.useCallback(function(a){a=b("MWChatMessageId.bs").getMessageId(d);if(a!==void 0)return b("bs_curry")._2(e,c,a);else{b("recoverableViolation")("Failed to get message id when hiding","messenger_comet");return}},[e,d,c]);return k.jsx(b("CometPressable.react"),{display:"inline",onPress:a,children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.wrapper),children:[k.jsx(b("TetraIcon.react"),{icon:new(b("IconSource"))("FB",h("511443"),24)}),k.jsx("div",{className:j(l.title),children:k.jsx(b("MDSText.react"),{color:"white",type:"headline4",children:g._(/*FBT_CALL*/"\u9ede\u6309\u53ef\u67e5\u770b\u654f\u611f\u5167\u5bb9"/*FBT_CALL*/)})}),k.jsx(b("MDSText.react"),{color:"white",type:"body4",children:g._(/*FBT_CALL*/"\u9019\u5f35\u76f8\u7247\u542b\u6709\u654f\u611f\u5167\u5bb9\uff0c\u53ef\u80fd\u6703\u8b93\u6709\u4e9b\u4eba\u611f\u5230\u4e0d\u9069\u6216\u4e0d\u6085\u3002"/*FBT_CALL*/)})]})})}c=a;f.styles=l;f.make=c}),null);
__d("MWChatImageInsetShadow.bs",["bs_caml_splice_call","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={imageShadow:{position:"pmk7jnqg",boxSizing:"rq0escxv",bottom:"i09qtzwb",end:"n7fi1qx3",start:"j9ispegn",top:"kr520xx4",borderTop:"j9y2yd7c",borderEnd:"n167cdi4",borderBottom:"mp6yeyp0",borderStart:"cknb6mjg",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",pointerEvents:"hzruof5a"}},k=[];function a(a){a=a.xstyle;var c=a!==void 0?a:k;a=i.useMemo(function(){return b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[c.concat([j.imageShadow])])},[c]);return i.jsx("div",{className:a})}c=a;f.empty=k;f.make=c}),null);
__d("MWLSLogMessageClick.bs",["LsActionCategory.bs","MWChatMessageId.bs","UserAgentData","bs_caml_int64","bs_caml_option","bs_int64","requireDeferred"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=d!==void 0?b("bs_caml_option").valFromOption(d):void 0;b("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWLSLogMessageClick.bs").onReady(function(d){d.log(function(){var d={};f!==void 0&&(d.action=f);d.browserName=b("UserAgentData").browserName;var e=b("MWChatMessageId.bs").getThreadId(a),g=b("MWChatMessageId.bs").getMessageId(a),h=b("MWChatMessageId.bs").getTimestamp(a);return{click:{category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click)},click_target:{type:b("bs_caml_int64").to_int32(c)},thread:{id:e!==void 0?b("bs_int64").to_string(e):"",key:void 0,type:void 0},message:{id:g!==void 0?g:"",sender_id:void 0,sent_time:h!==void 0?b("bs_caml_int64").to_float(h):void 0},xma:void 0,extra:JSON.stringify(d)}})})}f.logMessageClicked=a}),null);
__d("MWChatImage.bs",["fbt","CometImageCover.react","CometPressable.react","LsTargetType.bs","MWChatHideImage.bs","MWChatImageInsetShadow.bs","MWChatMessageId.bs","MWLSLogMessageClick.bs","MWLSThreadDisplayContext.bs","bs_belt_Option","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k="18px",l="4px";function m(a){var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);if(a!==void 0)return a;else if(c===1)return 400;else return 200}var n={imageContainer:{position:"l9j0dhe7",verticalAlign:"sf5mxxl7",lineHeight:"soycq5t1"},standalone:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},imageWithAppAttr:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"mrjvor2e",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"jinzq4gt"},appIcon:{width:"hhz5lgdu",height:"gl3lb2sf",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},appAttr:{paddingTop:"ecm0bbzt",paddingEnd:"p8fzw8mz",paddingBottom:"e5nlhep0",paddingStart:"pcp91wgn",display:"j83agx80",alignItems:"bp9cbjyn",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",lineHeight:"dfwzkoeu"},appText:{fontSize:"e9vueds3",marginStart:"ggphbty4",color:"oo9gr5id",wordBreak:"qv66sw1b"},imageWithAnchor:{borderTopStartRadius:"jk6sbkaj"}};function o(a){if(a===void 0)return null;var c=a.iconUrl;return j.jsxs("div",{className:(i||(i=b("stylex")))(n.appAttr),children:[c!==void 0?j.jsx("img",{src:c,className:(i||(i=b("stylex")))(n.appIcon)}):null,j.jsx("span",{className:i(n.appText),children:a.name})]})}function a(a){var c=a.content,d=a.maxHeight,e=a.minHeight,f=a.messageID,h=a.hasAnchor,p=a.buildSharedMediaViewerURL;a=e!==void 0?e:b("gkx")("1299319")?200:24;var q=h!==void 0?h:!1;e=m(d);var r=c.appAttribution!==void 0;h=b("gkx")("1924962");d=c.previewHeight;d=d!==void 0?d:1;var s=c.previewWidth;s=s!==void 0?s:1;var t=s/d;d=s!==1?(d>e?e*t:s).toString()+"px":"auto";t=c.title;s={src:c.previewUrl,style:{maxHeight:String(e)+"px",maxWidth:"100%",minHeight:String(a)+"px",width:d,borderTopLeftRadius:q?l:k,borderTopRightRadius:k,borderBottomLeftRadius:r?"0":k,borderBottomRightRadius:r?"0":k}};e=t!==void 0&&h?t:g._(/*FBT_CALL*/"\u958b\u555f\u76f8\u7247"/*FBT_CALL*/);e!==void 0&&(s.alt=e);a=j.jsx(b("CometImageCover.react"),s);d=c.photoFbid;h=c.blurredImageUri;if(d!==void 0){var u=b("bs_caml_option").valFromOption(d);if(h!==void 0)t=j.jsx(b("MWChatHideImage.bs").make,{fbid:u,messageID:f});else{e=b("bs_belt_Option").map(b("MWChatMessageId.bs").getMessageId(f),function(a){return b("bs_curry")._2(p,{fbid:u,photo_ids:void 0,message_id:a},c.isGIF)});s={testid:"chat-image",onPress:function(a){return b("MWLSLogMessageClick.bs").logMessageClicked(f,b("LsTargetType.bs").attachmentImage,void 0,void 0)},xstyle:function(a){return[r?n.imageWithAppAttr:n.standalone,q?n.imageWithAnchor:!1]},children:a};d=b("bs_belt_Option").map(e,function(a){return{passthroughProps:{origSrc:c.previewUrl},url:a}});d!==void 0&&(s.linkProps=b("bs_caml_option").valFromOption(d));t=j.jsx(b("CometPressable.react"),s,u)}}else t=a;h={};e=q?[n.imageWithAnchor]:void 0;e!==void 0&&(h.xstyle=b("bs_caml_option").valFromOption(e));return j.jsxs("div",{className:(i||(i=b("stylex")))(n.imageContainer,n.standalone,q?n.imageWithAnchor:!1),children:[t,o(c.appAttribution),j.jsx(b("MWChatImageInsetShadow.bs").make,h)]})}c=18;d=4;e=200;var p=24;a=a;f.radius=c;f.radiusStyle=k;f.anchorRadius=d;f.anchorRadiusStyle=l;f.defaultMaxHeight=e;f.defaultMinHeight=p;f.useMaxHeightWithDefault=m;f.styles=n;f.renderAppAttribution=o;f.make=a}),null);
__d("MWLSAttachmentCta.bs",["ReQL.bs","ReQLTable","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c={a:b("bs_caml_int64").zero,b:"",c:b("bs_caml_int64").zero,d:b("bs_caml_int64").zero,e:"",f:"",g:"fallback",h:void 0,i:void 0,j:void 0,k:void 0,l:void 0,m:void 0,n:void 0,o:void 0};function a(a,c){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"attachment_ctas").asc,{hd:c,tl:0})}f.empty=c;f.getById=a}),null);
__d("MWLSAttachmentItem.bs",["MWLSAttachmentCta.bs","ReQL.bs","ReQLSuspense.bs","ReQLTable","bs_belt_Array","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){return{attachmentItem:a,defaultCta:c,callToActions:b("bs_belt_Array").keepMap(d,function(a){return a})}}function a(a,c){return b("ReQLSuspense.bs").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"attachment_items").asc,{hd:c,tl:0}),function(c){var d=b("bs_belt_Option").mapWithDefault(c.t,void 0,function(c){return b("ReQLSuspense.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))}),e=b("bs_belt_Array").keepMap([c.A,c.D,c.G],function(a){return a}).map(function(c){return b("ReQLSuspense.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))});return g(c,d,e)}))}f.project=g;f.getForAttachment=a}),null);
__d("XLightSpeedSecureMessageWebStickerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/lightspeed/securemessage/web/sticker/",{sticker_id:{type:"FBID",required:!0},width:{type:"Int"},height:{type:"Int"},scale:{type:"Float"},media_type:{type:"String"}})}),null);
__d("MWLSAttachment.bs",["FBID.bs","MWLSAttachmentCta.bs","MWLSAttachmentItem.bs","ReQL.bs","ReQLSuspense.bs","ReQLTable","XLightSpeedSecureMessageWebStickerController","bs_belt_Array","bs_belt_Option","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_splice_call"],(function(a,b,c,d,e,f){"use strict";var g;g={a:(g=b("bs_caml_int64")).zero,b:g.zero,c:"",d:void 0,e:"",f:g.zero,g:void 0,h:void 0,i:void 0,j:!1,k:!1,l:!1,m:void 0,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0,A:void 0,B:void 0,C:void 0,D:void 0,E:void 0,F:void 0,G:void 0,H:void 0,I:void 0,J:void 0,K:void 0,L:void 0,M:void 0,N:void 0,O:void 0,P:void 0,Q:void 0,R:void 0,S:void 0,T:void 0,U:void 0,V:void 0,W:void 0,X:void 0,Y:void 0,Z:void 0,ba:void 0,bb:void 0,bc:void 0,bd:void 0,be:g.zero,bf:void 0,bg:void 0,bh:void 0,bi:void 0,bj:void 0,bk:void 0,bl:void 0,bm:void 0,bn:void 0,bo:void 0,bp:void 0,bq:void 0,br:void 0,bs:void 0,bt:void 0,bu:void 0,bv:void 0,bw:void 0,bx:void 0,by:void 0,bz:void 0,bA:void 0,bB:void 0,bC:void 0,bD:void 0,bE:void 0,bF:void 0,bG:void 0,bH:void 0,bI:void 0,bJ:void 0,bK:void 0,bL:void 0,bM:void 0,bN:void 0,bO:void 0,bP:void 0,bQ:void 0,bR:void 0,bS:void 0,bT:void 0,bU:g.zero,bV:void 0,bW:void 0,bX:void 0,bY:void 0,bZ:void 0,ca:void 0};var h=[],i=[],j=[];h={attachment:g,defaultCta:void 0,callToActions:h,attachmentItems:i,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:j};function a(a){return b("bs_belt_Option").map(b("FBID.bs").ofString(a),function(a){return b("XLightSpeedSecureMessageWebStickerController").getURIBuilder().setFBID("sticker_id",a).setString("media_type","image/webp").getURI().toString()})}function c(a,b){return b}function d(a,c){return b("bs_caml_format").caml_int64_of_string(c)}function k(a,c,d,e){return{attachment:a,defaultCta:c,callToActions:d,attachmentItems:e,listItemsId:a.bl,listItemsDescriptionText:a.bm,listItemsSecondaryDescriptionText:a.bn,listItems:b("bs_caml_splice_call").spliceObjApply([],"concat",[[[a.bo,a.bp,a.bq,a.br,a.bs,a.bt],[a.bv,a.bw,a.bx,a.by,a.bz,a.bA],[a.bC,a.bD,a.bE,a.bF,a.bG,a.bH]].map(function(a){var c=a[0];if(c===void 0)return[];var d=b("bs_belt_Option").mapWithDefault(a[2],[],function(a){return a.split(",")}),e=b("bs_belt_Option").mapWithDefault(a[4],[],function(a){return a.split(",")}),f=b("bs_belt_Option").mapWithDefault(a[5],[],function(a){return a.split(",")});return[{id:c,titleText:a[1],contacts:d.map(function(a,c){return{url:a,urlExpirationTimestamp:b("bs_caml_array").get(e,c),urlFallback:b("bs_caml_array").get(f,c)}}),progressBarFilledPercentage:a[3]}]})])}}function e(a,c){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"attachments").asc,{hd:c,tl:0}),function(c){var d=b("bs_belt_Option").mapWithDefault(c.o,void 0,function(c){return b("ReQLSuspense.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))}),e=b("bs_belt_Array").keepMap(b("bs_belt_Array").keepMap([c.r,c.u,c.x],function(a){return a}),function(c){return b("ReQLSuspense.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))}),f=b("MWLSAttachmentItem.bs").getForAttachment(a,c.e);return k(c,d,e,f)})}f.emptyAttachmentRow=g;f.emptyAttachment=h;f._secureStickerPlayableUrl=a;f._makeDecryptString=c;f._makeDecryptInt64=d;f._projectOpen=k;f.getForOpen=e}),null);
__d("MWLSParserUtils.bs",["LSMessageReplySourceTypeV2.bs","bs_belt_Option","bs_caml","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.message.t;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function c(a){a=a.message.t;if(a!==void 0&&b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function d(a){a=b("bs_belt_Option").map(a.defaultCta,function(a){return a.g});if(a!==void 0)return a;else{b("recoverableViolation")("XMA Attachment has unknown CTA Type","messenger_privacy_web");return"fallback"}}function e(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.isReplyToSomething=a;f.isForwarded=c;f.getXmaType=d;f.getBlobUrl=e}),null);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f,g){"use strict";var h={small:1e3,medium:2e3,large:3e3};function a(a){var b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<this.SizeTimes.small:b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<this.SizeTimes.medium:b=c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<this.SizeTimes.large:b=c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return b}function b(a){var b=d("EmojiLikeConstants").size.SMALL;a<this.SizeTimes.small?b=d("EmojiLikeConstants").size.SMALL:a<this.SizeTimes.medium?b=d("EmojiLikeConstants").size.MEDIUM:a<this.SizeTimes.large&&(b=d("EmojiLikeConstants").size.LARGE);return b}function e(a){var b;switch(a){case c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:b=120;break;case c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:b=84;break;case c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:b=35;break;case d("EmojiLikeConstants").size.LARGE:b=64;break;case d("EmojiLikeConstants").size.MEDIUM:b=64;break;case d("EmojiLikeConstants").size.SMALL:b=32;break}return b?{height:b,width:b}:void 0}function f(){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()}function i(a){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()}function j(a){return a&&a.custom_like_icon}g.SizeTimes=h;g.getStickerIDForTime=a;g.getEmojiSizeForTime=b;g.getMetadataForHotLike=e;g.getPreviewURI=f;g.getURIWithID=i;g.getCustomEmojiFromThread=j}),98);
__d("MNLSXMALayoutType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.single=a;f.hscroll=c;f.xcenter=d}),null);
__d("MWXmaIconParser.bs",["ix","URI","bs_caml_option","bs_curry","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if(a==="clear"||a==="staticWhite"||a==="white"||a==="white70"||a==="black"||a==="black50"||a==="black34"||a==="black20"||a==="black12"||a==="black6"||a==="black4"||a==="bluegrey75"||a==="bluegrey50"||a==="placeholder-icon")return"gray";else if(a==="red")return"cherry";else if(a==="green")return"lime";else if(a==="blue"||a==="purple"||a==="gray"||a==="background"||a==="scarlet"||a==="steel"||a==="coregreen"||a==="coral"||a==="sky")return"gray";else if(a==="honey")return"lemon";else if(a==="emerald")return"gray";else{b("recoverableViolation")("Unknown Icon color: "+a,"messenger_privacy_web");return"gray"}}function j(a){if(a==="airplane")return b("bs_caml_option").some(b("fbicon")._(g("571771"),20));else if(a==="calendar-add")return b("bs_caml_option").some(b("fbicon")._(g("640913"),20));else if(a==="camcorder")return b("bs_caml_option").some(b("fbicon")._(g("493174"),20));else if(a==="camcorder-incoming")return b("bs_caml_option").some(b("fbicon")._(g("1096148"),20));else if(a==="camcorder-missed")return b("bs_caml_option").some(b("fbicon")._(g("662989"),20));else if(a==="camcorder-outgoing")return b("bs_caml_option").some(b("fbicon")._(g("1096150"),20));else if(a==="camcorder-plus")return b("bs_caml_option").some(b("fbicon")._(g("662993"),20));else if(a==="checkmark-circle")return b("bs_caml_option").some(b("fbicon")._(g("498146"),20));else if(a==="currency-thai-baht")return b("bs_caml_option").some(b("fbicon")._(g("876716"),20));else if(a==="currency-usd")return b("bs_caml_option").some(b("fbicon")._(g("847056"),20));else if(a==="document-complete")return b("bs_caml_option").some(b("fbicon")._(g("728245"),20));else if(a==="phone")return b("bs_caml_option").some(b("fbicon")._(g("558161"),20));else if(a==="phone-incoming")return b("bs_caml_option").some(b("fbicon")._(g("1096151"),20));else if(a==="phone-missed")return b("bs_caml_option").some(b("fbicon")._(g("847457"),20));else if(a==="phone-outgoing")return b("bs_caml_option").some(b("fbicon")._(g("1096154"),20));else{b("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_privacy_web");return}}function a(a){if(a.startsWith("https"))return{TAG:1,_0:a};if(!a.startsWith("ls"))return;var c=new(h||(h=b("URI")))(a.replace("ls","http")).getQueryData();a=function(a){return c[a]};var d=j(b("bs_curry")._1(a,"icon"));a=i(b("bs_curry")._1(a,"circleColor"));if(d!==void 0)return{TAG:0,_0:{icon:b("bs_caml_option").valFromOption(d),color:a}}}f.getColor=i;f.getIcon=j;f.parse=a}),null);
__d("WorkLSXmaParser.bs",["ConstUriUtils","FBID.bs","MNLSXMALayoutType.bs","MWXmaIconParser.bs","URI","XCometMessengerControllerRouteBuilder","bs_belt_Array","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_int64","bs_js_dict","bs_js_json","bs_js_null_undefined","gkx","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g;function h(a){var c=a.g,d;if(c==="xma_rtc_audio"||c==="xma_rtc_missed_audio"||c==="xma_rtc_ended_audio")d={TAG:4,_0:{TAG:22,_0:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d)),hasVideo:!1,trigger:c}},_1:void 0};else if(c==="xma_rtc_video"||c==="xma_rtc_new_video_default"||c==="xma_rtc_new_video_from_fb_share"||c==="xma_rtc_new_video_from_fb_video_share"||c==="xma_rtc_missed_video"||c==="xma_rtc_ended_video")d={TAG:4,_0:{TAG:22,_0:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d)),hasVideo:!0,trigger:c}},_1:void 0};else if(c==="xma_postback")d={TAG:1,_0:a.f,_1:a.h,_2:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}};else if(c==="xma_open_dialog"){var e=a.i;if(e!==void 0){e=new(g||(g=b("URI")))(e).getQueryData();var f=e.page_id;e=e.guest_id;d={TAG:4,_0:{TAG:11,_0:{pageId:f,guestId:e}},_1:void 0}}else b("recoverableViolation")("Expected an open dialog url but didn't get any","messenger_business_core_product"),d=void 0}else if(c==="xma_p2p_payment_details"||c==="xma_p2p_request_pay"||c==="xma_p2p_payment_details_receive_money"||c==="xma_p2p_verify_info"){f=a.o;f!==void 0?d={TAG:4,_0:{TAG:21,_0:{id:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(f))),currentStatus:null}},_1:void 0}:(b("recoverableViolation")("P2P Transaction encounterd without txn id","messenger_privacy_web"),d=void 0)}else if(c==="xma_live_location_sharing"&&a.j===void 0&&b("gkx")("1539348"))d={TAG:4,_0:{TAG:8,_0:{titleString:a.f,messageId:a.e}},_1:void 0};else if(c==="xma_live_location_sharing"&&a.j!==void 0&&b("gkx")("1597362"))d={TAG:4,_0:{TAG:9,_0:{msgId:a.e}},_1:void 0};else if(c==="xma_poll_details_button"||c==="xma_poll_details_card")d={TAG:5,_0:b("bs_belt_Option").getExn(a.o),_1:b("bs_belt_Option").getExn(a.l)};else if(c==="xma_p2m_checkout"||c==="xma_p2m_payment_details")d={TAG:0,_0:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d))}),_1:"_blank",_2:void 0};else if(c==="xma_direct_send"){e=a.l;e!==void 0?d={TAG:4,_0:{TAG:6,_0:JSON.parse(e)},_1:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}}:(b("recoverableViolation")("Expected pii_form data but didn't get any","mb_apix"),d=void 0)}else if(c==="xma_feedback_send"){f=a.l;f!==void 0?d={TAG:4,_0:{TAG:5,_0:{feedbackFormId:f}},_1:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}}:(b("recoverableViolation")("Expected Feedback info but didn't get any","mb_apix"),d=void 0)}else if(c==="xma_account_link"){e=a.i;e!==void 0?d={TAG:4,_0:{TAG:3,_0:e},_1:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}}:(b("recoverableViolation")("Expected an account link url but didn't get any","messenger_web_product"),d=void 0)}else if(c==="xma_open_joinable_call_invite_url")d={TAG:4,_0:{TAG:25,_0:{linkUrl:b("bs_belt_Option").getExn(a.i)}},_1:void 0};else if(c==="xma_montage_share")d=void 0;else if(c==="marketplace_xma_call_function"){f=a.l;d=f!==void 0?{TAG:4,_0:{TAG:27,_0:{messageId:a.e,attachmentFbid:a.b,targetId:b("bs_belt_Option").getExn(a.o),actionType:f}},_1:void 0}:void 0}else if(c==="marketplace_xma_open_dialog"){e=a.i;f=a.l;if(e!==void 0&&f!==void 0){e=b("ConstUriUtils").getUri(e);if(e!==void 0){e=b("bs_caml_option").valFromOption(e).getQueryParam("listingID");d={TAG:4,_0:{TAG:28,_0:{ctaType:f,listingId:b("FBID.bs").ofString(e),threadId:b("FBID.bs").ofString(b("bs_int64").to_string(a.d))}},_1:void 0}}else b("recoverableViolation")("Invalid URL found while parsing Marketplace Open Dialog XMA ","marketplace-comet"),d=void 0}else b("recoverableViolation")("No Url or CTA type (actionBlobContent) found while parsing Marketplace Open Dialog XMA ","marketplace-comet"),d=void 0}else if(c==="xma_ctm_in_thread_multiphoto_reply_image"){f=a.l;if(f!==void 0){try{e=b("bs_caml_option").some(JSON.parse(f))}catch(a){e=void 0}if(e!==void 0){f=b("bs_js_json").classify(b("bs_caml_option").valFromOption(e));if(typeof f==="number"||f.TAG!==2)d=void 0;else{e=f._0;f=b("bs_js_dict").get(e,"action_prefill");var h=b("bs_js_dict").get(e,"reply_image_uri");if(f!==void 0&&h!==void 0){f=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(f));h=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(h));if(f!==void 0&&h!==void 0){var i='{"in_thread_multiphoto_xma_reply": true}',j=a.h,k=b("bs_js_dict").get(e,"ad_id");if(k!==void 0){k=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(k));k=k!==void 0?b("FBID.bs").ofString(k.toString()):void 0}else k=void 0;var l=b("bs_js_dict").get(e,"customer_id");if(l!==void 0){l=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(l));l=l!==void 0?b("FBID.bs").ofString(l.toString()):void 0}else l=void 0;var m=b("bs_js_dict").get(e,"index");e=b("bs_js_dict").get(e,"page_id");if(e!==void 0){e=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(e));e=e!==void 0?b("FBID.bs").ofString(e.toString()):void 0}else e=void 0;d={TAG:4,_0:{TAG:26,_0:{message:f,image:h,platformToken:j!==void 0&&j!==""?j:i,loggingDetails:{ad_id:k,consumer_id:l,index:m!==void 0?b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(m)):void 0,page_id:e}}},_1:void 0}}else d=void 0}else d=void 0}}else d=void 0}else d=void 0}else if(c==="xma_open_native"){f=a.i;h=a.l;if(h!==void 0)d={TAG:3,_0:h};else if(f!==void 0)d={TAG:0,_0:f,_1:"_blank",_2:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}};else{j=["Title: "+a.f,"Type: "+c,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(a.h,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(a.i,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.l,"false",function(a){return"true"})].join(", ");b("recoverableViolation")("No Url found while parsing Open Native XMA "+j,"messenger_privacy_web");d=void 0}}else if(c==="xma_join_from_portal"){i=a.i;i!==void 0?d={TAG:4,_0:{TAG:24,_0:{linkUrl:i}},_1:void 0}:(b("recoverableViolation")("Expected an action link url but didn't get any","messenger_web_product"),d=void 0)}else{k=a.i;l=a.l;m=a.m;e=0;var n;if(l!==void 0)d={TAG:3,_0:l};else if(k!==void 0)if(m!==void 0&&m){d={TAG:4,_0:{TAG:14,_0:{actionLink:k,pageID:(h=b("bs_int64")).to_string(a.d),userID:b("FBID.bs").ofString(h.to_string(a.d)),sourceTitle:b("bs_js_null_undefined").fromOption(a.f)}},_1:{pageId:h.to_string(a.d),ctaId:h.to_string(a.a)}}}else n=k,e=1;else{f=["Title: "+a.f,"Type: "+c,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(a.h,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(a.i,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.l,"false",function(a){return"true"})].join(", ");b("recoverableViolation")("Unknown CTA encountered while parsing XMA. "+f,"messenger_privacy_web");d=void 0}e===1&&(d={TAG:0,_0:n,_1:"_blank",_2:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}})}return b("bs_belt_Option").map(d,function(b){return{title:a.f,action:b}})}function i(a,c,d,e,f,g,h,i,j,k,l){var m,n,o=(m=b("bs_belt_Option")).mapWithDefault(c,0,(n=b("bs_caml_int64")).to_int32),p=m.mapWithDefault(d,0,n.to_int32);c=m.map(c,n.to_int32);m=m.map(d,n.to_int32);d=b("bs_belt_Option").isNone(a)?j:o===p;if(g!==void 0)if(b("bs_belt_Option").mapWithDefault(h,!1,function(a){return a.includes("gif")}))return{TAG:0,_0:g,_1:{expand:d},_2:c,_3:m};else if(b("bs_belt_Option").mapWithDefault(h,!1,function(a){return a.includes("video")}))return{TAG:1,_0:g,_1:b("FBID.bs").ofStringExn(i),_2:{height:p,width:o,expand:d},_3:b("bs_belt_Option").getWithDefault(k,!1)};else return;if(e===void 0)return;return l!==void 0&&f!==void 0&&l===1?{TAG:0,_0:f,_1:{expand:d},_2:c,_3:m}:{TAG:0,_0:e,_1:{expand:d},_2:c,_3:m}}function j(a,c,d){var e=b("bs_belt_Array").keepMap(c.callToActions,h),f=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(c.defaultCta,h),function(a){return a.action});if(f!==void 0)f={_0:f};else{var g=c.attachment.Q;f=g!==void 0?{_0:{TAG:0,_0:g,_1:"_blank",_2:void 0}}:void 0}return{preview:i(c.attachment.M,c.attachment.K,c.attachment.L,c.attachment.F,c.attachment.bY,c.attachment.A,c.attachment.D,c.attachment.e,a,c.attachment.bX,d),title:c.attachment.R,description:c.attachment.S,headerIcon:b("bs_belt_Option").flatMap(c.attachment.bL,b("MWXmaIconParser.bs").parse),headerTitle:c.attachment.bP,icon:b("bs_belt_Option").flatMap(c.attachment.bf,b("MWXmaIconParser.bs").parse),defaultAction:f,action:e.length!==0?{_0:e}:void 0,canForward:c.attachment.k,listItemsId:c.listItemsId,listItemsDescriptionText:c.listItemsDescriptionText,listItemsSecondaryDescriptionText:c.listItemsSecondaryDescriptionText,listItems:c.listItems}}function k(a,c,d,e){var f=e.attachmentItem;a=a!==void 0?a:!1;c=c!==void 0?b("bs_caml_option").valFromOption(c):void 0;var g=b("bs_belt_Array").keepMap(e.callToActions,h),j=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(e.defaultCta,h),function(a){return a.action}),k=f.f,l=f.g;if(j!==void 0)j={_0:j};else if(a){var m=d.attachment.Q;j=m!==void 0?{_0:{TAG:0,_0:m,_1:"_blank",_2:void 0}}:void 0}else j=void 0;return{preview:i(e.attachmentItem.s,e.attachmentItem.q,e.attachmentItem.r,e.attachmentItem.m,e.attachmentItem.M,e.attachmentItem.h,e.attachmentItem.k,e.attachmentItem.a,a,d.attachment.bX,c),title:k!==void 0?k:a?d.attachment.R:void 0,description:l!==void 0?l:a?d.attachment.S:void 0,headerIcon:b("bs_belt_Option").flatMap(d.attachment.bL,b("MWXmaIconParser.bs").parse),headerTitle:d.attachment.bP,icon:b("bs_belt_Option").flatMap(f.J,b("MWXmaIconParser.bs").parse),defaultAction:j,action:g.length!==0?{_0:g}:void 0,canForward:d.attachment.k,listItemsId:d.listItemsId,listItemsDescriptionText:d.listItemsDescriptionText,listItemsSecondaryDescriptionText:d.listItemsSecondaryDescriptionText,listItems:d.listItems}}function a(a,c,d,e,f){d=f.attachmentItems;e=f.attachment;var g=e.Z,h=e.Y;h=g!==void 0&&h!==void 0?{name:h,icon:g}:void 0;g=e.m;var i=d.length;if(i!==1)if(i!==0)i=2;else{if(g===void 0)return{TAG:8,_0:{TAG:1,_0:j(!0,f,c),_1:h,_2:a}};i=2}else{var l=d[0];if(g===void 0)return{TAG:8,_0:{TAG:1,_0:k(!0,b("bs_caml_option").some(c),f,l),_1:h,_2:a}};if(b("bs_caml").i64_eq(g,b("MNLSXMALayoutType.bs").single))return{TAG:8,_0:{TAG:1,_0:k(!0,b("bs_caml_option").some(c),f,l),_1:h,_2:a}};i=2}if(i===2&&g!==void 0){if(b("bs_caml").i64_eq(g,b("MNLSXMALayoutType.bs").hscroll)){var m=b("bs_caml_option").some(c);return{TAG:8,_0:{TAG:0,_0:d.map(function(a){return k(void 0,m,f,a)}),_1:h,_2:a}}}l=d.length;if(l!==1){if(l===0&&b("bs_caml").i64_eq(g,b("MNLSXMALayoutType.bs").single))return{TAG:8,_0:{TAG:1,_0:j(!0,f,c),_1:h,_2:a}}}else{i=d[0];if(b("bs_caml").i64_eq(g,b("MNLSXMALayoutType.bs").xcenter))return{TAG:8,_0:{TAG:2,_0:k(!0,b("bs_caml_option").some(c),f,i),_1:h,_2:a}}}}l="n Attachment Items: "+String(d.length);c="Layout: "+b("bs_belt_Option").mapWithDefault(g,"na",b("bs_int64").to_string);i="Attachment Type: "+b("bs_int64").to_string(e.f);h=[l,c,i].join(", ");b("recoverableViolation")("Unknown combination of XMA items and layout. "+h,"messenger_privacy_web")}f.parseAttachment=j;f.parserForAttachment=a}),null);
__d("MWLSAttachmentParser.bs",["fbt","FBID.bs","MWLSAttachmentAttribution.bs","MWLSParserUtils.bs","MessagingAttachmentType.bs","MessengerHotLikeUtils","StickerConstants","URI","WorkLSXmaParser.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_caml_exceptions","bs_caml_format","bs_caml_int64","bs_int64","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;c=b("bs_caml_exceptions").create("MWLSAttachmentParser.MessageMarkedAsAttachmentButNoAttachmentFound");function i(a,c,d){var e=d.attachment;a=e.bY;d=c!==void 0&&a!==void 0&&c===1?a:e.F;if(d!==void 0)c=d;else{a=e.f;if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").animatedImage)){d=e.h;d!==void 0?c=d:(b("recoverableViolation")("Gif Attachment has no preview_url "+e.e,"messenger_privacy_web"),c=void 0)}else b("recoverableViolation")("Photo Attachment has no preview_url "+e.e,"messenger_privacy_web"),c=void 0}return b("bs_belt_Option").map(c,function(a){return{isGIF:b("bs_caml").i64_eq(e.f,b("MessagingAttachmentType.bs").animatedImage),previewUrl:a,previewHeight:b("bs_belt_Option").map(e.L,b("bs_caml_int64").to_int32),previewWidth:b("bs_belt_Option").map(e.K,b("bs_caml_int64").to_int32),appAttribution:b("MWLSAttachmentAttribution.bs").get(e),photoFbid:b("FBID.bs").ofString(e.e),blurredImageUri:void 0,decryptionKey:e.bi,title:b("gkx")("1924962")?e.R:void 0}})}function j(a,c,d){return b("bs_belt_Option").map(i(a,c,d),function(a){return{TAG:1,_0:a}})}function k(a,c){a=c.attachment;c=a.A;if(c!==void 0)c=c;else{var d=a.F;d!==void 0?c=d:(b("recoverableViolation")("Sticker Attachment has no preview_url or playable_url"+a.e,"messenger_privacy_web"),c=void 0)}return{TAG:0,_0:{accessibilityLabel:b("bs_belt_Option").getWithDefault(a.bj,""),frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI2x:void 0,paddedSpriteURI:void 0,spriteURI2x:void 0,spriteURI:void 0,stickerID:a.e,url:c,width:b("bs_belt_Option").map(a.K,b("bs_caml_int64").to_int32),height:b("bs_belt_Option").map(a.L,b("bs_caml_int64").to_int32)}}}function l(a,c,d){a=b("bs_belt_Array").keepMap(a,function(a){return i(c,d,a)});if(a.length!==0)return{TAG:2,_0:a}}function m(a,c){a=c.attachment;c=a.A;if(c!==void 0){var d=b("MWLSParserUtils.bs").getBlobUrl(c);d=d!==void 0?new(h||(h=b("URI")))(d):new(h||(h=b("URI")))(c)}else b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),d=new(h||(h=b("URI")))("");return{TAG:4,_0:{fbid:b("FBID.bs").ofString(a.e),fileName:a.h,url:d}}}function n(a,c){a=c.attachment;c=a.A;if(c!==void 0){var d=b("MWLSParserUtils.bs").getBlobUrl(c);d=d!==void 0?new(h||(h=b("URI")))(d):new(h||(h=b("URI")))(c)}else b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),d=new(h||(h=b("URI")))("");return{TAG:6,_0:{duration:b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(a.bd,b("bs_caml_int64").to_float),0),url:d,decryptionKey:a.bi}}}function o(a,c){a=c.attachment;c=b("bs_belt_Option").map(a.L,b("bs_caml_int64").to_int32);var d=b("bs_belt_Option").map(a.K,b("bs_caml_int64").to_int32),e=a.A,f=a.A;return{TAG:7,_0:{height:c!==void 0?c:(b("recoverableViolation")("Video Attachment has no preview_height"+a.e,"messenger_privacy_web"),0),width:d!==void 0?d:(b("recoverableViolation")("Video Attachment has no preview_width"+a.e,"messenger_privacy_web"),0),previewUrl:e!==void 0?e:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),""),fbid:b("FBID.bs").ofString(a.e),render_as_sticker:!1,dimensions:void 0,duration:b("bs_belt_Option").map(a.bd,b("bs_caml_int64").to_int32),large_size:void 0,large_preview:void 0,inbox_size:void 0,inbox_preview:void 0,url:f!==void 0?f:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),""),decryptionKey:a.bi}}}function p(a,c){a=c.attachment;c=b("bs_belt_Option").map(a.L,b("bs_caml_int64").to_int32);var d=b("bs_belt_Option").map(a.K,b("bs_caml_int64").to_int32),e=a.A,f=a.A;return{TAG:7,_0:{height:c!==void 0?c:(b("recoverableViolation")("Video Attachment has no preview_height"+a.e,"messenger_privacy_web"),0),width:d!==void 0?d:(b("recoverableViolation")("Video Attachment has no preview_width"+a.e,"messenger_privacy_web"),0),previewUrl:e!==void 0?e:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),""),fbid:b("FBID.bs").ofString(a.e),render_as_sticker:!0,dimensions:void 0,duration:b("bs_belt_Option").map(a.bd,b("bs_caml_int64").to_int32),large_size:void 0,large_preview:void 0,inbox_size:void 0,inbox_preview:void 0,url:f!==void 0?f:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),""),decryptionKey:a.bi}}}function q(a,b){b=b.attachment;return{TAG:8,_0:{TAG:1,_0:{preview:void 0,title:b.R,description:b.V,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]},_1:void 0,_2:a.messageID}}}function r(a){a=a.message.i;var c=b("gkx")("2012524");if(a!==void 0)if(c)return[b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID,b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID].includes(b("bs_int64").to_string(a));else return b("bs_int64").compare(b("bs_caml_format").caml_int64_of_string(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),a)===0;else return!1}function s(a){var c=b("gkx")("2012524");c=a!==void 0&&c?b("bs_int64").to_string(a):b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;a=b("MessengerHotLikeUtils").getMetadataForHotLike(c);var d=b("gkx")("2012524");d=!(a==null)&&d?a.width:32;return{TAG:0,_0:{accessibilityLabel:g._(/*FBT_CALL*/"\u8c4e\u8d77\u62c7\u6307"/*FBT_CALL*/),frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI2x:void 0,paddedSpriteURI:void 0,spriteURI2x:void 0,spriteURI:void 0,stickerID:c,url:void 0,width:d,height:d}}}function a(a,c,d){var e=a.attachments;if(r(a))return s(a.message.i);var f=e.length;if(f!==1)if(f!==0)return l(e,c,d);else{b("recoverableViolation")("Message said to have attachments but no attachments were found. MessageID: "+a.message.e,"messenger_privacy_web");return}f=e[0];e=f.attachment.f;if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").none))return q(c,f);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").animatedImage)||b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").image))return j(c,d,f);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").ephemeralImage)||b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").ephemeralVideo))return{TAG:3,_0:f.attachment};else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").sticker))return k(c,f);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").selfieSticker))return p(c,f);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").xma)||f.attachment.l)return b("WorkLSXmaParser.bs").parserForAttachment(c.messageID,d,a.message.g,c,f);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").file))return m(c,f);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").audio))return n(c,f);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").video))return o(c,f);else return{TAG:9,_0:f.attachment.V}}f.MessageMarkedAsAttachmentButNoAttachmentFound=c;f.parsePhotoContent=i;f.parsePhoto=j;f.parseSticker=k;f.parsePhotoGroup=l;f.parseFile=m;f.parseAudio=n;f.parseVideo=o;f.parseSelfieSticker=p;f.parseUnavailableAttachment=q;f.isHotLike=r;f.hotLike=s;f.parseMessageWithAttachments=a}),null);
__d("MWChatAudioPlayerForRecorderPreview.bs",["MWChatAudioPlayer.bs","MWChatAudioRoot.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{width:"k4urcfbm",height:"datstx6m",borderTopStartRadius:"n00je7tq",borderTopEndRadius:"arfg74bv",borderBottomEndRadius:"qs9ysxi8",borderBottomStartRadius:"k77z8yql",overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function a(a){var c=a.url,d=a.duration;a=a.color;var e={backgroundColor:a};return i.jsx(b("MWChatAudioRoot.bs").make,{children:i.jsx("div",{className:(h||(h=b("stylex")))(j.container),style:e,children:i.jsx(b("MWChatAudioPlayer.bs").make,{url:c,duration:d,outgoing:!0,color:a,onTogglePlayPause:void 0,preview:!0})}),testid:"mw_audio_player_preview"})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatAudioPlayerV2ProgressBar.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{height:"datstx6m",width:"k4urcfbm",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",pointerEvents:"hzruof5a"},bar:{backgroundColor:"rn3djb20",height:"datstx6m",opacity:"lupvgy83",width:"k4urcfbm",transitionProperty:"flx89l3n",transitionTimingFunction:"sgqwj88q",transform:"hp24h0cv"},outgoingBar:{backgroundColor:"q2y6ezfg"}};function a(a){var c=a.progress,d=a.duration,e=a.speed;a=a.outgoing;c=d===0?0:c/d;d=c*100;c={transitionDuration:(e/1e3).toString()+"s",transform:"translateX("+(-100+d).toString()+"%)"};return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:i.jsx("div",{className:h(j.bar,a?j.outgoingBar:!1),style:c})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatAudioRecorderAPIContext.bs",["Promise","bs_curry","promiseDone","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(0),j=b("requireDeferred")("MWChatAudioRecorderAPI.bs").__setRef("MWChatAudioRecorderAPIContext.bs");function a(a){a=a.children;var c=h.useState(function(){return 0}),d=c[1];h.useEffect(function(){var a=j.load().then(function(a){var c=b("bs_curry")._1(a.createAudioAPI,void 0);b("bs_curry")._1(d,function(a){return{_0:c}});return b("Promise").resolve(void 0)})["catch"](function(a){b("bs_curry")._1(d,function(a){return 1});return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},[]);return h.createElement(i.Provider,{value:c[0],children:a})}d={make:a};function c(a){return h.useContext(i)}f.context=i;f.$MWChatAudioRecorderAPI$Deferred=j;f.Provider=d;f.useHook=c}),null);
__d("MWChatAudioRecorderControls.bs",["fbt","MWChatAudioControlButton.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.onStopRecording;a=a.color;return i.jsx(b("MWChatAudioControlButton.bs").make,{onPress:function(a){return b("bs_curry")._1(c,void 0)},testid:"chat-audio-recorder-stop-button",type_:3,label:g._(/*FBT_CALL*/"\u505c\u6b62\u9304\u97f3"/*FBT_CALL*/),color:a})}c=a;f.make=c}),null);
__d("MWChatAudioRecorderView.bs",["MWChatAudioInnerContent.bs","MWChatAudioPlayerV2ProgressBar.bs","MWChatAudioRecorderControls.bs","MWChatAudioRoot.bs","MWChatAudioTimestamp.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{width:"k4urcfbm",height:"datstx6m",borderTopStartRadius:"n00je7tq",borderTopEndRadius:"arfg74bv",borderBottomEndRadius:"qs9ysxi8",borderBottomStartRadius:"k77z8yql"}};function a(a){var c=a.elapsedRecordedTime,d=a.onStopRecording,e=a.color,f=a.maxDuration;a=a.updateInterval;var g=c/1e3|0,k={backgroundColor:e};return i.jsx(b("MWChatAudioRoot.bs").make,{children:i.jsx("div",{className:(h||(h=b("stylex")))(j.container),style:k,children:i.jsxs(b("MWChatAudioInnerContent.bs").make,{children:[i.jsx(b("MWChatAudioPlayerV2ProgressBar.bs").make,{progress:c,duration:f,speed:a,outgoing:!0}),i.jsx(b("MWChatAudioRecorderControls.bs").make,{onStopRecording:d,color:e}),i.jsx(b("MWChatAudioTimestamp.bs").make,{time:g,color:e,testid:"mw_audio_recorder_timestamp"})]})}),testid:"mw_audio_recorder"})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatRecorderHook.bs",["MWChatRecorderUtilsWorkerResource","Promise","WebWorker","bs_caml_option","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){if(window.AudioContext!==void 0)return b("bs_caml_option").some(new window.AudioContext());else if(window.webkitAudioContext!==void 0)return b("bs_caml_option").some(new window.webkitAudioContext());else return}function a(a){var c=h.useRef({audioContext:void 0,scriptProcessorNode:void 0,mediaStreamAudioSourceNode:void 0,recording:!1,worker:void 0}),d=h.useRef({recBuffersLeft:[],recBuffersRight:[]}),e=h.useRef(void 0),f=h.useCallback(function(a){if(!c.current.recording)return;var b=d.current;a=a.inputBuffer;var e=a.getChannelData(1).slice(0);a=a.getChannelData(1).slice(0);d.current={recBuffersLeft:b.recBuffersLeft.concat([e]),recBuffersRight:b.recBuffersRight.concat([a])}},[]),g=h.useCallback(function(a){var d=i(void 0);if(d===void 0)return;var g=b("bs_caml_option").valFromOption(d),h=g.destination,j=g.createScriptProcessor(4096,2,2);g=g.createMediaStreamSource(a);a=new(b("WebWorker"))(b("MWChatRecorderUtilsWorkerResource")).setMessageHandler(function(a){var c=e.current;if(c!==void 0)return b("bs_curry")._1(c,a)}).setAllowCrossPageTransition(!0).execute();j.addEventListener("audioprocess",f);g.connect(j);j.connect(h);c.current={audioContext:d,scriptProcessorNode:b("bs_caml_option").some(j),mediaStreamAudioSourceNode:b("bs_caml_option").some(g),recording:!1,worker:b("bs_caml_option").some(a)}},[f]),j=h.useCallback(function(a){a=c.current;var d=a.mediaStreamAudioSourceNode,e=a.scriptProcessorNode;a=a.audioContext;d!==void 0&&b("bs_caml_option").valFromOption(d).disconnect(void 0);if(e!==void 0){d=b("bs_caml_option").valFromOption(e);d.disconnect(void 0);d.removeEventListener("audioprocess",f)}if(a!==void 0){e=b("bs_caml_option").valFromOption(a).close();b("promiseDone")(e,void 0,void 0)}c.current={audioContext:void 0,scriptProcessorNode:void 0,mediaStreamAudioSourceNode:void 0,recording:!1,worker:void 0}},[f]),k=h.useCallback(function(a){a=c.current;c.current={audioContext:a.audioContext,scriptProcessorNode:a.scriptProcessorNode,mediaStreamAudioSourceNode:a.mediaStreamAudioSourceNode,recording:!0,worker:a.worker}},[]),l=h.useCallback(function(a){return new(b("Promise"))(function(f,g){g=c.current;c.current={audioContext:g.audioContext,scriptProcessorNode:g.scriptProcessorNode,mediaStreamAudioSourceNode:g.mediaStreamAudioSourceNode,recording:!1,worker:g.worker};g=function(c){b("bs_curry")._1(j,void 0);b("bs_curry")._1(a,c);return f(void 0)};e.current=g;g=c.current;var h=g.worker;g=g.audioContext;var i=d.current;if(g===void 0)return;if(h===void 0)return;var k=i.recBuffersLeft;i=i.recBuffersRight;g=b("bs_caml_option").valFromOption(g).sampleRate;k={buffersL:k,buffersR:i,sampleRate:g};b("bs_caml_option").valFromOption(h).postMessage(k)})},[j]);h.useEffect(function(){a!==void 0&&b("bs_curry")._1(g,b("bs_caml_option").valFromOption(a));return function(a){return b("bs_curry")._1(j,void 0)}},[a,j,g]);return[k,l]}c=4096;d=2;f.cBUFFER_SIZE=c;f.cNUM_OF_CHANNELS=d;f.getAudioContext=i;f.useRecorder=a}),null);
__d("MWChatAudioRecorder.bs",["ClearInterval.re","MWChatAudioLog.bs","MWChatAudioRecorderAPI.bs","MWChatAudioRecorderAPIContext.bs","MWChatAudioRecorderView.bs","MWChatRecorderHook.bs","bs_caml_option","bs_curry","promiseDone","react","setInterval"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.audioRecorderAPI,d=a.onAudioRecorded;a=a.color;var e=b("bs_curry")._1(c.getAudioStreamRef,void 0).contents;e=b("MWChatRecorderHook.bs").useRecorder(e);var f=e[1],g=e[0];e=h.useState(function(){return 0});var i=e[1],j=e[0],k={contents:void 0},l=function(a){a=k.contents;a!==void 0&&b("ClearInterval.re").clearInterval(b("bs_caml_option").valFromOption(a));a=b("bs_curry")._1(c.stopRecording,void 0);b("promiseDone")(a,void 0,void 0)},m=h.useCallback(function(e){var a=Math.ceil(Date.now()-b("bs_curry")._1(c.getStartTime,void 0));b("bs_curry")._2(d,e,a);return b("bs_curry")._1(c.resetStartTime,void 0)},[d,c]);h.useEffect(function(){var a=b("bs_curry")._1(c.onStartRecording,function(a){k.contents=b("bs_caml_option").some(b("setInterval")(function(d){var a=Math.ceil(Date.now()-b("bs_curry")._1(c.getStartTime,void 0));d=a+b("MWChatAudioRecorderAPI.bs").cELAPSED_TIME_UPDATE_INTV_MS;if(d>=6e4)return l(void 0);else return b("bs_curry")._1(i,function(b){return a})},b("MWChatAudioRecorderAPI.bs").cELAPSED_TIME_UPDATE_INTV_MS))});return function(c){b("bs_curry")._1(a,void 0);c=k.contents;if(c!==void 0){b("ClearInterval.re").clearInterval(b("bs_caml_option").valFromOption(c));return}}},[]);h.useEffect(function(){var a=b("bs_curry")._1(c.onStopRecording,function(a){return b("bs_curry")._1(f,m)});return function(c){b("bs_curry")._1(a,void 0)}},[c,m,f]);h.useEffect(function(){b("bs_curry")._1(c.startRecording,void 0),b("bs_curry")._1(g,void 0),b("MWChatAudioLog.bs").logClickStartRecording(void 0)},[]);return h.jsx(b("MWChatAudioRecorderView.bs").make,{elapsedRecordedTime:j,onStopRecording:function(a){l(void 0);return b("MWChatAudioLog.bs").logClickStopRecording(j)},color:a,maxDuration:6e4,updateInterval:b("MWChatAudioRecorderAPI.bs").cELAPSED_TIME_UPDATE_INTV_MS})}c={make:i};function a(a){var c=a.onAudioRecorded;a=a.color;var d=b("MWChatAudioRecorderAPIContext.bs").useHook(void 0);if(typeof d==="number")return null;else return h.jsx(i,{audioRecorderAPI:d._0,onAudioRecorded:c,color:a})}d=a;f.MWChatAudioRecorderInner=c;f.make=d}),null);
__d("MWChatComposerActionTrayButton.bs",["CometPressable.react","MWPTooltip.react","TetraIcon.react","bs_belt_Option","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={button:{backgroundColor:"tdjehn4e",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",display:"j83agx80",height:"tv7at329",justifyContent:"taijpn5t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"k4urcfbm"},icon:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t"}};function a(a,c){var d=a.disabled,e=a.icon,f=a.label,g=a.onPress;a=a.testid;c=c==null?i.createRef():c;d={disabled:b("bs_belt_Option").getWithDefault(d,!1),label:f,ref:c,onPress:function(a){return b("bs_curry")._1(g,void 0)},xstyle:function(a){return[j.button]},children:i.jsx("div",{className:(h||(h=b("stylex")))(j.icon),children:i.jsx(b("TetraIcon.react"),{icon:e})})};a!==void 0&&(d.testid=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWPTooltip.react"),{tooltip:f,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),d)})}c=i.forwardRef(a);f.styles=j;f.make=c}),null);
__d("MWChatComposerGifButton.bs",["CometLazyPopoverTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.button;a=a.onGifSelect;return h.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWChatAnimatedImageFlyout.react").__setRef("MWChatComposerGifButton.bs"),disableAutoFlip:!0,popoverProps:{onSelect:b("bs_curry").__1(a),testid:"mw_gif_picker"},align:"middle",position:"above",children:c},"tester")}c=a;f.make=c}),null);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755987")).Gif;d=a.Sticker;e=a.Photo;b=a.MoreActions;var g=a.Emoji,h=a.PaperclipSVG,i=a.Paperclip,j=a.Pin,k=a.Camera,l=a.Microphone,m=a.Poll,n=a.Currency;f.$MDSMWChatComposerIcons$OR$TetraMWChatComposerIcons$requireCond=a;f.Gif=c;f.Sticker=d;f.Photo=e;f.MoreActions=b;f.Emoji=g;f.PaperclipSVG=h;f.Paperclip=i;f.Pin=j;f.Camera=k;f.Microphone=l;f.Poll=m;f.Currency=n}),null);
__d("MWChatComposerStickerButton.bs",["CometLazyPopoverTrigger.react","JSResource","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={flyoutRoot:{width:"tjny6qan"}};function a(a){var c=a.button,d=a.onStickerSelect,e=a.logOnOpenStickerFlyout;return i.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){if(a)return b("bs_curry")._1(e,void 0)},popoverResource:b("JSResource")("MWChatStickersFlyoutForJSResource.react").__setRef("MWChatComposerStickerButton.bs"),disableAutoFlip:!0,popoverProps:{className:(h||(h=b("stylex")))(j.flyoutRoot),onStickerSelect:d},align:"middle",position:"above",children:c})}c=a;f.styles=j;f.make=c}),null);
__d("CometComposerAttachmentAreaReducer.re",["composerAttachmentAreaReducer"],(function(a,b,c,d,e,f){a=b("composerAttachmentAreaReducer").composerAttachmentAreaReducer;f.composerAttachmentAreaReducerTypeChecked=a;c=a;f.composerAttachmentAreaReducer=c}),null);
__d("CometComposerMediaAttachmentReducer.re",["composerMediaAttachmentReducer"],(function(a,b,c,d,e,f){a=b("composerMediaAttachmentReducer");f.reducerTypeChecked=a;c=a;f.reducer=c}),null);
__d("CometFileSelector.re",["CometFileSelector.react"],(function(a,b,c,d,e,f){a=b("CometFileSelector.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWChatComposerUploadFileButton.bs",["fbt","CometComposerAttachmentAreaReducer.re","CometComposerMediaAttachmentReducer.re","CometComposerViewStateActions.bs","CometFileSelector.re","bs_caml_option","bs_curry","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=g._(/*FBT_CALL*/"\u9644\u52a0\u6a94\u6848"/*FBT_CALL*/);d=g._(/*FBT_CALL*/"\u9644\u52a0\u6a94\u6848\u6216\u76f8\u7247"/*FBT_CALL*/);function a(a,c){var d=a.acceptAllFiles,e=a.button,f=a.logOnSelectFileForUpload;a=a.onFileSelected;d=d!==void 0?d:!1;var g=a!==void 0?a:function(a){};b("useComposerViewStateReducer")(b("CometComposerAttachmentAreaReducer.re").composerAttachmentAreaReducer);b("useComposerViewStateReducer")(b("CometComposerMediaAttachmentReducer.re").reducer);var h=b("useComposerViewStateDispatcher")(),j=i.useCallback(function(a){if(a.length>0){b("bs_curry")._1(h,b("CometComposerViewStateActions.bs").convert({NAME:"ActivateAttachmentType",VAL:"MEDIA"}));b("bs_curry")._1(h,b("CometComposerViewStateActions.bs").convert({NAME:"AddMediaAttachmentItems",VAL:a}));return b("bs_curry")._1(f,a)}},[h,f]);i.useImperativeHandle(c,function(){return{uploadFiles:j}},[h]);a=d?void 0:["image/*","image/heif","image/heic","video/*"];c={children:e,multiple:!0,onFilesSelected:function(a){b("bs_curry")._1(j,Array.from(a));return b("bs_curry")._1(g,void 0)}};a!==void 0&&(c.accept=b("bs_caml_option").valFromOption(a));return i.jsx(b("CometFileSelector.re").make,c)}e=i.forwardRef(a);f.label=c;f.experimentLabel=d;f.make=e}),null);
__d("MWChatComposerButtons.bs",["fbt","CometPressable.react","Locale","MWChatComposerGifButton.bs","MWChatComposerIcons.bs","MWChatComposerStickerButton.bs","MWChatComposerUploadFileButton.bs","MWPTooltip.react","bs_curry","gkx","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("gkx")("1787594"),l=b("gkx")("1787595"),m=b("gkx")("1787596"),n={container:{zIndex:"tkr6xdv7"},button:{position:"pmk7jnqg",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"sw24d88r",bottom:"i09qtzwb"},buttonPressable:{display:"a8c37x1j",paddingStart:"b3onmgus",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingTop:"ecm0bbzt"},buttonHidden:{transform:"qpbg1qsm",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},uploadFileButtonHidden:{transitionDelay:"lbhrjshz"},stickerButtonHidden:{transitionDelay:"awe8hfj4"},gifButtonHidden:{transitionDelay:"lxbcnve3"},buttonShown:{transform:"g3zh7qmp",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},uploadFileButtonShown:{transitionDelay:"lbhrjshz"},stickerButtonShown:{transitionDelay:"tntlmw5q"},gifButtonShown:{transitionDelay:"chkx7lpg"}},o=g._(/*FBT_CALL*/"\u9644\u52a0\u76f8\u7247\u6216\u5f71\u7247"/*FBT_CALL*/),p=g._(/*FBT_CALL*/"\u9078\u64c7\u8cbc\u5716"/*FBT_CALL*/),q=g._(/*FBT_CALL*/"\u9078\u64c7 GIF"/*FBT_CALL*/);c=g._(/*FBT_CALL*/"\u5efa\u7acb\u7968\u9078\u6d3b\u52d5"/*FBT_CALL*/);d=g._(/*FBT_CALL*/"\u4f7f\u7528\u5305\u5ec2\u958b\u59cb\u804a\u5929"/*FBT_CALL*/);e=g._(/*FBT_CALL*/"\u767c\u9001\u8a9e\u97f3\u8a0a\u606f"/*FBT_CALL*/);var r=g._(/*FBT_CALL*/"\u4f7f\u7528\u5feb\u901f\u76f8\u6a5f\u62cd\u7167"/*FBT_CALL*/);g=g._(/*FBT_CALL*/"\u5206\u4eab\u4f4d\u7f6e"/*FBT_CALL*/);var s=b("Locale").isRTL();function a(a){var c=a.buttonColor,d=a.hasPermanentToggleButton,e=a.fileUploadHandlerRef,f=a.canSendGif,g=a.sendGif,h=a.sendSticker,r=a.shouldHideButtons,t=a.logOnOpenStickerFlyout;a=a.logOnSelectFileForUpload;var u=l||!d?0:32,v=m?u:u+32|0,w=k?v:v+32|0,x=j.useMemo(function(){return{photoButtonStart:s?{right:String(u)+"px"}:{left:String(u)+"px"},stickerButtonStart:s?{right:String(v)+"px"}:{left:String(v)+"px"},gifButtonStart:s?{right:String(w)+"px"}:{left:String(w)+"px"}}},[u,v,w]);d=b("qex")._("1997585");var y,z=0;d==null?z=1:d==="photo"?y=j.jsx(b("MWChatComposerUploadFileButton.bs").make,{acceptAllFiles:!0,button:function(a){return j.jsx("div",{className:(i||(i=b("stylex")))(n.button,r||l?n.buttonHidden:n.buttonShown,r||l?n.uploadFileButtonHidden:n.uploadFileButtonShown),style:x.photoButtonStart,children:j.jsx(b("MWPTooltip.react"),{tooltip:b("MWChatComposerUploadFileButton.bs").experimentLabel,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":b("MWChatComposerUploadFileButton.bs").experimentLabel,"aria-hidden":r,testid:"composer_photo_uploader",onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayRadius:"50%",xstyle:function(a){return[n.buttonPressable]},children:j.jsx(b("MWChatComposerIcons.bs").Photo.make,{size:20,fill:c})})})})},logOnSelectFileForUpload:a,ref:e}):d==="file"?y=j.jsx(b("MWChatComposerUploadFileButton.bs").make,{acceptAllFiles:!0,button:function(a){return j.jsx("div",{className:(i||(i=b("stylex")))(n.button,r||l?n.buttonHidden:n.buttonShown,r||l?n.uploadFileButtonHidden:n.uploadFileButtonShown),style:x.photoButtonStart,children:j.jsx(b("MWPTooltip.react"),{tooltip:b("MWChatComposerUploadFileButton.bs").experimentLabel,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":b("MWChatComposerUploadFileButton.bs").experimentLabel,"aria-hidden":r,testid:"composer_photo_uploader",onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayRadius:"50%",xstyle:function(a){return[n.buttonPressable]},children:j.jsx(b("MWChatComposerIcons.bs").PaperclipSVG.make,{size:20,fill:c})})})})},logOnSelectFileForUpload:a,ref:e}):z=1;z===1&&(y=j.jsx(b("MWChatComposerUploadFileButton.bs").make,{button:function(a){return j.jsx("div",{className:(i||(i=b("stylex")))(n.button,r||l?n.buttonHidden:n.buttonShown,r||l?n.uploadFileButtonHidden:n.uploadFileButtonShown),style:x.photoButtonStart,children:j.jsx(b("MWPTooltip.react"),{tooltip:o,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":o,"aria-hidden":r,testid:"composer_photo_uploader",onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayRadius:"50%",xstyle:function(a){return[n.buttonPressable]},children:j.jsx(b("MWChatComposerIcons.bs").Photo.make,{size:20,fill:c})})})})},logOnSelectFileForUpload:a,ref:e}));return j.jsxs("div",{className:(i||(i=b("stylex")))(n.container),children:[y,j.jsx(b("MWChatComposerStickerButton.bs").make,{button:function(a,d,e,f,g,h,k){return j.jsx("div",{className:(i||(i=b("stylex")))(n.button,r||m?n.buttonHidden:n.buttonShown,r||m?n.stickerButtonHidden:n.stickerButtonShown),style:x.stickerButtonStart,children:j.jsx(b("MWPTooltip.react"),{tooltip:p,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":p,"aria-hidden":r,ref:a,testid:"composer_sticker_picker",onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[n.buttonPressable]},children:j.jsx(b("MWChatComposerIcons.bs").Sticker.make,{size:20,fill:c})})})})},onStickerSelect:h,logOnOpenStickerFlyout:t}),j.jsx(b("MWChatComposerGifButton.bs").make,{button:function(a,d,e,g,h,l,m){return j.jsx("div",{className:(i||(i=b("stylex")))(n.button,r||k?n.buttonHidden:n.buttonShown,r||k?n.gifButtonHidden:n.gifButtonShown),style:x.gifButtonStart,children:j.jsx(b("MWPTooltip.react"),{tooltip:q,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":q,"aria-hidden":r,disabled:!f,ref:a,testid:"composer_gif_picker",onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[n.buttonPressable]},children:j.jsx(b("MWChatComposerIcons.bs").Gif.make,{size:20,fill:f?c:void 0})})})})},onGifSelect:g})]})}a=a;f.gifButtonDisabled=k;f.photoButtonDisabled=l;f.stickerButtonDisabled=m;f.styles=n;f.uploadPhotoLabel=o;f.stickerLabel=p;f.gifLabel=q;f.pollLabel=c;f.roomLabel=d;f.sendAudioLabel=e;f.quickCamLabel=r;f.locationLabel=g;f.isRTL=s;f.make=a}),null);
__d("MWChatComposerAudioButton.bs",["MWChatComposerActionTrayButton.bs","MWChatComposerButtons.bs","MWChatComposerIcons.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onPress;a=a.disabled;return h.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:a,icon:b("MWChatComposerIcons.bs").Microphone.make,label:b("MWChatComposerButtons.bs").sendAudioLabel,onPress:c,testid:"composer_audio_recorder_action_tray"})}c=a;f.make=c}),null);
__d("MWChatUploadAudioHook.bs",["ActorURI","CurrentUser","MercuryConfig","URI","XComposerPhotoUploader","bs_caml_array","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=b("CurrentUser").getID();return i.useCallback(function(a){return function(d){var e={data:{voice_clip:!0}};new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){},onUploadSuccess:function(a,c){a=b("bs_caml_array").get(c.response.payload.metadata,0);c=b("bs_caml_option").some(a.audio_id);return b("bs_curry")._1(d,b("bs_caml_option").valFromOption(c))},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(h||(h=b("URI")))(b("MercuryConfig").upload_url),c)}).getAsyncUploadRequest([a],b("bs_caml_option").some(e)).send()}},[c])}f.useHook=a}),null);
__d("MWLSThreadIsMessageRequest.bs",["LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return a.e==="inbox"}function c(a){var c=b("MWThreadKey.bs").useIdMemoizedExn(void 0),d=b("ReStore.bs").useHook(void 0);return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").asc,{hd:c,tl:0}),function(a){if(b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,a))return a.e!=="inbox";else return!1})},[d,c])),!1)}f.isInboxFolder=a;f.useHook=c}),null);
__d("MWRestrictFirstTimeNux.react",["CometLazyDialogTrigger.react","JSResourceForInteraction","declareNUXRequireable","react","useNUX"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=c("JSResourceForInteraction")("MWRestrictFirstTimeNuxDialog.react").__setRef("MWRestrictFirstTimeNux.react");function a(a){return function(b){var d=b.children,e=b.dialogProps;b=c("useNUX")(a);var f=b[0],g=b[1];b=i(function(){return{onPress:function(){e.onPress(),g.onDismiss()},restrictedUser:e.restrictedUser}},[e,g]);return f?h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:b,dialogResource:j,children:function(a,b){return d(a,b)}}):d(e.onPress)}}b=c("declareNUXRequireable")(a);g["default"]=b}),98);
__d("LSNullstateCTAType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.none=a;f.getStarted=c;f.icebreaker=d}),null);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743837");c=b("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e.exports=c}),null);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743846");c=b("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e.exports=c}),null);
__d("LsBusinessWelcomePageImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743847");c=b("FalcoLoggerInternal").create("ls_business_welcome_page_impression",a);e.exports=c}),null);
__d("MWChatBusinessQuickReply.bs",["CometImage.react","MDSTextPairing.react","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTop:"pmh9v2dz",borderEnd:"do122s91",borderBottom:"gvgeiihk",borderStart:"fntpfh0s",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",cursor:"nhd2j8a9",fontFamily:"ihxqhq3m",fontWeight:"ekzkrbhg",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingBottom:"osnr6wyh",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",paddingTop:"jktsbyx5",textAlign:"hzawbc8m",wordBreak:"qv66sw1b"},image:{borderTopStartRadius:"ocebsr1h",borderTopEndRadius:"cur7e4n5",borderBottomEndRadius:"nr3idzxk",borderBottomStartRadius:"gsapk3bl","float":"bzsjyuwj",height:"mihw7u13",marginTop:"irj2b8pg",marginEnd:"qq4y78aw",marginBottom:"ew0dbk1b",marginStart:"lq239pai",width:"rgehdy3i"},vertical:{paddingBottom:"f10w8fjw",paddingEnd:"d1544ag0",paddingStart:"c088b7cy"}};function a(a){var c=a.bodyLineLimit,d=a.quickReplyVertical,e=a.onClick,f=a.text;a=a.imageUrl;c=c!==void 0?c:1;d=d!==void 0?d:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;return i.jsx("div",{className:(h||(h=b("stylex")))(d?j.vertical:!1),children:i.jsxs("button",{className:h(j.root),onClick:function(a){return b("bs_curry")._1(e,void 0)},children:[a!==void 0?i.jsx(b("CometImage.react"),{src:a,xstyle:[j.image]}):null,i.jsx(b("MDSTextPairing.react"),{body:f,level:3,bodyLineLimit:c})]})})}c=32;d=a;f.mediumHeight=c;f.styles=j;f.make=d}),null);
__d("LSThreadNullstate.bs",["FBID.bs","LS.bs","LSMailboxType.bs","LSNullstateCTAType.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsBusinessWelcomePageImpressionFalcoEvent","LsFalcoEventEntryPoint.bs","MDSText.react","MWChatBusinessQuickReply.bs","MWLSActor.bs","MessageSendClickFalcoEvent","ReStore.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","promiseDone","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{width:"k4urcfbm"},icebreaker:{display:"j83agx80",justifyContent:"bkfpd7mw",paddingBottom:"f10w8fjw",paddingEnd:"d1544ag0",paddingStart:"c088b7cy"},center:{justifyContent:"taijpn5t",paddingEnd:"umr3f4cg",paddingStart:"c088b7cy"},welcome:{paddingBottom:"tu1s4ah4",paddingEnd:"gpl4oick",paddingStart:"gm7ombtx",textAlign:"oqcyycmt"},notification:{paddingBottom:"f10w8fjw",paddingEnd:"gpl4oick",paddingStart:"gm7ombtx",textAlign:"oqcyycmt"}};function k(a){var c=a.nullstate,d=a.nullstateCtas,e=a.onClick;a=c.b;var f=c.c;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:(h||(h=b("stylex")))(j.welcome),children:a!==void 0?i.jsx(b("MDSText.react"),{color:"secondary",type:"headline4",children:a,testid:"ls_thread_nullstate_welcome_text"}):null}),i.jsx("div",{className:h(j.notification),children:f!==void 0?i.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:f}):null}),i.jsx("div",{className:h(j.root),children:d.map(function(a){var d=b("bs_caml").i64_eq(c.f,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(c.g,a.a);return i.jsx("div",{className:(h||(h=b("stylex")))(j.icebreaker,d?j.center:!1),children:i.jsx(b("MWChatBusinessQuickReply.bs").make,{bodyLineLimit:3,onClick:function(c){return b("bs_curry")._1(e,a)},text:a.c})},b("bs_int64").to_string(a.a))})})]})}c={make:k};function a(a){var c=a.thread,d=a.nullstate,e=a.nullstateCtas,f=a.refParam,g=a.lsSource;a=a.initiatingSource;var h=g!==void 0?g:"unknown",j=a!==void 0?b("bs_caml_option").valFromOption(a):void 0,l=b("ReStore.bs").useHook(void 0),m=b("MWLSActor.bs").useActor(void 0),n=function(d,a){var e=b("LSThreadAttributionStore.bs").getSource(h,b("bs_int64").to_string(c.a)),f=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(e);b("promiseDone")(b("LSTransaction.bs").run(l,function(e){return b("LSOptimisticSendMessage")(m,c.a,c.c,b("LSMailboxType.bs").messenger,d.c,void 0,void 0,void 0,void 0,void 0,void 0,f,a!==void 0?b("bs_caml_option").valFromOption(a):void 0,d.e!==void 0?b("bs_caml_option").valFromOption(d.e):void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,j!==void 0?b("bs_caml_option").valFromOption(j):void 0,void 0,b("bs_curry")._1(b("LS.bs").make,e))},"readWrite"),void 0,void 0)},o=b("FBID.bs").ofString(b("bs_int64").to_string(c.a)),p=function(c){if(o===void 0)return;var a=b("bs_caml_option").valFromOption(o);b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(b){return{page:{id:a}}})},q=function(c){if(o===void 0)return;var a=b("bs_caml_option").valFromOption(o);b("LsBotComposerQuickReplyTappedFalcoEvent").log(function(b){return{page:{id:a},quick_reply:{id:"",type:64},display:void 0}})};if(o!==void 0){var r=b("bs_caml_option").valFromOption(o);b("LsBusinessWelcomePageImpressionFalcoEvent").log(function(a){return{page:{id:r}}})}return i.jsx(k,{nullstate:d,nullstateCtas:e,onClick:function(a){var c=b("bs_caml").i64_eq(d.f,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(d.g,a.a);n(a,c?f:void 0);c?p(void 0):q(void 0);b("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:b("LsFalcoEventEntryPoint.bs").icebreaker}}})}})}d=a;f.styles=j;f.Inner=c;f.make=d}),null);
__d("MWChatBusinessPageGreeting.bs",["LsBusinessWelcomePageImpressionFalcoEvent","MDSText.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={item:{paddingBottom:"f10w8fjw"},pageResponsiveness:{paddingBottom:"f10w8fjw"},root:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",paddingBottom:"is38vakr",paddingTop:"bjjx79mm"}};function a(a){var c=a.contextItems,d=a.pageResponsiveness,e=a.pagesGreeting,f=a.pageId;i.useEffect(function(){b("LsBusinessWelcomePageImpressionFalcoEvent").log(function(a){return{page:{id:f}}})},[]);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[d!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(j.pageResponsiveness),children:i.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body3",children:d})}):null,c.map(function(a,c){return i.jsx("div",{className:(h||(h=b("stylex")))(j.item),children:i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a})},String(c))}),e!==void 0?i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:e}):null]})}c=a;f.styles=j;f.make=c}),null);
__d("CometComposerViewState.bs",["recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={};function h(a){if(a==="PHOTO")return 0;else if(a==="VIDEO")return 1;else if(a==="FILE"||a==="UNKNOWN")return 2;else{b("recoverableViolation")("Unrecognized CometComposerMediaAttachment file type "+a+"!","messenger_comet");return 2}}var i={ofString:h};function a(a){return a.state}function c(a){if(a.state==="NEW")return{TAG:0,_0:h(a.fileType),_1:a.file};if(a.state==="QUEUED")return{TAG:1,_0:h(a.fileType),_1:a.file};if(a.state==="UPLOADING")return{TAG:2,_0:h(a.fileType),_1:a.file,_2:a.percentComplete};if(a.state==="UPLOADED")return{TAG:3,_0:h(a.fileType),_1:a.file,_2:a.data};if(a.state==="FAILED")return{TAG:4,_0:h(a.fileType),_1:a.file,_2:a.error};a=a.state;throw b("unrecoverableViolation")("Unrecognized CometComposerMediaAttachment state "+a+"!","messenger_comet")}function d(a){switch(a.TAG|0){case 0:case 1:return a._0;default:return a._0}}function e(a){switch(a.TAG|0){case 0:case 1:return a._1;default:return a._1}}a={stateJS:a,fromJS:c,fileType:d,file:e};c={};f.$$File=g;f.FileType=i;f.MediaAttachment=a;f.AudioClip=c}),null);
__d("MWChatComposerCreatePollButton.bs",["CometLazyPopoverTrigger.react","JSResource","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={flyoutRoot:{width:"geg40m2u"}};function a(a){var c=a.button,d=a.onPollCreate,e=a.logOnOpenPollFlyout;return i.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){if(a)return b("bs_curry")._1(e,void 0)},popoverResource:b("JSResource")("MWChatPollFlyoutForJSResource.react").__setRef("MWChatComposerCreatePollButton.bs"),disableAutoFlip:!0,popoverProps:{className:(h||(h=b("stylex")))(j.flyoutRoot),onPollCreate:d},align:"end",position:"above",children:c})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerCreateRoomButton.react",["CometLazyPopoverTrigger.react","JSResourceForInteraction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("CometRoomCardContainer.react").__setRef("MWChatComposerCreateRoomButton.react");function a(a){var b=a.button,d=a.sessionId,e=a.surface;a=a.trayId;return h.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",disableAutoFlip:!0,popoverProps:{sessionId:d,surface:e,trayId:a},popoverResource:i,position:"above",children:b},"room")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerP2PButton.bs",["fbt","MWChatComposerActionTrayButton.bs","MWChatComposerIcons.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=g._(/*FBT_CALL*/"\u4ed8\u6b3e\u6216\u8981\u6c42\u4ed8\u6b3e"/*FBT_CALL*/);c=g._(/*FBT_CALL*/"\u8981\u6c42\u4ed8\u6b3e"/*FBT_CALL*/);d=i.forwardRef(function(a,c){var d=a.onPress,e=a.disabled;a=a.label;d=d!==void 0?d:function(a){};return i.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:e,icon:b("MWChatComposerIcons.bs").Currency.make,label:a,onPress:d,testid:"p2p_button_action_tray",ref:c})});f.sendOrRequestLabel=a;f.requestLabel=c;f.make=d}),null);
__d("MWLSThreadType.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoized(void 0);return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(d!==void 0)return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:d,tl:0}),function(a){return a.c});else return b("SortedAsyncIterable.bs").empty(void 0)},[c,d]))}f.useHook=a}),null);
__d("MWUIGetParticipantFbids.bs",["cr:603"],(function(a,b,c,d,e,f){"use strict";a=b("cr:603").useHook;f.$MWLSGetParticipantFbids$OR$WorkplaceMSGetParticipantFbids$requireCond=b("cr:603");f.useHook=a}),null);
__d("MWChatComposerP2PPopoverTrigger.bs",["CometEntryPointPopoverTrigger.react","CurrentUser","JSResource","MWChatComposerP2PButton.bs","MWChatComposerP2PPaymentEligibility","MWChatComposerP2PPopoverQuery$Parameters","MWChatTabEntryPoints.bs","MWChatThreadId.bs","MWLSThreadType.bs","MWUIGetParticipantFbids.bs","MessagingThreadType.bs","MessengerWebEntryPoint","bs_belt_Array","bs_belt_Option","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","bs_js_dict","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){a=b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,b("MWChatThreadId.bs").getFBID(a));return a===b("MessengerWebEntryPoint").P2P_PAYMENTS}function a(a){var c=a.actionTrayOpen,d=a.closeActionTray,e=a.isGroupThread;a=a.threadId;var f=b("bs_curry")._1(b("MWUIGetParticipantFbids.bs").useHook,void 0),g=b("MWLSThreadType.bs").useHook(void 0);g=g!==void 0&&!b("bs_caml").i64_neq(g,b("MessagingThreadType.bs").marketplace)?!0:!1;var j=a!==void 0&&typeof a==="object"&&a.NAME==="User"?b("bs_caml_option").some(a.VAL):void 0,k=b("MWChatComposerP2PPaymentEligibility").use({fbids:j!==void 0?[b("bs_caml_option").valFromOption(j)]:f.filter(function(a){return b("bs_caml_obj").caml_notequal(a,b("CurrentUser").getID())})}),l={};l.rootQuery={parameters:b("MWChatComposerP2PPopoverQuery$Parameters"),variables:{}};k=k.viewer;var m;if(k==null)m=void 0;else{k=k.peer_to_peer_payments;m=k==null?void 0:b("bs_caml_option").some(k.can_send_to)}k=m!==void 0?b("bs_belt_Array").get(b("bs_caml_option").valFromOption(m),0):void 0;if(k===void 0)return null;k=b("bs_caml_option").valFromOption(k);var n;if(e)n=g?[!0,b("MWChatComposerP2PButton.bs").sendOrRequestLabel]:[!0,b("MWChatComposerP2PButton.bs").requestLabel];else{var o=k.is_eligible;k=o?b("MWChatComposerP2PButton.bs").sendOrRequestLabel:k.exception.description;n=[o,k]}var p=n[1],q=n[0];return h.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",children:function(a,d){return h.jsx(b("MWChatComposerP2PButton.bs").make,{onPress:d,disabled:!c||!q,label:p,ref:a})},entryPointParams:{},otherProps:{closeActionTray:d,eligibility:m,isGroupThread:e,otherUserFbid:j,threadFbid:b("bs_belt_Option").map(a,b("MWChatThreadId.bs").getFBID),isMarketPlaceThread:g,threadOtherUsers:f.filter(function(a){return b("bs_caml_obj").caml_notequal(a,b("CurrentUser").getID())})},popoverEntryPoint:{getPreloadProps:function(a){return{queries:l}},root:b("JSResource")("MWChatComposerP2PPopover.react").__setRef("MWChatComposerP2PPopoverTrigger.bs")},position:"above",visibleOnLoad:a!==void 0?i(a):!1})}c=a;f.shouldShowOnLoad=i;f.make=c}),null);
__d("RoomButtonTapFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744274");c=b("FalcoLoggerInternal").create("room_button_tap",a);e.exports=c}),null);
__d("RoomsUserActionsButton",[],(function(a,b,c,d,e,f){a=Object.freeze({ALL:"all",ARCHIVE_SETTING:"archive_setting",AUDIO_CALL:"audio_call",AUDIO_CALL_ICON:"audio_call_icon",BACK:"back",BIRTHDAY_STORY_CALL_CANCEL:"birthday_story_call_cancel",BIRTHDAY_STORY_CALL_CONFIRM:"birthday_story_call_confirm",BIRTHDAY_STORY_COMPOSER:"birthday_story_composer",BIRTHDAY_STORY_VIDEO_CALL:"birthday_story_video_call",CAMERA_PREVIEW:"camera_preview",CANCEL:"cancel",CANCEL_END_ROOM:"cancel_end_room",CANCEL_GUESTS_REMOVED:"cancel_guests_removed",CANCEL_UNLOCK:"cancel_unlock",CLIENT_LINK_START:"client_link_start",CLOSE_ENCRYPT_DIALOG:"close_encrypt_dialog",COPY_LINK:"copy_link",CREATE:"create",CREATE_AND_JOIN:"create_and_join",CREATOR_LOBBY_INVITED_CELL_MESSAGE:"creator_lobby_invited_cell_message",CUSTOM_MESSAGE:"custom_message",CUSTOMIZE:"customize",CUSTOMIZE_ROOM_NAME_EMOJI:"customize_room_name_emoji",DO_NOT_SHOW_AGAIN:"do_not_show_again",DONE:"done",EDIT_JOIN_PERMISSIONS:"edit_join_permissions",EDIT_ROOM_ACTIVITY:"edit_room_activity",END_RECURRING_SERIES:"end_recurring_series",END_ROOM:"end_room",END_ROOM_INTENT:"end_room_intent",EXIT:"exit",EXPAND:"expand",FRIEND_SELECTOR_INVITE:"friend_selector_invite",GROUP:"group",GVC:"gvc",HANG_UP:"hang_up",INDIVIDUAL:"individual",INTEREST:"interest",INVITE:"invite",INVITE_FRIENDS:"invite_friends",JOIN:"join",JOIN_PERMISSIONS_ALL_FRIENDS:"join_permissions_all_friends",JOIN_PERMISSIONS_ANYONE:"join_permissions_anyone",JOIN_PERMISSIONS_NONE:"join_permissions_none",JOIN_PERMISSIONS_ONLY_INVITED_FRIENDS:"join_permissions_only_invited_friends",JOIN_UNSUPPORTED_E2EE:"join_unsupported_e2ee",JOIN_ZR:"join_zr",JOINER_LOBBY_MESSAGE:"joiner_lobby_message",LEARN_MORE_CREATE_ROOM:"learn_more_create_room",LEARN_MORE_MENU:"learn_more_menu",LINK:"link",MANAGE:"manage",MANAGE_ARCHIVE:"manage_archive",MESSENGER_IN_THREAD_QP:"messenger_in_thread_qp",MESSENGER_THREAD_LIST_QP:"messenger_thread_list_qp",MORE:"more",MUTE:"mute",MUTE_ALL:"mute_all",NEXT:"next",OFF:"off",OK:"ok",ON:"on",OPEN_ENCRYPT_DIALOG:"open_encrypt_dialog",OPEN_ENCRYPTION_INELIGIBLE_DIALOG:"open_encryption_ineligible_dialog",OPEN_MESSAGING_THREAD:"open_messaging_thread",OPEN_SETTING_PAGE:"open_setting_page",PROMOTION_UNIT:"promotion_unit",PROMOTION_UNIT_CREATE_ROOM:"create_room",PROMOTION_UNIT_DISMISS:"dismiss",PROMOTION_UNIT_GROUP_SETTINGS:"group_settings",PROMOTION_UNIT_INTERESTED:"qp_interested",PROMOTION_UNIT_LEARN_MORE:"learn_more",PROMOTION_UNIT_SEE_ROOMS:"see_rooms",RECREATE:"recreate",RECURRING_ROOM_REPEAT_DAILY:"recurring_room_repeat_daily",RECURRING_ROOM_REPEAT_MONTHLY:"recurring_room_repeat_monthly",RECURRING_ROOM_REPEAT_NEVER:"recurring_room_repeat_never",RECURRING_ROOM_REPEAT_WEEKLY:"recurring_room_repeat_weekly",REPORT_BUG:"report_bug",REPORT_ROOM:"report_room",ROOMS:"rooms",ROOMS_CALL_ICON:"rooms_call_icon",ROOMS_SCHEDULED:"rooms_scheduled",SCHEDULE_FOR_LATER:"schedule_for_later",SCHEDULE_ROOM:"schedule_room",SEARCH_BAR:"search_bar",SEARCH_BAR_CANCEL:"search_bar_cancel",SELECT_PARTICIPANT:"select_participant",SEND_LINK:"send_link",SEND_MESSAGE:"send_message",SETTING:"setting",SHARE_EXTERNAL:"share_external",SHARE_FB_FRIENDS:"share_fb_friends",SHARE_SEND_AS_MESSAGE:"share_send_as_message",SHARE_TO_NEWSFEED:"share_to_newsfeed",SHARE_VIA_OS_SHEET:"share_via_os_sheet",TEMPLATE_ALL_FRIENDS:"template_all_friends",TEMPLATE_QUICK_LINK:"template_quick_link",TEMPLATE_SCHEDULE_AHEAD:"template_schedule_ahead",TEMPLATE_SPECIFIC_FRIENDS:"template_specific_friends",TIME_PICKER:"time_picker",TRY_IT:"try_it",UNDO:"undo",UNINTEREST:"uninterest",UPDATE:"update",VIDEO_CALL:"video_call",VIDEO_OFF:"video_off",VIDEO_ON:"video_on",VIEW:"view",VISIBILITY_TOGGLE_TO_ALL_FRIENDS:"visibility_toggle_to_all_friends",VISIBILITY_TOGGLE_TO_INVITED_FRIENDS:"visibility_toggle_to_invited_friends"});f["default"]=a}),66);
__d("RoomsUserActionsSource",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_FRIENDS_NOW:"call_friends_now",CELEBRANT_SIDE_BIRTHDAY_ROOM_NOTIFICATION:"celebrant_side_birthday_room_notification",COMET_CREATE_MENU:"comet_create_menu",COMET_RHC:"comet_rhc",CREATE_ROOM_CARD:"create_room_card",CROSS_GROUPS_CHATS_AND_ROOMS_TRAY:"cross_groups_chats_and_rooms_tray",CROSS_GROUPS_JOINED_CHATS_AND_ROOMS_INBOX:"cross_groups_joined_chats_and_rooms_inbox",CROSS_GROUPS_ROOMS_INBOX_SEE_ALL:"cross_groups_rooms_inbox_see_all",EMPTY_FRIEND_ROOM_CARD:"empty_friend_room_card",EMPTY_GROUP_ROOM_CARD:"empty_group_room_card",EMPTY_THREAD_ROOM_CARD:"empty_thread_room_card",END_CALL_XMA:"end_call_xma",FAITH_HUB:"faith_hub",FB_BOOKMARK:"fb_bookmark",FB_BOOKMARK_MENU:"fb_bookmark_menu",FB_CHAT_SIDE_BAR:"fb_chat_side_bar",FB_COMPOSER:"fb_composer",FB_COMPOSER_PUBLISHER_BAR:"fb_composer_publisher_bar",FB_FEED_COMPOSER:"fb_feed_composer",FB_FEED_TRAY_QP:"fb_feed_tray_qp",FB_FEED_TRAY_SOCIAL_NORMS_LARGE_QP:"fb_feed_tray_social_norms_large_qp",FB_FEED_TRAY_SOCIAL_NORMS_SMALL_QP:"fb_feed_tray_social_norms_small_qp",FB_GROUP_COMPOSER:"fb_group_composer",FB_IN_FEED:"fb_in_feed",FB_IN_FEED_ROOMS_CARD_LOBBY:"fb_in_feed_rooms_card_lobby",FB_IN_GROUP:"fb_in_group",FB_IN_PAGE:"fb_in_page",FB_IN_PROFILE:"fb_in_profile",FB_IN_THREAD:"fb_in_thread",FB_MESSENGER_JEWEL:"fb_messenger_jewel",FB_PROFILE_ROOMS_CARD_LOBBY:"fb_profile_rooms_card_lobby",FB_ROOMS_BOOKMARK_CARD_CREATOR_LOBBY:"fb_rooms_bookmark_card_creator_lobby",FB_ROOMS_BOOKMARK_CARD_FRIEND_LOBBY:"fb_rooms_bookmark_card_friend_lobby",FB_ROOMS_BOOKMARK_HEADER:"fb_rooms_bookmark_header",FB_ROOMS_BOOKMARK_HEADER_CREATOR_LOBBY:"fb_rooms_bookmark_header_creator_lobby",FB_ROOMS_HOME_HEADER:"fb_rooms_home_header",FB_ROOMS_HOME_JOIN_UNIT:"fb_rooms_home_join_unit",FB_ROOMS_HOME_ROOMS_SECTION:"fb_rooms_home_rooms_section",FB_ROOMS_TRAY_MANAGEMENT:"fb_rooms_tray_management",FB_SEARCH_SHORTCUT:"fb_search_shortcut",FB_TOP_OF_FEED:"fb_top_of_feed",FB_TOP_OF_FEED_ROOMS_CARD_LOBBY:"fb_top_of_feed_rooms_card_lobby",FB_TOP_OF_FEED_TRAY_HEADER:"fb_top_of_feed_tray_header",FOA_DEEPLINK:"foa_deeplink",FRIEND_ROOM_CARD:"friend_room_card",GROUP_COMPOSER_ROOMS_BOTTOM_SHEET:"group_composer_rooms_bottom_sheet",GROUP_DISCUSSION_TAB_COMPOSER:"group_discussion_tab_composer",GROUP_HASHTAG_RHC:"group_hashtag_rhc",GROUP_MALL_FEATURED_HAPPENING_NOW:"group_mall_featured_happening_now",GROUP_MALL_ROOM_AND_CHAT_CARD_FOR_STREAMER_GROUP:"group_mall_room_and_chat_card_for_streamer_group",GROUP_MEMBER_ONBOARDING:"group_member_onboarding",GROUP_RHC:"group_rhc",GROUP_ROOM_CARD:"group_room_card",GROUP_ROOM_CREATION:"group_room_creation",GROUP_ROOM_CREATION_ROOMS_CARD_LOBBY:"group_room_creation_rooms_card_lobby",GROUP_ROOM_INBOX_ON_NATIVE:"group_room_inbox_on_native",GROUP_ROOM_JOINED_CHATS_AND_ROOMS_INBOX:"group_room_joined_chats_and_rooms_inbox",GROUP_ROOM_JOINED_CHATS_AND_ROOMS_INBOX_SEE_ALL:"group_room_joined_chats_and_rooms_inbox_see_all",GROUP_ROOM_JOINED_CHATS_AND_ROOMS_TRAY:"group_room_joined_chats_and_rooms_tray",GROUP_ROOM_LIST_VIEW:"group_room_list_view",GROUP_ROOM_LIST_VIEW_ROOMS_CARD_LOBBY:"group_room_list_view_rooms_card_lobby",GROUP_ROOM_LIST_VIEW_SEE_ALL:"group_room_list_view_see_all",GROUP_ROOM_LIST_VIEW_SEE_ALL_ROOMS_CARD_LOBBY:"group_room_list_view_see_all_rooms_card_lobby",GROUP_ROOM_NOTIF:"group_room_notif",GROUP_ROOM_PIN_ROOM_SUBSCRIPTION:"group_room_pin_room_subscription",GROUP_ROOM_VALUE_PROP_EDU_QP:"group_room_value_prop_edu_qp",GROUP_ROOMS_LIVE_AUDIO_QP_ADMINS:"group_rooms_live_audio_qp_admins",GROUP_ROOMS_LIVE_AUDIO_QP_CREATORS:"group_rooms_live_audio_qp_creators",GROUP_ROOMS_LIVE_AUDIO_QP_LISTENERS:"group_rooms_live_audio_qp_listeners",GROUP_ROOMS_MEET_AND_GREET_NOTIF:"group_rooms_meet_and_greet_notif",GROUP_ROOMS_MEET_AND_GREET_QP:"group_rooms_meet_and_greet_qp",GROUP_ROOMS_TAB:"group_rooms_tab",GROUP_ROOMS_TAB_ROOMS_CARD_LOBBY:"group_rooms_tab_rooms_card_lobby",GROUP_ROOMS_VALUE_PROP_EDU_NOTIF:"group_rooms_value_prop_edu_notif",GROUP_ROOMS_VERTICAL_TARGETING_NOTIF:"group_rooms_vertical_targeting_notif",GROUP_TOPIC_DEEP_DIVE_ROOMS_AND_CHATS_TRAY:"group_topic_deep_dive_rooms_and_chats_tray",GROUPS_JOINABLE_VIDEO_CHAT_FRIEND_JOINED:"groups_joinable_video_chat_friend_joined",GROUPS_JOINABLE_VIDEO_CHAT_REMINDER:"groups_joinable_video_chat_reminder",GROUPS_NAV_SURFACE:"groups_nav_surface",GROUPS_NEW_JOINABLE_VIDEO_CHAT:"groups_new_joinable_video_chat",GVC_END_CALL:"gvc_end_call",HAPPENING_NOW:"happening_now",IG_CREATION_FLOW:"ig_creation_flow",IG_DIRECT_TAB:"ig_direct_tab",IG_DIRECT_TAB_ROOM_LIST:"ig_direct_tab_room_list",IG_INCOMING_CALL:"ig_incoming_call",IG_SCHEDULED_ROOM_REMINDER_NOTIFICATION:"ig_scheduled_room_reminder_notification",IN_LOBBY:"in_lobby",IN_THREAD:"in_thread",IN_THREAD_TOP_BAR:"in_thread_top_bar",INBOX_NEW:"inbox_new",INBOX_OLD:"inbox_old",INBOX_TRAY:"inbox_tray",INLINE_COMPOSER:"inline_composer",JVC_CHAT_REMINDER:"jvc_chat_reminder",JVC_CREATOR_JOINED:"jvc_creator_joined",JVC_EMPTY_ROOM:"jvc_empty_room",JVC_FRIEND_JOINED:"jvc_friend_joined",JVC_INVITED:"jvc_invited",JVC_NOW_ROOM_CREATOR_REMINDER:"jvc_now_room_creator_reminder",JVC_RSVP:"jvc_rsvp",LIVE_PUBLISHER_BAR:"live_publisher_bar",MANAGEMENT:"management",MARKETING:"promo",MESSAGE_COMPOSER:"message_composer",MORE_AUDIO_ORION_TAB:"more_audio_orion_tab",NEW_AUDIO_CALL:"new_audio_call",NEW_VIDEO_CALL:"new_video_call",PEOPLE_TAB:"people_tab",PREVIOUS_CALLS:"previous_calls",PROFILE_SETTING:"profile_setting",PROFILE_TIMELINE:"profile_timeline",ROOM_END_CALL:"room_end_call",ROOM_PROMOTION_UNIT:"room_promotion_unit",ROOM_PUBLISHER_BAR:"room_publisher_bar",ROOM_TO_TALK:"room_to_talk",SELF_ROOM_CARD:"self_room_card",TEST:"test",THREAD_TITLE:"thread_title",TOP_FRIENDS_BIRTHDAY_NOTIFICATION:"top_friends_birthday_notification",UNKNOWN:"unknown",UNKNOWN_NOTIF:"unknown_notif",WATCH_TOGETHER:"watch_together",WEB_CHROME_EXTENSION:"web_chrome_extension",WHATSAPP:"whatsapp",XMA:"XMA"});f["default"]=a}),66);
__d("MWChatComposerActionTrayItems.bs",["fbt","ix","CometErrorBoundary.re","CometLazyDialogTrigger.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","JSResource","LSDatabaseDeferred.bs","MWChatComposerActionTrayButton.bs","MWChatComposerButtons.bs","MWChatComposerCreatePollButton.bs","MWChatComposerCreateRoomButton.react","MWChatComposerGifButton.bs","MWChatComposerIcons.bs","MWChatComposerP2PButton.bs","MWChatComposerP2PPopoverTrigger.bs","MWChatComposerStickerButton.bs","MWChatComposerUploadFileButton.bs","MWPTooltip.react","MWThreadKey.bs","MessengerURIConstants","Promise","ReQL.bs","ReQLTable","RoomButtonTapFalcoEvent","RoomsUserActionsButton","RoomsUserActionsSource","RoomsUserActionsSurface","URI","bs_belt_Option","bs_caml_option","bs_curry","cr:1711351","cr:177","cr:1896943","fbicon","gkx","promiseDone","qex","react","recoverableViolation","stylex","useCurrentRoute","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||b("react"),m={button:{flexGrow:"buofh1pr",marginStart:"h676nmdw"}},n=b("gkx")("1787584"),o=b("gkx")("1787585"),p=b("gkx")("1787586"),q=b("gkx")("1787587"),r=b("gkx")("1787588"),s=b("gkx")("1787590"),t=b("gkx")("1787591"),u=b("gkx")("1787592"),v=b("gkx")("395");function w(a){return l.jsx(b("MWChatComposerIcons.bs").Photo.make,{size:20,fill:b("gkx")("1299319")?"#050505":"var(--primary-text)"})}d={make:w};function x(a){return l.jsx(b("MWChatComposerIcons.bs").Sticker.make,{size:20,fill:b("gkx")("1299319")?"#050505":"var(--primary-text)"})}e={make:x};function y(a){return l.jsx(b("MWChatComposerIcons.bs").Gif.make,{size:20,fill:b("gkx")("1299319")?"#050505":"var(--primary-text)"})}var z={make:y},A=b("MWChatComposerCreateRoomButton.react"),B={make:A};function a(a){b("RoomButtonTapFalcoEvent").log(a)}a={log:a};function C(a){b("recoverableViolation")("MWChatComposerActionTrayItems level component did not catch own error","messenger_web_product",{error:a})}function c(d,e,f,i,z,B,E,G,H,I,J,K,L,M,N,O,P,Q){f=b("gkx")("1013538")&&b("gkx")("1013539")&&B&&(!d||b("gkx")("1618969"));B=b("cr:1711351")==null?void 0:b("bs_caml_option").some(b("cr:1711351"));var a=b("cr:177")==null?void 0:b("bs_caml_option").some(b("cr:177")),c=b("cr:1896943")==null?void 0:b("bs_caml_option").some(b("cr:1896943")),R=b("MWThreadKey.bs").useIdMemoized(void 0),S=b("uuid")(),T=b("uuid")(),U=b("MessengerURIConstants").FACEBOOK_PREFIX,V=b("useCurrentRoute")(),W;if(V==null)W=void 0;else{V=new(j||(j=b("URI")))(V.url);W=V.getPath()}var X=W!==void 0?W.startsWith(U)?b("RoomsUserActionsSurface").MESSENGER_FB:b("RoomsUserActionsSurface").MESSENGER_DOT_COM:b("RoomsUserActionsSurface").FACEBOOK_DOT_COM;V=b("qex")._("1997585");var Y;W=0;V==null?W=1:V==="photo"?Y=[6,E&&!p,l.jsx(b("MWChatComposerUploadFileButton.bs").make,{acceptAllFiles:!0,button:function(a){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:w,label:b("MWChatComposerUploadFileButton.bs").experimentLabel,onPress:a,testid:"composer_file_uploader"})})},logOnSelectFileForUpload:Q},"file")]:V==="file"?Y=[6,E&&!p,l.jsx(b("MWChatComposerUploadFileButton.bs").make,{acceptAllFiles:!0,button:function(a){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("MWChatComposerIcons.bs").Paperclip.make,label:b("MWChatComposerUploadFileButton.bs").experimentLabel,onPress:a,testid:"composer_file_uploader"})})},logOnSelectFileForUpload:Q},"file")]:W=1;W===1&&(Y=[6,!p,l.jsx(b("MWChatComposerUploadFileButton.bs").make,{button:function(a){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:w,label:b("MWChatComposerButtons.bs").uploadPhotoLabel,onPress:a,testid:"composer_photo_uploader_action_tray"})})},logOnSelectFileForUpload:Q},"photo")]);U=[[0,H&&b("bs_belt_Option").isSome(B)&&!n,b("bs_belt_Option").mapWithDefault(B,null,function(a){return l.jsx(a.make,{button:function(a,c){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("MWChatComposerIcons.bs").Camera.make,label:b("MWChatComposerButtons.bs").quickCamLabel,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})})},onSendAttachment:I},"camera")})],[2,b("bs_belt_Option").isSome(c),b("bs_belt_Option").mapWithDefault(c,null,function(a){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),children:l.jsx(a.make,{disabled:!e})},"geminimsaudio")})],Y,[4,!q,l.jsx(b("MWChatComposerStickerButton.bs").make,{button:function(a,c,d,f,g,h,i){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),ref:a,children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:x,label:b("MWChatComposerButtons.bs").stickerLabel,onPress:c,testid:"composer_sticker_picker_action_tray"})})},onStickerSelect:M,logOnOpenStickerFlyout:P},"sticker")],[5,i&&!r,l.jsx(b("MWChatComposerGifButton.bs").make,{button:function(a,c,d,f,g,h,i){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),ref:a,children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:y,label:b("MWChatComposerButtons.bs").gifLabel,onPress:c,testid:"composer_gif_picker_action_tray"})})},onGifSelect:L},"gif")],[6,E&&(V==null?void 0:b("bs_caml_option").some(V))===void 0,l.jsx(b("MWChatComposerUploadFileButton.bs").make,{acceptAllFiles:!0,button:function(a){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("MWChatComposerIcons.bs").Paperclip.make,label:b("MWChatComposerUploadFileButton.bs").label,onPress:a,testid:"composer_file_uploader"})})},logOnSelectFileForUpload:Q},"file")],[7,b("gkx")("1613519")&&!s,l.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatStaticLocationShareDialog.react").__setRef("MWChatComposerActionTrayItems.bs"),dialogProps:{onClose:function(a){}},children:function(a,c){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),ref:c,children:l.jsx(b("MWPTooltip.react"),{tooltip:b("MWChatComposerButtons.bs").locationLabel,align:"middle",position:"above",children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("MWChatComposerIcons.bs").Pin.make,label:b("MWChatComposerButtons.bs").locationLabel,onPress:a,testid:"share_static_location"})})})}},"location")],[8,f&&!t,l.jsx(b("HeroInteractionIgnoreWithDiv.react"),{children:l.jsx(b("CometPlaceholder.react"),{children:l.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:l.jsx(b("MWChatComposerP2PPopoverTrigger.bs").make,{actionTrayOpen:e,closeActionTray:K,isGroupThread:d,threadId:N}),onError:C}),fallback:l.jsx(b("MWChatComposerP2PButton.bs").make,{disabled:!0,label:g._(/*FBT_CALL*/"\u8f09\u5165\u4e2d\u2026\u2026"/*FBT_CALL*/)})}),xstyle:m.button},"payment")],[9,b("bs_belt_Option").isSome(O)&&!u,b("bs_belt_Option").mapWithDefault(O,null,function(a){return l.jsx(b("MWChatComposerCreatePollButton.bs").make,{button:function(a,c,d,f,g,h,i){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),ref:a,children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("MWChatComposerIcons.bs").Poll.make,label:b("MWChatComposerButtons.bs").pollLabel,onPress:c,testid:"composer_poll_action_tray"})})},onPollCreate:a,logOnOpenPollFlyout:function(a){}},"poll")})],[10,v&&G,l.jsx(A,{button:function(a,c,d,f,g,i,j){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),children:l.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("fbicon")._(h("1388374"),20),label:b("MWChatComposerButtons.bs").roomLabel,onPress:function(a){b("bs_curry")._1(c,void 0);if(R===void 0)return;a=b("LSDatabaseDeferred.bs").db.then(function(a){a=b("ReQL.bs").toArray(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"participants").asc,{hd:R,tl:0})).then(function(a){b("RoomButtonTapFalcoEvent").log(function(c){return{button_type:b("RoomsUserActionsButton").ROOMS,session_ids:{room_settings_session_id:S},surface:X,source:b("RoomsUserActionsSource").IN_THREAD,target_thread_size:a.length}});return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},testid:"composer_room_picker_action_tray",ref:a})})},sessionId:S,surface:X,trayId:T},"room")],[1,z&&b("bs_belt_Option").isSome(a)&&!o,b("bs_belt_Option").mapWithDefault(a,null,function(a){return l.jsx("div",{className:(k||(k=b("stylex")))(m.button),children:l.jsx(a.make,{onPress:J,disabled:!e})},"audio")})]];W=U.filter(function(a){return a[1]});H=W.some(function(a){return a[0]-3>>>0>2});B=W.map(function(a){return a[2]});return[B,H]}var D=b("cr:177"),E=b("cr:1711351"),F=b("cr:1896943");f.styles=m;f.$MWChatComposerAudioButton$OR$null$requireCond=b("cr:177");f.mwChatComposerAudioButton=D;f.$MWChatComposerQuickCamButton$requireCond=b("cr:1711351");f.mwChatComposerQuickCamButton=E;f.$ChatGeminiMSAudioRecorderButton$requireCond=b("cr:1896943");f.chatGeminiMSAudioRecorderButton=F;f.cameraButtonDisabled=n;f.audioButtonDisabled=o;f.photoButtonDisabled=p;f.stickerButtonDisabled=q;f.gifButtonDisabled=r;f.locationButtonDisabled=s;f.paymentButtonDisabled=t;f.pollButtonDisabled=u;f.roomButtonEnabled=v;f.PhotoButtonSVG=d;f.StickerButtonSVG=e;f.GifButtonSVG=z;f.MWChatComposerCreateRoomButton=B;f.RoomButtonTapFalcoEvent=a;f.onError=C;f.useActionTrayItems=c}),null);
__d("MWChatComposerAttachmentArea.bs",["bs_belt_Option","bs_caml_option","bs_curry","react","stylex","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={notMediaRoot:{overflowX:"ni8dbmo4",overflowY:"stjgntxs"},root:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",maxWidth:"d2edcug0",position:"l9j0dhe7"}};function a(a){var c=a.activeAttachmentType,d=a.children,e=a.closeActionTray;i.useEffect(function(){b("bs_curry")._1(e,void 0)},[e]);a=b("bs_belt_Option").flatMap(c,function(a){if(a==null)return;else return b("bs_caml_option").some(a)});if(a!==void 0)return i.jsx("div",{className:(h||(h=b("stylex")))(j.root,a!=="MEDIA"?j.notMediaRoot:!1),children:b("bs_curry")._1(d,a)});else return null}c=b("withComposerViewStatePart")(a,function(a){a=a.attachmentArea;return{activeAttachmentType:a==null?void 0:b("bs_caml_option").some(a.activeAttachmentType)}});f.styles=j;f.make=c}),null);
__d("MWChatComposerEmojiButton.bs",["fbt","CometComposerEmojiPickerTrigger.react","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResourceForInteraction","MWChatComposerIcons.bs","MWPTooltip.react","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={focus:{end:"jaqpu5ht",top:"gwewmpg2",start:"c2j1kjv0",bottom:"tghqpdut"}};function a(a){var c=a.className,d=a.fill,e=a.withArrow,f=a.logOnOpenEmojiFlyout,h=a.xstyleIcon;a=a.xstylePressable;e=e!==void 0?e:!0;var k=h!==void 0?b("bs_caml_option").valFromOption(h):!1,l=a!==void 0?b("bs_caml_option").valFromOption(a):!1,m=g._(/*FBT_CALL*/"\u9078\u64c7\u8868\u60c5\u7b26\u865f"/*FBT_CALL*/);if(b("gkx")("467"))return i.jsx(b("CometLazyPopoverTrigger.react"),{fallback:i.jsx(b("CometPopoverLoadingState.react"),{withArrow:e}),onVisibilityChange:function(a){if(a)return b("bs_curry")._1(f,void 0)},popoverResource:b("JSResourceForInteraction")("MWChatComposerEmojiPicker",{name:"MWChatComposerEmojiPicker","class":"fluid"}).__setRef("MWChatComposerEmojiButton.bs"),popoverProps:{withArrow:e},align:"end",children:function(a,e,f,g,h,n,o){return i.jsx("div",{className:c,children:i.jsx(b("MWPTooltip.react"),{tooltip:m,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":m,ref:a,testid:"composer_emoji_picker",onPress:function(a){return b("bs_curry")._1(e,void 0)},overlayRadius:"50%",xstyle:function(a){return[l]},children:i.jsx(b("MWChatComposerIcons.bs").Emoji.make,{size:20,fill:d,xstyle:k}),overlayFocusVisibleStyle:j.focus})})})}});else return i.jsx(b("CometComposerEmojiPickerTrigger.react"),{align:"end",children:function(a,e,f){return i.jsx("div",{className:c,children:i.jsx(b("MWPTooltip.react"),{tooltip:m,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":m,ref:a,testid:"composer_emoji_picker",onPress:function(a){return b("bs_curry")._1(e,void 0)},overlayRadius:"50%",xstyle:function(a){return[l]},children:i.jsx(b("MWChatComposerIcons.bs").Emoji.make,{size:20,fill:d,xstyle:k}),overlayFocusVisibleStyle:j.focus})})})},onVisibilityChange:function(a){if(a)return b("bs_curry")._1(f,void 0)},withArrow:e,testid:"mw_emoji_picker"})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerError.bs",["fbt","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={content:{color:"erlsw9ld",fontStyle:"fmqa7x8m"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.content),children:g._(/*FBT_CALL*/"\u986f\u793a\u64b0\u5beb\u5de5\u5177\u6642\u767c\u751f\u932f\u8aa4"/*FBT_CALL*/)})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatComposerHeadlessMediaUploader.bs",["bs_caml_option","bs_curry","react","useComposerViewStateDispatcher","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.mediaAttachments,d=a.onUploadStart,e=a.onUploadSuccess,f=a.onAttachmentsChanged,g=b("useComposerViewStateDispatcher")();h.useEffect(function(){b("bs_curry")._4(f,c,g,d,e)},[f,c,g,d,e]);return null}c=b("withComposerViewStatePart")(a,function(a){return{mediaAttachments:b("bs_caml_option").nullable_to_opt(a.mediaAttachments)}});f.make=c}),null);
__d("MWChatComposerRemoveMediaAttachmentItemButton.bs",["fbt","ix","CometComposerViewStateActions.bs","TetraCircleButton.react","bs_curry","fbicon","react","stylex","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{end:"e712q9ov",position:"pmk7jnqg",top:"nezaghv5"}};function a(a){var c=a.attachment,d=b("useComposerViewStateDispatcher")();a=k.useCallback(function(a){return b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert({NAME:"RemoveMediaAttachmentItem",VAL:c}))},[c,d]);return k.jsx("div",{className:(j||(j=b("stylex")))(l.root),children:k.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(h("478231"),12),label:g._(/*FBT_CALL*/"\u79fb\u9664\u9644\u4ef6"/*FBT_CALL*/),onPress:a,size:24,type:"overlay"})})}c=a;f.styles=l;f.make=c}),null);
__d("MWChatFileIconCommon.bs",["cr:545"],(function(a,b,c,d,e,f){"use strict";a=b("cr:545").make;f.$MWChatFileIconV2$OR$MWChatFileIcon$requireCond=b("cr:545");f.make=a}),null);
__d("MWChatComposerMediaAttachmentItem.bs",["CometComposerViewState.bs","CometErrorBoundary.re","CometImage.react","CometLocalVideoFileThumbnailSuspense.react","CometPlaceholder.react","MDSText.react","MWChatComposerRemoveMediaAttachmentItemButton.bs","MWChatFile.bs","MWChatFileIconCommon.bs","MWChatImage.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"dicw6rsg",marginStart:"hcukyx3x",overflowWrap:"jm1wdb64",position:"l9j0dhe7",width:"tmrshh9y"},image:{borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",height:"datstx6m",objectFit:"bixrwtb6",width:"k4urcfbm"},videoIndicator:{position:"pmk7jnqg",start:"kfkz5moi",marginStart:"fnu23jab",top:"rk01pc8j",marginTop:"gy6hb44f"},fileRoot:{alignItems:"bp9cbjyn",backgroundColor:"n1jkxfxr",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",display:"j83agx80",flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"dicw6rsg",marginStart:"hcukyx3x",overflowWrap:"jm1wdb64",paddingStart:"scb9dxdr",paddingEnd:"hv4rvrfc",position:"l9j0dhe7",width:"k5ud4834"}};function a(a){a=a.attachment;var c=b("CometComposerViewState.bs").MediaAttachment.fromJS(a),d;switch(c.TAG|0){case 0:case 1:d=[c._0,c._1];break;default:d=[c._0,c._1]}var e=d[1],f=e.uploadID;f=f==null?null:i.jsx(b("MWChatComposerRemoveMediaAttachmentItemButton.bs").make,{attachment:a});var g=i.jsxs("div",{className:(h||(h=b("stylex")))(j.fileRoot),children:[f,i.jsx(b("MWChatFileIconCommon.bs").make,{}),i.jsx("div",{className:h(b("MWChatFile.bs").styles.content),children:i.jsx(b("MDSText.react"),{type:"bodyLink3",numberOfLines:2,children:e.name})})]});if(c.TAG===4)return i.jsx("div",{});a=i.jsxs("div",{className:h(j.root),children:[f,i.jsx(b("CometImage.react"),{alt:e.name,draggable:!1,src:URL.createObjectURL(e),loading:"lazy",xstyle:[j.image]})]});switch(d[0]){case 0:return a;case 1:if(e.type==="image/gif")return a;else return i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return g},children:i.jsx("div",{className:(h||(h=b("stylex")))(j.root),children:i.jsxs(b("CometPlaceholder.react"),{children:[f,i.jsx(b("CometLocalVideoFileThumbnailSuspense.react"),{file:e,height:b("MWChatImage.bs").defaultMaxHeight,renderer:function(a){return i.jsxs("div",{children:[i.jsx(b("CometImage.react"),{alt:e.name,draggable:!1,src:a,loading:"lazy",xstyle:[j.image]}),i.jsx(b("CometImage.react"),{src:"/images/video/play_24dp.png",xstyle:[j.videoIndicator]})]})},width:200})],fallback:null})})});case 2:return g}}c=a;f.make=c}),null);
__d("MWChatComposerUploadAnotherFileButton.bs",["fbt","ix","CometComposerMediaAttachmentReducer.re","CometComposerViewStateActions.bs","CometFileSelector.re","CometPressable.react","TetraIcon.react","bs_caml_option","bs_curry","fbicon","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k={root:{alignItems:"bp9cbjyn",backgroundColor:"n1jkxfxr",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",display:"j83agx80",flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"dicw6rsg",marginStart:"hcukyx3x",overflowWrap:"jm1wdb64",position:"l9j0dhe7",width:"tmrshh9y"}};function a(a){a=a.acceptAllFiles;a=a!==void 0?a:!1;b("useComposerViewStateReducer")(b("CometComposerMediaAttachmentReducer.re").reducer);var c=b("useComposerViewStateDispatcher")(),d=j.useCallback(function(a){if(a.length>0)return b("bs_curry")._1(c,b("CometComposerViewStateActions.bs").convert({NAME:"AddMediaAttachmentItems",VAL:a}))},[c]);a=a?void 0:["image/*","image/heif","image/heic","video/*"];var e={children:function(a){return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u4e0a\u50b3\u5176\u4ed6\u76f8\u7247\uff0f\u5f71\u7247"/*FBT_CALL*/),onPress:function(c){return b("bs_curry")._1(a,void 0)},xstyle:k.root,children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("481777"),24),testid:"composer_attachment_area_photo_uploader",color:"primary"})})},multiple:!0,onFilesSelected:function(a){return b("bs_curry")._1(d,Array.from(a))}};a!==void 0&&(e.accept=b("bs_caml_option").valFromOption(a));return j.jsx(b("CometFileSelector.re").make,e)}c=a;f.make=c}),null);
__d("MWChatComposerMediaAttachmentArea.bs",["CometComposerMediaAttachmentReducer.re","CometComposerViewStateActions.bs","MWChatComposerHeadlessMediaUploader.bs","MWChatComposerMediaAttachmentItem.bs","MWChatComposerUploadAnotherFileButton.bs","bs_caml_option","bs_curry","react","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.mediaAttachments,d=a.onFileUploadStart,e=a.onFileUploadSuccess;a=a.onAttachmentsChanged;b("useComposerViewStateReducer")(b("CometComposerMediaAttachmentReducer.re").reducer);var f=b("useComposerViewStateDispatcher")();h.useEffect(function(){return function(a){return b("bs_curry")._1(f,b("CometComposerViewStateActions.bs").convert("RemoveAllMediaAttachmentItems"))}},[f]);return h.jsxs("div",{className:"k4urcfbm b3onmgus r8blr3vg ph5uu5jm cxgpxx05 d76ob5m9 jifvfom9 j83agx80 bp9cbjyn",children:[h.jsx(b("MWChatComposerHeadlessMediaUploader.bs").make,{onUploadStart:d,onUploadSuccess:e,onAttachmentsChanged:a}),c!==void 0?c.map(function(a,c){return h.jsx(b("MWChatComposerMediaAttachmentItem.bs").make,{attachment:a},"media-"+c)}):null,h.jsx(b("MWChatComposerUploadAnotherFileButton.bs").make,{acceptAllFiles:!0})]})}c=b("withComposerViewStatePart")(a,function(a){return{mediaAttachments:b("bs_caml_option").nullable_to_opt(a.mediaAttachments)}});f.make=c}),null);
__d("MWChatComposerRoundedCorners.bs",["Locale","react","stylex","useUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={roundedCornerTopRight:{fill:"qbubdy2e",position:"pmk7jnqg",top:"plgsh5y4",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerBottomRight:{fill:"qbubdy2e",position:"pmk7jnqg",bottom:"tghqpdut",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerRtl:{transform:"c3knoul3"}};function a(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerTopRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"20px",height:"20px",children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-20",y:"0",width:"40",height:"40"}),i.jsx("circle",{fill:"black",cx:"0",cy:"20",r:"20"})]})}),i.jsx("rect",{x:"0",y:"0",width:"20",height:"20",mask:"url(#"+(a+")")})]})})}d={make:a};function c(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerBottomRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"20px",height:"20px",children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-20",y:"0",width:"40",height:"40"}),i.jsx("circle",{fill:"black",cx:"0",cy:"0",r:"20"})]})}),i.jsx("rect",{x:"0",y:"0",width:"20",height:"20",mask:"url(#"+(a+")")})]})})}e={make:c};f.styles=j;f.TopRight=d;f.BottomRight=e}),null);
__d("MWChatComposerUtil.bs",["getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("getPlainTextFromDeferredDraftEditorState")(a).trim().length>0}f.hasContent=a}),null);
__d("StylexHelpers.bs",["stylex"],(function(a,b,c,d,e,f){"use strict";var g;(g||(g=b("stylex"))).inject(".spvqvc9t{clip:rect(0,0,0,0)}",1);g.inject(".ikw5e13s{clip-path:inset(50%)}",1);g.inject(".ebnioo9u{height:1px}",1);g.inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".s8sjc6am{position:absolute}",1);g.inject(".rfd0zzc9{width:1px}",1);a={visuallyHidden:{clip:"spvqvc9t",clipPath:"ikw5e13s",height:"ebnioo9u",overflowX:"lq84ybu9",overflowY:"hf30pyar",position:"s8sjc6am",width:"rfd0zzc9"}};f.styles=a}),null);
__d("MWChatComposerInner.bs",["fbt","CometComposerAttachmentAreaReducer.re","CometComposerEditor.react","CometComposerMediaAttachmentReducer.re","CometComposerViewStateActions.bs","CometErrorBoundary.re","Keys","Locale","MWChatComposerAttachmentArea.bs","MWChatComposerButtons.bs","MWChatComposerEmojiButton.bs","MWChatComposerError.bs","MWChatComposerMediaAttachmentArea.bs","MWChatComposerRoundedCorners.bs","MWChatComposerUtil.bs","MWChatMultitabContext.bs","StylexHelpers.bs","bs_belt_Array","bs_caml_option","bs_curry","cometIsMimeTypeForMedia","composerAudioClipReducer","composerEmojiReducers","cr:176","getPlainTextFromDeferredDraftEditorState","gkx","qex","react","recoverableViolation","stylex","useCometComposerHandler","useCometUniqueID","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{alignItems:"aovydwv3",display:"j83agx80",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",width:"qio8uep8",pointerEvents:"hzruof5a",position:"l9j0dhe7"},container:{borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"czkt41v7",borderBottomEndRadius:"fmqxjp7s",borderBottomStartRadius:"emzo65vh",display:"j83agx80",paddingBottom:"e5nlhep0",pointerEvents:"mrt03zmi"},composeArea:{paddingTop:"ecm0bbzt",paddingStart:"h4z51re5",borderTop:"gvyehdmr",borderEnd:"mu0vl6fp",borderBottom:"msuhji6j",borderStart:"iqy7zqfr",flexBasis:"rj1gh0hx",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",display:"j83agx80",overflowX:"ni8dbmo4",alignItems:"ll8tlv6m",backgroundColor:"b3i9ofy5",color:"oo9gr5id",transitionProperty:"flx89l3n",transitionDuration:"dpja2al7",borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"emzo65vh"},composeAreaExpanded:{transform:"qiw3t3sk"},composeAreaCollapsed:{transform:"hedjyaoh"},composeAreaCollapsedRtl:{transform:"n83uzuu6"},inputBoxContainer:{position:"pmk7jnqg",end:"tdcub1r8",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"},inputBoxContainerIE11:{bottom:"k01i5q8h"},inputContainer:{display:"j83agx80",width:"k4urcfbm"},inputContainerContracted:{width:"thccjwpm"},photoAction:{marginEnd:"cxmmr5t8"},photoIcon:{marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x"},photoPressable:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",zIndex:"tkr6xdv7"},input:{paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0",flexGrow:"buofh1pr",fontSize:"jq4qci2q",lineHeight:"a3bd9o3v",maxHeight:"iko8p5ub",overflowY:"eg9m0zos",overflowX:"ni8dbmo4",boxSizing:"rq0escxv",marginEnd:"lexh0w6q"}};function a(a){var c,d=a.actionTrayOpen,e=a.buttonColor,f=a.hasExtraTrayButtons,h=a.closeActionTray,l=a.fileUploadHandlerRef,m=a.hasContent,n=a.inputRef,o=a.editorState,p=a.hasMediaAttachments,q=a.canSendGif,r=a.sendGif,s=a.sendSticker,t=a.shouldExpandInput,u=a.onBlur,v=a.onContentsChange,w=a.onEscape,x=a.onFileUploadStart,y=a.onFileUploadSuccess,z=a.onAttachmentsChanged,A=a.logOnOpenStickerFlyout,B=a.logOnOpenEmojiFlyout,C=a.logOnSelectFileForUpload,D=a.audioRecorderShown,E=a.audioClip,F=a.ariaDescribedBy;a=a.ariaDescribedByContent;(c=b("useComposerViewStateReducer"))(b("CometComposerAttachmentAreaReducer.re").composerAttachmentAreaReducer);c(b("CometComposerMediaAttachmentReducer.re").reducer);c(b("composerAudioClipReducer"));c(b("composerEmojiReducers"));var G=b("useComposerViewStateDispatcher")();c=!f||b("gkx")("1787593");var H=j.useContext(b("MWChatMultitabContext.bs").context),I=j.useMemo(function(){return{handleKeyCommand:function(a,c,d){if(a!=="Messenger/CloseTab")return"not-handled";b("bs_curry")._1(w,void 0);return"handled"},keyBindingFn:function(a){if(a.keyCode===b("Keys").ESC&&H!==void 0)return"Messenger/CloseTab"},priority:10}},[w]);b("useCometComposerHandler")(I);I=function(a){a=b("bs_belt_Array").keepMap(a,function(a){if(b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return b("bs_caml_option").some(a)});a.length>0&&(b("bs_curry")._1(G,b("CometComposerViewStateActions.bs").convert({NAME:"ActivateAttachmentType",VAL:"MEDIA"})),b("bs_curry")._1(G,b("CometComposerViewStateActions.bs").convert({NAME:"AddMediaAttachmentItems",VAL:a})));return"handled"};var J=j.useCallback(function(a){return function(c){return b("bs_curry")._1(G,b("CometComposerViewStateActions.bs").convert({NAME:"SetAudioClip",VAL:[a,c]}))}},[G]);if(o!==void 0){var K=b("bs_caml_option").valFromOption(o);m.contents=b("MWChatComposerUtil.bs").hasContent(K);var L=K.draftEditorState;if(L!==void 0)L=b("bs_caml_option").valFromOption(L).isInCompositionMode();else{K=K.isComposing;K!==void 0?L=K:(b("recoverableViolation")("viewState.editorState in MWChatComposerInner is malformed!","messenger_comet"),L=!1)}}else b("recoverableViolation")("Did not properly supply editorState prop to MWChatComposerInner from viewState!","messenger_comet"),L=!1;K=function(a){if(o!==void 0){var c=b("getPlainTextFromDeferredDraftEditorState")(b("bs_caml_option").valFromOption(o)),d=b("getPlainTextFromDeferredDraftEditorState")(a);c!==d&&b("bs_curry")._1(v,d)}return a};var M=b("gkx")("1620337");t=t||M||L||d||p===!0||D||m.contents&&f;L=function(a){a=n.current;if(!(a==null))return a.focus()};d=b("qex")._("1586110");m=d==null?{}:{fontSize:String(d)+"px"};f=b("useCometUniqueID")();d=a!==void 0?f:F;F={hasPermanentToggleButton:!c,fileUploadHandlerRef:l,canSendGif:q,sendGif:r,sendSticker:s,shouldHideButtons:t,logOnOpenStickerFlyout:A,logOnSelectFileForUpload:C};e!==void 0&&(F.buttonColor=e);var N;c=0;b("cr:176")==null||!D?c=1:N=j.jsx(b("cr:176").make,{audioClip:E,setAudioClip:J});if(c===1){l={autoFocus:!1,handlePastedFiles:I,onChange:K,onBlur:u,placeholder:g._(/*FBT_CALL*/"Aa"/*FBT_CALL*/),ref:n,submitOnEnter:!0,testid:"chat_input",typingPerformanceID:"MWChatComposer",ariaLabel:g._(/*FBT_CALL*/"\u8a0a\u606f"/*FBT_CALL*/),placeholderAriaHidden:!0};d!==void 0&&(l.ariaDescribedBy=d);q={className:(i||(i=b("stylex")))(k.photoAction),withArrow:!M,logOnOpenEmojiFlyout:B,xstylePressable:k.photoPressable,sendGif:r,sendSticker:s};e!==void 0&&(q.fill=b("bs_caml_option").valFromOption(e));N=j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:i(k.container,k.composeArea,t?k.composeAreaExpanded:b("Locale").isRTL()?k.composeAreaCollapsedRtl:k.composeAreaCollapsed),onClick:L,children:[p===!0?j.jsx(b("MWChatComposerAttachmentArea.bs").make,{children:function(a){return j.jsx(b("MWChatComposerMediaAttachmentArea.bs").make,{onFileUploadStart:x,onFileUploadSuccess:y,onAttachmentsChanged:z})},closeActionTray:h}):null,j.jsx("div",{className:i(k.inputContainer,t?!1:k.inputContainerContracted),children:j.jsxs("div",{className:i(k.input),style:m,children:[a!==void 0?j.jsx("div",{id:f,className:(i||(i=b("stylex")))(b("StylexHelpers.bs").styles.visuallyHidden),children:a}):null,j.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return j.jsx(b("MWChatComposerError.bs").make,{})},children:j.jsx(b("CometComposerEditor.react"),l)})]})})]}),j.jsx("div",{className:i(k.container,k.inputBoxContainer,b("gkx")("1299319")?k.inputBoxContainerIE11:!1),children:j.jsx(b("MWChatComposerEmojiButton.bs").make,q)})]})}return j.jsxs(j.Fragment,{children:[j.jsx(b("MWChatComposerButtons.bs").make,F),j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[N,j.jsx(b("MWChatComposerRoundedCorners.bs").TopRight.make,{}),j.jsx(b("MWChatComposerRoundedCorners.bs").BottomRight.make,{})]})]})}c=b("withComposerViewStatePart")(a,function(a){var c=a.mediaAttachments;return{audioClip:b("bs_caml_option").nullable_to_opt(a.audioClip),hasMediaAttachments:c==null?!1:c.length!==0,editorState:a.editorState}});d=b("cr:176");f.styles=k;f.$MWChatComposerAudioRecorder$OR$null$requireCond=b("cr:176");f.mwChatComposerAudioRecorder=d;f.make=c}),null);
__d("MWChatDisabledSendButton.bs",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){}var l={disabledSend:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginTop:"knvmm38d",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"bi6gxh9e"}};function a(a){a=g._(/*FBT_CALL*/"\u5df2\u505c\u7528\u300c\u50b3\u9001\u300d\u6309\u9215"/*FBT_CALL*/);return j.jsx(b("CometPressable.react"),{"aria-label":a,onPress:k,overlayRadius:"50%",xstyle:function(a){return[l.disabledSend]},children:j.jsx("svg",{className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),width:"20px",height:"20px",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fillRule:"evenodd",stroke:"none"})})})}c=a;f.noop=k;f.styles=l;f.make=c}),null);
__d("LSHotEmojiSize.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.none=a;f.small=c;f.medium=d;f.large=e}),null);
__d("MWChatHotlikeEmitter.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";var g={contents:0};function a(a){var c=new Map();return{notify:function(a){c.forEach(function(d,c,e){return b("bs_curry")._1(d,a)})},subscribe:function(a){var b=g.contents;g.contents=g.contents+1|0;c.set(b,a);return function(a){return c["delete"](b)}}}}f.i=g;f.createEmitter=a}),null);
__d("MWChatHotLikeEmitterContext.bs",["MWChatHotlikeEmitter.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("MWChatHotlikeEmitter.bs").createEmitter(void 0),j=h.createContext(i);function a(a){a=a.children;return h.createElement(j.Provider,{value:i,children:a})}d={make:a};function c(a){return h.useContext(j)}f.emitter=i;f.context=j;f.Provider=d;f.useHook=c}),null);
__d("MWChatGrowingHotlikeButton.bs",["fbt","CometEmoji.bs","CometPressable.react","EmojiRenderer","LSHotEmojiSize.bs","MWChatChatButtonColorConstants.bs","MWChatHotLikeEmitterContext.bs","MWLikeSvgIcon.bs","MWPTooltip.react","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","bs_caml_option","bs_curry","clearTimeout","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={hotLikeCustom:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginTop:"qjjbsfad",marginStart:"hnxzwevs",marginEnd:"qq4y78aw",marginBottom:"oud54xpy"},hotLikeDefault:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginTop:"knvmm38d",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"bi6gxh9e"},hotLikeSingleLine:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}};function a(a){var c=a.color,d=a.customLikeEmoji,e=a.sendHotLike,f=b("MWChatHotLikeEmitterContext.bs").useHook(void 0);a=j.useState(function(){return 0});var h=a[1],l=a[0],m=j.useRef(void 0);a=j.useState(function(){return!0});var n=a[1];a=a[0];var o=function(a){return b("bs_curry")._1(f.notify,3)},p=function(a){a=m.current;if(a!==void 0){b("clearTimeout")(b("bs_caml_option").valFromOption(a));return}},q=function(a){p(void 0);a=b("setTimeout")(o,3e3);m.current=b("bs_caml_option").some(a)},r=function(a){if(l!==0){b("bs_curry")._1(h,function(a){return 0});p(void 0);return b("bs_curry")._1(f.notify,3)}},s=function(a){l!==0&&(a.stopPropagation(),a.preventDefault());a.button!==0&&(b("bs_curry")._1(h,function(a){return Date.now()}),b("bs_curry")._1(f.notify,0),q(void 0));return b("bs_curry")._1(n,function(a){return!1})},t=function(a){if(a<b("MessengerHotLikeUtils").SizeTimes.small)return b("LSHotEmojiSize.bs").small;else if(a<b("MessengerHotLikeUtils").SizeTimes.medium)return b("LSHotEmojiSize.bs").medium;else if(a<b("MessengerHotLikeUtils").SizeTimes.large)return b("LSHotEmojiSize.bs").large;else return b("LSHotEmojiSize.bs").small},u=function(a){a=Date.now()-l;var c=0;if(d!==void 0&&d!==""){var g=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,"large");g==null?void 0:g.url;g=t(a);b("bs_curry")._2(e,void 0,g)}else c=1;if(c===1){g=b("MessengerHotLikeUtils").getStickerIDForTime(a);b("bs_curry")._2(e,g,void 0)}l!==0&&(b("bs_curry")._1(h,function(a){return 0}),p(void 0),b("bs_curry")._1(f.notify,1));return b("bs_curry")._1(n,function(a){return!0})};if(d!==void 0&&d!==""){var v=g._(/*FBT_CALL*/"\u50b3\u9001{emoji}"/*FBT_CALL*/,[g._param("emoji",d)]),w=function(a){var c=b("EmojiRenderer").parse(d).map(function(a){return a.emoji});if(c.length!==1)return j.jsx("span",{children:d});c=c[0];return j.jsx(b("CometEmoji.bs").make,{emoji:c,size:a})},x=g._(/*FBT_CALL*/"\u50b3\u9001"/*FBT_CALL*/);x=a?j.jsxs(j.Fragment,{children:[j.jsxs("span",{children:[x," "]}),w(16)]}):null;return j.jsx(b("MWPTooltip.react"),{tooltip:x,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":v,testid:"messenger_hotlike_emoji_button",onHoverOut:r,onPressIn:s,onPress:u,overlayRadius:"50%",xstyle:function(a){return[k.hotLikeCustom]},children:w(24)})})}x=g._(/*FBT_CALL*/"\u9001 1 \u500b\u8b9a"/*FBT_CALL*/);v=a?x:null;w={className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),size:"20"};c!==void 0&&(w.color=c);return j.jsx(b("MWPTooltip.react"),{tooltip:v,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":x,testid:"messenger_hotlike_button",onHoverOut:r,onPressIn:s,onPress:u,overlayRadius:"50%",xstyle:function(a){return[k.hotLikeDefault]},children:j.jsx(b("MWLikeSvgIcon.bs").make,w)})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatHotLikeButton.bs",["fbt","CometEmoji.bs","CometPressable.react","EmojiRenderer","MWChatChatButtonColorConstants.bs","MWLikeSvgIcon.bs","MWPTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={hotLikeCustom:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginTop:"qjjbsfad",marginStart:"hnxzwevs",marginEnd:"qq4y78aw",marginBottom:"oud54xpy"},hotLikeDefault:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginTop:"knvmm38d",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"bi6gxh9e"}};function a(a){var c=a.color,d=a.customLikeEmoji;a=a.sendHotLike;if(d!==void 0&&d!==""){var e=g._(/*FBT_CALL*/"\u50b3\u9001{emoji}"/*FBT_CALL*/,[g._param("emoji",d)]),f=function(a){var c=b("EmojiRenderer").parse(d).map(function(a){return a.emoji});if(c.length!==1)return j.jsx("span",{children:d});c=c[0];return j.jsx(b("CometEmoji.bs").make,{emoji:c,size:a})},h=g._(/*FBT_CALL*/"\u50b3\u9001"/*FBT_CALL*/);h=j.jsxs(j.Fragment,{children:[j.jsxs("span",{children:[h," "]}),f(16)]});return j.jsx(b("MWPTooltip.react"),{tooltip:h,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":e,testid:"messenger_hotlike_emoji_button",onPress:a,overlayRadius:"50%",xstyle:function(a){return[k.hotLikeCustom]},children:f(24)})})}h=g._(/*FBT_CALL*/"\u9001 1 \u500b\u8b9a"/*FBT_CALL*/);e={className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),size:"20"};c!==void 0&&(e.color=c);return j.jsx(b("MWPTooltip.react"),{tooltip:h,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":h,testid:"messenger_hotlike_button",onPress:a,overlayRadius:"50%",xstyle:function(a){return[k.hotLikeDefault]},children:j.jsx(b("MWLikeSvgIcon.bs").make,e)})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatSendButton.bs",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","MWPTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={send:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginTop:"knvmm38d",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"bi6gxh9e"}};function a(a){var c=a.onPress,d=a.color;a=a.testid;var e=g._(/*FBT_CALL*/"\u6309 Enter \u5373\u53ef\u50b3\u9001"/*FBT_CALL*/);return j.jsx(b("MWPTooltip.react"),{tooltip:e,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":e,testid:a,onPress:c,overlayRadius:"50%",xstyle:function(a){return[k.send]},children:j.jsx("svg",{className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),width:"20px",height:"20px",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:d,fillRule:"evenodd",stroke:"none"})})})})}c=a;f.styles=k;f.make=c}),null);
__d("MWUIComposerPersistentMenuButton.bs",["cr:1772080"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1772080").make;f.$LSComposerPersistentMenuButton$OR$MWChatBusinessPersistentMenuButton$requireCond=b("cr:1772080");f.make=a}),null);
__d("MWChatComposerLastButton.bs",["FBLogger","MWChatAudioRecorderAPIContext.bs","MWChatComposerUtil.bs","MWChatDisabledSendButton.bs","MWChatGrowingHotlikeButton.bs","MWChatHotLikeButton.bs","MWChatSendButton.bs","MWUIComposerPersistentMenuButton.bs","Promise","bs_belt_Option","bs_caml_option","bs_curry","gkx","promiseDone","react","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color,d=a.customLikeEmoji,e=a.editorState,f=a.hasMediaAttachments,g=a.hasAudioClip,i=a.onFocusComposer,j=a.sendHotLike,k=a.sendMenuItem,l=a.sendMessage,m=a.shouldShowMenu,n=a.pageId,o=a.audioRecorderShown;a=!b("gkx")("1835751");var p=b("MWChatAudioRecorderAPIContext.bs").useHook(void 0),q=function(a){if(!o)return l(a,void 0);if(typeof p==="number")return;var c=b("bs_curry")._1(p._0.stopRecording,void 0).then(function(c){l(a,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(c,void 0,void 0)};q={onPress:q,testid:"chat_send_button"};c!==void 0&&(q.color=b("bs_caml_option").valFromOption(c));q=h.jsx(b("MWChatSendButton.bs").make,q);if(e!==void 0){f=b("bs_belt_Option").getWithDefault(f,!1);g=b("bs_belt_Option").getWithDefault(g,!1);if(!(!b("MWChatComposerUtil.bs").hasContent(b("bs_caml_option").valFromOption(e))&&!f&&!g&&!o))return q;if(a)return h.jsx(b("MWChatDisabledSendButton.bs").make,{});if(n!==void 0&&m){e={pageId:b("bs_caml_option").valFromOption(n),sendMenuItem:k};c!==void 0&&(e.color=c);return h.jsx(b("MWUIComposerPersistentMenuButton.bs").make,e)}if(b("gkx")("2012524")){f={customLikeEmoji:d,sendHotLike:function(a,c){b("bs_curry")._2(j,a,c);return b("bs_curry")._1(i,void 0)}};c!==void 0&&(f.color=b("bs_caml_option").valFromOption(c));return h.jsx(b("MWChatGrowingHotlikeButton.bs").make,f)}g={customLikeEmoji:d,sendHotLike:function(a){b("bs_curry")._2(j,void 0,void 0);return b("bs_curry")._1(i,void 0)}};c!==void 0&&(g.color=b("bs_caml_option").valFromOption(c));return h.jsx(b("MWChatHotLikeButton.bs").make,g)}b("FBLogger")("messenger-comet").mustfix("Did not properly supply editorState prop to MWChatComposerLastButton from viewState!");return q}c=b("withComposerViewStatePart")(a,function(a){var c=a.mediaAttachments;return{editorState:a.editorState,hasMediaAttachments:c==null?!1:c.length!==0,hasAudioClip:b("bs_caml_option").nullable_to_opt(a.audioClip)!==void 0}});d=b("bs_belt_Option").getWithDefault;f.$pipe$question=d;f.make=c}),null);
__d("LsReplyCanceledFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743875");c=b("FalcoLoggerInternal").create("ls_reply_canceled",a);e.exports=c}),null);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743878");c=b("FalcoLoggerInternal").create("ls_reply_rendered",a);e.exports=c}),null);
__d("MWChatTextFormatting",["$InternalEnum","MessengerFormattingConfig","TetraText.react","UnicodeUtils","cr:1695543","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]);function j(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case i.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case i.CodeBlock:d=function(a){var b;return(b=a[4])!=null?b:a[5]};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var k=[i.CodeBlock,i.InlineCode,i.BlockQuote,i.InlineQuote,i.Bold,i.Italics,i.StrikeThrough];function a(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"ii04i59q b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 b3i9ofy5",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"ii04i59q b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 b3i9ofy5",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=[];k.forEach(function(c){var e=j(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,i=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=d("UnicodeUtils").substr(a,0,k.index);e=e.length-d("UnicodeUtils").strlen(e);var h=k.index-e,j=k[0].length;g&&(h+=k[i].length,j-=k[i].length);e=function(a){var b=h+j,c=a.offset+a.length;return b>a.offset&&h<c};var l=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+l;e.length+=j+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:l},length:j,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=l}),98);
__d("MWChatComposerReplyView.bs",["fbt","ix","LsFalcoEventEntryPoint.bs","LsReplyCanceledFalcoEvent","LsReplyRenderedFalcoEvent","MDSText.react","MDSTextPairing.react","MWChatReplyText.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs","MessagingAttachmentType.bs","TetraIcon.react","bs_caml","bs_curry","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={container:{borderTop:"l6v480f0",backgroundColor:"nred35xi",paddingEnd:"oj5qckz4",paddingStart:"lb8aey2d",paddingTop:"jktsbyx5",paddingBottom:"pby63qed",display:"j83agx80",justifyContent:"i1fnvgqd",alignItems:"ll8tlv6m"},message:{marginEnd:"o3lre8g0"}};function a(a){var c=a.repliedToMessage,d=a.onClosePreview;a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("bs_curry")._1(b("MWUILoadParticipants.bs").useParticipants,a);k.useEffect(function(){b("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);var e;if(c.fromViewer)e=g._(/*FBT_CALL*/"\u4f60\u81ea\u5df1"/*FBT_CALL*/);else{a=a.get(c.authorID);e=a==null?g._(/*FBT_CALL*/"\u767c\u9001\u8a0a\u606f"/*FBT_CALL*/):a.name}a=c.content;var f;switch(a.TAG|0){case 0:c=a._2;if(c.TAG===0){a=c._0;f=k.jsx(b("MWChatReplyText.bs").make,{text:a.text,ranges:a.ranges})}else{a=c._0;switch(a.TAG|0){case 0:f=g._(/*FBT_CALL*/"\u8cbc\u5716"/*FBT_CALL*/);break;case 1:case 2:f=g._(/*FBT_CALL*/"\u5716\u50cf"/*FBT_CALL*/);break;case 3:c=a._0;f=b("bs_caml").i64_eq(c.f,b("MessagingAttachmentType.bs").ephemeralImage)?g._(/*FBT_CALL*/"\u5716\u50cf"/*FBT_CALL*/):b("bs_caml").i64_eq(c.f,b("MessagingAttachmentType.bs").ephemeralVideo)?g._(/*FBT_CALL*/"\u5f71\u7247"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u9644\u4ef6"/*FBT_CALL*/);break;case 7:f=g._(/*FBT_CALL*/"\u5f71\u7247"/*FBT_CALL*/);break;case 10:f=null;break;default:f=g._(/*FBT_CALL*/"\u9644\u4ef6"/*FBT_CALL*/)}}break;case 1:case 2:f=null;break}return k.jsxs("div",{className:(j||(j=b("stylex")))(l.container),children:[k.jsx(b("MDSTextPairing.react"),{body:k.jsx(k.Fragment,{children:k.jsxs(b("MDSText.react"),{type:"body4",children:[g._(/*FBT_CALL*/"\u56de\u8986"/*FBT_CALL*/)," ",k.jsx(b("MDSText.react"),{type:"bodyLink4",children:e})]})}),meta:f,level:3}),k.jsx(b("TetraIcon.react"),{"aria-label":g._(/*FBT_CALL*/"\u79fb\u9664"/*FBT_CALL*/),icon:b("fbicon")._(h("478231"),12),onPress:function(a){b("LsReplyCanceledFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}});return b("bs_curry")._1(d,!0)},color:"primary"})]})}c=a;f.replyToStyles=l;f.make=c}),null);
__d("CometComposerEditorStateReducer.re",["composerEditorStateViewStateReducer"],(function(a,b,c,d,e,f){a=b("composerEditorStateViewStateReducer");f.reducerTypeChecked=a;c=a;f.reducer=c}),null);
__d("Draft.bs",["EditorState"],(function(a,b,c,d,e,f){"use strict";c={};d={};e={};var g={},h={},i={},j={},k={};function a(a){a=b("EditorState").createEmpty(void 0);var c=a.getCurrentContent();return b("EditorState").forceSelection(a,c.getSelectionAfter())}a={clearEditorContent:a};var l={};f.CharacterMetadata=c;f.ContentBlock=d;f.EntityInstance=e;f.SelectionState=g;f.ContentState=h;f.Decorator=i;f.CompositeDecorator=j;f.Modifier=k;f.EditorState=a;f.Editor=l}),null);
__d("MWChatResetComposer.bs",["CometComposerEditorStateReducer.re","CometComposerViewStateActions.bs","Draft.bs","bs_curry","react","useComposerViewStateReducer","useControlledComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){b("useComposerViewStateReducer")(b("CometComposerEditorStateReducer.re").reducer);var d=b("useControlledComposerViewStateDispatcher")();h.useImperativeHandle(c,function(){return{reset:function(a){return[{NAME:"UpdateDraftEditorState",VAL:b("Draft.bs").EditorState.clearEditorContent(void 0)},"RemoveAllMediaAttachmentItems",{NAME:"RemoveAttachmentType",VAL:"MEDIA"},"RemoveAudioClip"].map(function(a){return b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert(a))})}}},[d]);return null}c=h.forwardRef(a);f.make=c}),null);
__d("MWChatUseLatch.bs",["cr:361"],(function(a,b,c,d,e,f){"use strict";a=b("cr:361").useLatch;f.$MWLSUseLatch$OR$WorkplaceMSUseLatch$requireCond=b("cr:361");f.useLatch=a}),null);
__d("MWChatComposerBase.bs",["CometComposer.react","CometOnOutsideClick.react","CometPlaceholder.react","MWChatComposerActionTrayItems.bs","MWChatComposerInner.bs","MWChatComposerLastButton.bs","MWChatComposerReplyView.bs","MWChatComposerUtil.bs","MWChatFocusComposerContext.bs","MWChatResetComposer.bs","MWChatUseLatch.bs","MWPTooltipGroup.react","bs_belt_Option","bs_caml_option","bs_curry","clearTimeout","cr:1628845","cr:1629297","cr:1662514","cr:1991282","cr:958","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",position:"l9j0dhe7",alignItems:"aovydwv3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",backgroundColor:"nred35xi",paddingEnd:"n8tt0mok",paddingStart:"hyh9befq"},aboveActionTray:{transitionProperty:"flx89l3n",transitionDuration:"l9l1gxur"},aboveActionTrayClosed:{transform:"agkhgkm8"},aboveActionTrayOpen:{transform:"brhp5kr4"}};function k(a){}function a(a){var c=a.isPreviewThread,d=a.repliedToMessage,e=a.isTabFocused,f=a.initialComposerViewState,g=a.canSendGif,l=a.canSendFile,m=a.canSendRoom,n=a.canSendAudioClip,o=a.canSendQuickCamAttachment,p=a.canSendPayment,q=a.isGroupThread,r=a.otherUserFbid,s=a.sendMessage,t=a.sendGif,u=a.sendSticker,aa=a.sendHotLike,ba=a.sendMenuItem,ca=a.sendQuickCamAttachment,da=a.shouldMinimizeActionsWhenTyping,v=a.logOnOpenStickerFlyout,ea=a.logOnOpenEmojiFlyout,w=a.logOnSelectFileForUpload,fa=a.mentionsPlugin,x=a.actionTrayOpen,y=a.openActionTray,z=a.closeActionTray,ga=a.color,ha=a.customLikeEmoji,ia=a.shouldShowMenu,ja=a.pageId,A=a.onFileUploadStart,ka=a.onFileUploadSuccess,la=a.onAttachmentsChanged,ma=a.fileUploadHandlerRef,B=a.messageRequestInfoText,C=a.onContentsChange,na=a.hasContent,oa=a.onCloseTab,D=a.onTypingStateChanged,E=a.isLocalThread,F=a.threadKey,pa=a.onCloseReplyPreview,qa=a.resetComposerRef,G=a.isSubmitting,ra=a.saveState,H=a.createPoll,sa=a.showAudioRecorder,ta=a.hideAudioRecorder,I=a.audioRecorderShown,J=a.ariaDescribedBy,K=a.ariaDescribedByContent,ua=A!==void 0?A:function(a){},L=i.useRef(null),M=i.useRef(null),N=b("gkx")("1787593"),va=!b("gkx")("1840608");a=i.useState(function(){return!1});var O=a[1],P=a[0];A=i.useContext(b("MWChatFocusComposerContext.bs").context);var Q=A.setFocusComposer,R=function(a){a=M.current;if(!(a==null))return a.focus()};i.useEffect(function(){b("bs_curry")._1(Q,R)},[Q]);var S=i.useRef(f),T=function(a){a=L.current;S.current=a==null?void 0:b("bs_caml_option").some(a.getViewState())};i.useEffect(function(){return function(a){a=S.current;if(a!==void 0&&F!==void 0)return b("bs_curry")._2(ra,F,b("bs_caml_option").valFromOption(a))}},[]);var U=d!==void 0;i.useEffect(function(){var a=M.current;!(a==null)&&U&&a.focus()},[U]);i.useEffect(function(){var a=M.current;!(a==null)&&e&&!c&&a.focus()},[c]);a=b("bs_curry")._3(b("MWChatUseLatch.bs").useLatch,b("bs_belt_Option").getWithDefault(D,k),!0,5e3);var V=a[1],W=a[0],X=i.useRef(null),Y=i.useCallback(function(a){a=X.current;if(!(a==null)){b("clearTimeout")(a);return}},[X]);i.useEffect(function(){return Y},[Y]);A=b("MWChatComposerActionTrayItems.bs").useActionTrayItems(q,x,r,g,n,p,l,m,o,ca,sa,z,t,u,F,H,v,w);var Z=A[1],wa=A[0],xa=i.useCallback(function(a){!Z&&da&&b("bs_curry")._1(O,function(b){return a!==""});b("bs_curry")._1(Y,void 0);b("bs_curry")._1(C,a);if(a==="")return b("bs_curry")._1(V,void 0);else return b("bs_curry")._1(W,void 0)},[O,C,W,V]),ya=function(a){a=M.current;a==null||a.focus();return b("bs_curry")._1(ua,void 0)};D=function(a){if(!G.current){b("bs_curry")._1(s,a);return b("bs_curry")._1(V,void 0)}};var za=d!==void 0?i.jsx(b("CometPlaceholder.react"),{children:i.jsx("div",{className:(h||(h=b("stylex")))(j.aboveActionTray,x&&!b("gkx")("1620337")?j.aboveActionTrayOpen:j.aboveActionTrayClosed),children:i.jsx(b("MWChatComposerReplyView.bs").make,{repliedToMessage:d,onClosePreview:pa})}),fallback:null}):null,Aa=!(b("cr:1991282")==null)&&r!==void 0?i.jsx(b("cr:1991282").make,{recipientID:b("bs_caml_option").valFromOption(r)}):null,$=e?ga:void 0;a={ref:L,children:function(a){return i.jsx(b("CometOnOutsideClick.react"),{children:function(c){var d;if(b("cr:1629297")==null)d=null;else{var e={actionTrayOpen:x,canSendGif:g,sendGif:t,sendSticker:u,createPoll:H,logOnSelectFileForUpload:w,isLocalThread:E,threadKey:F,onPress:function(a){if(x){b("bs_curry")._1(z,void 0);return b("bs_curry")._1(O,function(a){return!1})}else return b("bs_curry")._1(y,void 0)}};$!==void 0&&(e.buttonColor=b("bs_caml_option").valFromOption($));d=i.jsx(b("cr:1629297").make,e)}if(b("cr:1662514")==null||N||!Z)e=null;else{var f={actionTrayOpen:x,hasExtraTrayButtons:Z,setShouldExpandInput:O,shouldExpandInput:P,hideAudioRecorder:ta,closeActionTray:z,openActionTray:y,audioRecorderShown:I,isLocalThread:E,threadKey:F};$!==void 0&&(f.buttonColor=b("bs_caml_option").valFromOption($));e=i.jsx(b("cr:1662514").make,f)}f={actionTrayOpen:x,hasExtraTrayButtons:Z,closeActionTray:z,fileUploadHandlerRef:ma,hasContent:na,inputRef:M,canSendGif:g,sendGif:t,sendSticker:u,shouldExpandInput:P,onBlur:function(a){T(void 0);return b("bs_curry")._1(V,void 0)},onContentsChange:xa,onEscape:function(a){T(void 0);return b("bs_curry")._1(oa,void 0)},onFileUploadStart:ya,onFileUploadSuccess:ka,onAttachmentsChanged:la,logOnOpenStickerFlyout:v,logOnOpenEmojiFlyout:ea,logOnSelectFileForUpload:w,audioRecorderShown:I};$!==void 0&&(f.buttonColor=b("bs_caml_option").valFromOption($));J!==void 0&&(f.ariaDescribedBy=b("bs_caml_option").valFromOption(J));K!==void 0&&(f.ariaDescribedByContent=K);var k={customLikeEmoji:ha,onFocusComposer:R,sendHotLike:b("bs_curry").__1(aa),sendMenuItem:ba,sendMessage:a,shouldShowMenu:ia,pageId:ja,audioRecorderShown:I};$!==void 0&&(k.color=b("bs_caml_option").valFromOption($));return i.jsxs("div",{ref:c,children:[i.jsx(b("MWChatResetComposer.bs").make,{ref:qa}),b("cr:958")==null?null:i.jsx(b("cr:958").make,{}),B!==void 0?i.jsx(b("CometPlaceholder.react"),{children:i.jsx("div",{className:(h||(h=b("stylex")))(j.aboveActionTray,x?j.aboveActionTrayOpen:j.aboveActionTrayClosed),children:b("bs_caml_option").valFromOption(B)}),fallback:null}):null,Aa,za,va?null:fa,!(b("cr:1628845")==null)&&!(N||!Z)?i.jsx(b("cr:1628845").make,{isOpen:x,trayButtons:wa}):null,i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsxs(b("MWPTooltipGroup.react"),{children:[d,e,i.jsx(b("MWChatComposerInner.bs").make,f)]}),i.jsx(b("MWChatComposerLastButton.bs").make,k)]})]})},onOutsideClick:function(a){return b("bs_curry")._1(O,function(a){return!1})}})},onBeforeViewStateChange:function(a){if(G.current&&!b("MWChatComposerUtil.bs").hasContent(a.editorState)){G.current=!1;return}},onSubmitCommit:D,registerOnBeforeUnload:!1,testid:"mw-chat-composer-base"};f!==void 0&&(a.beginningViewState=b("bs_caml_option").valFromOption(f));return i.jsx(b("CometComposer.react"),a)}c=b("cr:958");d=a;f.$MWChatComposerVoiceIndicator$requireCond=b("cr:958");f.mwChatComposerVoiceIndicator=c;f.styles=j;f.noOp=k;f.$MWChatComposerPTOStatus$OR$null$requireCond=b("cr:1991282");f.$MWWorkChatComposerToggleActionMenuButton$OR$null$requireCond=b("cr:1629297");f.$null$OR$MWChatComposerActionTray$requireCond=b("cr:1628845");f.$null$OR$MWChatComposerActionsToggle$requireCond=b("cr:1662514");f.make=d}),null);
__d("MWChatComposerMentionsTypeaheadListItem.react",["CometImageIcon_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=b.getLabel(),e=b.getSublabel(),f=b.getPhotoURI();return h.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:b,children:h.jsxs("div",{className:"b38knevg j83agx80 bp9cbjyn","data-testid":void 0,children:[f!=null&&h.jsx("div",{className:"ciadx1gn mudddibn",children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:28,src:f,style:"circle"})}),h.jsx("div",{className:"ozuftl9m",children:h.jsx(c("TetraTextPairing.react"),{body:d,bodyLineLimit:1,level:3,meta:e,metaLineLimit:1})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWUICurrentThreadParticipants.bs",["cr:602"],(function(a,b,c,d,e,f){"use strict";a=b("cr:602").useMercuryParticipants;c=b("cr:602").useParticipants;f.useMercuryParticipants=a;f.useParticipants=c}),null);
__d("MWUICurrentThreadParticipants.re",["MWUICurrentThreadParticipants.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(){var a=b("MWUICurrentThreadParticipants.bs").useMercuryParticipants();return[a[0],a[1],function(c,d){c=b("bs_curry")._2(a[2],c,d==null?void 0:d);return c}]};f.useMercuryParticipants=a;c=b("MWUICurrentThreadParticipants.bs").useParticipants;f.useParticipants=c}),null);
__d("MWChatComposerMentionsTypeaheadEntry",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.getHandle=function(){return a.handle}}var b=a.prototype;b.getRawData=function(){return this.$1};b.getKey=function(){return this.$1.key};b.getLabel=function(){return this.$1.title};b.getSublabel=function(){return this.$1.subtitle};b.getPhotoURI=function(){return this.$1.photoURI};b.getMentionDecorType=function(){return"regular"};return a}();f["default"]=a}),66);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);
__d("MWChatComposerMentionsTypeaheadDataSource",["fbt","CurrentUser","MWChatComposerMentionsTypeaheadEntry","Promise","gkx","remove-accents"],(function(a,b,c,d,e,f,g,h){"use strict";var i=6;a=function(){function a(a,b){this.$1=[],this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()}),this.$2=b}var d=a.prototype;d.bootstrap=function(){return};d.fetchCache=function(a){var b=this,d=a.query,e=[];this.$1.forEach(function(a){var f=a.actualName,g=a.contactId,h=a.nickname,i=a.profilePictureUrl;a=a.secondaryName;var j=null;a!=null&&b.$3(a,d)?j="secondaryName":b.$3(f,d)?j="name":h!=null&&b.$3(h,d)&&(j="nickname");if(j!=null&&i!=null){var k;e.push(new(c("MWChatComposerMentionsTypeaheadEntry"))({handle:(k=a)!=null?k:j==="nickname"?(k=h)!=null?k:f:f,key:g+" "+j,photoURI:i,source:j,subtitle:(k=a)!=null?k:h,title:f}))}});if(c("gkx")("1608686")){var f=h._(/*FBT_CALL*/"\u6240\u6709\u4eba"/*FBT_CALL*/).toString();if(this.$3(f,d)){var g=h._(/*FBT_CALL*/"\u63d0\u53ca\u6b64\u804a\u5929\u5ba4\u4e2d\u7684\u6240\u6709\u4eba"/*FBT_CALL*/).toString();e.push(new(c("MWChatComposerMentionsTypeaheadEntry"))({handle:f,key:""+this.$2,photoURI:null,source:"all",subtitle:g,title:f}))}g=h._(/*FBT_CALL*/"\u76ee\u524d\u5728\u5834"/*FBT_CALL*/).toString();if(this.$3(g,d)){f=h._(/*FBT_CALL*/"\u63d0\u53ca\u6b64\u804a\u5929\u5ba4\u4e2d\u6240\u6709\u5728\u7dda\u4e0a\u7684\u7528\u6236"/*FBT_CALL*/).toString();e.push(new(c("MWChatComposerMentionsTypeaheadEntry"))({handle:g,key:this.$2+"-active",photoURI:null,source:"all",subtitle:f,title:g}))}}e.length>i&&(e=e.slice(0,i));return{entries:e,params:a}};d.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};d.$3=function(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.participants,d=a.threadFBID;a=h(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(b,d),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[b,d]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("MWChatComposerMentionsPlugin.react",["CometComposerMentionsPlugin.react","MWChatComposerMentionsTypeaheadListItem.react","MWThread_DEPRECATED.re","MWUICurrentThreadParticipants.re","createCometComposerMentionsEntity","getCometComposerMentionsSearch","react","useCometMentionsLoggingProvider","useMWChatMentionsDataSourceResolverConfig","useMentionsHandlerForSelectedEntry","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){a=a.currentBlockKey;var b=c("MWThread_DEPRECATED.re").useFBID(),e=d("MWUICurrentThreadParticipants.re").useParticipants();e=c("useMWChatMentionsDataSourceResolverConfig")({participants:e,threadFBID:b});b=i(function(a){return"@"+(a.getHandle?a.getHandle():a.getLabel())},[]);var f=i(function(a,b){return c("createCometComposerMentionsEntity")(b.getKey(),!1,a)},[]);b=c("useMentionsHandlerForSelectedEntry")({getReplacementString:b,getSearchText:c("getCometComposerMentionsSearch"),onMentionsCreateContentState:f});f=c("useCometMentionsLoggingProvider")();return h.jsx(c("CometComposerMentionsPlugin.react"),{currentBlockKey:a,dataSourceResolverConfig:e,getSearchText:c("getCometComposerMentionsSearch"),loggingProvider:f,mentionsHandlerForSelectedEntry:b,priority:1,viewItemStrategyRenderer:c("MWChatComposerMentionsTypeaheadListItem.react")})}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){a=a==null?void 0:a.editorState;a=a!=null&&a.__type==="editor-state-based"?a.draftEditorState:null;return{currentBlockKey:a!=null?a.getSelection().getStartKey():null}});g["default"]=b}),98);
__d("MWChatComposerMentionsPlugin.re",["MWChatComposerMentionsPlugin.react"],(function(a,b,c,d,e,f){a=b("MWChatComposerMentionsPlugin.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWChatFileUploadErrorDialog.bs",["fbt","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={body:b("gkx")("1147754")?g._(/*FBT_CALL*/"\u4f60\u9078\u64c7\u7684\u6a94\u6848\u592a\u5927\u3002\u6a94\u6848\u5927\u5c0f\u4e0a\u9650\u662f 75MB\u3002"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u4f60\u9078\u64c7\u7684\u6a94\u6848\u592a\u5927\u3002\u6700\u5927\u4e0a\u9650\u662f 25 MB\u3002"/*FBT_CALL*/),title:g._(/*FBT_CALL*/"\u7121\u6cd5\u4e0a\u50b3\u6a94\u6848"/*FBT_CALL*/)};f.maxFileSizeExceeded=a}),null);
__d("MWChatComposerUploadFileHook.bs",["ActorURI","CometComposerViewState.bs","CometComposerViewStateActions.bs","CurrentUser","MWChatFileUploadErrorDialog.bs","MercuryConfig","MercuryConstants","URI","XComposerPhotoUploader","bs_belt_Array","bs_caml_array","bs_caml_option","bs_curry","react","recoverableViolation","useCometAlertDialog"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f){return new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,c){a=c.response.getError();var d=c.response.getErrorSummary();c=c.response.getErrorDescriptionString();if(a!==0&&!(d==null)&&!(c==null)){b("bs_curry")._2(f,d,c);return!1}else return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){b("bs_curry")._1(c,b("CometComposerViewStateActions.bs").convert({NAME:"MediaUploadStarted",VAL:a}));return b("bs_curry")._1(d,a)},onUploadSuccess:function(a,d){var f=d.upload.getFile();d=b("bs_caml_array").get(d.response.payload.metadata,0);var g=d.fbid,h=d.video_id,i=d.audio_id,j=d.gif_id;d=d.file_id;g=g!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(g)):h!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(h)):i!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(i)):j!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(j)):d!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(d)):void 0;if(g!==void 0){h=b("bs_caml_option").valFromOption(g);b("bs_curry")._1(c,b("CometComposerViewStateActions.bs").convert({NAME:"MediaUploadSuccessful",VAL:[h,a]}));return b("bs_curry")._3(e,f,a,h)}b("recoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(h||(h=b("URI")))(b("MercuryConfig").upload_url),a)})}function k(a,c,d,e){var f=b("bs_belt_Array").keepMap(c.map(b("CometComposerViewState.bs").MediaAttachment.fromJS),function(a){if(a.TAG===0)return b("bs_caml_option").some(a._1)});if(f.length<=0)return;var g=f.some(function(a){return a.size>b("MercuryConstants").AttachmentMaxSize});if(g){c.forEach(function(a){return b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert({NAME:"RemoveMediaAttachmentItem",VAL:a}))});return b("bs_curry")._2(e,b("MWChatFileUploadErrorDialog.bs").maxFileSizeExceeded,function(a){})}else{b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert({NAME:"QueueUploads",VAL:b("bs_belt_Array").keepMap(f,function(a){return b("bs_caml_option").nullable_to_opt(a.uploadID)})}));a.getAsyncUploadRequest(f,void 0).send();return}}function a(a){a=b("useCometAlertDialog")();var c=a[0],d=function(a,d){return b("bs_curry")._2(c,{body:d,title:a},function(a){})},e=b("CurrentUser").getID();return i.useCallback(function(a){return function(f,g,h){if(a!==void 0&&a.some(function(a){return b("CometComposerViewState.bs").MediaAttachment.stateJS(a)==="NEW"}))return k(j(e,f,g,h,d),a,f,c)}},[e])}f.createUploader=j;f.uploadAttachments=k;f.useHook=a}),null);
__d("MWChatProfileRange.bs",["FBID.bs","MessageProfileRangeType","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=[],e={contents:0};c.getBlockMap().forEach(function(f,g,h){g=f.getText();f.findEntityRanges(function(a){return!0},function(g,h){var i=f.getEntityAt(g);if(i==null)return;i=c.getEntity(i);if(i.getType()!=="MENTION")return;var j=g+e.contents|0;i=i.getData().id.split(" ")[0];if(i===a&&b("gkx")("1608686")){d.push({id:a,offset:j,length:h-g|0,type:b("MessageProfileRangeType").THREAD});return}else if(i===a+"-active"&&b("gkx")("1608686")){d.push({id:a,offset:j,length:h-g|0,type:b("MessageProfileRangeType").THREAD_ACTIVE});return}else if(/^\d+$/.test(i)){d.push({id:b("FBID.bs").ofStringExn(i),offset:j,length:h-g|0,type:b("MessageProfileRangeType").PROFILE});return}else return});e.contents=(e.contents+g.length|0)+1|0});return d}f.getFromContentState=a}),null);
__d("MWLSMediaSendManager.bs",["LS.bs","LSDict","LSInsertNewMediaSend","LSJson","LSMarkSubJobCompletedV2","LSResumeMediaSendJob","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return{runningJobs:new Map(),secureFiles:new Map(),uploadedButNotAttached:new Map()}}function c(a,c){return b("bs_caml_option").nullable_to_opt(a.runningJobs.get(c))}function d(a,b,c){a.runningJobs.set(b,c)}function i(a,b){a.uploadedButNotAttached["delete"](b)}function e(a,b,c){a.uploadedButNotAttached.set(b,c)}function j(a,c){return b("bs_caml_option").nullable_to_opt(a.uploadedButNotAttached.get(c))}function k(a,c){return b("bs_caml_option").nullable_to_opt(a.secureFiles.get(c))}function l(a,b,c){a.secureFiles.set(b,c)}var m=h.createContext(void 0);function n(a){return b("bs_belt_Option").getExn(h.useContext(m))}function o(a){return h.useMemo(function(){return function(a,c,d,e,f,g,h){return b("LSInsertNewMediaSend")(d,c,b("bs_caml_int64").of_int32(e),f,!1,!1,!1,!1,b("bs_curry")._1(b("LS.bs").make,a)).then(function(a){return[g,[c,d]]})}})}var p=function(a){return a.toString()};function q(a){var c=b("bs_belt_Option").getExn(h.useContext(m));return h.useCallback(function(a){return function(d,e){var f=d[1],g=f[0],h=d[0];d=b("LSJson").stringify(new(b("LSDict"))([["mac","TODO"]]));var j=b("bs_curry")._1(b("LS.bs").make,a);return b("LSMarkSubJobCompletedV2")(f[1],b("bs_caml_format").caml_int64_of_string(p(e)),void 0,d,void 0,j).then(function(a){i(c,h);return b("LSResumeMediaSendJob")(g,b("bs_caml_int64").zero,j)}).then(function(a){return window.Promise.resolve(void 0)})}},[c])}f.getUploadJob=c;f.saveUploadJob=d;f.deleteFile=i;f.saveFile=e;f.getFile=j;f.getSecureFile=k;f.saveSecureFile=l;f.useManager=n;f.make=a;f.context=m;f.useStartMediaSend=o;f.useResumeMediaSend=q}),null);
__d("MWLSMediaSendManagerProvider.bs",["MWLSMediaSendManager.bs","bs_caml_option","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.children;var c=h.useMemo(function(){return b("MWLSMediaSendManager.bs").make(void 0)},[]),d=h.useContext(b("MWLSMediaSendManager.bs").context);if(d!==void 0)return b("unrecoverableViolation")("You can't nest MWLSMediaSendManager in another MWLSMediaSendManager. This will cause SEVs as things might upload images to the wrong thread","messenger_privacy_web");else return h.createElement(b("MWLSMediaSendManager.bs").context.Provider,{value:b("bs_caml_option").some(c),children:a})}function c(a,b){return{children:a}}d=a;f.makeProps=c;f.make=d}),null);
__d("MWUISendAudioMessage.bs",["cr:577"],(function(a,b,c,d,e,f){"use strict";a=b("cr:577").useMessage;f.$MWLSSendAudioMessage$OR$WorkplaceMSSendAudioMessage$requireCond=b("cr:577");f.useMessage=a}),null);
__d("MWUISendFileMessage.bs",["cr:579"],(function(a,b,c,d,e,f){"use strict";a=b("cr:579").useSendFileMessage;f.$MWLSSendFileMessage$OR$WorkplaceMSSendAttachments$requireCond=b("cr:579");f.useSendFileMessage=a}),null);
__d("MWUISendGifMessage.bs",["cr:580"],(function(a,b,c,d,e,f){"use strict";a=b("cr:580").useSendGifMessage;f.$MWLSSendGifMessage$OR$WorkplaceMSSendGIFMessage$requireCond=b("cr:580");f.useSendGifMessage=a}),null);
__d("MWUISendMenuItem.bs",["cr:581"],(function(a,b,c,d,e,f){"use strict";a=b("cr:581").useSendMenuItem;f.$MWLSSendMenuItem$OR$WorkplaceMSSendMenuItem$requireCond=b("cr:581");f.useSendMenuItem=a}),null);
__d("MWUISendTextMessage.bs",["cr:584"],(function(a,b,c,d,e,f){"use strict";a=b("cr:584").useSendTextMessage;f.$MWLSSendTextMessage$OR$WorkplaceMSSendTextMessage$requireCond=b("cr:584");f.useSendTextMessage=a}),null);
__d("LSRestrictionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.none=a;f.dataPrivacy=c;f.encryptedThread=d}),null);
__d("MWV2UseAreThreadContactsDualSendEligible.bs",["LSInt64.bs","LSRestrictionType.bs","LSWhatsAppConnectStatus.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){if(a!==void 0&&b("bs_caml").i64_eq(a.P,b("LSWhatsAppConnectStatus.bs").whatsappDualSendWebEligible))return b("bs_caml").i64_neq(a.O,b("LSRestrictionType.bs").dataPrivacy);else return!1}function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){if(a!==void 0){var e;return(e=b("ReQL.bs")).filter(e.map(e.leftJoin(e.getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a,tl:0}),b("ReQLTable").table(c,"contacts").asc),function(a){return a[1]}),function(a){if(a!==void 0)return b("bs_caml").i64_neq(a.a,d);else return!1})}else return b("SortedAsyncIterable.bs").empty(void 0)},[c,b("bs_belt_Option").map(a,b("LSInt64.bs").string)]));return h.useMemo(function(){if(e.length>0)return e.filter(i).length===e.length;else return!1},[e,b("bs_belt_Option").map(a,b("LSInt64.bs").string)])}f.useHook=a}),null);
__d("Navigator.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=navigator.permissions;if(c==null)return;var d=c.query;if(!(d==null))return b("bs_caml_option").nullable_to_opt(d.call(c,a))}f.query=a}),null);
__d("MWChatComposer.bs",["CometComposerViewState.bs","FBID.bs","JSResourceForInteraction","LSMessagingInitiatingSourceHook.bs","LsFalcoEventEntryPoint.bs","MAWGating.bs","MWChatAudioLog.bs","MWChatAudioRecorderAPIContext.bs","MWChatComposerBase.bs","MWChatComposerMentionsPlugin.re","MWChatComposerUploadFileHook.bs","MWChatComposerUtil.bs","MWChatComposerViewStateStore.bs","MWChatProfileRange.bs","MWChatUploadAudioHook.bs","MWLSCreateThread.bs","MWLSMediaSendManagerProvider.bs","MWLSSendStickerMessage.bs","MWLSThreadCapabilities.bs","MWLSThreadDisplayContext.bs","MWPollsHooks.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","MWUISendAudioMessage.bs","MWUISendFileMessage.bs","MWUISendGifMessage.bs","MWUISendMenuItem.bs","MWUISendTextMessage.bs","MWV2UseAreThreadContactsDualSendEligible.bs","MessageSendClickFalcoEvent","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","Navigator.bs","ODS","Promise","ReStore.bs","StickerConstants","bs_belt_Array","bs_caml_format","bs_caml_option","bs_curry","bs_int64","cr:1160","getPlainTextFromDeferredDraftEditorState","gkx","promiseDone","react","requireDeferred","uniqueID","unrecoverableViolation","useCometLazyDialog","useIsMountedRef"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:1160")==null?void 0:b("bs_caml_option").some(b("cr:1160")),j=b("requireDeferred")("MWChatAudioRecorderStreamSetup.bs").__setRef("MWChatComposer.bs");function k(a){var c=a.color,d=a.otherUserFbid,e=a.customLikeEmoji,f=a.isTabFocused,g=a.isPreviewThread,k=a.onFileUploadStart,l=a.shouldShowMenu,m=a.shouldMinimizeActionsWhenTyping,n=a.hasContent,o=a.repliedToMessage,p=a.actionTrayOpen,q=a.closeActionTray,r=a.openActionTray,s=a.initialComposerViewState,t=a.fileUploadHandlerRef,u=a.hardResetComposer,v=a.onContentsChange,w=a.messageRequestInfoText,x=a.onTypingStateChanged,y=a.closeReplyPreview,z=a.openTabFromPreview,A=a.closeTab,B=a.onSendMessage,C=a.isOptimisticThread,D=a.ariaDescribedBy;a=a.ariaDescribedByContent;C=C!==void 0?C:!1;var E=b("ReStore.bs").useHook(void 0),F=h.useRef(null),G=h.useRef(!1),H=b("MWLSThreadDisplayContext.bs").useHook(void 0);H=H!==void 0?H===1?"inboxInThread":H===0?"chatInThread":"unknown":"unknown";var I=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),J=b("bs_curry")._4(b("MWUISendTextMessage.bs").useSendTextMessage,C,H,I,void 0),K=b("bs_curry")._3(b("MWUISendGifMessage.bs").useSendGifMessage,H,b("bs_caml_option").some(I),void 0),L=b("MWLSSendStickerMessage.bs").useSendStickerMessage(H,b("bs_caml_option").some(I),void 0),aa=b("bs_curry")._3(b("MWUISendMenuItem.bs").useSendMenuItem,H,b("bs_caml_option").some(I),void 0);C=b("bs_curry")._4(b("MWUISendFileMessage.bs").useSendFileMessage,o,B,H,I);var ba=C[1],ca=C[0],da=b("MWChatUploadAudioHook.bs").useHook(void 0);C=b("bs_curry")._2(b("MWUISendAudioMessage.bs").useMessage,H,I);var ea=C[1],fa=C[0];H=h.useState(function(){return!1});var M=H[1];I=h.useState(function(){return 0});var N=I[1],O=I[0];C=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog",{name:"MWChatAudioRecorderPermissionsDialog","class":"fluid"}).__setRef("MWChatComposer.bs"));var P=C[0],ga=b("useIsMountedRef")(),ha=b("bs_curry")._1(b("MWPollsHooks.bs").useCreatePoll,void 0),Q=b("MWThread_DEPRECATED.bs").useId(void 0);I=b("MWLSThreadCapabilities.bs").useCapabilities(void 0);var ia=b("MWUIChatTabState.bs").useLookupThreadHook(void 0),R=b("MWUIChatTabState.bs").useTab(void 0),ja=b("MWUIChatTabState.bs").useTokenProvider(void 0),ka=b("MWLSCreateThread.bs").useHook(void 0),S=function(a){b("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:b("LsFalcoEventEntryPoint.bs").composer}}})};C=Q!==void 0&&typeof Q==="object"&&Q.NAME==="User"?b("bs_caml_format").caml_int64_of_string(Q.VAL):void 0;var T=b("MWV2UseAreThreadContactsDualSendEligible.bs").useHook(C),U=b("MAWGating.bs").isDualSend(void 0);h.useEffect(function(){!(b("cr:1160")==null)&&Q!==void 0&&U&&T&&Q.NAME!=="Group"&&b("promiseDone")(b("bs_curry")._2(i.call,E,b("bs_caml_format").caml_int64_of_string(Q.VAL)),void 0,void 0)},[i,Q,U,T]);var V=function(a){if(R)return b("Promise").resolve(R._0);var c=b("bs_curry")._1(ja,void 0);a=c.length;if(a!==1)if(a!==0)return ia(c).then(function(a){if(a!==void 0)return b("Promise").resolve(a);else return b("bs_curry")._2(ka,c.map(b("bs_caml_format").caml_int64_of_string),void 0).then(function(a){return b("Promise").resolve({NAME:"Group",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a))})})});else return b("Promise").reject(b("unrecoverableViolation")("Expected tokens","messenger_web_product"));a=c[0];return b("Promise").resolve({NAME:"User",VAL:a})},W=function(a){b("bs_curry")._1(M,function(a){return!1});a=F.current;a==null?b("bs_curry")._1(u,void 0):a.reset();return b("bs_curry")._1(y,o===void 0)},la=function(a,c,d){a=b("bs_curry")._3(fa,a,c,d).then(function(a){var d=a[1],e=a[0];b("bs_curry")._2(da,c,function(a){return b("bs_curry")._3(ea,e,d,a)});return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},X={onClose:function(a){},onAllow:function(a){},showNoPermissionsContent:!0},ma=function(a){b("bs_curry")._1(M,function(a){return!0});return b("bs_curry")._1(q,void 0)},Y=b("MWChatAudioRecorderAPIContext.bs").useHook(void 0),na=typeof Y==="number"?{contents:void 0}:b("bs_curry")._1(Y._0.getAudioStreamRef,void 0),Z=function(a){j.onReady(function(a){return b("bs_curry")._5(a.setupStream,na,ga,ma,N,function(a){return P(X,function(a){})})})},oa=function(a){return P({onClose:function(a){},onAllow:function(a){return Z(void 0)},showNoPermissionsContent:!1},function(a){})};C=function(a){if(O>=3)return Z(void 0);switch(O){case 0:a=b("Navigator.bs").query({name:"microphone"});if(a!==void 0){a=b("bs_caml_option").valFromOption(a).then(function(a){a=a.state;switch(a){case"denied":b("bs_curry")._1(N,function(a){return 2});P(X,function(a){});break;case"granted":Z(void 0);break;default:oa(void 0)}return b("Promise").resolve(void 0)})["catch"](function(a){P(X,function(a){});return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0);return}Z(void 0);return b("MWChatAudioLog.bs").logMicAccessCheckFailed(void 0);case 1:return Z(void 0);case 2:return P(X,function(a){})}};var pa=function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","text");S(void 0);G.current=!0;b("promiseDone")(V(void 0),function(c){if(typeof c==="object")if(c.NAME==="Group"){var d=a.editorState.draftEditorState;d=d!==void 0?b("MWChatProfileRange.bs").getFromContentState(c.VAL,b("bs_caml_option").valFromOption(d).getCurrentContent()):[]}else d=[];else d=[];var e=b("MWChatComposerUtil.bs").hasContent(a.editorState)?b("getPlainTextFromDeferredDraftEditorState")(a.editorState):void 0,f=a.mediaAttachments;d=d.length===0?void 0:d;var g=a.audioClip,h,i;if(g==null)if(e!==void 0)f==null||f.length===0?(i=e,h=2):h=1;else{if(f==null){b("bs_curry")._1(B,c);return b("bs_curry")._1(z,void 0)}h=1}else{la(c,g.file,g.duration);return b("MWChatAudioLog.bs").logSendRecording(g.duration/1e3)}switch(h){case 1:var j=f.map(b("CometComposerViewState.bs").MediaAttachment.fromJS);b("bs_curry")._4(ca,c,e,d,j);var k=j.reduce(function(a,b){b=b.TAG===3?1:0;return a+b|0},0),l=j.map(function(a){return b("CometComposerViewState.bs").MediaAttachment.file(a).name}),m=b("bs_belt_Array").keepMap(j,function(a){return b("bs_caml_option").nullable_to_opt(b("CometComposerViewState.bs").MediaAttachment.file(a).uploadID)}),n=b("bs_belt_Array").keepMap(j,function(a){if(a.TAG===3)return a._2.id}),p=Q!==void 0&&typeof Q==="object"&&Q.NAME==="Group"?Q.VAL:null,q;if(Q!==void 0&&typeof Q==="object"){g=Q.NAME;q=g==="User"||g==="Page"?Q.VAL:null}else q=null;return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:k===j.length?b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_ALL_FILES_UPLOADED:b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_FILES_PENDING,other_user_fbid:q,thread_fbid:p,extra_data:{attachment_names:l,attachment_upload_ids:m,attachment_fbids:n}}});case 2:b("bs_curry")._5(J,c,i,d,o,void 0);b("bs_curry")._1(B,c);return b("bs_curry")._1(z,void 0)}});return W(void 0)},qa=function(a){},ra=b("MWLSThreadCapabilities.bs").canSendGif(I),sa=b("MWLSThreadCapabilities.bs").canSendPayment(I),ta=b("MWLSThreadCapabilities.bs").canCreatePoll(I),$=b("MWLSThreadCapabilities.bs").canSendFile(I),ua=b("MWLSThreadCapabilities.bs").canSendRoom(I),va=b("MWLSThreadCapabilities.bs").canSendAudioClip(I);I=b("MWLSThreadCapabilities.bs").canSendQuickCamAttachment(I);$=$&&!b("gkx")("1787589");var wa=Q!==void 0&&typeof Q==="object"?Q.NAME==="Group":!1,xa=Q===void 0,ya=Q!==void 0&&typeof Q==="object"&&Q.NAME==="Group"?h.jsx(b("MWChatComposerMentionsPlugin.re").make,{}):null,za=function(a){return b("MessengerWebEventsFalcoEvent.bs").log(function(){if(Q!==void 0&&typeof Q==="object"){var a=Q.NAME;a=a==="User"||a==="Page"?Q.VAL:null}else a=null;return{event_name:b("MessengerWebEvent").OPEN_STICKER_FLYOUT,other_user_fbid:a,thread_fbid:Q!==void 0&&typeof Q==="object"&&Q.NAME==="Group"?Q.VAL:null}})},Aa=function(a){return b("MessengerWebEventsFalcoEvent.bs").log(function(){if(Q!==void 0&&typeof Q==="object"){var a=Q.NAME;a=a==="User"||a==="Page"?Q.VAL:null}else a=null;return{event_name:b("MessengerWebEvent").OPEN_EMOJI_FLYOUT,other_user_fbid:a,thread_fbid:Q!==void 0&&typeof Q==="object"&&Q.NAME==="Group"?Q.VAL:null}})},Ba=function(a){return b("MessengerWebEventsFalcoEvent.bs").log(function(){if(Q!==void 0&&typeof Q==="object"){var c=Q.NAME;c=c==="User"||c==="Page"?Q.VAL:null}else c=null;return{event_name:b("MessengerWebEvent").SELECT_FILE_FOR_UPLOAD,other_user_fbid:c,thread_fbid:Q!==void 0&&typeof Q==="object"&&Q.NAME==="Group"?Q.VAL:null,extra_data:{attachment_names:a.map(function(a){return a.name})}}})},Ca=b("MWChatComposerUploadFileHook.bs").useHook(void 0),Da=function(a,c){var d=s!==void 0?b("getPlainTextFromDeferredDraftEditorState")(b("bs_caml_option").valFromOption(s).editorState).length===0:!0,e=b("getPlainTextFromDeferredDraftEditorState")(c.editorState).length===0;if(!e||e&&!d)return b("MWChatComposerViewStateStore.bs").set(a,b("bs_caml_option").some(c))};g={isPreviewThread:g,repliedToMessage:o,isTabFocused:f,canSendGif:ra,canSendFile:$,canSendRoom:ua,canSendAudioClip:va,canSendQuickCamAttachment:I,canSendPayment:sa,isGroupThread:wa,otherUserFbid:d,sendMessage:pa,sendGif:function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","gif");S(void 0);b("promiseDone")(V(void 0),function(c){b("bs_curry")._3(K,c,a,o);return b("bs_curry")._1(B,c)});return b("bs_curry")._1(y,!1)},sendSticker:function(a,c,d){var e=d.uri;b("ODS").bumpEntityKey(3185,"mwchat_send","sticker");S(void 0);b("promiseDone")(V(void 0),function(c){b("bs_curry")._4(L,c,a,o,e);return b("bs_curry")._1(B,c)});return b("bs_curry")._1(y,!1)},sendHotLike:function(a,c){b("ODS").bumpEntityKey(3185,"mwchat_send","hot_like");S(void 0);var d=a!==void 0?a:b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;b("promiseDone")(V(void 0),function(a){e!==void 0&&e!==""?b("bs_curry")._5(J,a,e,void 0,o,c):b("bs_curry")._4(L,a,d,o,void 0);return b("bs_curry")._1(B,a)});return b("bs_curry")._1(y,!1)},sendMenuItem:function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","postback");S(void 0);b("promiseDone")(V(void 0),function(c){return b("bs_curry")._3(aa,c,a.title,a.id)});return b("bs_curry")._1(y,!1)},sendQuickCamAttachment:qa,shouldMinimizeActionsWhenTyping:m,logOnOpenStickerFlyout:za,logOnOpenEmojiFlyout:Aa,logOnSelectFileForUpload:Ba,mentionsPlugin:ya,actionTrayOpen:p,openActionTray:r,closeActionTray:q,color:c,customLikeEmoji:e,shouldShowMenu:l,pageId:Q!==void 0&&typeof Q==="object"&&Q.NAME==="Page"?b("bs_caml_option").some(Q.VAL):void 0,onFileUploadStart:k,onFileUploadSuccess:function(a,c,d){b("bs_curry")._2(ba,c,d);return b("MessengerWebEventsFalcoEvent.bs").log(function(){if(Q!==void 0&&typeof Q==="object"){var e=Q.NAME;e=e==="User"||e==="Page"?Q.VAL:null}else e=null;return{event_name:b("MessengerWebEvent").UPLOAD_FILE_SUCCESS,other_user_fbid:e,thread_fbid:Q!==void 0&&typeof Q==="object"&&Q.NAME==="Group"?Q.VAL:null,extra_data:{attachment_names:[a.name],attachment_upload_ids:[c],attachment_fbids:[d]}}})},onAttachmentsChanged:Ca,fileUploadHandlerRef:t,onContentsChange:v,hasContent:n,onCloseTab:A,isLocalThread:xa,threadKey:Q!==void 0?Q:void 0,onCloseReplyPreview:y,resetComposerRef:F,isSubmitting:G,saveState:Da,createPoll:ta?function(a,c){b("ODS").bumpEntityKey(3185,"mwchat_send","sticker"),S(void 0),b("promiseDone")(V(void 0),function(d){return b("bs_curry")._3(ha,d,a,c)})}:void 0,showAudioRecorder:C,hideAudioRecorder:function(a){if(typeof Y==="number")return W(void 0);a=b("bs_curry")._1(Y._0.stopRecording,void 0).then(function(a){W(void 0);return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},audioRecorderShown:H[0]};s!==void 0&&(g.initialComposerViewState=b("bs_caml_option").valFromOption(s));w!==void 0&&(g.messageRequestInfoText=b("bs_caml_option").valFromOption(w));x!==void 0&&(g.onTypingStateChanged=b("bs_caml_option").valFromOption(x));D!==void 0&&(g.ariaDescribedBy=b("bs_caml_option").valFromOption(D));a!==void 0&&(g.ariaDescribedByContent=a);return h.jsx(b("MWChatComposerBase.bs").make,g)}c={make:k};function a(a){var c=a.color,d=a.otherUserFbid,e=a.isPreviewThread,f=a.isOptimisticThread,g=a.shouldMinimizeActionsWhenTyping,i=a.customLikeEmoji,j=a.isTabFocused,l=a.shouldShowMenu,m=a.hasContent,n=a.repliedToMessage,o=a.actionTrayOpen,p=a.closeActionTray,q=a.onContentsChange,r=a.onFileUploadStart,s=a.openActionTray,t=a.initialComposerViewState,u=a.fileUploadHandlerRef,v=a.messageRequestInfoText,w=a.onTypingStateChanged,x=a.closeReplyPreview,y=a.openTabFromPreview,z=a.closeTab,A=a.onSendMessage,B=a.ariaDescribedBy;a=a.ariaDescribedByContent;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!0;q=q!==void 0?q:function(a){};r=r!==void 0?r:function(a){};var C=h.useState(function(){return b("uniqueID")()}),D=C[1];c={color:c,otherUserFbid:d,customLikeEmoji:i,isTabFocused:j,isPreviewThread:e,onFileUploadStart:r,shouldShowMenu:l,shouldMinimizeActionsWhenTyping:g,hasContent:m,repliedToMessage:n,actionTrayOpen:o,closeActionTray:p,openActionTray:s,fileUploadHandlerRef:u,hardResetComposer:function(a){return b("bs_curry")._1(D,function(a){return b("uniqueID")()})},onContentsChange:q,closeReplyPreview:x,openTabFromPreview:y,closeTab:z,onSendMessage:A,isOptimisticThread:f};t!==void 0&&(c.initialComposerViewState=b("bs_caml_option").valFromOption(t));v!==void 0&&(c.messageRequestInfoText=b("bs_caml_option").valFromOption(v));w!==void 0&&(c.onTypingStateChanged=b("bs_caml_option").valFromOption(w));B!==void 0&&(c.ariaDescribedBy=B);a!==void 0&&(c.ariaDescribedByContent=a);return h.jsx(b("MWLSMediaSendManagerProvider.bs").make,b("MWLSMediaSendManagerProvider.bs").makeProps(h.jsx(b("MWChatAudioRecorderAPIContext.bs").Provider.make,{children:h.jsx(k,c,C[0])}),void 0))}d=a;f.$MAWCreateOneToOneThread$requireCond=b("cr:1160");f.$MWChatAudioRecorderStreamSetup$Deferred=j;f.MWChatComposer=c;f.make=d}),null);
__d("MWChatEmptyComposer.bs",["fbt","CometRoundedTextInput.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{paddingTop:"cxgpxx05",paddingEnd:"hv4rvrfc",paddingBottom:"sj5x9vvc",paddingStart:"dati1w0a",height:"tv7at329"}};function a(a){a=g._(/*FBT_CALL*/"\u64b0\u5beb\u8a0a\u606f\u2026\u2026"/*FBT_CALL*/);return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("CometRoundedTextInput.react"),{label:a,onChange:function(a){},placeholder:a,value:""})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatFeatureLimitsBlockedComposer.bs",["fbt","CometLink.react","MDSText.react","MDSTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"rat2krgp",paddingTop:"pybr56ya",paddingEnd:"f7vcsfb0",paddingBottom:"f10w8fjw",paddingStart:"fjf4s8hc"},link:{fontWeight:"lrazzd5p","white-space":"g0qnabr5"},header:{"font-weight":"n3ffmt46"}};function a(a){a=g._(/*FBT_CALL*/"\u76ee\u524d\u7121\u6cd5\u767c\u9001\u8a0a\u606f"/*FBT_CALL*/);var c=g._(/*FBT_CALL*/"\u6211\u5011\u767c\u73fe\u4f60\u5728\u804a\u5929\u5ba4\u4e2d\u50b3\u9001\u7684\u5167\u5bb9\u9055\u53cd\u6211\u5011\u7684\u300a\u793e\u7fa4\u5b88\u5247\u300b\uff0c\u56e0\u6b64\u4f60\u66ab\u6642\u7121\u6cd5\u50b3\u9001\u8a0a\u606f\u3002"/*FBT_CALL*/),d=j.jsx(b("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/254699034734362?ref=block",color:"blueLink",target:"_blank",children:g._(/*FBT_CALL*/"\u77ad\u89e3\u8a73\u60c5"/*FBT_CALL*/),xstyle:k.link});c=j.jsx(j.Fragment,{children:j.jsx(b("MDSTextPairing.react"),{body:j.jsxs(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:[c," ",d]}),headline:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:j.jsx("span",{className:(i||(i=b("stylex")))(k.header),children:a})}),textAlign:"center"})});return j.jsx("div",{className:i(k.root),children:c})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatLeftGroupComposer.bs",["fbt","BaseTheme.react","LsThreadType.bs","MDSText.react","MDSTextPairing.react","bs_caml","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",paddingTop:"p6qk8glf",paddingEnd:"gl4o1x5y",paddingBottom:"ofv0k9yr",paddingStart:"lt9micmv"}};c={"primary-text":"rgba(0, 0, 0, 0.7)","secondary-text":"rgba(0, 0, 0, 0.5)"};d={"primary-text":"#e4e6eb","secondary-text":"#b0b3b8"};var l={light:c,dark:d,type:"VARIABLES"};function a(a){a=a.thread;a=a!==void 0&&(b("bs_caml").i64_eq(a.c,b("LsThreadType.bs").communityGroup)||b("bs_caml").i64_eq(a.c,b("LsThreadType.bs").communityGroupUnjoined))?"Chat":"Group";var c=g._(/*FBT_CALL*/"\u4f60\u7121\u6cd5\u767c\u9001\u8a0a\u606f\u5230\u9019\u500b{product name}"/*FBT_CALL*/,[g._param("product name",a)]);a=g._(/*FBT_CALL*/"\u4f60\u5df2\u9000\u51fa\u6b64{product name}\u3002\u9664\u975e\u6709\u4eba\u5c07\u4f60\u518d\u6b21\u52a0\u5165\uff0c\u5426\u5247\u4f60\u7121\u6cd5\u64a5\u6253\u6216\u63a5\u807d\u901a\u8a71\uff0c\u4e5f\u7121\u6cd5\u767c\u9001\u6216\u63a5\u6536\u8a0a\u606f\u3002"/*FBT_CALL*/,[g._param("product name",a.toLowerCase())]);return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("BaseTheme.react"),{config:l,children:j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a}),headline:j.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:c}),textAlign:"center"})})})}e=a;f.styles=k;f.theme=l;f.make=e}),null);
__d("MWChatTabContentStyles.bs",[],(function(a,b,c,d,e,f){"use strict";a={main:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"du4w35lb"},dropTarget:{display:"j83agx80",flexDirection:"cbu4d94t"},gradient:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",display:"j83agx80",position:"l9j0dhe7",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},threadContainer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",position:"l9j0dhe7",display:"j83agx80",flexDirection:"cbu4d94t"},thread:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs",display:"j83agx80",flexDirection:"cbu4d94t"},threadAnimation:{transitionProperty:"flx89l3n",transitionDuration:"l9l1gxur"},threadActionTrayClosed:{transform:"agkhgkm8"},threadActionTrayOpen:{transform:"brhp5kr4"},whitespace:{position:"pmk7jnqg",top:"gup621dn",height:"lbh82i0l",width:"k4urcfbm",backgroundColor:"nred35xi"},actionTrayPlaceholder:{height:"qu8okrzs"},contextOverlay:{position:"pmk7jnqg",top:"kr520xx4",backgroundColor:"nred35xi",width:"k4urcfbm"},composer:{flexBasis:"ntk0jbrt",flexShrink:"pfnyh3mw"}};f.styles=a}),null);
__d("LSContextBanner.bs",["LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadTitle.bs","MDSText.react","MWThreadPicture.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={context:{flexShrink:"pfnyh3mw",backgroundColor:"nred35xi"},root:{paddingTop:"aodizinl",paddingEnd:"d1544ag0",paddingBottom:"osnr6wyh",paddingStart:"tw6a2znq"},image:{display:"j83agx80",justifyContent:"taijpn5t",marginBottom:"n851cfcs"},text:{paddingBottom:"f10w8fjw"}};function k(a){a=a.thread;var c=a.F,d=a.D,e=a.B;return i.jsx("div",{className:(h||(h=b("stylex")))(j.context),children:i.jsxs("div",{className:h(j.root),children:[i.jsx("div",{className:h(j.image),children:i.jsx(b("MWThreadPicture.bs").make,{photoSize:"s_60",badgeSize:14,thread:a})}),i.jsx("div",{className:h(j.text),children:i.jsx(b("MDSText.react"),{align:"center",type:"headlineEmphasized3",children:i.jsx(b("LSThreadTitle.bs").make,{thread:a,wrapOutput:function(a,b,c){return c}}),testid:"mw_thread_context_banner_heading"})}),e!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(j.text),children:i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:e})}):null,d!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(j.text),children:i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:d})}):null,c!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(j.text),children:i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:c})}):null]})})}c={styles:j,make:k};function a(a){a=a.thread;var c=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").disableContextBanner,a);if(c)return null;else return i.jsx(k,{thread:a})}d=a;f.Impl=c;f.make=d}),null);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";var g;b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(g=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function a(a,c){if(!b("fbjs/lib/ExecutionEnvironment").canUseDOM||c&&!("addEventListener"in document))return!1;c="on"+a;var d=c in document;if(!d){var e=document.createElement("div");e.setAttribute(c,"return;");d=typeof e[c]==="function"}!d&&g&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}e.exports=a}),null);
__d("MWChatConversationScroller.bs",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","bs_caml_obj","bs_caml_option","bs_curry","isEventSupported","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function k(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop<=a}var l={root:{flexGrow:"buofh1pr",display:"j83agx80",overflowY:"eg9m0zos",overflowX:"ni8dbmo4",flexDirection:"cbu4d94t",overscrollBehavior:"gok29vw1"},contained:{contain:"isf3ygkp"}},m=b("ExecutionEnvironment").canUseDOM?document.body.style.overscrollBehavior===void 0&&document.body.style.scrollBoundaryBehavior===void 0:!1;function a(a,c){var d=a.children,e=a.boundingClientRectRef,f=a.scrollPositionRef,g=a.dispatch,n=a.hasMoreAfter;a=a.onScroll;var o=a!==void 0?a:function(a){},p=i.useRef(g),q=i.useRef(null);a=i.useCallback(function(a){q.current=a;if(e!==void 0){e.current=a==null?void 0:b("bs_caml_option").some(a.getBoundingClientRect());return}},[e]);i.useEffect(function(){p.current=g});var r=function(a,b){b=q.current;if(!(b==null)){b.scrollTop=a;return}},s=function(a,b){b=a!==void 0?a:!1;a=q.current;if(!(a==null))return r(a.scrollHeight,b)},t=function(a,b){var c=q.current;if(!(c==null))return r(c.scrollHeight-(a+c.clientHeight),b)},u=function(a){a=f.current;var c=q.current;c=c==null?void 0:c.scrollHeight-(c.scrollTop+c.clientHeight);var d=j(void 0,q.current),e=k(void 0,q.current);f.current=d?n?1:0:c!==void 0?e?{TAG:0,_0:c}:{TAG:1,_0:c}:0;d=f.current;e=0;typeof a==="number"?a===0&&(e=1):typeof d==="number"?p.current(1):d.TAG===0&&(e=1);if(e===1){c=0;(typeof a==="number"||a.TAG!==0)&&(c=2);c===2&&typeof d!=="number"&&d.TAG===0&&p.current(2)}return b("bs_curry")._1(o,void 0)},v=function(a){if(m){var b=a.deltaY>0,c=a.deltaY<0;(b&&j(0,q.current)||c&&k(0,q.current))&&a.preventDefault()}return u(void 0)},w=function(a){var c=b("isEventSupported")("mousewheel")?"mousewheel":b("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(d){return a.removeEventListener(b,c,{passive:!0})}},e=function(b){return a.addEventListener(c,v,{passive:!m})},f=function(b){return a.removeEventListener(c,v,{passive:!m})},g=d("mouseenter",e),h=d("mouseleave",f);e=b("CometThrottle")(u,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",u),k=d("mousedown",u);return function(a){f(void 0);(a=b("bs_curry"))._1(i,void 0);a._1(g,void 0);a._1(h,void 0);a._1(k,void 0);return a._1(j,void 0)}};i.useEffect(function(){var a=q.current;if(a==null)return;var c=w(a);return function(a){return b("bs_curry")._1(c,void 0)}},[]);i.useLayoutEffect(function(){var a=q.current;!(a==null)&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&p.current(0)});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=f.current;typeof a==="number"?a===0&&s(void 0,void 0):a.TAG===0&&t(a._0,!1)});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=f.current;typeof a==="number"?a!==0||s(void 0,void 0):t(a._0,!1)},[]);var x=i.useContext(b("BaseScrollableAreaContext")),y=i.useMemo(function(){return{getDOMNode:function(a){return q.current}}},[]),z=i.useMemo(function(){return x.concat([y])},[y,x]);i.useImperativeHandle(c,function(){return{scrollToBottom:function(a){f.current=0;return s(void 0,void 0)},scrollToElement:function(a,c){var d=q.current;if(d==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var e=d.getBoundingClientRect();a=a.top;e=e.top;if(b("bs_caml_obj").caml_lessequal(a,e)){d.scrollBy(0,-c|0);return u(void 0)}},scrollElementIntoViewIfNeeded:function(a){var c=q.current;if(c==null)return;var d=a.getBoundingClientRect();c=c.getBoundingClientRect();d=d.top;c=c.top;if(b("bs_caml_obj").caml_lessequal(d,c)){a.scrollIntoView();return}}}},[]);return i.createElement(b("BaseScrollableAreaContext").Provider,{children:i.jsx("div",{ref:a,className:(h||(h=b("stylex")))(l.root,l.contained),"data-release-focus-from":"CLICK",tabIndex:-1,children:d}),value:z})}c=i.forwardRef(a);d=20;f.scrollTolerance=d;f.isScrolledToBottom=j;f.isScrolledToTop=k;f.styles=l;f.disableElasticScroll=m;f.make=c}),null);
__d("MWChatLoadMoreItemsIncrementally.bs",["LSMailboxMessagesRangeQueryDirection.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_curry","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:void 0};function j(a){i.contents===void 0&&(i.contents=window.document.documentElement.style.overflowAnchor!==void 0);return b("bs_belt_Option").getWithDefault(i.contents,!1)}function a(a,c,d,e,f,g){a=a!==void 0?a:!1;var i=c!==void 0?c:!0;c=d!==void 0?d:0;d=a||!j(void 0)||!b("gkx")("1776660");var k=e.length,l=typeof c==="number"?!1:c._0>=200;a=h.useState(function(){if(l)return k;else if(i)if(window.screen.availHeight<1200)return 20;else return 40;else return 10});var m=a[1],n=a[0];c=h.useMemo(function(){return b("bs_belt_Array").sliceToEnd(e,-n|0)},[e,n]);var o=h.useRef(n);a=h.useCallback(function(a){b("bs_caml").i64_neq(a,b("LSMailboxMessagesRangeQueryDirection.bs").before)&&b("unrecoverableViolation")("Message fetch direction must be 'before'","messenger_web_product");if((o.current+15|0)<=k){o.current=o.current+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else{b("bs_curry")._1(f,b("LSMailboxMessagesRangeQueryDirection.bs").before);if(o.current<(k+15|0)){o.current=k+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else return}},[f,k,m]);if(d)return[e,f,g];else return[c,a,g||n<k]}c=15;d=10;e=20;var k=40,l=1200,m=200;f.pageSize=c;f.initialCountSmall=d;f.initialCountDefault=e;f.initialCountTall=k;f.tallWindowHeight=l;f.minScrollPosToMountAll=m;f.useLoadMore=a}),null);
__d("MWChatThreadPos.bs",["bs_caml_option","bs_curry","react","throttle","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={top:0,bottom:100};function a(a){var c=h.useRef(void 0);a=h.useState(function(){return i});var d=a[1],e=function(a){a=c.current;if(a===void 0)return;var e=b("bs_caml_option").valFromOption(a),f=window.innerHeight;return b("bs_curry")._1(d,function(a){return{top:e.top/f*100,bottom:e.bottom/f*100}})},f=b("throttle")(e,200);h.useEffect(function(){window.addEventListener("resize",f);return function(a){window.removeEventListener("resize",f)}},[]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){e(void 0)},[]);return[a[0],c]}c=200;f.resize_THROTTLE_TIME=c;f.init=i;f.useThreadPosition=a}),null);
__d("MWInboxThreadMessagesSpinner.bs",["CometHeroHoldTrigger.react","CometProgressRingIndeterminate.react","bs_curry","react","stylex","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={mask:{backgroundColor:"nred35xi"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",height:"rgmg9uty",flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",flexShrink:"pfnyh3mw",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"},spinnerPlaceholder:{height:"rgmg9uty",width:"k4urcfbm",backgroundColor:"nred35xi"}};function a(a){var c=b("useIsMountedRef")();a=i.useState(function(){return!1});var d=a[1];a=a[0];var e=i.useMemo(function(){return{onHidden:function(a){if(c.current)return b("bs_curry")._1(d,function(a){return!1})},onVisible:function(a){if(c.current)return b("bs_curry")._1(d,function(a){return!0})}}},[c,d]);e=b("useVisibilityObserver")(e);return i.jsxs(i.Fragment,{children:[i.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:a}),i.jsx("div",{ref:e,className:(h||(h=b("stylex")))(j.spinner,j.mask),children:a?i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):i.jsx("div",{className:(h||(h=b("stylex")))(j.spinnerPlaceholder)})})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWMessageElementRefList.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Map(),d={contents:void 0};return{set:function(a){return function(e){if(e==null){c["delete"](a);return}c.set(a,e);var f=d.contents;if(f!==void 0&&f[0]===a){b("bs_curry")._1(f[1],e);d.contents=void 0;return}}},get:function(a,e){var f=c.get(a);if(f==null){d.contents=[a,e];return}else return b("bs_curry")._1(e,f)}}}function c(a){switch(a.TAG|0){case 0:var b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){var c=b._0.offlineThreadingId;return c}c=b._0.messageId;return c;case 1:b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){c=b._0.offlineThreadingId;return c}c=b._0.messageId;return c;case 2:b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){c=b._0.offlineThreadingId;return c}a=b._0.messageId;return a}}f.make=a;f.messageIdFromContent=c}),null);
__d("MWVisibleMessageContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}e={setVisibleMessage:a,visibleMessage:void 0};var i=h.createContext(e);function c(a){var b=a.value;a=a.children;return h.createElement(i.Provider,{value:b,children:a})}b={make:c};function d(a){return h.useContext(i)}f.Provider=b;f.useHook=d}),null);
__d("MWV2CurrentVisibleMessage.bs",["LS.bs","LSMessagePointQuery","LSTransaction.bs","MWMessageElementRefList.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_obj","bs_curry","promiseDone","react","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("MWVisibleMessageContext.bs").useHook(void 0),e=d.visibleMessage,f=h.useRef(b("MWMessageElementRefList.bs").make(void 0));d=a!==void 0?a.a:void 0;var g=a!==void 0?a.c:void 0,i=h.useRef(void 0),j=b("ReStore.bs").useHook(void 0),k=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(a===void 0)return b("SortedAsyncIterable.bs").empty(void 0);if(e===void 0)return b("ReQL.bs").getKeyRange(b("ReQLTable").table(j,"messages_ranges_v2__generated").desc,{hd:a.a,tl:0});var c=e.timestamp;return b("ReQL.bs").filter(b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQLTable").table(j,"messages_ranges_v2__generated").desc,{hd:a.a,tl:0}),{NAME:"lessThanOrEqual",VAL:{hd:c,tl:0}}),function(a){if(b("bs_caml").i64_ge(c,a.b))return b("bs_caml").i64_le(c,a.d);else return!1})},[j,e,JSON.stringify(d)])),l=h.useState(function(){return k}),m=l[1],n=l[0];h.useEffect(function(){i.current=void 0;var a=c.current;e!==void 0||a==null||a.scrollToBottom()},[e]);var o=function(a){var d=c.current;if(!(d==null)){b("setTimeout")(function(b){return d.scrollElementIntoViewIfNeeded(a)},0);return}},p=function(a){if(b("bs_caml_obj").caml_notequal(a,i.current))return b("bs_curry")._2(f.current.get,a,function(b){o(b),i.current=a})};h.useEffect(function(){k!==void 0?b("bs_curry")._1(m,function(a){return k}):e!==void 0||b("bs_curry")._1(m,function(a){})},[e,k,m]);h.useEffect(function(){e!==void 0&&n!==void 0&&p(e.messageId)},[j,e,n,p]);h.useEffect(function(){if(a!==void 0&&k===void 0&&e!==void 0){var c=e.messageId;b("promiseDone")(b("LSTransaction.bs").run(j,function(d){return b("LSMessagePointQuery")(a.a,c,a.c,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite"),void 0,void 0)}},[j,e,k,JSON.stringify(d),JSON.stringify(g)]);return{messageRange:n,messageElementRefs:f,visibleMessage:e}}f.useHook=a}),null);
__d("MWV2FetchMessagesPage.bs",["LS.bs","LSIssueMessagesRangeQuery","LSTransaction.bs","ReQL.bs","ReQLTable","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("ReStore.bs").useHook(void 0);return h.useCallback(function(e){b("promiseDone")(b("LSTransaction.bs").run(d,function(d){return(c!==void 0?a!==void 0?window.Promise.resolve(a):b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"messages_ranges_v2__generated").desc,{hd:c,tl:0})):window.Promise.resolve(void 0)).then(function(a){if(c!==void 0&&a!==void 0)return b("LSIssueMessagesRangeQuery")(c,a.b,e,b("bs_curry")._1(b("LS.bs").make,d));else return window.Promise.resolve(void 0)})},"readWrite"),void 0,void 0)},[d,JSON.stringify(c),a])}f.useFetchMessagesPage=a}),null);
__d("MWMessageProtectionContext.bs",["LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");d={blurMedia:!1,disableLinks:!1};var i=h.createContext(d);function a(a){var c=a.children;a=a.thread;var d=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").blurMedia,a)&&b("gkx")("2605"),e=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").disableLinks,a)&&b("gkx")("2605");a=h.useMemo(function(){return{blurMedia:d,disableLinks:e}},[d,e]);return h.createElement(i.Provider,{children:c,value:a})}e={make:a};function c(a){return h.useContext(i)}f.emptyValue=d;f.context=i;f.Provider=e;f.useHook=c}),null);
__d("MWMessageRowCommon.bs",["cr:1019"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1019").make;f.$MWMessageRow$OR$MWV2MessageRow$requireCond=b("cr:1019");f.make=a}),null);
__d("MWPAriaLabelForMessageListGrid.bs",["fbt","MWLSActor.bs","MWV2GetThreadTitle.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a,c){var d=b("MWLSActor.bs").useActor(void 0);return i.useMemo(function(){var e=a.d;if(e!==void 0)return g._(/*FBT_CALL*/"\u6a19\u984c\u70ba\u300c{name of conversation}\u300d\u7684\u5c0d\u8a71\u4e2d\u7684\u8a0a\u606f"/*FBT_CALL*/,[g._param("name of conversation",e)]).toString();e=Array.from(c.values()).map(function(a){return[a[0],a[1]]});e=b("bs_belt_Option").getWithDefault(b("MWV2GetThreadTitle.bs").computeThreadTitle(void 0,a,e,d),"");return g._(/*FBT_CALL*/"\u8207{participant list}\u7684\u5c0d\u8a71\u4e2d\u7684\u8a0a\u606f"/*FBT_CALL*/,[g._param("participant list",e)]).toString()},[d,c,a.d])}f.useHook=a}),null);
__d("MWPMessageAuthor.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSTransaction.bs","LSVerifyContactRowExists","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({contact:void 0,nickname:void 0});function j(a){var c=a.contactId;a=a.children;var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:c,tl:0})},[d,JSON.stringify(c)])),f=h.useMemo(function(){var a=e!==void 0?e.h:void 0;return{contact:e,nickname:a}},[e]);h.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(d,function(a){return b("LSVerifyContactRowExists")(c,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)},[d,JSON.stringify(c)]);return h.createElement(i.Provider,{children:a,value:f})}d={make:j};function k(a){var b=a.contact,c=a.nickname;a=a.children;var d=h.useMemo(function(){return{contact:b,nickname:c}},[b,c]);return h.createElement(i.Provider,{children:a,value:d})}e={make:k};function a(a){var c=a.children,d=a.contactId,e=a.contact;a=a.nickname;if(e!==void 0)if(b("bs_caml").i64_ge(e.J,b("LSAuthorityLevel.bs").authoritativePendingReplacement))return h.jsx(k,{contact:e,nickname:a,children:c});else return h.jsx(j,{contactId:d,children:c});else return h.jsx(j,{contactId:d,children:c})}function c(a){a=h.useContext(i);var b=a.nickname;a=a.contact;if(b!==void 0)b=b;else if(a!==void 0){var c=a.p;b=c!==void 0?c:a.h}else b=void 0;return[b,a]}a=a;f.ctx=i;f.MissingContactProvider=d;f.Provider=e;f.make=a;f.useAuthorName=c}),null);
__d("MWPMessageListColumn.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignSelf:"ns4p8fja",display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"a6sixzi8",justifyContent:"bkfpd7mw",maxWidth:"d2edcug0"},shrinkwrap:{flexGrow:"kb5gq1qc"},grow:{flexGrow:"buofh1pr"},paint:{backgroundColor:"nred35xi"},profile:{paddingStart:"pcp91wgn",paddingEnd:"dflh9lhu"},withGutters:{paddingEnd:"akiltmtj",paddingStart:"ox664e6k"},makeSpaceForActions:{maxWidth:"p8rqm77o"},centered:{alignItems:"bp9cbjyn"}};function k(a){var c=a.children,d=a.grow,e=a.shrinkwrap,f=a.paint,g=a.profile,k=a.withGutters,l=a.makeSpaceForActions;a=a.centered;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;k=k!==void 0?k:!1;l=l!==void 0?l:!1;a=a!==void 0?a:!1;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,d?j.grow:!1,e?j.shrinkwrap:!1,f?j.paint:!1,g?j.profile:!1,k?j.withGutters:!1,l?j.makeSpaceForActions:!1,a?j.centered:!1),children:c})}var l={styles:j,make:k};function a(a){var b=a.children,c=a.shrinkwrap;a=a.grow;c=c!==void 0?c:!1;a=a!==void 0?a:!1;return i.jsx(k,{children:b,grow:a,shrinkwrap:c,paint:!0,withGutters:!0})}a={make:a};function c(a){a=a.children;return i.jsx(k,{children:a,shrinkwrap:!0,paint:!0,profile:!0})}c={make:c};function d(a){var b=a.children,c=a.paint;a=a.centered;c=c!==void 0?c:!0;a=a!==void 0?a:!1;return i.jsx(k,{children:b,shrinkwrap:!0,paint:c,centered:a})}d={make:d};function e(a){a=a.children;return i.jsx(k,{children:a,grow:!0,paint:!0})}e={make:e};function m(a){var b=a.children,c=a.paint;a=a.makeSpaceForActions;return i.jsx(k,{children:b,paint:c,makeSpaceForActions:a})}m={make:m};var n={spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"}};function o(a){return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(n.spacer)})}o={styles:n,make:o};var p={vr:{backgroundColor:"nred35xi",width:"k4urcfbm"}};function q(a){a=a.height;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(p.vr),style:{height:""+a+"px"}})}q={styles:p,make:q};f.BaseColumn=l;f.WithGutters=a;f.Profile=c;f.Shrinkwrap=d;f.Grow=e;f.Bubble=m;f.HorizontalSpacer=o;f.VerticalRhythm=q}),null);
__d("MWV2ChatBubbleSolid.bs",["bs_belt_Option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={bubble:{paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",color:"ljqsnud1",maxWidth:"odn2s2vf",zIndex:"tkr6xdv7"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},incoming_connect_bot:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"},outgoing_connect_bot:{borderBottomEndRadius:"ihh4hy1g"},precedes_xma:{boxSizing:"rq0escxv",maxWidth:"nqmqzb3c",width:"k4urcfbm",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e"}};function a(a){var c=a.children,d=a.style,e=a.connectTop,f=a.connectBottom,g=a.precedesXMA,k=a.outgoing;a=a.xstyle;g=g!==void 0?g:!1;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble,e?k?j.outgoing_connect_top:j.incoming_connect_top:!1,!g&&f?k?j.outgoing_connect_bot:j.incoming_connect_bot:!1,g?j.precedes_xma:!1,b("bs_belt_Option").getWithDefault(a,!1)),style:d,children:c})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2MessageRowSimple.bs",["FocusWithinHandler.react","MWMessageTableFocusTable.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={row:{position:"l9j0dhe7"},rowFocusVisible:{zIndex:"tkr6xdv7"}};function a(a){var c=a.children;return i.jsx(b("MWMessageTableFocusTable.bs").Table_.Row.make,{children:i.jsx("div",{role:"row",children:i.jsx(b("MWMessageTableFocusTable.bs").Table_.Cell.make,{children:i.jsx(b("FocusWithinHandler.react"),{children:function(a,d){return i.jsx("div",{role:"gridcell",tabIndex:0,"data-scope":b("MWMessageTableFocusTable.bs").scopeID,"data-release-focus-from":"CLICK",className:(h||(h=b("stylex")))(j.row,d?j.rowFocusVisible:!1),children:c})}})})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatTypingIndicators.bs",["fbt","CometScreenReaderText.react","MWChatProfile.bs","MWChatTypingIndicator.bs","MWPMessageListColumn.bs","MWPTooltip.react","MWV2ChatBubbleSolid.bs","MWV2MessageRowSimple.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","ServerTime","bs_caml_int64","bs_curry","bs_int64","clearTimeout","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{alignItems:"aovydwv3",display:"j83agx80",paddingTop:"jwdofwj8",flexShrink:"pfnyh3mw",paddingBottom:"e5nlhep0"},profile:{flexShrink:"pfnyh3mw",display:"j83agx80",marginStart:"h676nmdw",marginEnd:"oi9244e8"}};function l(a,b){a=a.e;if(a!==void 0)return a;a=b.p;if(a!==void 0)return a;else return b.h}function m(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"typing_indicator").asc,{hd:c,tl:0}),function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(a.c)})},[d,a,b("bs_int64").to_string(c)]));return j.useMemo(function(){var c=[];e.forEach(function(d){var e=a.get(b("bs_int64").to_string(d.b));if(!(e==null)){c.push([e[0],e[1],d]);return}});return c},[e])}function n(a){return j.useMemo(function(){var b=a.length;if(b!==1)if(b!==0)return g._(/*FBT_CALL*/"\u591a\u4f4d\u53c3\u8207\u8005\u6b63\u5728\u8f38\u5165"/*FBT_CALL*/);else return"";b=a[0];return g._(/*FBT_CALL*/"{The participants name}\u6b63\u5728\u8f38\u5165"/*FBT_CALL*/,[g._param("The participants name",l(b[0],b[1]))])},[a])}function o(a,b){j.useEffect(function(){if(a!==void 0&&a.scrollPositionRef.current===0&&b.length>0){var c=a.scrollerRef.current;c==null||c.scrollToBottom()}},[b,a])}function p(a){var c=a.contact,d=a.participant,e=a.typingIndicator;a=j.useState(function(){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(e.c)});var f=a[1],g=j.useMemo(function(){return l(d,c)},[d,c]);j.useEffect(function(){b("bs_curry")._1(f,function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(e.c)});var a=b("bs_caml_int64").to_float(e.c)-b("ServerTime").getMillis(),c=b("setTimeout")(function(a){return b("bs_curry")._1(f,function(a){return!1})},a);return function(a){b("clearTimeout")(c)}},[e,f]);if(a[0])return j.jsxs("div",{"aria-hidden":!0,className:(i||(i=b("stylex")))(k.root),children:[j.jsx("div",{className:i(k.profile),children:j.jsx(b("MWPTooltip.react"),{tooltip:g,align:"middle",position:"start",children:j.jsx(b("MWChatProfile.bs").make,{size:28,src:c.b,alt:g})})}),j.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:j.jsx(b("MWChatTypingIndicator.bs").make,{}),style:{backgroundColor:"var(--wash)"},connectTop:!1,connectBottom:!1,precedesXMA:!1,outgoing:!1})]});else return null}c={make:p};function a(a){var c=a.threadKey,d=a.scrollerRefs;a=a.participants;a=m(a,c);c=n(a);o(d,a);if(a.length>0)return j.jsx(b("MWV2MessageRowSimple.bs").make,{children:j.jsxs(b("MWPMessageListColumn.bs").Grow.make,{children:[j.jsx("div",{"aria-live":"polite",children:j.jsx(b("CometScreenReaderText.react"),{text:c})}),a.map(function(a){var c=a[1];return j.jsx(p,{contact:c,participant:a[0],typingIndicator:a[2]},b("bs_int64").to_string(c.a))})]})});else return null}d=a;f.styles=k;f.getNameForContact=l;f.useTypingParticipants=m;f.useAccessibilityText=n;f.useScrollToBottomIfTheScrollPositionIsBottom=o;f.TypingIndicator=c;f.make=d}),null);
__d("MWV2MessageActionsVisibility.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useRef(function(a){})}f.useStopHoveringRef=a}),null);
__d("MWV2MessageListIsRowModalContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}var i=h.createContext(a);function c(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}d={make:c};f.emptyValue=a;f.context=i;f.Provider=d}),null);
__d("MWV2OneToOneThreadBlockedContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(!1);function a(a){return h.useContext(i)}function c(a){var b=a.children;a=a.blocked;return h.createElement(i.Provider,{value:a,children:b})}d=c;f.context=i;f.useIsBlocked=a;f.make=d}),null);
__d("MWV2SeenHead.bs",["GenderConst","LSMessageSendStatusV2.bs","MWMessageDeliveryStatus.bs","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";e=[];function g(a){var c=a[1];a=a[0];return{imageSrc:c.b,name:b("bs_belt_Option").getWithDefault(a.e,c.h),id:b("bs_int64").to_string(c.a),gender:b("GenderConst").NOT_A_PERSON,timestamp:b("bs_caml_int64").to_float(a.k)}}function a(a,c){var d={contents:b("bs_caml_int64").zero};a.forEach(function(a,e,f){e=a[0];if(b("bs_caml").i64_neq(e.b,c)&&b("bs_caml").i64_gt(e.d,d.contents)){d.contents=e.d;return}});return d.contents}function c(a){return new Set([b("bs_int64").to_string(a)])}function d(a,c,d,e,f){var h=[];c.forEach(function(c,e,f){if(d.has(e)||a.j)return;if(!b("bs_caml").i64_eq(a.l,b("LSMessageSendStatusV2.bs").serverReceived))return;f=c[0];var i=b("bs_caml").i64_eq(a.h,f.b);f=b("bs_caml").i64_le(a.b,f.c);if(i||f){h.push(g(c));d.add(e);return}});c=h.length===0&&d.size===1;if(h.length>0)if(h.length>1)return{TAG:1,_0:h};else return{TAG:0,_0:b("bs_caml_array").get(h,0)};if(!b("bs_caml").i64_eq(a.h,f))return 0;f=b("MWMessageDeliveryStatus.bs").getFromSendStatus(a.l);if(b("bs_caml").i64_eq(a.l,b("LSMessageSendStatusV2.bs").nonRetriableError)||b("bs_caml").i64_eq(a.l,b("LSMessageSendStatusV2.bs").retriableError)||b("bs_caml").i64_eq(a.l,b("LSMessageSendStatusV2.bs").sendingToServer))return f;else if(!c&&b("bs_caml").i64_eq(a.l,b("LSMessageSendStatusV2.bs").serverReceived))return 0;else if(b("bs_caml").i64_ge(e,a.b))return 3;else return f}f.noSeenHeads=e;f.toSeenDetails=g;f.calculateMaxDeliveredTimestamp=a;f.makeExistingSeenHeads=c;f.deliveryStatusForMessage=d}),null);
__d("MWV2MessageList.bs",["FocusRegion.react","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","MWChatViewerChatVisibilityHook","MWLSActor.bs","MWMessageProtectionContext.bs","MWMessageRowCommon.bs","MWMessageTableFocusTable.bs","MWPAriaLabelForMessageListGrid.bs","MWPMessageAuthor.bs","MWV2ChatTypingIndicators.bs","MWV2MessageActionsVisibility.bs","MWV2MessageListIsRowModalContext.bs","MWV2OneToOneThreadBlockedContext.bs","MWV2SeenHead.bs","MWVisibleMessageContext.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_array","bs_caml_option","bs_int64","cr:4242","focusScopeQueries","react","stylex","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c){return new Map(b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:0}),b("ReQLTable").table(c,"contacts").asc),function(a){var c=a[1];return[b("bs_int64").to_string(c.a),[a[0],c]]})},[c,JSON.stringify(a.a)])))}function k(a,c){if(!(b("bs_caml").i64_eq(a.c,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(a.c,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)))return!1;var d={contents:!1};c.forEach(function(a,c,e){if(b("bs_caml").i64_neq(a[1].n,b("LSContactBlockedByViewerStatus.bs").unblocked)){d.contents=!0;return}});return d.contents}var l=b("cr:4242")==null?void 0:b("bs_caml_option").some(b("cr:4242")),m={grid:{borderStart:"ns9esd28",borderEnd:"tqkqlopc",zIndex:"du4w35lb"}};function n(a,b,c){return b["data-scope"]==="date_break"}function a(a){var c=a.messages,d=a.thread,e=a.isSecureThread,f=a.messageElementRefs,g=a.scrollerRefs;a=a.renderAttachment;var o=b("ReStore.bs").useHook(void 0),p=b("MWLSActor.bs").useActor(void 0);o=j(d,o);var q=b("LSMessagingThreadTypeUtil.bs").isGroup(d.c),r=b("MWPAriaLabelForMessageListGrid.bs").useHook(d,o),s=b("MWVisibleMessageContext.bs").useHook(void 0);s=s.visibleMessage;var t=[],u=b("MWV2SeenHead.bs").makeExistingSeenHeads(p),v=b("MWV2SeenHead.bs").calculateMaxDeliveredTimestamp(o,p),w=b("MWV2MessageActionsVisibility.bs").useStopHoveringRef(void 0),x=b("MWChatViewerChatVisibilityHook")();x=e?x&&!q:x;var y=i.useState(function(){return""}),z=y[0],A=!1;for(var B=c.length-1|0;B>=0;--B){var C=B===0?void 0:b("bs_caml_array").get(c,B-1|0),D=B>=(c.length-1|0)?void 0:b("bs_caml_array").get(c,B+1|0),E=b("bs_caml_array").get(c,B),F=b("MWV2SeenHead.bs").deliveryStatusForMessage(E,o,u,v,p),G;if(q&&e&&!E.j){var H=0;typeof F==="number"&&F!==3?(!A&&!b("bs_int64").equal(E.h,p)&&(A=!0),G=F):H=1;H===1&&(!A&&b("bs_int64").equal(E.h,p)?(A=!0,G=3):G=0)}else G=F;H=o.get(b("bs_int64").to_string(E.h));F=H==null?[void 0,void 0]:[H[1],H[0].e];H={prevMessage:C,message:E,nextMessage:D,status:G,isGroupThread:q,isSecureThread:e,isModal:z===E.e,stopHoveringRef:w,messageElementRefs:f,hasMessageEmphasisRing:s!==void 0?s.messageId===E.e&&s.source===1:!1};a!==void 0&&(H.renderAttachment=b("bs_caml_option").valFromOption(a));t.push(i.jsx(b("MWPMessageAuthor.bs").make,{children:i.jsx(b("MWMessageRowCommon.bs").make,H),contactId:E.h,contact:F[0],nickname:F[1]},E.f))}C=i.useCallback(function(c){var a=c.type;switch(a){case"PAGE_DOWN":case"PAGE_UP":break;default:return}a=c.type==="PAGE_DOWN";c.preventDefault();var d=c.currentRowIndex+(a?1:-1)|0,e=!1;while(!e){var f=c.getCell(d,c.currentCellIndex);if(f==null){var g=c.getCell(a?d-1|0:0,c.currentCellIndex);g==null||c.focusCell(g);e=!0}else{g=f.scopeRef.current;g=g!==void 0?b("bs_caml_option").valFromOption(g).DO_NOT_USE_queryFirstNode(n):null;g==null?d=a?d+1|0:d-1|0:(c.focusCell(f),e=!0)}}},[]);D=b("useCometUniqueID")();if(t.length<=0)return null;H=i.jsx(b("MWMessageTableFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:!1,wrapY:!1,allowModifiers:!0,children:i.jsx(b("MWV2OneToOneThreadBlockedContext.bs").make,{children:i.jsxs("div",{"data-testid":"mw_message_list",role:"grid",id:D,"aria-label":r,className:(h||(h=b("stylex")))(m.grid),children:[t.reverse(),x?i.jsx(b("MWV2ChatTypingIndicators.bs").make,{threadKey:d.a,scrollerRefs:g,participants:o}):null]}),blocked:k(d,o)}),disabled:z!=="",onNavigate:C});return i.jsx(b("MWV2MessageListIsRowModalContext.bs").Provider.make,{children:i.jsx(b("MWMessageProtectionContext.bs").Provider.make,{children:i.jsx(b("FocusRegion.react").FocusRegion,{recoverFocusQuery:b("MWMessageTableFocusTable.bs").scopeQuery,children:b("cr:4242")==null?H:i.jsx(l.make,{children:H,id:D})}),thread:d}),value:y[1]})}c=a;f.$MWMessageListKeyboardCommandContext$OR$null$requireCond=b("cr:4242");f.styles=m;f.dateBreakQuery=n;f.make=c}),null);
__d("MWChatBusinessQuickReplyText.bs",["MWChatBusinessQuickReply.bs","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply;a=a.quickReplyVertical;var e=a?3:1,f=function(a){return b("bs_curry")._1(c,d)},g=d.image_url;return h.jsx(b("MWChatBusinessQuickReply.bs").make,{bodyLineLimit:e,quickReplyVertical:a,onClick:f,text:d.title,imageUrl:g!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(g)):void 0})}c=a;f.make=c}),null);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c&&d&&a&&b(j(c,d,a,i))}});c("promiseDone")(e)}};var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["MWChatBusinessQuickReply.bs","MWChatUserBirthdayQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.bs",["MWChatBusinessQuickReply.bs","MWChatUserEmailQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserEmailQuery").useUserEmailDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.bs",["MWChatBusinessQuickReply.bs","MWChatUserPhoneNumberQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer.user.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}};e=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.address;a=a==null?void 0:a.postal_code;a&&b(a)});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyList.bs",["CometScrollableArea.react","CurrentUser","LSQuickReplyType.bs","MWChatBusinessQuickReplyText.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserPhoneNumber.bs","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MWTheme.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_caml","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={mask:{backgroundColor:"nred35xi"},container:{position:"l9j0dhe7",width:"k4urcfbm"},pillContainer:{backgroundColor:"nred35xi",display:"j83agx80",flexDirection:"btwxx1t3",flexWrap:"owycx6da",paddingTop:"jwdofwj8",paddingEnd:"dflh9lhu",paddingBottom:"osnr6wyh",paddingStart:"scb9dxdr"},pillContainerVertical:{backgroundColor:"nred35xi",display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"aovydwv3",paddingTop:"l60d2q6s"}};function a(a){var c=a.arrayQR,d=a.onSend,e=a.id;a=a.quickReplyType;a=a!==void 0?a:b("LSQuickReplyType.bs").none;var f=b("MWTheme.bs").useTheme(void 0),g=b("bs_caml").i64_eq(a,b("LSQuickReplyType.bs").vertical);i.useEffect(function(){b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").RENDER_QUICK_REPLIES,other_user_fbid:e}})},[e]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.container,b("MWTheme.bs").isGradient(f)?j.mask:!1),children:i.jsx(b("CometScrollableArea.react"),{horizontal:!0,children:i.jsx("div",{className:h(g?j.pillContainerVertical:j.pillContainer),children:c.map(function(a,c){var e=b("CurrentUser").getID(),f=a.content_type;switch(f){case"text":return i.jsx(b("MWChatBusinessQuickReplyText.bs").make,{onSend:d,quickReply:a,quickReplyVertical:g},String(c));case"user_birthday":return i.jsx(b("MWChatBusinessQuickReplyUserBirthday.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_email":return i.jsx(b("MWChatBusinessQuickReplyUserEmail.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_phone_number":return i.jsx(b("MWChatBusinessQuickReplyUserPhoneNumber.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_state":return i.jsx(b("MWChatBusinessQuickReplyUserState.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_zip_code":return i.jsx(b("MWChatBusinessQuickReplyUserZipCode.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));default:return null}})})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2QuickReplies.bs",["FBID.bs","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWChatBusinessQuickReplyList.bs","MWLSActor.bs","MWLSThreadDisplayContext.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml_option","bs_curry","bs_int64","bs_js_null_undefined","promiseDone","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);if(a===1)return"inboxInThread";else return"chatInThread"}function j(a,b){h.useEffect(function(){if(a!==void 0&&a.scrollPositionRef.current===0&&b.length>0){var c=a.scrollerRef.current;c==null||c.scrollToBottom()}},[a,b.length])}function k(a){var c=a.lastMessageId,d=a.threadKey,e=a.quickReplyType;a=a.scrollerRefs;var f=i(void 0),g=b("ReStore.bs").useHook(void 0),k=b("MWLSActor.bs").useActor(void 0),l=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(g,"quick_reply_ctas").asc,{hd:d,tl:{hd:c,tl:0}}),function(a){var c=a.g;c=c==="quick_reply_text"?"text":c==="quick_reply_phone"?"user_phone_number":c==="quick_reply_email"?"user_email":(b("recoverableViolation")("Unexpected quick-reply type","messenger_web_produce"),"");return{content_type:c,data:void 0,image_url:b("bs_caml_option").some(b("bs_js_null_undefined").fromOption(a.f)),payload:b("bs_caml_option").some(a.h),title:a.e}}),function(a){return a.content_type!==""})},[g,c,d]));j(a,l);if(l.length>0)return h.jsx(b("MWChatBusinessQuickReplyList.bs").make,{arrayQR:l,onSend:function(a){var c=b("LSThreadAttributionStore.bs").getSource(f,b("bs_int64").to_string(d)),e=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(c);c=b("LSTransaction.bs").run(g,function(c){var f=a.payload;if(f!==void 0){f=b("bs_caml_option").valFromOption(f);var g=f==null?void 0:b("bs_caml_option").some(f);f=f==null?void 0:g}else f=void 0;return b("LSOptimisticSendMessage")(k,d,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,a.title,void 0,!1,void 0,void 0,void 0,void 0,e,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,!0,!0,void 0,void 0,void 0,b("bs_curry")._1(b("LS.bs").make,c)).then(function(a){return b("Promise").resolve(a)})},"readWrite");b("promiseDone")(c,void 0,void 0)},id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(k)),quickReplyType:e});else return null}c={make:k};function a(a){var c=a.threadKey,d=a.message;a=a.scrollerRefs;if(d==null)return null;c={lastMessageId:d.e,threadKey:c,quickReplyType:d.T};a!==void 0&&(c.scrollerRefs=b("bs_caml_option").valFromOption(a));return h.jsx(k,c)}d=a;f.useLsSource=i;f.useScrollToBottomIfTheScrollPositionIsBottom=j;f.Impl=c;f.make=d}),null);
__d("MWChatThread.bs",["LSContextBanner.bs","LSMailboxMessagesRangeQueryDirection.bs","LSMessageSendStatusV2.bs","MWChatConversationScroller.bs","MWChatLoadMoreItemsIncrementally.bs","MWChatThreadPos.bs","MWInboxThreadMessagesSpinner.bs","MWMessageElementRefList.bs","MWTheme.bs","MWThreadKey.bs","MWV2CurrentVisibleMessage.bs","MWV2FetchMessagesPage.bs","MWV2MessageList.bs","MWV2QuickReplies.bs","MWV2ReplyContext.bs","MWV2Theme.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={spacer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr"},mask:{backgroundColor:"nred35xi"}},k=b("VideoAutoplayLocalScopeProvider.react");d={make:k};function a(a){return b("VideoPlayerAutoplayRulesProvider").provideAutoplayRules(a)}e={provideAutoplayRules:a};function l(a,c){var d=b("ReStore.bs").useHook(void 0),e=c!==void 0?c.a:void 0;return b("ReQLSubscription.bs").useArray(i.useMemo(function(){if(c!==void 0&&a!==void 0)return b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"messages").asc,{hd:c.a,tl:0}),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a.b,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:a.d,tl:0}}]});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(e),JSON.stringify(b("bs_belt_Option").map(a,function(a){return[a.b,a.d]}))]))}function m(a){var c=a.thread,d=a.forceContextBanner,e=a.spacerRef,f=a.scrollPositionRef,g=a.dispatch,m=a.scrollerRef;a=a.children;var n=b("MWV2CurrentVisibleMessage.bs").useHook(c,m),o=c!==void 0?c.a:void 0,p=n.messageRange,q=n.messageRange;p=b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(p!==void 0?p.i:!1,void 0,void 0,l(n.messageRange,c),b("MWV2FetchMessagesPage.bs").useFetchMessagesPage(n.messageRange,o),q!==void 0?q.h:!1);var r=p[1];n=p[0];q=!p[2]||d;p=b("MWChatThreadPos.bs").useThreadPosition(void 0);d=b("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("default_feed");var s=function(a,c){c=a!==void 0?a:!1;a=f.current;if(typeof a==="number")if(a===0&&c)return b("bs_curry")._1(r,b("LSMailboxMessagesRangeQueryDirection.bs").before);else return;else if(a.TAG===0)return b("bs_curry")._1(r,b("LSMailboxMessagesRangeQueryDirection.bs").before);else return},t=i.useMemo(function(){return b("MWMessageElementRefList.bs").make(void 0)},[]),u=i.useContext(b("MWV2ReplyContext.bs").context),v=u.reply,w=i.useRef(g),x=b("MWTheme.bs").useTheme(void 0);u=i.useMemo(function(){return x._0.id},[x]);i.useEffect(function(){if(c!==void 0&&v!==void 0){var a=v.sendStatusV2;w.current({NAME:"ClickReplyTo",VAL:b("bs_caml").i64_eq(a,b("LSMessageSendStatusV2.bs").serverReceived)||b("bs_caml").i64_eq(a,b("LSMessageSendStatusV2.bs").sentOnly)?{TAG:1,_0:{threadId:c.a,messageId:v.messageId,timestamp:v.timestampMs}}:{TAG:0,_0:{threadId:c.a,offlineThreadingId:v.offlineThreadingId}}})}},[v,w,JSON.stringify(o)]);return i.jsx(k,{children:i.jsxs(b("MWChatConversationScroller.bs").make,{children:[q?c!==void 0?i.jsx(b("LSContextBanner.bs").make,{thread:c}):null:i.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{}),i.jsx("div",{className:(h||(h=b("stylex")))(j.spacer,b("MWTheme.bs").isGradient(x)?j.mask:!1),ref:e}),c!==void 0&&n.length>0?i.jsx(b("MWV2Theme.bs").make,{themeFbid:u,children:i.jsx(b("MWV2MessageList.bs").make,{messages:n,thread:c,isSecureThread:!1,messageElementRefs:t})}):null,c!==void 0?i.jsx(b("MWV2QuickReplies.bs").make,{threadKey:c.a,message:n[n.length-1|0]}):null,a],boundingClientRectRef:p[1],scrollPositionRef:f,dispatch:function(a){switch(a){case 0:return s(!0,void 0);case 1:return g("ScrollToBottom");case 2:return s(void 0,void 0)}},hasMoreAfter:!1,ref:m}),autoplayLocalRules:d})}a={make:m};function c(a){var c=a.scrollPositionRef,d=a.dispatch,e=a.spacerRef,f=a.scrollerRef,g=a.forceContextBanner;a=a.children;g=g!==void 0?g:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var h=b("ReStore.bs").useHook(void 0),j=b("MWThreadKey.bs").useIdMemoizedExn(void 0),k=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"threads").asc,{hd:j,tl:0})},[h,j]));return i.jsx(m,{thread:k,forceContextBanner:g,spacerRef:e,scrollPositionRef:c,dispatch:d,scrollerRef:f,children:a})}c=c;f.styles=j;f.VideoAutoplayLocalScopeProvider=d;f.VideoPlayerAutoplayRulesProvider=e;f.ThreadDetail=a;f.make=c}),null);
__d("MWChatComposerMediaDropTarget.bs",["fbt","MDSText.react","bs_belt_Option","bs_caml_option","gkx","react","recoverableViolation","stylex","useFileDragEvents"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{boxSizing:"rq0escxv",flexGrow:"buofh1pr",position:"l9j0dhe7"},dropContainer:{alignItems:"bp9cbjyn",backgroundColor:"ms7hmo2b",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",justifyContent:"taijpn5t",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"tkr6xdv7"},dropContent:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"}};function l(a){a=b("bs_belt_Option").flatMap(a==null?void 0:b("bs_caml_option").some(a),function(a){return b("bs_caml_option").nullable_to_opt(a.dataTransfer)});if(a!==void 0)return b("bs_caml_option").valFromOption(a).types;else return[]}var m=new Set(["text/plain","text/html","text/uri-list"]);function n(a){return!l(a).some(function(a){return m.has(a)})}function a(a){var c=a.children,d=a.disabled,e=a.fileUploadHandlerRef;a=a.xstyle;var f=!b("gkx")("1835569"),h=f||d;f=j.useCallback(function(a){var c=e.current;c==null?b("recoverableViolation")("Could not find fileUploadHandler to handle dropped file!","messenger_comet"):h||c.uploadFiles(Array.from(a))},[h]);d=b("useFileDragEvents")(function(a){return!1},void 0,n);var l=j.useRef(null);b("useFileDragEvents")(f,l.current,function(a){return!0});return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root,a),ref:l,children:[c,!h&&d?j.jsx("div",{className:(i||(i=b("stylex")))(k.dropContainer),children:j.jsx("div",{className:(i||(i=b("stylex")))(k.dropContent),children:j.jsx(b("MDSText.react"),{type:"body1",children:g._(/*FBT_CALL*/"\u5728\u6b64\u62d6\u653e\u6a94\u6848"/*FBT_CALL*/)})})}):null]})}c=a;f.styles=k;f.mediaTypes=l;f.unsupportedMediaTypes=m;f.checkIfDraggable=n;f.make=c}),null);
__d("MWChatContextBanner.bs",["MDSText.react","MWChatFacepile.bs","MWChatProfile.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{paddingTop:"aodizinl",paddingEnd:"d1544ag0",paddingBottom:"osnr6wyh",paddingStart:"tw6a2znq"},image:{display:"j83agx80",justifyContent:"taijpn5t",marginBottom:"ehgb3d0y"},img:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",objectFit:"bixrwtb6"},main:{textAlign:"oqcyycmt",paddingStart:"a8nywdso"},text:{marginBottom:"bi6gxh9e"}};function a(a){var c=a.images,d=a.context,e=a.items;a=a.threadTitle;var f=c.length;if(f!==1)f=f!==0?i.jsx(b("MWChatFacepile.bs").make,{firstParticipantURI:c[0],secondParticipantURI:c[1],size:60}):i.jsx(b("MWChatProfile.bs").make,{size:60});else{c=c[0];f=i.jsx(b("MWChatProfile.bs").make,{size:60,src:c,alt:""})}return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx("div",{className:h(j.image),children:f}),i.jsxs("div",{className:h(j.main),children:[a!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(j.text),children:i.jsx(b("MDSText.react"),{color:"primary",type:"headlineEmphasized4",children:a})}):null,i.jsx("div",{className:h(j.text),children:i.jsx(b("MDSText.react"),{color:"primary",type:"body4",children:d})}),e.map(function(a,c){return i.jsx("div",{className:(h||(h=b("stylex")))(j.text),children:i.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:a})},String(c))})]})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatThreadContext.bs",["CometHeroHoldTrigger.react","CometProgressRingIndeterminate.react","MWChatBusinessPageGreeting.bs","MWChatContextBanner.bs","MWTheme.bs","bs_caml_option","bs_curry","react","stylex","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={context:{flexShrink:"pfnyh3mw"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",height:"rgmg9uty",flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",flexShrink:"pfnyh3mw",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"},spinnerPlaceholder:{height:"rgmg9uty",width:"k4urcfbm",backgroundColor:"nred35xi"},mask:{backgroundColor:"nred35xi"}};function k(a){a=i.useState(function(){return!1});var c=a[1];a=a[0];var d=b("useVisibilityObserver")({onHidden:function(a){return b("bs_curry")._1(c,function(a){return!1})},onVisible:function(a){return b("bs_curry")._1(c,function(a){return!0})}});return i.jsxs(i.Fragment,{children:[i.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:a}),i.jsx("div",{ref:d,className:(h||(h=b("stylex")))(j.spinner,j.mask),children:a?i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):i.jsx("div",{className:(h||(h=b("stylex")))(j.spinnerPlaceholder)})})]})}c={make:k};function a(a){var c=a.id,d=a.contextBannerData,e=a.welcomePageData;a=a.isOverlay;a=a!==void 0?a:!1;var f=b("MWTheme.bs").useTheme(void 0);f=b("MWTheme.bs").isGradient(f);if(d===void 0)if(a)return null;else return i.jsx(k,{});if(typeof d==="number")if(d!==0||a)return null;else return i.jsx(k,{});a=d._2;if(typeof c==="object"&&c.NAME==="Page"){if(e===void 0)return null;e=b("bs_caml_option").valFromOption(e);return i.jsx(b("MWChatBusinessPageGreeting.bs").make,{contextItems:a,pageResponsiveness:e.should_show_responsive?e.page_responsiveness:void 0,pagesGreeting:e.pages_greeting_should_show?e.pages_greeting_content:void 0,pageId:c.VAL})}return i.jsx("div",{className:(h||(h=b("stylex")))(j.context,f?j.mask:!1),children:i.jsx(b("MWChatContextBanner.bs").make,{images:d._0,context:d._1,items:a,threadTitle:d._3})})}d=a;f.styles=j;f.Spinner=c;f.make=d}),null);
__d("MWChatUnsendNUX.bs",["cr:1799381","cr:1799382","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.senderUnsendNUXEnabled;return h.jsxs(h.Fragment,{children:[b("cr:1799381")==null?null:h.jsx(b("cr:1799381").make,{}),!(b("cr:1799382")==null)&&a?h.jsx(b("cr:1799382").make,{}):null]})}c=b("cr:1799381");d=b("cr:1799382");e=a;f.$MWChatUnsendNUXReceiver$requireCond=b("cr:1799381");f.mwChatUnsendNUXReceiver=c;f.$MWChatUnsendNUXSender$requireCond=b("cr:1799382");f.mwChatUnsendNUXSender=d;f.make=e}),null);
__d("MWChatThreadAnimationWrapper.bs",["MWChatComposerMediaDropTarget.bs","MWChatTabContentStyles.bs","MWChatThreadContext.bs","MWChatUnsendNUX.bs","MWTheme.bs","UserAgent","bs_curry","gkx","react","stylex","useResizeObserver"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=a.composer,d=a.threadView,e=a.animationEnabled,f=a.ensureScrolledToBottom,g=a.mediaDropDisabled,j=a.id,k=a.contextBannerData,l=a.welcomePageData,m=a.shouldInitiallyOpenActionTray;a=a.senderUnsendNUXEnabled;m=m!==void 0?m:!1;a=a!==void 0?a:!1;var n=b("MWTheme.bs").useTheme(void 0),o=b("MWTheme.bs").isGradient(n),p=i.useState(function(){return-1}),q=p[1],r=p[0];p=b("useResizeObserver")(function(a){return b("bs_curry")._1(q,function(b){return a.height})});m=i.useReducer(function(a,b){if(!e)return a;switch(b){case 0:return{actionTrayOpen:!0,actionTrayFullyOpen:!1,shouldAnimateThread:!0,triggerCloseTrayStart:!1,shouldRenderContextOverlay:r>44};case 1:return{actionTrayOpen:!0,actionTrayFullyOpen:!0,shouldAnimateThread:!1,triggerCloseTrayStart:!1,shouldRenderContextOverlay:!1};case 2:return{actionTrayOpen:!0,actionTrayFullyOpen:!1,shouldAnimateThread:!1,triggerCloseTrayStart:!0,shouldRenderContextOverlay:r>0};case 3:return{actionTrayOpen:!1,actionTrayFullyOpen:!1,shouldAnimateThread:!0,triggerCloseTrayStart:!1,shouldRenderContextOverlay:r>0};case 4:return{actionTrayOpen:!1,actionTrayFullyOpen:!1,shouldAnimateThread:!1,triggerCloseTrayStart:!1,shouldRenderContextOverlay:!1}}},{actionTrayOpen:m,actionTrayFullyOpen:m,shouldAnimateThread:!1,triggerCloseTrayStart:!1,shouldRenderContextOverlay:!1});var s=m[1],t=m[0];i.useEffect(function(){t.triggerCloseTrayStart&&b("bs_curry")._1(s,3)},[t,s]);m=function(a){if(t.actionTrayFullyOpen)return b("bs_curry")._1(s,2);else if(t.actionTrayOpen)return b("bs_curry")._1(s,3);else return};var u=function(a){if(!t.actionTrayOpen)return b("bs_curry")._1(s,0)},v=i.useRef(null);n=n.TAG===0?void 0:{backgroundImage:b("MWTheme.bs").gradient(void 0,void 0,n._0.colors)};return i.jsxs("div",{className:(h||(h=b("stylex")))(b("MWChatTabContentStyles.bs").styles.main),children:[i.jsx(b("MWChatUnsendNUX.bs").make,{senderUnsendNUXEnabled:a}),i.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[i.jsxs("div",{className:h(b("MWChatTabContentStyles.bs").styles.gradient),style:n,children:[i.jsxs("div",{className:h(b("MWChatTabContentStyles.bs").styles.threadContainer,t.shouldAnimateThread?b("MWChatTabContentStyles.bs").styles.threadAnimation:!1,t.actionTrayFullyOpen?!1:t.actionTrayOpen&&!b("gkx")("1620337")?b("MWChatTabContentStyles.bs").styles.threadActionTrayOpen:b("MWChatTabContentStyles.bs").styles.threadActionTrayClosed),onTransitionEnd:function(a){if(t.actionTrayOpen)return b("bs_curry")._1(s,1);else return b("bs_curry")._1(s,4)},children:[i.jsx("div",{className:h(b("MWChatTabContentStyles.bs").styles.thread),onLoad:function(a){return b("bs_curry")._1(f,void 0)},onLoadedData:function(a){return b("bs_curry")._1(f,void 0)},onTransitionEnd:function(a){a.stopPropagation()},children:b("bs_curry")._1(d,p)}),e&&!b("UserAgent").isBrowser("Firefox")&&o?i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatTabContentStyles.bs").styles.whitespace)}):null]}),i.jsx("div",{className:h(t.actionTrayFullyOpen?b("MWChatTabContentStyles.bs").styles.actionTrayPlaceholder:!1)}),t.shouldRenderContextOverlay?i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatTabContentStyles.bs").styles.contextOverlay),children:i.jsx(b("MWChatThreadContext.bs").make,{id:j,contextBannerData:k,welcomePageData:l,isOverlay:!0})}):null]}),i.jsx("div",{className:h(b("MWChatTabContentStyles.bs").styles.composer),children:b("bs_curry")._4(c,u,m,v,t.actionTrayOpen)})],disabled:g,fileUploadHandlerRef:v,xstyle:b("MWChatTabContentStyles.bs").styles.dropTarget})]})}c=b("MWChatTabContentStyles.bs").styles;d=a;f.styles=c;f.make=d}),null);
__d("MWChatUnavailableComposer.bs",["fbt","MDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"j1kv9ji2",paddingStart:"pcu7st4i"}};function a(a){a=g._(/*FBT_CALL*/"\u7121\u6cd5\u900f\u904e Messenger \u806f\u7d61\u6b64\u7528\u6236\u3002"/*FBT_CALL*/);return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatBlockedComposer.bs",["fbt","CometLazyDialogTrigger.react","FRXEntryPoint","JSResource","LSContactTypeExact.bs","LSMessagingThreadTypeUtil.bs","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","MDSText.react","MDSTextPairing.react","MWUIParticipantDetails.bs","NFXStoryLocation","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraButton.react","bs_caml","bs_caml_format","bs_curry","cr:12000","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"j1kv9ji2",paddingStart:"pcu7st4i"},rootLarge:{borderTop:"gcieejh5"},firstButton:{marginTop:"tr9rh885"},firstButtonLarge:{marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",width:"k4urcfbm"},secondButton:{marginTop:"aov4n071"},secondButtonLarge:{marginTop:"kvgmc6g5",marginEnd:"oi9244e8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",width:"k4urcfbm"},inlineButtons:{display:"j83agx80",justifyContent:"taijpn5t",marginTop:"n1l5q3vz"}},l=b("gkx")("1224637");function a(a){var c=a.fbid,d=a.thread,e=a.reportingToken,f=a.size;a=a.isReachable;f=f!==void 0?f:"small";a=a!==void 0?a:!0;var h=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantName,c),m=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantShortName,c),n=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantSecondaryName,c);n=n!==void 0&&n!==""?n:void 0;var o=d!==void 0?b("LSMessagingThreadTypeUtil.bs").isSecure(d.c):!1,p=b("ReStore.bs").useHook(void 0),q=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(p,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(c),tl:0})},[c,p]));q=q!==void 0?q.r:b("LSContactTypeExact.bs").unknown;q=b("bs_caml").i64_eq(q,b("LSContactTypeExact.bs").fbPage);var r,s=0,t=0;h!==void 0?n!==void 0?h!==n?r=g._(/*FBT_CALL*/"\u4f60\u5df2\u5c01\u9396\u4f86\u81ea{display_name}\uff08{username}\uff09\u7684\u8a0a\u606f\u548c\u4f86\u96fb"/*FBT_CALL*/,[g._param("display_name",h),g._param("username",n)]):t=2:s=1:t=2;t===2&&(n!==void 0?r=g._(/*FBT_CALL*/"\u4f60\u5df2\u5c01\u9396\u4f86\u81ea{username}\u7684\u8a0a\u606f\u548c\u4f86\u96fb"/*FBT_CALL*/,[g._param("username",n)]):s=1);s===1&&(r=h!==void 0?l?g._(/*FBT_CALL*/"\u4f60\u5df2\u5c01\u9396\u4f86\u81ea{full_name} Workplace \u5e33\u865f\u7684\u8a0a\u606f\u548c\u4f86\u96fb"/*FBT_CALL*/,[g._param("full_name",h)]):q?g._(/*FBT_CALL*/"\u4f60\u5df2\u5c01\u9396{name}"/*FBT_CALL*/,[g._param("name",h)]):g._(/*FBT_CALL*/"\u4f60\u5df2\u5c01\u9396\u4f86\u81ea{full_name}\u7684 Facebook \u5e33\u865f\u7684\u8a0a\u606f\u548c\u4f86\u96fb"/*FBT_CALL*/,[g._param("full_name",h)]):m!==void 0?g._(/*FBT_CALL*/"\u4f60\u5df2\u5c01\u9396{name}"/*FBT_CALL*/,[g._param("name",m)]):g._(/*FBT_CALL*/"\u4f60\u5df2\u5c01\u9396\u6b64\u7528\u6236"/*FBT_CALL*/));t=n!==void 0?g._(/*FBT_CALL*/"\u4f60\u7121\u6cd5\u5728\u6b64\u804a\u5929\u5ba4\u4e2d\u50b3\u9001\u8a0a\u606f\u6216\u64a5\u6253\u96fb\u8a71\u7d66{username}\uff0c\u4e5f\u4e0d\u6703\u6536\u5230\u5c0d\u65b9\u7684\u8a0a\u606f\u6216\u4f86\u96fb\u3002"/*FBT_CALL*/,[g._param("username",n)]):q?g._(/*FBT_CALL*/"\u4f60\u7121\u6cd5\u50b3\u9001\u8a0a\u606f\u7d66\u5c0d\u65b9\uff0c\u4e5f\u4e0d\u6703\u6536\u5230\u5c0d\u65b9\u7684\u8a0a\u606f\u3002"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u4f60\u7121\u6cd5\u5728\u6b64\u804a\u5929\u5ba4\u4e2d\u50b3\u9001\u8a0a\u606f\u6216\u64a5\u6253\u96fb\u8a71\u7d66\u5c0d\u65b9\uff0c\u4e5f\u4e0d\u6703\u6536\u5230\u5c0d\u65b9\u7684\u8a0a\u606f\u6216\u4f86\u96fb\u3002"/*FBT_CALL*/);s=g._(/*FBT_CALL*/"\u4e26\u975e\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u50b3\u9001\u8a0a\u606f\u7d66\u9019\u500b\u5e33\u865f\u3002"/*FBT_CALL*/);h=j.jsx("div",{className:(i||(i=b("stylex")))(k.firstButton,f==="large"?k.firstButtonLarge:!1),children:b("cr:12000")==null?j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBlockActionDialog").__setRef("MWChatBlockedComposer.bs"),dialogProps:{thread:d,targetFBID:c,onClose:function(a){},loggingData:{entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadViewBlockerComposer,requestId:void 0,source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD}},children:function(a,c){return j.jsx(b("TetraButton.react"),{label:g._(/*FBT_CALL*/"\u89e3\u9664\u5c01\u9396"/*FBT_CALL*/),type:"secondary",onPress:a,ref:c})}}):j.jsx(b("cr:12000").make,{threadId:c})});m=e!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(k.secondButton,f==="large"?k.secondButtonLarge:!1),children:j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWChatBlockedComposer.bs"),dialogProps:{entryPoint:b("FRXEntryPoint").BLOCK_COMPOSER,id:e,location:q?b("NFXStoryLocation").MESSENGER_P2B_DIRECT_THREAD_DETAILS:o?b("NFXStoryLocation").MESSENGER_ENCRYPTED_DIRECT_THREAD:b("NFXStoryLocation").MESSENGER_DIRECT_THREAD_DETAILS},children:function(a,c){return j.jsx(b("TetraButton.react"),{label:g._(/*FBT_CALL*/"\u767c\u751f\u932f\u8aa4"/*FBT_CALL*/),type:"secondary",onPress:a,ref:c})}})}):null;n=f==="large"?j.jsxs(j.Fragment,{children:[m,h]}):j.jsxs(j.Fragment,{children:[h,m]});d=a?j.jsxs(j.Fragment,{children:[j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:t}),headline:j.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:r}),textAlign:"center"}),j.jsx("div",{className:(i||(i=b("stylex")))(f==="large"?k.inlineButtons:!1),children:n})]}):j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:s});return j.jsx("div",{className:i(k.root,f==="large"?k.rootLarge:!1),children:d})}c=b("cr:12000");d=a;f.styles=k;f.isWorkUser=l;f.$WorkChatComposerUnblockUser$requireCond=b("cr:12000");f.mwWorkChatComposerUnblockUser=c;f.make=d}),null);
__d("MWChatRestrictedComposer.bs",["fbt","CometLink.react","LsMessengerThreadDamagingActionsEntryPoint.bs","MDSText.react","MDSTextPairing.react","MWInboxInfoMessengerRestrict.bs","MWLSParticipantDetails.bs","MessengerRestrictButtonSource.bs","bs_caml_format","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={unrestrictButton:{display:"j83agx80",justifyContent:"lqtrhpu2",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",marginTop:"tr9rh885",maxWidth:"qgsw8wg4"},dialogButtonContainer:{borderTop:"opwvks06",color:"m9osqain",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq"},dialog:{paddingTop:"ecm0bbzt"}};function a(a){var c=a.fbid;a=a.threadKey;var d=b("MWLSParticipantDetails.bs").useParticipantShortName(c),e=b("MWLSParticipantDetails.bs").useParticipantSecondaryName(c),f=b("MWLSParticipantDetails.bs").useParticipantName(c),h,l=0;f!==void 0?e!==void 0?h=g._(/*FBT_CALL*/"\u4f60\u5df2\u9650\u5236{DisplayName}\uff08{Username}\uff09"/*FBT_CALL*/,[g._param("DisplayName",f),g._param("Username",e)]):l=1:e!==void 0?h=g._(/*FBT_CALL*/"\u4f60\u5df2\u9650\u5236{Username}"/*FBT_CALL*/,[g._param("Username",e)]):l=1;l===1&&(d!==void 0?h=g._(/*FBT_CALL*/"\u4f60\u5df2\u9650\u5236{username}"/*FBT_CALL*/,[g._param("username",d)]):(b("recoverableViolation")("Unexpected null","messenger-srx"),h=j.jsx("div",{})));f=g._(/*FBT_CALL*/"They can't see when you're online or when you've read their messages. {=Learn more}"/*FBT_CALL*/,[g._param("=Learn more",j.jsx(b("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/1021314848608781",children:j.jsx(b("MDSText.react"),{color:"blueLink",type:"bodyLink4",children:g._(/*FBT_CALL*/"\u77ad\u89e3\u8a73\u60c5"/*FBT_CALL*/)})}))]);e=j.jsx("div",{className:(i||(i=b("stylex")))(k.unrestrictButton),children:j.jsx(b("MWInboxInfoMessengerRestrict.bs").make,{contactId:b("bs_caml_format").caml_int64_of_string(c),threadKey:a,loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").restrictComposer,buttonSource:b("MessengerRestrictButtonSource.bs").restrict_composer})});l=j.jsx("div",{className:i(k.dialog),children:j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:f}),headline:j.jsx(b("MDSText.react"),{color:"secondary",type:"bodyLink4",children:h}),textAlign:"center"})});return j.jsx("div",{className:i(k.dialogButtonContainer),children:j.jsxs(j.Fragment,{children:[l,e]})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatUserComposer.bs",["LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","MWChatBlockedComposer.bs","MWChatRestrictedComposer.bs","MWThreadKey.bs","MWUIParticipantDetails.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.fbid;a=a.chatComposer;var d=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantReachabilityStatus,c),e=b("ReStore.bs").useHook(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0),g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"threads").asc,{hd:f,tl:0})},[e,JSON.stringify(f)])),i=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"contacts").asc,{hd:f,tl:0})},[JSON.stringify(f),e]));i=b("bs_belt_Option").mapWithDefault(i,!1,function(a){return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,a),!1)});if(d)if(i)return h.jsx(b("MWChatRestrictedComposer.bs").make,{fbid:c,threadKey:f});else return b("bs_curry")._1(a,void 0);else return h.jsx(b("MWChatBlockedComposer.bs").make,{fbid:c,thread:g,reportingToken:void 0,isReachable:!1})}c={make:i};function a(a){var c=a.threadId;a=a.chatComposer;if(typeof c==="object"&&c.NAME==="User")return h.jsx(i,{fbid:c.VAL,chatComposer:a});else return b("bs_curry")._1(a,void 0)}d=a;f.UserChatThreadWithBlockedOrRestrictedComposer=c;f.make=d}),null);
__d("MWChatWorkDeactivatedComposer.bs",["fbt","MDSText.react","MDSTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq"}};function a(a){a=g._(/*FBT_CALL*/"\u4f60\u7121\u6cd5\u50b3\u9001\u8a0a\u606f\u5230\u9019\u500b\u804a\u5929\u5ba4"/*FBT_CALL*/);var c=g._(/*FBT_CALL*/"\u4f60\u5617\u8a66\u50b3\u9001\u8a0a\u606f\u7684\u500b\u4eba\u6a94\u6848\u5df2\u7d93\u505c\u7528\u3002"/*FBT_CALL*/);return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:c}),headline:j.jsx(b("MDSText.react"),{color:"secondary",type:"bodyLink4",children:a}),textAlign:"center"})})}c=a;f.styles=k;f.make=c}),null);
__d("WorkGardenArchivedMessage",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return h._(/*FBT_CALL*/"The {space-product-name-lowercase} has been archived."/*FBT_CALL*/,[h._param("space-product-name-lowercase","workroom")])}g.getMessage=a}),98);
__d("MWChatWorkGardenArchivedComposer.bs",["fbt","MDSText.react","MDSTextPairing.react","WorkGardenArchivedMessage","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq"}};function a(a){a=g._(/*FBT_CALL*/"\u4f60\u7121\u6cd5\u50b3\u9001\u8a0a\u606f\u5230\u9019\u500b\u804a\u5929\u5ba4"/*FBT_CALL*/);var c=b("WorkGardenArchivedMessage").getMessage();return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:c}),headline:j.jsx(b("MDSText.react"),{color:"secondary",type:"bodyLink4",children:a}),textAlign:"center"})})}c=a;f.styles=k;f.make=c}),null);
__d("MWLSDisabledPageComposer.bs",["fbt","ix","CometLazyPopoverTrigger.react","JSResource","MWLSThreadDisplayContext.bs","MWThread_DEPRECATED.bs","MWUISendMenuItem.bs","TetraButton.react","bs_caml_option","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);a=a!==void 0?a===1?"inboxInThread":a===0?"chatInThread":"unknown":"unknown";var c=b("bs_curry")._3(b("MWUISendMenuItem.bs").useSendMenuItem,a,void 0,void 0),d=b("MWThread_DEPRECATED.bs").useIdExn(void 0);if(typeof d==="object"){a=d.NAME;a=a==="User"||a==="Page"?b("bs_caml_option").some(d.VAL):void 0}else a=void 0;return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("MWLSDisabledPageComposer.bs"),popoverProps:{pageId:a,onSelect:function(a){return b("bs_curry")._3(c,d,a.title,a.id)}},align:"middle",children:function(a,c,d,e,f,i,k){return j.jsx("div",{className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya pcgkmkmd qzhwtbm6 j83agx80",ref:a,children:j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("512878"),20),label:g._(/*FBT_CALL*/"\u529f\u80fd\u8868"/*FBT_CALL*/),onPress:function(a){return b("bs_curry")._1(c,void 0)},reduceEmphasis:!0})})}})}c=a;f.make=c}),null);
__d("MWLSLeaveGroup.bs",["LS.bs","LSOptimisticRemoveParticipantsFromGroupThread","LSTransaction.bs","LSVec.bs","MWLSActor.bs","MWThreadKey.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){return function(a){b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("LSOptimisticRemoveParticipantsFromGroupThread")(e,b("LSVec.bs").make([d]),b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)}},[c,JSON.stringify(d),JSON.stringify(e)])}f.useHook=a}),null);
__d("MWUseAriaDescribedByForComposer.bs",["fbt","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml","intlList","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:0}),function(a){return b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:a.b,tl:0}))})},[c,JSON.stringify(a.a)]));return i.useMemo(function(){var c=a.d;if(c!==void 0)return g._(/*FBT_CALL*/"\u64b0\u5beb\u5167\u5bb9\u5230{name of conversation}"/*FBT_CALL*/,[g._param("name of conversation",c)]).toString();var f=[];e.forEach(function(a){if(a!==void 0&&b("bs_caml").i64_neq(a.a,d)){f.push(a.h);return}});c=b("intlList")(f,b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._(/*FBT_CALL*/"\u64b0\u5beb\u5167\u5bb9\u7d66{participant list}"/*FBT_CALL*/,[g._param("participant list",c)]).toString()},[JSON.stringify(a.a),JSON.stringify(d)])}f.useHook=a}),null);
__d("MWChatTabContent.bs",["BootloaderResource","JSResource","LSNullstateCTAType.bs","LSThreadNullstate.bs","MWChatComposer.bs","MWChatComposerP2PPopoverTrigger.bs","MWChatEmptyComposer.bs","MWChatFeatureLimitsBlockedComposer.bs","MWChatLeftGroupComposer.bs","MWChatTabContentStyles.bs","MWChatThread.bs","MWChatThreadAnimationWrapper.bs","MWChatUnavailableComposer.bs","MWChatUserComposer.bs","MWChatWorkDeactivatedComposer.bs","MWChatWorkGardenArchivedComposer.bs","MWLSDisabledPageComposer.bs","MWLSLeaveGroup.bs","MWLSThreadEmoji.bs","MWTheme.bs","MWThreadKey.bs","MWUseAriaDescribedByForComposer.bs","MWV2ReplyContext.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResource")("MWChatBlockedComposer.bs").__setRef("MWChatTabContent.bs");function j(a,c,d,e,f,g){g={fbid:a,thread:c,reportingToken:d};e!==void 0&&(g.size=b("bs_caml_option").valFromOption(e));f!==void 0&&(g.isReachable=b("bs_caml_option").valFromOption(f));return g}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}var l={reasonResource:i,makeProps:j,make:k},m=b("JSResource")("MWChatBlockedPageComposer.bs").__setRef("MWChatTabContent.bs");function a(a,b,c){return{fbid:a,reportingToken:b}}function n(a){return h.createElement(b("BootloaderResource").read(m).make,a)}a={reasonResource:m,makeProps:a,make:n};var o=b("JSResource")("MWChatWorkMessageRequestComposer.bs").__setRef("MWChatTabContent.bs");function c(a,b,c){return{closeTab:a,leaveGroup:b}}function p(a){return h.createElement(b("BootloaderResource").read(o).make,a)}c={reasonResource:o,makeProps:c,make:p};var q=b("JSResource")("InternalOnlyWorkChatComposerExtras.bs").__setRef("MWChatTabContent.bs");function d(a){return{}}function r(a){return h.createElement(b("BootloaderResource").read(q).make,a)}d={reasonResource:q,makeProps:d,make:r};function s(a){if(typeof a==="number")if(a!==7)return a>=2;else return!1;else return!0}function t(a){var c=a.id,d=a.thread,e=a.otherUserFbid,f=a.isTabFocused,g=a.scrollPositionRef,i=a.initialComposerViewState,l=a.scrollerRef,m=a.shouldShowMenu,o=a.composerType,q=a.dispatch,t=a.closeTab,u=a.endFirstChatTabOpenLoggerRef,v=a.hasContent,w=a.repliedToMessage,x=a.messageRequestInfoText,y=a.sendTypingIndicator,z=a.closeReplyPreview,A=a.onSendMessage,B=b("MWTheme.bs").useTheme(void 0),C;if(typeof o==="number")switch(o){case 0:case 1:case 7:C=!0;break;default:C=!1}else switch(o.TAG|0){case 0:case 1:C=!1;break;default:C=!1}h.useEffect(function(){u.current||(u.current=!0,b("MessengerWebEventsFalcoEvent.bs").log(function(){if(typeof c==="object"){var a=c.NAME;a=a==="User"||a==="Page"?c.VAL:null}else a=null;return{event_name:b("MessengerWebEvent").RENDER_FIRST_THREAD_CONTENT,other_user_fbid:a,thread_fbid:typeof c==="object"&&c.NAME==="Group"?c.VAL:null}}))},[u,c]);var D=b("MWLSLeaveGroup.bs").useHook(void 0),E=function(a){if(g.current!==0)return;a=l.current;if(!(a==null))return a.scrollToBottom()},F=function(a){return E(void 0)},G=function(a){return E(void 0)},H=b("ReStore.bs").useHook(void 0),I=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(H,"thread_nullstate").asc,{hd:d.a,tl:0})},[H,JSON.stringify(d.a)])),J=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(H,"thread_nullstate_ctas").index("threadKeyCtaId").asc,{hd:d.a,tl:0})},[H,JSON.stringify(d.a)])),K=b("bs_caml").i64_neq(d.i,b("bs_caml_int64").zero),L=I!==void 0?b("bs_caml").i64_eq(I.f,b("LSNullstateCTAType.bs").getStarted):!1;a=h.useContext(b("MWV2ReplyContext.bs").context);var M=a.clearReply,N=h.useCallback(function(a){b("bs_curry")._1(z,void 0);return b("bs_curry")._2(M,d.a,a)},[z,M,b("bs_int64").to_string(d.a)]),O=b("MWLSThreadEmoji.bs").useEmoji(void 0),P=b("MWUseAriaDescribedByForComposer.bs").useHook(d);return h.jsx(b("MWChatThreadAnimationWrapper.bs").make,{composer:function(a,g,l,s){s={color:b("MWTheme.bs").bottom(B),otherUserFbid:e,customLikeEmoji:O,isTabFocused:f,shouldShowMenu:m,hasContent:v,repliedToMessage:w,actionTrayOpen:s,closeActionTray:g,onContentsChange:F,onFileUploadStart:G,openActionTray:a,fileUploadHandlerRef:l,closeReplyPreview:N,openTabFromPreview:function(a){return q("OpenTabFromPreview")},closeTab:t,onSendMessage:A,ariaDescribedByContent:P};i!==void 0&&(s.initialComposerViewState=b("bs_caml_option").valFromOption(i));x!==void 0&&(s.messageRequestInfoText=b("bs_caml_option").valFromOption(x));y!==void 0&&(s.onTypingStateChanged=b("bs_caml_option").valFromOption(y));var u=h.jsx(b("MWChatComposer.bs").make,s),z;if(L&&!K)z=null;else if(typeof o==="number")switch(o){case 0:z=u;break;case 1:z=h.jsx(b("MWChatUserComposer.bs").make,{threadId:c,chatComposer:function(a){return u}});break;case 2:z=h.jsx(b("MWLSDisabledPageComposer.bs").make,{});break;case 3:z=h.jsx(b("MWChatLeftGroupComposer.bs").make,{thread:d});break;case 4:z=h.jsx(h.Suspense,{children:h.jsx(p,{closeTab:t,leaveGroup:D}),fallback:null});break;case 5:z=h.jsx(b("MWChatWorkDeactivatedComposer.bs").make,{});break;case 6:z=h.jsx(b("MWChatWorkGardenArchivedComposer.bs").make,{});break;case 7:z=h.jsxs(h.Fragment,{children:[h.jsx(h.Suspense,{children:h.jsx(r,{}),fallback:null}),u]});break;case 8:z=h.jsx(b("MWChatEmptyComposer.bs").make,{});break;case 9:z=h.jsx(b("MWChatFeatureLimitsBlockedComposer.bs").make,{});break;case 10:z=h.jsx(b("MWChatUnavailableComposer.bs").make,{});break}else switch(o.TAG|0){case 0:z=h.jsx(h.Suspense,{children:h.jsx(k,j(o.otherUserFbid,d,o.reportingToken,void 0,void 0,void 0)),fallback:null});break;case 1:z=h.jsx(h.Suspense,{children:h.jsx(n,{fbid:o.otherUserFbid,reportingToken:o.reportingToken}),fallback:null});break;case 2:z=null;break}return h.jsx(h.Fragment,{children:z})},threadView:function(a){return h.jsx(b("MWChatThread.bs").make,{id:c,scrollPositionRef:g,dispatch:q,spacerRef:a,scrollerRef:l,children:I!==void 0&&!K?h.jsx(b("LSThreadNullstate.bs").make,{thread:d,nullstate:I,nullstateCtas:J,lsSource:"chatInThread"}):null})},animationEnabled:C,ensureScrolledToBottom:E,mediaDropDisabled:s(o),id:c,contextBannerData:1,welcomePageData:void 0,shouldInitiallyOpenActionTray:b("MWChatComposerP2PPopoverTrigger.bs").shouldShowOnLoad(c),senderUnsendNUXEnabled:f})}var u={make:t};function e(a){var c=a.id,d=a.otherUserFbid,e=a.isTabFocused,f=a.scrollPositionRef,g=a.initialComposerViewState,i=a.scrollerRef,j=a.shouldShowMenu,k=a.composerType,l=a.dispatch,m=a.closeTab,n=a.endFirstChatTabOpenLoggerRef,o=a.hasContent,p=a.repliedToMessage,q=a.messageRequestInfoText,r=a.sendTypingIndicator,s=a.closeReplyPreview;a=a.onSendMessage;var u=b("ReStore.bs").useHook(void 0),v=b("MWThreadKey.bs").useIdMemoizedExn(void 0),w=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(u,"threads").asc,{hd:v,tl:0})},[u,v]));if(w===void 0)return null;c={id:c,thread:w,otherUserFbid:d,isTabFocused:e,scrollPositionRef:f,scrollerRef:i,shouldShowMenu:j,composerType:k,dispatch:l,closeTab:m,endFirstChatTabOpenLoggerRef:n,hasContent:o,repliedToMessage:p,closeReplyPreview:s,onSendMessage:a};g!==void 0&&(c.initialComposerViewState=b("bs_caml_option").valFromOption(g));q!==void 0&&(c.messageRequestInfoText=b("bs_caml_option").valFromOption(q));r!==void 0&&(c.sendTypingIndicator=b("bs_caml_option").valFromOption(r));return h.jsx(b("MWV2ReplyContext.bs").make,{children:h.jsx(t,c)})}var v=b("MWChatTabContentStyles.bs").styles;e=e;f.MWChatBlockedComposerLazy=l;f.MWChatBlockedPageComposerLazy=a;f.MWChatWorkMessageRequestComposerLazy=c;f.InternalOnlyWorkChatComposerExtrasLazy=d;f.styles=v;f.getIsMediaDropDisabled=s;f.Inner=u;f.make=e}),null);
__d("LSComposerPersistentMenuButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","MWChatChatButtonColorConstants.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={menuButton:{display:"j83agx80",marginBottom:"qzhwtbm6",marginTop:"pcgkmkmd",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq"}};function a(a){var c=a.color,d=a.pageId;a=a.sendMenuItem;return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("LSComposerPersistentMenuButton.bs"),popoverProps:{pageId:d,onSelect:b("bs_curry").__1(a)},align:"end",children:function(a,d,e,f,h,l,m){return j.jsx("div",{className:(i||(i=b("stylex")))(k.menuButton),ref:a,children:j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u958b\u555f\u5e38\u99d0\u529f\u80fd\u8868"/*FBT_CALL*/),testid:"composer_persistent_menu",onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[k.hotLikeDefault]},children:j.jsx("svg",{className:i(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),width:"24",height:"18",viewBox:"0 0 24 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("g",{fill:c,children:j.jsx("path",{d:"M0 1.5C0 0.671573 0.671573 0 1.5 0H22.5C23.3284 0 24 0.671573 24 1.5C24 2.32843 23.3284 3 22.5 3H1.5C0.671573 3 0 2.32843 0 1.5ZM0 9C0 8.17157 0.671573 7.5 1.5 7.5H22.5C23.3284 7.5 24 8.17157 24 9C24 9.82843 23.3284 10.5 22.5 10.5H1.5C0.671573 10.5 0 9.82843 0 9ZM1.5 15C0.671573 15 0 15.6716 0 16.5C0 17.3284 0.671573 18 1.5 18H22.5C23.3284 18 24 17.3284 24 16.5C24 15.6716 23.3284 15 22.5 15H1.5Z"})})})})})}})}c=a;f.make=c}),null);
__d("LSGenerateTraceId.bs",["LSRequestId.bs","gkx","killswitch"],(function(a,b,c,d,e,f){"use strict";function a(a){if(!b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID")&&b("gkx")("1951030"))return b("LSRequestId.bs").generate(void 0)}f.make=a}),null);
__d("MWChatComposerGifButtonSVG.bs",["MWChatChatButtonColorConstants.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{display:"a8c37x1j"}};function a(a){var c=a.fill,d=a.xstyle;a=a.size;d=d!==void 0?b("bs_caml_option").valFromOption(d):!1;return i.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 16 16",height:String(a)+"px",width:String(a)+"px",className:(h||(h=b("stylex")))(j.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,d),children:i.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:c,fillRule:"nonzero"})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerPhotoButtonSVG.bs",["MWChatChatButtonColorConstants.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{display:"a8c37x1j"}};function a(a){var c=a.fill,d=a.xstyle;a=a.size;d=d!==void 0?b("bs_caml_option").valFromOption(d):!1;var e=c===void 0?(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f=c===void 0?(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0;return i.jsx("svg",{viewBox:"0 -1 17 17",height:String(a)+"px",width:String(a)+"px",className:(h||(h=b("stylex")))(j.icon,d),children:i.jsxs("g",{fill:"none",fillRule:"evenodd",children:[i.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:c}),i.jsx("circle",{className:e,fill:c,cx:"8.5",cy:"4.5",r:"1.5"}),i.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:c}),i.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:c,strokeLinecap:"round",strokeLinejoin:"round"})]})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerStickerButtonSVG.bs",["MWChatChatButtonColorConstants.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{display:"a8c37x1j"}};function a(a){var c=a.fill,d=a.xstyle;a=a.size;d=d!==void 0?b("bs_caml_option").valFromOption(d):!1;return i.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 17 16",height:String(a)+"px",width:String(a)+"px",className:(h||(h=b("stylex")))(j.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,d),children:i.jsxs("g",{fillRule:"evenodd",children:[i.jsx("circle",{fill:"none",cx:"5.5",cy:"5.5",r:"1"}),i.jsx("circle",{fill:"none",cx:"11.5",cy:"4.5",r:"1"}),i.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),i.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:c}),i.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:c,fillRule:"nonzero"})]})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerActionTray.bs",["MWChatComposerGifButtonSVG.bs","MWChatComposerPhotoButtonSVG.bs","MWChatComposerStickerButtonSVG.bs","MWPTooltipGroup.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignItems:"aovydwv3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",backgroundColor:"nred35xi",position:"pmk7jnqg",width:"k4urcfbm",transitionProperty:"flx89l3n",transitionDuration:"l9l1gxur"},trayButton:{flexGrow:"buofh1pr",marginStart:"h676nmdw"},trayOpen:{transform:"i9k17dj3"},trayClosed:{transform:"agkhgkm8"},buttonContainer:{backgroundColor:"nred35xi",display:"j83agx80",paddingEnd:"rv4hoivh",paddingTop:"cxgpxx05",width:"k4urcfbm",boxSizing:"rq0escxv"},button:{flexGrow:"buofh1pr",marginStart:"h676nmdw"}};function a(a){return i.jsx(b("MWChatComposerPhotoButtonSVG.bs").make,{fill:"var(--primary-text)",size:20})}a={make:a};function c(a){return i.jsx(b("MWChatComposerStickerButtonSVG.bs").make,{fill:"var(--primary-text)",size:20})}c={make:c};function d(a){return i.jsx(b("MWChatComposerGifButtonSVG.bs").make,{fill:"var(--primary-text)",size:20})}d={make:d};function e(a){var c=a.isOpen;a=a.trayButtons;return i.createElement("div",{"data-visualcompletion":"ignore","aria-hidden":!c,className:(h||(h=b("stylex")))(j.root,c?j.trayOpen:j.trayClosed)},i.jsx("div",{className:h(j.buttonContainer),children:i.jsx(b("MWPTooltipGroup.react"),{children:a})}))}e=e;f.styles=j;f.PhotoButtonSVG=a;f.StickerButtonSVG=c;f.GifButtonSVG=d;f.make=e}),null);
__d("MWChatComposerActionTrayToggleButton.bs",["fbt","CometPressable.react","MWChatAudioLog.bs","MWChatComposerIcons.bs","MWPTooltip.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={actionTrayButton:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"sw24d88r"}};function a(a){var c=a.actionTrayOpen,d=a.disabled,e=a.buttonColor,f=a.onPress,h=a.audioRecorderShown;a=c?g._(/*FBT_CALL*/"\u95dc\u9589\u66f4\u591a\u52d5\u4f5c"/*FBT_CALL*/):h?g._(/*FBT_CALL*/"\u522a\u9664\u9304\u97f3\u5167\u5bb9"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u958b\u555f\u66f4\u591a\u52d5\u4f5c"/*FBT_CALL*/);var k=function(a){if(h){b("bs_curry")._1(f,a);return b("MWChatAudioLog.bs").logDeleteRecording(void 0)}else return b("bs_curry")._1(f,a)};return i.jsx(b("MWPTooltip.react"),{tooltip:a,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":a,disabled:d,testid:"composer_actions_button",onPress:k,overlayRadius:"50%",xstyle:function(a){return[j.actionTrayButton]},children:i.jsx(b("MWChatComposerIcons.bs").MoreActions.make,{size:20,fill:d?void 0:e,isRotated:c||h})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerChevronIconSVG.bs",["MWChatChatButtonColorConstants.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{display:"q9uorilb"}};function a(a){var c=a.color;a=a.size;a=a!==void 0?a:18;var d=c===void 0?(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0;return i.jsx("svg",{className:(h||(h=b("stylex")))(j.icon),height:String(a)+"px",width:String(a)+"px",viewBox:"0 0 15 26",children:i.jsx("g",{stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("g",{transform:"translate(-811.000000, -707.000000)",stroke:c,className:d,strokeWidth:"3",children:i.jsx("g",{transform:"translate(717.000000, 300.000000)",children:i.jsx("polyline",{points:"95.5625 431.25 106.8125 420 95.5625 408.75"})})})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerMainActionsToggleButtons.bs",["fbt","CometPressable.react","MWChatComposerChevronIconSVG.bs","MWPTooltip.react","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={button:{marginStart:"dwxx2s2f",marginEnd:"kady6ibp",marginBottom:"p5pk11vy",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},buttonPressable:{paddingStart:"b3onmgus",paddingEnd:"ph5uu5jm",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},buttonHidden:{width:"ttbfdpzt",transform:"qpbg1qsm"},buttonShown:{width:"dbpd2lw6",transform:"g3zh7qmp"}};function a(a){var c=a.buttonColor,d=a.visible,e=a.onPress;a=a.disabled;d=d!==void 0?d:!0;var f=g._(/*FBT_CALL*/"\u958b\u555f\u66f4\u591a\u52d5\u4f5c"/*FBT_CALL*/),h={};c=a?void 0:c;c!==void 0&&(h.color=b("bs_caml_option").valFromOption(c));return j.jsx("div",{className:(i||(i=b("stylex")))(k.button,d?k.buttonShown:k.buttonHidden),children:j.jsx(b("MWPTooltip.react"),{tooltip:f,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":f,disabled:a,testid:"composer_actions_button",onPress:e,overlayRadius:"50%",xstyle:function(a){return[k.buttonPressable]},children:j.jsx(b("MWChatComposerChevronIconSVG.bs").make,h)})})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatComposerActionsToggle.bs",["FBLogger","MWChatComposerActionTrayToggleButton.bs","MWChatComposerMainActionsToggleButtons.bs","MWChatComposerUtil.bs","bs_caml_option","bs_curry","react","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.actionTrayOpen,d=a.buttonColor,e=a.hasExtraTrayButtons,f=a.setShouldExpandInput,g=a.shouldExpandInput,i=a.hideAudioRecorder,j=a.closeActionTray,k=a.openActionTray,l=a.editorState,m=a.hasMediaAttachments,n=a.audioRecorderShown,o=a.isLocalThread;a=a.threadKey;m=m===!0;o=o||m;l=l!==void 0?b("MWChatComposerUtil.bs").hasContent(b("bs_caml_option").valFromOption(l)):(b("FBLogger")("messenger-comet").mustfix("Did not properly supply editorState prop to MWChatComposerActionTrayButton from viewState!"),!1);var p=h.useCallback(function(a){if(c){b("bs_curry")._1(j,void 0);return b("bs_curry")._1(f,function(a){return!1})}else if(n)return b("bs_curry")._1(i,void 0);else return b("bs_curry")._1(k,void 0)},[c,k,j,f,i,n]),q=h.useCallback(function(a){return b("bs_curry")._1(f,function(a){return!1})},[f]);g=g||c||m||l&&e;if(e)return h.jsx(b("MWChatComposerActionTrayToggleButton.bs").make,{actionTrayOpen:c,disabled:o,buttonColor:d,onPress:p,audioRecorderShown:n,closeActionTray:j,threadKey:a});else return h.jsx(b("MWChatComposerMainActionsToggleButtons.bs").make,{buttonColor:d,visible:g,onPress:q,disabled:o})}c=b("withComposerViewStatePart")(a,function(a){var b=a.mediaAttachments;return{hasMediaAttachments:b==null?!1:b.length!==0,editorState:a.editorState}});f.make=c}),null);
__d("MWComposerDisclosureContainer.bs",["MWLSThreadDisplayContext.bs","bs_caml_obj","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i",textAlign:"oqcyycmt"},inner:{maxWidth:"bl38xub0",marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5"},border:{borderTop:"opwvks06"}};function a(a){var c=a.children;a=a.testid;var d=b("MWLSThreadDisplayContext.bs").useHook(void 0);return i.jsx("div",{className:(h||(h=b("stylex")))(j.root,b("bs_caml_obj").caml_equal(d,0)?j.border:!1),"data-testid":a,children:i.jsx("div",{className:h(j.inner),children:c})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerGroupMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResource","LsSystemFolder.bs","MDSText.react","MWComposerDisclosureContainer.bs","MWLSThreadFolder.bs","MWThreadKey.bs","MWVerticalRhythm.bs","MessageRequestsLog.bs","MessagingThreadType.bs","bs_caml_int64","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.onDeleteConversation,d=a.onLeaveGroup;a=a.isGXAC;a=a!==void 0?a:!1;var e=b("bs_int64").to_string(b("MWThreadKey.bs").useIdMemoizedExn(void 0)),f=b("MWLSThreadFolder.bs").useHook(void 0),h=b("bs_caml_int64").to_int32(b("MessagingThreadType.bs").group),j=f==="pending"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other);i.useEffect(function(){b("MessageRequestsLog.bs").logMessageRequestInfoShown(e,h,j)},[]);return i.jsxs(b("MWComposerDisclosureContainer.bs").make,{children:[a?i.jsxs(i.Fragment,{children:[i.jsx(b("MDSText.react"),{color:"secondary",type:"entityHeaderMeta3",children:g._(/*FBT_CALL*/"\u9019\u500b\u7fa4\u7d44\u5305\u542b Facebook \u548c Instagram \u7528\u6236"/*FBT_CALL*/)}),i.jsx(b("MWVerticalRhythm.bs").make,{height:8})]}):null,i.jsxs(b("MDSText.react"),{color:"secondary",type:"body4",children:[a?g._(/*FBT_CALL*/"If you reply, you and other members can see information like when you've read messages."/*FBT_CALL*/):g._(/*FBT_CALL*/"\u5982\u679c\u56de\u8986\uff0c\u4f60\u548c\u5176\u4ed6\u6210\u54e1\u5c07\u80fd\u5920\u9032\u884c\u7fa4\u7d44\u901a\u8a71\uff0c\u4e26\u67e5\u770b\u4f60\u8b80\u53d6\u8a0a\u606f\u7684\u6642\u9593\u7b49\u8cc7\u8a0a\u3002"/*FBT_CALL*/),i.jsx(b("MWVerticalRhythm.bs").make,{height:5}),i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineGroupMessageRequestDialogForJSResource.react").__setRef("MWChatComposerGroupMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:c,onLeaveGroup:d},children:function(a,c){return i.jsx(b("CometPressable.react"),{ref:c,testid:"mw_group_message_request_info_text_trigger",onPress:function(c){b("MessageRequestsLog.bs").logDenialOptionsTapped(e,h,j);return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:i.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:g._(/*FBT_CALL*/"\u6211\u4e0d\u60f3\u56de\u8986"/*FBT_CALL*/)})})}})]})],testid:"mw_group_message_request_info_text"})}c=a;f.make=c}),null);
__d("MWUIChatComposerUserMessageRequestInfoText.bs",["cr:1771679","cr:576","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.fbid;a=a.onDeleteConversation;if(b("cr:576")==null)if(b("cr:1771679")==null)return null;else return h.jsx(b("cr:1771679").make,{fbid:c,onDeleteConversation:a});else return h.jsx(b("cr:576").make,{fbid:c,onDeleteConversation:a})}c=a;f.$null$OR$WorkplaceMSChatComposerUserMessageRequestInfoText$requireCond=b("cr:576");f.$MWLSChatComposerUserMessageRequestInfoText$OR$null$requireCond=b("cr:1771679");f.make=c}),null);
__d("MWUIDeleteThread.bs",["cr:591"],(function(a,b,c,d,e,f){"use strict";a=b("cr:591").useDeleteThread;f.$MWLSDeleteThread$OR$WorkplaceMSDeleteThread$requireCond=b("cr:591");f.useDeleteThread=a}),null);
__d("MWChatComposerMessageRequestInfoText.bs",["LsMessageRequestsActions.bs","LsSystemFolder.bs","MWChatComposerGroupMessageRequestInfoText.bs","MWLSLeaveGroup.bs","MWLSThreadFolder.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIChatComposerUserMessageRequestInfoText.bs","MWUIDeleteThread.bs","MessageRequestsLog.bs","MessagingThreadType.bs","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1821619","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:1821619")==null?void 0:b("bs_caml_option").some(b("cr:1821619"));function a(a){var c=a.closeTab,d=a.size;a=a.shouldShowMessageRequestInfoText;d=d!==void 0?d:"small";var e=b("MWThread_DEPRECATED.bs").useIdExn(void 0),f=b("bs_curry")._1(b("MWUIDeleteThread.bs").useDeleteThread,void 0),g=b("MWLSLeaveGroup.bs").useHook(void 0),j=b("bs_int64").to_string(b("MWThreadKey.bs").useIdMemoizedExn(void 0)),k=b("MWLSThreadFolder.bs").useHook(void 0),l=k==="pending"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other);k=function(a){return h.useCallback(function(d){b("MessageRequestsLog.bs").logActionConfirmed(j,b("bs_caml_int64").to_int32(a),l,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").$$delete));b("bs_curry")._1(f,void 0);return b("bs_curry")._1(c,e)},[c,f,e,j,l])};var m=k(b("MessagingThreadType.bs").group);k=k(b("MessagingThreadType.bs").oneToOne);if(typeof e!=="object")return null;var n=e.NAME;if(n!=="Group")if(n==="User")if(a)return h.jsx(b("MWUIChatComposerUserMessageRequestInfoText.bs").make,{fbid:e.VAL,onDeleteConversation:k});else if(!(b("cr:1821619")==null)&&b("gkx")("1839788"))return h.jsx(i.make,{size:d});else return null;else return null;if(!a)return null;var o=e.VAL;return h.jsx(b("MWChatComposerGroupMessageRequestInfoText.bs").make,{onDeleteConversation:m,onLeaveGroup:function(a){b("MessageRequestsLog.bs").logActionConfirmed(j,b("bs_caml_int64").to_int32(b("MessagingThreadType.bs").group),l,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").leaveGroup));return b("bs_curry")._2(g,o,a)}})}c=a;f.$MWComposerXacDisclosureLoader$requireCond=b("cr:1821619");f.make=c}),null);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=8659;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:j}),f=e.xacThreadDisclosureNux;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:f!=null?i.jsx(d("CometRelay").MatchContainer,{match:f,props:{isThreadInNullState:a.isThreadInNullState,nuxKey:e.xacThreadDisclosureNux,size:a.size}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSChatComposerUserMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResource","LsSystemFolder.bs","MDSText.react","MDSTextPairing.react","MWComposerDisclosureContainer.bs","MWLSParticipantDetails.bs","MWLSThreadFolder.bs","MWMessageRequestSharedTexts.bs","MWThreadKey.bs","MWVerticalRhythm.bs","MessageRequestsLog.bs","MessagingThreadType.bs","bs_caml_int64","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.fbid;a=a.onDeleteConversation;var d=b("bs_int64").to_string(b("MWThreadKey.bs").useIdMemoizedExn(void 0)),e=b("MWLSThreadFolder.bs").useHook(void 0),f=b("bs_caml_int64").to_int32(b("MessagingThreadType.bs").oneToOne),h=e==="pending"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other);e=b("MWLSParticipantDetails.bs").useParticipantName(c);e=e!==void 0?e:g._(/*FBT_CALL*/"Facebook \u7528\u6236"/*FBT_CALL*/);var j=b("MWLSParticipantDetails.bs").useParticipantShortName(c);j=j!==void 0?j:g._(/*FBT_CALL*/"Facebook \u7528\u6236"/*FBT_CALL*/);var k=b("MWLSParticipantDetails.bs").useParticipantSecondaryName(c);k=k!==void 0&&k!==""?k:void 0;var l=k!==void 0?i.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:g._(/*FBT_CALL*/"\u4f60\u5373\u5c07\u767c\u9001\u8a0a\u606f\u7d66\u4e00\u500b Instagram \u5e33\u865f"/*FBT_CALL*/)}):null,m=k!==void 0?e!==k?g._(/*FBT_CALL*/"\u5982\u679c\u4f60\u56de\u8986\u8a0a\u606f\uff0c{IGDisplayName}\uff08{IGUserName}\uff09\u4e5f\u5c07\u80fd\u4f7f\u7528 Instagram \u8207\u4f60\u901a\u8a71\uff0c\u4e26\u67e5\u770b\u4f60\u7684\u4e0a\u7dda\u72c0\u614b\u548c\u8a0a\u606f\u8b80\u53d6\u6642\u9593\u7b49\u8cc7\u8a0a\u3002"/*FBT_CALL*/,[g._param("IGDisplayName",e),g._param("IGUserName",k)]):g._(/*FBT_CALL*/"\u5982\u679c\u56de\u8986\uff0c{IGUserName}\u4e5f\u80fd\u5920\u8207\u4f60\u901a\u8a71\uff0c\u4e26\u67e5\u770b\u4f60\u7684\u4e0a\u7dda\u72c0\u614b\u548c\u8a0a\u606f\u8b80\u53d6\u6642\u9593\u7b49\u8cc7\u8a0a\u3002"/*FBT_CALL*/,[g._param("IGUserName",k)]):b("MWMessageRequestSharedTexts.bs").getFBUserInfoTextMessage(e),n=k!==void 0?e!==k?g._(/*FBT_CALL*/"\u6211\u4e0d\u60f3\u6536\u5230{name}\uff08{username}\uff09\u7684\u8a0a\u606f"/*FBT_CALL*/,[g._param("name",e),g._param("username",k)]):g._(/*FBT_CALL*/"\u6211\u4e0d\u60f3\u6536\u5230{username}\u7684\u8a0a\u606f"/*FBT_CALL*/,[g._param("username",k)]):b("MWMessageRequestSharedTexts.bs").getDefaultInfoTextFooter(e);i.useEffect(function(){b("MessageRequestsLog.bs").logMessageRequestInfoShown(d,f,h)},[]);return i.jsxs(b("MWComposerDisclosureContainer.bs").make,{children:[i.jsx(b("MDSTextPairing.react"),{body:i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:m}),headline:l,textAlign:"center"}),i.jsx(b("MWVerticalRhythm.bs").make,{height:5}),i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineUserMessageRequestDialogForJSResource.react").__setRef("MWLSChatComposerUserMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:a,otherUserFbid:c,otherUserName:e,otherUserShortName:j,otherUserSecondaryName:k},children:function(a,c){return i.jsx(b("CometPressable.react"),{ref:c,testid:"mw_user_message_request_info_text_trigger",onPress:function(c){b("MessageRequestsLog.bs").logDenialOptionsTapped(d,f,h);return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:i.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:n})})}})],testid:"mw_user_message_request_info_text"})}c=a;f.make=c}),null);
__d("MWLSSendFileMessageUtils.bs",["fbt","CometLocalVideoFileThumbnailSuspense.react","LS.bs","LSDict","LSLocalApplyOptimisticMessageWithAttachments","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSVec.bs","MNLSXMALayoutType.bs","MWChatImage.bs","MWLSSendMessageUtils.bs","MercuryLocalIDs","MessagingAttachmentType.bs","ReQLTable","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var c=a.length;if(c!==1)if(c!==0){c=a.length;c=g._(/*FBT_CALL*/"\u4f60\u50b3\u9001\u4e86{number}\u5f35\u76f8\u7247"/*FBT_CALL*/,[g._param("number",String(c))])}else c=void 0;else{a=a[0];a=a.attachment_type;c=b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").video)?g._(/*FBT_CALL*/"\u4f60\u50b3\u9001\u4e86 1 \u6bb5\u5f71\u7247"/*FBT_CALL*/):b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").image)?g._(/*FBT_CALL*/"\u4f60\u50b3\u9001\u4e86 1 \u5f35\u76f8\u7247"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u4f60\u50b3\u9001\u4e86 1 \u500b\u9644\u4ef6"/*FBT_CALL*/)}return b("bs_belt_Option").map(c,function(a){return a.toString()})}function a(a,c){if(a.TAG===4)return;var d=a._1;a=a._0;var e;switch(a){case 0:e=URL.createObjectURL(d);break;case 1:e=b("CometLocalVideoFileThumbnailSuspense.react").getFromCache(d,b("MWChatImage.bs").defaultMaxHeight,b("MWChatImage.bs").defaultMaxHeight);break;case 2:e=void 0;break}var f=b("MercuryLocalIDs").generateOfflineThreadingID(void 0),g;switch(a){case 0:g=b("MessagingAttachmentType.bs").image;break;case 1:g=d.type==="image/gif"?b("MessagingAttachmentType.bs").image:b("MessagingAttachmentType.bs").video;break;case 2:g=b("MessagingAttachmentType.bs").file;break}a=d.name;f=b("bs_caml").i64_eq(g,b("MessagingAttachmentType.bs").file)?{attachment_fbid:f,offline_attachment_id:f,attachment_type:g,attachment_index:b("bs_caml_int64").of_int32(c),filename:a,filesize:void 0,has_media:!1,has_xma:!0,playable_url:void 0,playable_url_mime_type:void 0,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:b("MNLSXMALayoutType.bs").single,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:a,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0}:b("bs_caml").i64_eq(g,b("MessagingAttachmentType.bs").video)?{attachment_fbid:f,offline_attachment_id:f,attachment_type:g,attachment_index:b("bs_caml_int64").of_int32(c),filename:a,filesize:void 0,has_media:!0,has_xma:!1,playable_url:URL.createObjectURL(d),playable_url_mime_type:d.type,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:[0,200],preview_height:[0,200],xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0}:{attachment_fbid:f,offline_attachment_id:f,attachment_type:g,attachment_index:b("bs_caml_int64").of_int32(c),filename:a,filesize:void 0,has_media:!0,has_xma:!1,playable_url:void 0,playable_url_mime_type:void 0,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:d.type,mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0};c=b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(d.uploadID));return[c,f]}function c(a,c,d,e,f,g,i,j,k){var l=h(g);return b("LSLocalApplyOptimisticMessageWithAttachments")(c,d,e,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,b("bs_caml_option").option_get(l!==void 0?l:f),!1,void 0,b("bs_caml_option").option_get(b("MWLSSendMessageUtils.bs").getReplySourceId(i)),b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,b("LSVec.bs").make(g.map(function(a){return b("LSDict").fromObject(a)})),b("bs_curry")._1(b("LS.bs").make,a)).then(function(c){c=c[0];var e=b("LSThreadAttributionStore.bs").getSource(j,b("bs_int64").to_string(d));e=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(e);e=b("ReQLTable").table(a,"messages_optimistic_context").add({a:b("bs_caml_format").caml_int64_of_string(c),b:d,c:c,d:void 0,e:e,f:void 0,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:!1,m:k});b("promiseDone")(e,void 0,void 0);return c})}f.snippetForAttachments=h;f.makeAttachmentPayload=a;f.localApplyOptimisticMessageWithAttachments=c}),null);
__d("MWLSSendAudioMessage.bs",["LS.bs","LSInsertNewMediaSend","LSMarkSubJobCompletedV2","LSMessagingThreadTypeUtil.bs","LSResumeMediaSendJob","LSTransaction.bs","MWLSActor.bs","MWLSSendFileMessageUtils.bs","MWThread_DEPRECATED.bs","MercuryLocalIDs","MessagingAttachmentType.bs","Promise","ReStore.bs","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=function(a){return a.toString()};function a(a,c){var d=b("MWLSActor.bs").useActor(void 0),e=b("ReStore.bs").useHook(void 0),f=h.useCallback(function(f){return function(g,h){var i=b("MWThread_DEPRECATED.bs").toThreadKey(f),j=b("LSMessagingThreadTypeUtil.bs").ofThreadId(f),k=b("MercuryLocalIDs").generateOfflineThreadingID(void 0),l=k,m=URL.createObjectURL(g);g=g.type;h=b("bs_caml_int64").of_float(h);var n={attachment_fbid:k,offline_attachment_id:l,attachment_type:b("MessagingAttachmentType.bs").audio,attachment_index:b("bs_caml_int64").zero,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,playable_url:m,playable_url_mime_type:g,playable_duration_ms:h,preview_url:void 0,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0};return b("LSTransaction.bs").run(e,function(e){return b("MWLSSendFileMessageUtils.bs").localApplyOptimisticMessageWithAttachments(e,d,i,j,void 0,[n],void 0,a,c).then(function(a){var c=b("LSInsertNewMediaSend")(b("bs_belt_Option").getExn(l),a,b("bs_caml_int64").zero,b("MessagingAttachmentType.bs").audio,!1,!1,!1,!1,b("bs_curry")._1(b("LS.bs").make,e));b("promiseDone")(c,void 0,void 0);return b("Promise").resolve(a)}).then(function(a){return[a,k]})},"readWrite")}},[d,e]),g=h.useCallback(function(a){return function(c,d){var f=b("LSTransaction.bs").run(e,function(e){return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_format").caml_int64_of_string(i(d)),void 0,void 0,void 0,b("bs_curry")._1(b("LS.bs").make,e)).then(function(c){return b("LSResumeMediaSendJob")(a,b("bs_caml_int64").zero,b("bs_curry")._1(b("LS.bs").make,e))})},"readWrite");b("promiseDone")(f,void 0,void 0)}},[e]);return[f,g]}f.castFbidFromNumber=i;f.useMessage=a}),null);
__d("MWLSMediaSendUploadHandler.bs",["LSTransaction.bs","MWLSMediaSendManager.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSMediaSendManager.bs").useManager(void 0),e=b("MWLSMediaSendManager.bs").useResumeMediaSend(void 0);return h.useCallback(function(a){return function(f){var g=b("MWLSMediaSendManager.bs").getUploadJob(d,a);if(g===void 0)return b("MWLSMediaSendManager.bs").saveFile(d,a,f);var h=[a,g];g=b("LSTransaction.bs").run(c,function(a){return b("bs_curry")._3(e,a,h,f)},"readWrite");b("promiseDone")(g,void 0,void 0)}},[c,d,e])}f.useUploadSuccessCallback=a}),null);
__d("MWLSThreadHasInstagramUsers.bs",["MWLSContactTypeExactUtils.bs","Promise","ReQL.bs","ReQLTable","ReStore.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){return b("ReQL.bs").filter(b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"participants").asc,{hd:c,tl:0}),b("ReQLTable").table(a,"contacts").asc),function(a){return b("MWLSContactTypeExactUtils.bs").isIgContact(a[1])})}function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(a){return b("ReQL.bs").first(i(c,a)).then(function(a){return b("Promise").resolve(b("bs_belt_Option").isSome(a))})},[c])}f.query=i;f.useCallbackHook=a}),null);
__d("MWLSSendFileMessage.bs",["CometComposerViewState.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWLSLogSend.bs","MWLSMediaSendManager.bs","MWLSMediaSendUploadHandler.bs","MWLSSendFileMessageUtils.bs","MWLSThreadHasInstagramUsers.bs","MWThread_DEPRECATED.bs","ReStore.bs","bs_belt_Array","bs_belt_Option","bs_caml_option","bs_caml_splice_call","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("MWLSActor.bs").useActor(void 0),e=b("MWLSMediaSendManager.bs").useStartMediaSend(void 0);return h.useCallback(function(f){return function(g,h,i,j){var k=b("LSMessagingThreadTypeUtil.bs").ofThreadId(f),l=b("MWThread_DEPRECATED.bs").toThreadKey(f),m=b("bs_belt_Array").keepMap(i.map(b("MWLSSendFileMessageUtils.bs").makeAttachmentPayload),function(a){return a});return b("MWLSSendFileMessageUtils.bs").localApplyOptimisticMessageWithAttachments(g,d,l,k,h,m.map(function(a){return a[1]}),j,a,c).then(function(a){return window.Promise.all(m.map(function(c,d){var h=c[1];return b("bs_curry")._7(e,g,a,b("bs_belt_Option").getExn(h.offline_attachment_id),d,h.attachment_type,c[0],f)}))})}},[d,e])}function a(a,c,d,e){var f=b("ReStore.bs").useHook(void 0),g=b("MWLSActor.bs").useActor(void 0),j=b("MWLSMediaSendUploadHandler.bs").useUploadSuccessCallback(void 0),k=i(d,e),l=b("MWLSMediaSendManager.bs").useResumeMediaSend(void 0);d=b("MWLSMediaSendManager.bs").useStartMediaSend(void 0);var m=b("MWLSMediaSendManager.bs").useManager(void 0),n=b("MWLSThreadHasInstagramUsers.bs").useCallbackHook(void 0);e=h.useCallback(function(d){return function(e,g,h){g=b("MWThread_DEPRECATED.bs").toThreadKey(d);g=b("bs_curry")._1(n,g).then(function(c){var g=b("bs_curry")._1(k,d),i=b("bs_belt_Array").partition(h,function(a){return b("CometComposerViewState.bs").MediaAttachment.fileType(a)===0}),j=i[1],l=i[0];return b("LSTransaction.bs").run(f,function(d){var f=function(c){var f=[];return window.Promise.all(c.map(function(c,f){if(f===0)return b("bs_curry")._4(g,d,e,[c],a);else return b("bs_curry")._4(g,d,void 0,[c],a)})).then(function(a){return b("bs_caml_splice_call").spliceObjApply(f,"concat",[a])})};if(l.length!==0)if(c)return f(l);else return b("bs_curry")._4(g,d,e,l,a).then(function(a){return window.Promise.all(j.map(function(a){return b("bs_curry")._4(g,d,void 0,[a],void 0)})).then(function(c){return b("bs_caml_splice_call").spliceObjApply(a,"concat",[c])})});else if(j.length!==0)return f(j);else return[]},"readWrite")}).then(function(a){return b("LSTransaction.bs").run(f,function(c){return window.Promise.all(a.map(function(a){var d=a[0],e=b("MWLSMediaSendManager.bs").getFile(m,d);if(e!==void 0)return b("bs_curry")._3(l,c,a,b("bs_caml_option").valFromOption(e));else{b("MWLSMediaSendManager.bs").saveUploadJob(m,d,a[1]);return}}))},"readWrite")});b("promiseDone")(g,function(e){b("bs_curry")._1(c,d);return b("MWLSLogSend.bs").logSent(a!==void 0)},void 0)}},[f,k,l,m,g,a,d]);g=b("bs_curry").__2(j);return[e,g]}f.useSendFileMessage=a}),null);
__d("MWLSSendGifMessage.bs",["LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWLSLogSend.bs","MWLSSendMessageUtils.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","ReStore.bs","bs_caml_format","bs_caml_option","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=a!==void 0?a:"unknown",f=c!==void 0?b("bs_caml_option").valFromOption(c):void 0,g=b("ReStore.bs").useHook(void 0),i=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(a){return function(c,d){var h=c.source.url,j=b("bs_caml_format").caml_int64_of_string(c.platformFBID);c=b("LSTransaction.bs").run(g,function(c){var g=b("MWThread_DEPRECATED.bs").toThreadKey(a),k=b("LSThreadAttributionStore.bs").getSource(e,b("bs_int64").to_string(g));k=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(k);return b("LSOptimisticSendMessage")(i,g,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,void 0,void 0,!1,void 0,void 0,h!==void 0?b("bs_caml_option").valFromOption(h):void 0,j!==void 0?b("bs_caml_option").valFromOption(j):void 0,k,void 0,void 0,b("bs_caml_option").option_get(b("MWLSSendMessageUtils.bs").getReplySourceId(d)),b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,!0,!0,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(c,function(a){return b("MWLSLogSend.bs").logSent(d!==void 0)},void 0)}},[g,i])}f.useSendGifMessage=a}),null);
__d("MWLSSendMenuItem.bs",["LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","ReStore.bs","bs_caml_option","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=a!==void 0?a:"unknown",f=c!==void 0?b("bs_caml_option").valFromOption(c):void 0,g=b("ReStore.bs").useHook(void 0),i=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(a){return function(c,d){var h=b("LSTransaction.bs").run(g,function(g){var h=b("MWThread_DEPRECATED.bs").toThreadKey(a),j=b("LSThreadAttributionStore.bs").getSource(e,b("bs_int64").to_string(h));j=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(j);return b("LSOptimisticSendMessage")(i,h,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,c,c,!1,void 0,void 0,void 0,void 0,j,void 0,d,void 0,b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,!0,!0,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("bs_curry")._1(b("LS.bs").make,g))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[g,i])}f.useSendMenuItem=a}),null);
__d("CometInteractionTracingQuickLogModule",[],(function(a,b,c,d,e,f){a=Object.freeze({APP_COLLECTIONS_TAIL_LOAD:30605376,APP_SECTIONS_FEED_TAILLOAD:30605366,BLUE_ON_COMET_MODAL:30605363,BOOKMARK_ITEM:30613596,CHANNEL_TAB_ALL_VIDEOS_CARD_FETCH_MORE:30605391,CHANNEL_TAB_LATEST_VIDEOS_CARD_HSCROLL_LOAD_MORE:30605392,CHANNEL_TAB_PLAYLISTS_CARD_FETCH_MORE:30605390,CHANNEL_TAB_SERIES_CARD_FETCH_MORE:30605389,CHAT_TAB_OPEN:30605380,CHAT_TAB_SEND_MESSAGE:30605384,COLLECTIONS_TAILLOAD:30605367,COMMUNITY_VIEW_DIALOG_OPEN:30614747,COMPOSER_SUBMIT_PROCESSING:30605375,DIALOG_SHOW:30605362,EVENT_RSVP_WWW:30605345,FEED_COMPOSER_DIALOG_OPEN:30605316,FEED_PREFERENCES_DIALOG_OPEN:30605385,GROUP_COMPOSER_DIALOG_OPEN:30605340,GROUP_MALL_FEED_TAILLOAD:30605332,HOMEPAGE_BADGED_NAVIGATION:30632331,HOME_FEED_TAILLOAD:30605313,LWI_SECTION_OPTION_CHANGE:30605381,MARKETPLACE_BUY_LOCATION_DIALOG_OPEN:30605342,MARKETPLACE_COMPOSER_CREATE:30605344,MARKETPLACE_DEALS_FEED_PAGINATION:30605371,MARKETPLACE_ECOMM_PRODUCT_FEED_PAGINATION:30605373,MARKETPLACE_FEED_SAVED_PAGINATION:30605347,MARKETPLACE_HOME_FEED_PAGINATION:30605341,MARKETPLACE_SEARCH_FEED_PAGINATION:30605343,NOTIFICATION_PAGINATION:30605314,PAGE_ABOUT_FACEPILES_SEE_ALL_DIALOG_LOAD:30605358,PAGE_ABOUT_OPEN_MAP_VIEW:30605325,PAGE_ADMIN_SELECT_MANAGED_PAGE:30605324,PAGE_COMMUNITY_FACEPILES_SEE_ALL_DIALOG_LOAD:30605356,PAGE_COMMUNITY_TOP_FANS_CARD_SEE_ALL_DIALOG_LOAD:30605355,PAGE_COMPOSER_DIALOG_OPEN:30605333,PAGE_HOME_CARD_SEE_ALL_DIALOG_LOAD:30605330,PAGE_LIKE:30605317,PAGE_OPEN_VIDEO:30605318,PAGE_PHOTO_TAB_FETCH_MORE:30605331,PAGE_POST_OPEN_DETAILS:30605327,PAGE_REVIEWS_COMPOSER_TRIGGER:30605369,PAGE_REVIEWS_FEED_SORT:30605368,PAGE_REVIEWS_RECOMMENDATION_POST:30605370,PAGE_VIDEO_TAB_FETCH_MORE:30605319,POPOVER_SHOW:30605361,PRIVACY_SELECTOR_DIALOG_LOAD:30605326,PRIVACY_SELECTOR_SAVED_CUSTOM_PAGINATION:30605365,PROFILE_COMPOSER_DIALOG_OPEN:30605360,PROFILE_MENTIONS_FEED_TAILLOAD:30616610,PROFILE_PICTURE_MENU_OPEN:30615365,PROFILE_PIC_EDIT_DIALOG_LOAD_MORE:30605386,PROFILE_PIC_EDIT_DIALOG_OPEN:30605387,PROFILE_PIC_OPEN:30605364,PROFILE_RATINGS_REVIEWS_FEED_TAILLOAD:30617968,PROFILE_SWITCHING_TTI:30618615,PROFILE_TILES_TAILLOAD:30605378,PYMK_FEED_PAGINATION:30618398,SEARCH_TYPEAHEAD:30620813,SEE_MORE_FEED_UNIT:30615438,STORY_VIEWER_BUCKETS_TRANSITION:30613201,STORY_VIEWER_NAV_LIST_LOAD_PAGINATION:30605322,TAHOE_COMMENT_CREATE:30621572,TARGETING_DIALOG_OPEN:30605379,TA_TTRC_COMET:30605354,TIMELINE_FEED_TAILLOAD:30605315,UFI_LOAD_MORE_COMMENTS:30605393,UFI_REACTIONS_DIALOG_OPEN:30605374,VIDEO_HOME_CATALOG_ALL_SHOWS_PAGINATION:30605336,VIDEO_HOME_CATALOG_MORE_FACEBOOK_ORIGINALS_PAGINATION:30605382,VIDEO_HOME_CATALOG_NAV:30605349,VIDEO_HOME_CHANNEL_PAGINATION:30605372,VIDEO_HOME_CONTEXT_MENU_TRIGGER:30605353,VIDEO_HOME_FEED_NAV:30605352,VIDEO_HOME_FEED_PAGINATION:30605334,VIDEO_HOME_LATEST_NAV:30605351,VIDEO_HOME_LATEST_PAGINATION:30605335,VIDEO_HOME_PLAYLIST_VIDEO_LIST_PAGINATION:30605337,VIDEO_HOME_SAVED_NAV:30605350,VIDEO_HOME_SAVED_PAGINATION:30605339,VIDEO_HOME_SETTINGS_TOGGLE:30605346,VIDEO_HOME_SPORTS_HIGHLIGHTS_PAGINATION:30605359,VIDEO_HOME_WATCHLIST_PAGE_NAV:30605348,VIDEO_HOME_WATCHLIST_PAGINATION:30605338});f["default"]=a}),66);
__d("MWV2DualSendText.bs",[],(function(a,b,c,d,e,f){"use strict";a="8031ded1058446aa93ccf8dace0eaf876dd5e32771904d5eb0058a0afdc724ce120dcba542d84548ac3f4a2741c45c0d";f.messageText=a}),null);
__d("MWVersion.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.v1=a;f.v2=c}),null);
__d("OfflineThreadingId.bs",["Crypto.bs","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=(a=b("bs_caml_int64")).of_float(Date.now()),d=b("Crypto.bs").getRandomValues(new Uint8Array(8));d=new DataView(d.buffer);d=a.add(a.lsl_(a.of_int32(d.getUint32(0)),32),a.of_int32(d.getUint32(4)));return b("bs_int64").to_string(a.and_(a.or_(a.lsl_(c,22),a.and_(d,[0,4194303])),a.max_int))}f.make=a}),null);
__d("MWLSSendTextMessage.bs",["LS.bs","LSDict","LSGenerateTraceId.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MAWBackendBridge.bs","MAWGating.bs","MAWThreadId.bs","MWLSActor.bs","MWLSLogSend.bs","MWLSSendMessageUtils.bs","MWLSThreadType.bs","MWThread_DEPRECATED.bs","MWV2DualSendText.bs","MWV2UseAreThreadContactsDualSendEligible.bs","MWVersion.bs","MessagingThreadType.bs","OfflineThreadingId.bs","Promise","ReStore.bs","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1160","cr:1161","promiseDone","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:1160")==null?void 0:b("bs_caml_option").some(b("cr:1160")),j=b("cr:1161")==null?void 0:b("bs_caml_option").some(b("cr:1161"));function a(a,c,d,e){e=a!==void 0?a:!1;var f=c!==void 0?c:"unknown",g=b("ReStore.bs").useHook(void 0),k=b("MWLSActor.bs").useActor(void 0),l=e===!1,m=b("useCometInteractionTracing")(b("qpl")._(30605384,"573"),"fast","INTERACTION");a=b("MWLSThreadType.bs").useHook(void 0);var n=a!==void 0?b("LSMessagingThreadTypeUtil.bs").isOneToOne(a):!1;c=b("MWThread_DEPRECATED.bs").useId(void 0);e=c!==void 0&&typeof c==="object"&&c.NAME==="User"?b("bs_caml_format").caml_int64_of_string(c.VAL):void 0;var o=b("MWV2UseAreThreadContactsDualSendEligible.bs").useHook(e),p=function(a){if(!(b("cr:1160")==null)&&!(b("cr:1161")==null))return b("bs_curry")._2(i.call,g,a).then(function(a){return b("MAWThreadId.bs").toThreadKey(g,a)}).then(function(a){return b("MAWThreadId.bs").ofThreadKey(g,a)}).then(function(a){if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadJidByChatId({threadId:a._0}).sendAndReceive,void 0).then(function(a){if(a===void 0)return;var c=b("bs_caml_int64").of_float(Date.now()),d=b("OfflineThreadingId.bs").make(void 0);a=j.sendMsg.waitUntilPersisted(b("bs_caml_option").valFromOption(a),{content:b("MWV2DualSendText.bs").messageText,offlineMsg:{msgId:d,ts:c}},void 0);b("promiseDone")(a,void 0,void 0)});else return b("Promise").resolve(void 0)});else return b("Promise").resolve(void 0)};return h.useCallback(function(a){return function(c,e,h,i){var j=b("MWThread_DEPRECATED.bs").toThreadKey(a),q=e!==void 0?b("bs_caml_option").some(b("LSDict").fromObject({mention_offsets:e.map(function(a){return String(a.offset)}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_ids:e.map(function(a){return a.id}).join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0})):void 0;e=b("LSThreadAttributionStore.bs").getSource(f,b("bs_int64").to_string(j));var r=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(e),s=b("LSGenerateTraceId.bs").make(void 0);return m(function(a){b("promiseDone")(b("LSTransaction.bs").run(g,function(a){return b("LSOptimisticSendMessage")(k,j,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,c,c,!1,void 0,i!==void 0?b("bs_caml_option").valFromOption(i):void 0,void 0,void 0,r,void 0,void 0,b("bs_caml_option").option_get(b("MWLSSendMessageUtils.bs").getReplySourceId(h)),b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,q!==void 0?b("bs_caml_option").valFromOption(q):void 0,l,!0,void 0,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,s!==void 0?b("bs_caml_option").valFromOption(s):void 0,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite").then(function(c){return b("MWLSLogSend.bs").logSentWithHeroInteraction(a,c[0],d,h!==void 0,b("MWVersion.bs").v1)(b("MAWGating.bs").isDualSend(void 0)&&n&&o)}),function(a){if(b("MAWGating.bs").isDualSend(void 0)&&n&&o){p(j);return}})})}},[g,k,l])}f.$MAWCreateOneToOneThread$requireCond=b("cr:1160");f.$MAWJob$requireCond=b("cr:1161");f.useSendTextMessage=a}),null);
__d("TetraMWChatComposerIcons.bs",["ix","MWChatChatButtonColorConstants.bs","TetraIcon.react","bs_caml_option","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{display:"a8c37x1j",transitionDuration:"ms05siws",transitionProperty:"hr662l2t",transitionTimingFunction:"b7h9ocf4"},notRotated:{transform:"tftn3vyl"},rotated:{transform:"nrzfhe1q"}};function a(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 16 16",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:d,fillRule:"nonzero"})})}a={make:a};function c(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 17 16",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{fill:"none",cx:"5.5",cy:"5.5",r:"1"}),j.jsx("circle",{fill:"none",cx:"11.5",cy:"4.5",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:d}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:d,fillRule:"nonzero"})]})})}c={make:c};function d(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0;return j.jsx("svg",{viewBox:"0 -1 17 17",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,a),children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:d}),j.jsx("circle",{className:e,fill:d,cx:"8.5",cy:"4.5",r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:d}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:d,strokeLinecap:"round",strokeLinejoin:"round"})]})})}d={make:d};function e(a){var c=a.size,d=a.fill;a=a.isRotated;return j.jsx("svg",{viewBox:"0 0 24 24",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a?k.rotated:k.notRotated),children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:d})]})})}e={make:e};function l(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon,a),height:String(c)+"px",viewBox:"0 0 38 38",width:String(c)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:d})})})})})})}l={make:l};function m(a){var c=a.size,d=a.fill;a=a.xstyle;a!==void 0&&b("bs_caml_option").valFromOption(a);a=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{viewBox:"3 2 20 20",height:String(c)+"px",width:String(c)+"px",fill:"none",children:j.jsx("path",{className:a,fillRule:"evenodd",clipRule:"evenodd",d:"M14.307 7.485a5.102 5.102 0 017.205 7.223l-.01.01-4.717 4.583a1 1 0 01-1.394-1.434l4.711-4.578a3.102 3.102 0 00-4.39-4.38l-.018.016-8.094 7.71c-.802.81-.8 2.12.008 2.929.65.65 1.705.65 2.356 0l.01-.01 7.216-7.011a.64.64 0 00-.91-.901l-4.297 4.296a1 1 0 11-1.414-1.415l4.298-4.295A2.64 2.64 0 0118.6 13.96l-.01.011-7.219 7.012a3.666 3.666 0 01-5.178-.005 4.078 4.078 0 010-5.765l.017-.017 8.096-7.711z",fill:d})})}m={make:m};function n(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("528566"),20),color:"primary"})}n={make:n};function o(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("481942"),20),color:"primary"})}o={make:o};function p(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("550096"),20),color:"primary"})}p={make:p};function q(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("624149"),20),color:"primary"})}q={make:q};function r(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("577048"),20),color:"primary"})}r={make:r};function s(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("480625"),20),color:"primary"})}s={make:s};f.styles=k;f.Gif=a;f.Sticker=c;f.Photo=d;f.MoreActions=e;f.Emoji=l;f.PaperclipSVG=m;f.Paperclip=n;f.Pin=o;f.Camera=p;f.Microphone=q;f.Poll=r;f.Currency=s}),null);
__d("MWChatComposerAudioRecorder.bs",["MWChatAudioPlayerForRecorderPreview.bs","MWChatAudioRecorder.bs","MWTheme.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{width:"k4urcfbm",pointerEvents:"mrt03zmi"}};function a(a){var c=a.audioClip;a=a.setAudioClip;var d=b("MWTheme.bs").useTheme(void 0);d=b("MWTheme.bs").middle(d);return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:c!==void 0?i.jsx(b("MWChatAudioPlayerForRecorderPreview.bs").make,{url:URL.createObjectURL(c.file),duration:c.duration,color:d}):i.jsx(b("MWChatAudioRecorder.bs").make,{onAudioRecorded:a,color:d})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatConnectionHook.bs",["bs_curry","cr:11792","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("bs_curry")._1(b("cr:11792").getInstance,void 0);a=h.useState(function(){return c.getConnectionState()});var d=a[1];h.useEffect(function(){var a={onMQTTStateChanged:function(a){return b("bs_curry")._1(d,function(b){return a})}};c.subscribeChannelEvents(a);return function(b){c.unsubscribeChannelEvents(a)}},[d]);return a[0]}c=b("cr:11792");f.$LSMqttChannel$OR$FBMqttChannel$requireCond=b("cr:11792");f.MwMqttChannel=c;f.useConnectionStatus=a}),null);
__d("MWChatConnectionStatus.bs",["fbt","MqttState.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{textAlign:"oqcyycmt",color:"eqrdut5j",fontWeight:"ekzkrbhg",fontSize:"r9r71o1u",display:"a8c37x1j",backgroundColor:"nred35xi"}};function l(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:a})}function a(a){a=a.connectionStatus;if(a===b("MqttState.bs").connected)return null;else if(a===b("MqttState.bs").disconnected)return l(g._(/*FBT_CALL*/"\u6c92\u6709\u7db2\u8def\u9023\u7dda"/*FBT_CALL*/));else if(a===b("MqttState.bs").connecting)return l(g._(/*FBT_CALL*/"\u9023\u7dda\u4e2d\u2026\u2026"/*FBT_CALL*/));else return null}c=a;f.styles=k;f.renderStatus=l;f.make=c}),null);
__d("MWChatConnectionStatusCard.bs",["MWChatConnectionHook.bs","MWChatConnectionStatus.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("MWChatConnectionHook.bs").useConnectionStatus(void 0);return h.jsx(b("MWChatConnectionStatus.bs").make,{connectionStatus:a})}c=a;f.make=c}),null);
__d("MWLSMarketplaceXmaCallFunctionCtaHandler.bs",["LS.bs","LSOptimisticProcessMarketplaceCallFunctionCTA","LSTransaction.bs","MWLSActor.bs","MWThreadKey.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(a){return function(e,f,g){var h=b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticProcessMarketplaceCallFunctionCTA")(a,d,e,f,g,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[c,d,a])}f.useMarketplaceXmaCallFunctionCtaHandler=a}),null);
__d("MWChatEmojiUtil.bs",["LSHotEmojiSize.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0&&!b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").small))if(b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").medium))return 56;else if(b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").large))return 96;else return 32;else return 32}f.transformHotEmojiSizeForWeb=a}),null);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(d("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=0;while(!0){var f=a.substr(e),g=c("URLScraper").match(f);if(!g)break;if(!c("URI").isValidURI(g))break;var h=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(h="http://"+g);var i=f.indexOf(g);f=d("UnicodeUtils").strlen(f.substr(0,i));e+=f;i=g.length;b.push({offset:e,length:g.length,entity:{url:h}});e+=i}return b}g["default"]=a}),98);
__d("MWChatMessage.bs",["EmojiRenderer","EmoticonRenderer","FBID.bs","MWChatMessageId.bs","MWChatTextFormatting","MessageProfileRangeType","bs_belt_Option","bs_caml_option","cr:1332660","getURLRanges","gkx"],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){a=a.TAG===0?a._0:a._1;a=b("MWChatMessageId.bs").getMessageId(a._0.messageID);if(a==="")return;else return a}var h=/^[ \r\n\s]*$/;function c(a){var c=b("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),d=b("gkx")("1839834")?b("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];c=c.concat(d).sort(function(a,b){return a.offset-b.offset|0});if(c.length===0)return!1;var e={contents:0},f={contents:0};d=c.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return h.test(c)===!1});c=e.contents!==a.length&&!h.test(a.substring(f.contents));if(d)return!1;else return!c}function d(a){var c=b("getURLRanges")(a),d=[];a=b("MWChatTextFormatting").getFormattingRanges(a);c.forEach(function(a){a={offset:a.offset,length:a.length,entity:{__typename:"Link",uri:a.entity.url}};d.push(a)});return d.concat(a)}function e(a){var c=[];a.forEach(function(a){var d=a.id;if(d==null)return;var e=b("FBID.bs").ofString(d);if(e===void 0)return;e=b("bs_caml_option").valFromOption(e);var f=a.type;if(f===b("MessageProfileRangeType").THREAD||f===b("MessageProfileRangeType").THREAD_ACTIVE){var g={offset:a.offset,length:a.length,entity:{__typename:"Profile",uri:"/messages/t/"+d,id:e}};c.push(g);return}if(f!==b("MessageProfileRangeType").PROFILE)return;g={offset:a.offset,length:a.length,entity:{__typename:"Profile",uri:"/"+d,id:e}};c.push(g)});return c}var i=b("cr:1332660"),j=b("bs_belt_Option").getWithDefault;f.$EmployeeLinkRanges$requireCond=b("cr:1332660");f.employeeLinkRanges=i;f.Replied=g;f.getMessageID=a;f.$pipe$question=j;f.utf16RegexSpaces=h;f.isEmojiOnlyMessage=c;f.findRanges=d;f.parseProfileRanges=e}),null);
__d("MWLSReaction.bs",["FBID.bs","ReQL.bs","ReQLSuspense.bs","ReQLTable","bs_belt_Option","bs_int64"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return{message_id:a.c,actor_id:b("bs_belt_Option").getExn(b("FBID.bs").ofString(b("bs_int64").to_string(a.d))),reaction:a.e,actor_name:b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(c,{hd:a.d,tl:0})),void 0,function(a){var b=a.nickname;if(b!==void 0)return b;else return a.actual_name})}}function a(a,c,d){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"reactions").asc,{hd:c,tl:0}),function(a){return g(a,d)})}f.project=g;f.getForOpen=a}),null);
__d("MWLSMessage.bs",["LSBitFlag.bs","MWLSAttachment.bs","MWLSParticipant.bs","MWLSReaction.bs","ReQL.bs","ReQLSuspense.bs","ReQLTable","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";e={a:(d=b("bs_caml_int64")).zero,b:d.zero,c:d.zero,d:void 0,e:"",f:"",g:void 0,h:d.zero,i:void 0,j:!1,k:d.zero,l:d.zero,m:!1,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0,A:void 0,B:void 0,C:void 0,D:void 0,E:void 0,F:void 0,G:void 0,H:void 0,I:void 0,J:!1,K:void 0,L:void 0,M:void 0,N:void 0,O:!1,P:b("LSBitFlag.bs").empty,Q:b("LSBitFlag.bs").empty,R:void 0,S:void 0,T:d.zero,U:void 0,V:d.zero,W:void 0,X:void 0,Y:void 0,Z:void 0};d=[];var g=[];d={message:e,has_attachment:!1,message_delete_timestamp_ms:void 0,message_expire_timestamp_ms:void 0,message_visible_timespan_ms:void 0,message_remaining_visible_timespan_ms:void 0,attachments:d,reactions:g,adminMsgCta:void 0};function h(a,c,d,e){var f=a.K,g=a.M;if(f!==void 0&&g!==void 0){e=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(e,{hd:f,tl:0}));f=e!==void 0?{adminMessageCta:e,adminMsgCtaType:g}:void 0}else f=void 0;return{message:a,has_attachment:b("ReQLSuspense.bs").toArray(c).length>0,message_delete_timestamp_ms:void 0,message_expire_timestamp_ms:void 0,message_visible_timespan_ms:void 0,message_remaining_visible_timespan_ms:void 0,attachments:b("ReQLSuspense.bs").toArray(c),reactions:b("ReQLSuspense.bs").toArray(d),adminMsgCta:f}}function a(a,c){var d=b("ReQLTable").table(c,"contacts").asc,e=b("MWLSAttachment.bs").getForOpen(c,a);d=b("MWLSParticipant.bs").getAllInOpenThread(c,d,a);var f=b("MWLSReaction.bs").getForOpen(c,a,d);return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"messages").asc,{hd:a,tl:0}),function(d){var g=d.e;return h(d,b("ReQL.bs").getKeyRange(e,{hd:g,tl:0}),b("ReQL.bs").getKeyRange(f,{hd:g,tl:0}),b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"admin_message_ctas").asc,{hd:a,tl:{hd:g,tl:0}}))})}function c(a,c,d,e){var f=b("ReQLTable").table(e,"contacts").asc,g=b("MWLSAttachment.bs").getForOpen(e,d);f=b("MWLSParticipant.bs").getAllInOpenThread(e,f,d);var i=b("MWLSReaction.bs").getForOpen(e,d,f);return b("ReQL.bs").map(b("ReQL.bs").bounds(b("ReQLTable").table(e,"messages").asc,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:d,tl:{hd:a,tl:0}}},{NAME:"lessThanOrEqual",VAL:{hd:d,tl:{hd:c,tl:0}}}]}),function(a){var c=a.e;return h(a,b("ReQL.bs").getKeyRange(g,{hd:c,tl:0}),b("ReQL.bs").getKeyRange(i,{hd:c,tl:0}),b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"admin_message_ctas").asc,{hd:d,tl:{hd:c,tl:0}}))})}f.emptyMessageRow=e;f.emptyMessage=d;f.projectOpen=h;f.getAllInOpenThread=a;f.getAllInRangeStartingFrom=c}),null);
__d("LSReplyMessageAttachmentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9];f.other=a;f.photo=c;f.video=d;f.gif=e;f.sticker=b;f.link=g;f.multiphoto=h;f.permanentRavenPhoto=i;f.permanentRavenVideo=j;f.soundBite=k}),null);
__d("LSReplyMessageStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.unknown=a;f.valid=c;f.deleted=d;f.temporaryUnavailable=e;f.expired=b}),null);
__d("MDSForwardSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.22 19.497l-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-3.204H8.001A2 2 0 016 19.996v-3.997A2 2 0 018 14h8.998v-3.198c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z"})})}c=a;f.make=c}),null);
__d("MDSReplySvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z"})})}c=a;f.make=c}),null);
__d("MWLSMessageReplyParser.bs",["LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSReplyMessageAttachmentType.bs","LSReplyMessageStatus.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","MWChatTextFormatting","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_obj","bs_int64","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={titleContainer:{display:"j83agx80",alignItems:"bp9cbjyn",marginBottom:"gjjqq4r6"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function a(a){a=a.message;var c=a.t,d=c!==void 0?b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").story)?i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"}):b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").fbStoryShare)?i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}):null:null;return b("bs_belt_Option").map(a.v,function(a){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.titleContainer),children:[d,i.jsx("div",{className:h(j.text),children:a})]})})}function c(a){a=a.message;var c=a.r;if(c===void 0)return 1;var d=a.G,e=a.H;if(d!==void 0){if(e!==void 0){if(b("bs_caml").i64_eq(d,b("LSReplyMessageAttachmentType.bs").sticker)){var f=a.A,g=a.B;return{TAG:1,_0:{sticker:{accessibilityLabel:b("bs_belt_Option").getWithDefault(a.w,""),frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI2x:void 0,paddedSpriteURI:void 0,spriteURI2x:void 0,spriteURI:void 0,stickerID:b("bs_int64").to_string(e),url:a.z,width:f!==void 0?b("bs_caml_int64").to_int32(f):void 0,height:g!==void 0?b("bs_caml_int64").to_int32(g):void 0},messageID:c}}}f=2}else f=2;if(f===2){if((b("bs_caml").i64_eq(d,b("LSReplyMessageAttachmentType.bs").photo)||b("bs_caml").i64_eq(d,b("LSReplyMessageAttachmentType.bs").video))&&b("bs_caml_obj").caml_equal(a.s,b("LSMessageReplySourceType.bs").story)){g=a.z;if(g!==void 0)return{TAG:5,_0:{previewUrl:g,messageID:c,sourceID:a.r}};else return}if(b("bs_caml").i64_eq(d,b("LSReplyMessageAttachmentType.bs").photo)||b("bs_caml").i64_eq(d,b("LSReplyMessageAttachmentType.bs").multiphoto)){f=a.z;return{TAG:2,_0:{previewUrl:f!==void 0?f:(b("recoverableViolation")("Reply to photo has no reply_media_url. MessageID: "+a.e,"messenger_privacy_web"),""),messageID:c}}}if(b("bs_caml").i64_eq(d,b("LSReplyMessageAttachmentType.bs").gif)||b("bs_caml").i64_eq(d,b("LSReplyMessageAttachmentType.bs").link)||b("bs_caml").i64_eq(d,b("LSReplyMessageAttachmentType.bs").video)||b("bs_caml").i64_eq(d,b("LSReplyMessageAttachmentType.bs").other))return{TAG:4,_0:{messageID:c}}}}else{if(e!==void 0)g=2;else{if(b("bs_caml_obj").caml_equal(a.u,b("LSReplyMessageStatus.bs").deleted))return 0;if(b("bs_caml_obj").caml_equal(a.s,b("LSMessageReplySourceType.bs").message)){f=b("bs_belt_Option").getWithDefault(a.w,"");if(f==="")return{TAG:4,_0:{messageID:c}};else return{TAG:0,_0:{ranges:b("MWChatTextFormatting").getFormattingRanges(b("bs_belt_Option").getWithDefault(a.w,"")),text:b("bs_belt_Option").getWithDefault(a.w,""),messageID:c}}}g=2}if(g===2){if(b("bs_caml_obj").caml_equal(a.s,b("LSMessageReplySourceType.bs").story))return 1;if(b("bs_caml_obj").caml_equal(a.s,b("LSMessageReplySourceType.bs").lightweightStatus))return 1}}b("recoverableViolation")("Unknown combination of attachment type and attachment_id. Attachmnet type: "+(b("bs_belt_Option").mapWithDefault(d,"no attachment type",b("bs_int64").to_string)+("Id present?: "+(b("bs_belt_Option").isSome(e)?"true":"false"))),"messenger_privacy_web")}f.styles=j;f.getGroupTitleForReply=a;f.getMessageReplyContent=c}),null);
__d("MessageProfileRangeType.bs",["MessageProfileRangeType"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return b("MessageProfileRangeType").PROFILE;else if(a==="thread")return b("MessageProfileRangeType").THREAD;else if(a==="thread_active")return b("MessageProfileRangeType").THREAD_ACTIVE;else return b("MessageProfileRangeType").NONE}f.ofString=a}),null);
__d("MWLSMessageParser.bs",["fbt","FBID.bs","GenderConst","JSMap.bs","LSContactGender.bs","LSMessageSendStatusV2.bs","LSMessageThreadUnsendabilityStatus.bs","MWChatMessage.bs","MWLSAttachmentParser.bs","MWLSMessageReplyParser.bs","MWLSParserUtils.bs","MWMessageDeliveryStatus.bs","MessageProfileRangeType","MessageProfileRangeType.bs","XCometProfileControllerRouteBuilder","bs_array","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_dict","cr:1332660","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return b("bs_int64").compare(a,c)===0}function c(a){return b("bs_caml").i64_eq(a.message.l,b("LSMessageSendStatusV2.bs").sentOnly)}function h(a,c){return Array.from(a.values()).reduce(function(a,d){d=b("bs_caml").i64_neq(d.contact_id,c)?d.read_watermark_timestamp_ms:b("bs_caml_int64").zero;if(b("bs_caml").i64_gt(a,d))return a;else return d},b("bs_caml_int64").zero)}function i(a,c){return Array.from(a.values()).reduce(function(a,d){d=b("bs_caml").i64_neq(d.contact_id,c)?d.delivered_watermark_timestamp_ms:b("bs_caml_int64").zero;if(b("bs_caml").i64_gt(a,d))return a;else return d},b("bs_caml_int64").zero)}function j(a,c,d,e){c=b("JSMap.bs").getOrMake(c,a.message.e,function(a){return[]});var f=c.length>0;d=b("bs_caml").i64_lt(a.message.b,d);if(f)if(c.length>1)return{TAG:1,_0:c};else return{TAG:0,_0:b("bs_caml_array").get(c,0)};if(d)return 0;f=b("MWMessageDeliveryStatus.bs").getFromSendStatus(a.message.l);c=b("bs_caml").i64_ge(e,a.message.b);if(f===1)return 1;else if(c)return 3;else return f}function k(a){if(a.length>0)return b("bs_caml_option").some(a.reduce(function(a,c){var d=c.reaction,e=b("bs_js_dict").get(a,d);e=e!==void 0?(e.push([c.actor_id,c.actor_name]),e):[[c.actor_id,c.actor_name]];a[d]=e;return a},{}))}function l(a){if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").female))return b("GenderConst").FEMALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").male))return b("GenderConst").MALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").neuter))return b("GenderConst").NEUTER_SINGULAR;else return b("GenderConst").NOT_A_PERSON}function m(a,c,d,e,f,h,i){var m=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.message.h));d=d.get(m);var n=d==null?void 0:b("bs_caml_option").some(d),o=a.message.l,p=a.message.p,q=a.message.o,r=a.message.n,s=a.message.q;if(p!==void 0)if(q!==void 0)if(r!==void 0)if(s!==void 0){p=p.split(",");var t=q.split(","),u=r.split(","),v=s.split(",");q=p.reduce(function(a,c,d){var e=b("MessageProfileRangeType.bs").ofString(b("bs_caml_array").get(v,d));e===b("MessageProfileRangeType").THREAD||e===b("MessageProfileRangeType").THREAD_ACTIVE?a.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(u,d)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(t,d)),entity:{__typename:"Profile",uri:"/messages/t/"+c,id:b("FBID.bs").ofStringExn(c)}}):e===b("MessageProfileRangeType").PROFILE&&a.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(u,d)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(t,d)),entity:{__typename:"Profile",uri:"/"+c,id:b("FBID.bs").ofStringExn(c)}});return a},[])}else q=[];else q=[];else q=[];else q=[];if(c!==void 0){r=c.L;s=r!==void 0?b("bs_caml").i64_eq(r,b("LSMessageThreadUnsendabilityStatus.bs").canUnsend):!0}else s=!0;p=b("bs_belt_Option").mapWithDefault(a.message.N,!0,function(a){return b("bs_caml").i64_eq(a,b("LSMessageThreadUnsendabilityStatus.bs").canUnsend)});c=a.reactions.find(function(a){return b("bs_int64").to_string(i)===a.actor_id});return{messageID:b("bs_caml").i64_eq(o,b("LSMessageSendStatusV2.bs").serverReceived)||b("bs_caml").i64_eq(o,b("LSMessageSendStatusV2.bs").sentOnly)?{TAG:1,_0:{threadId:a.message.a,messageId:a.message.e,timestamp:a.message.b}}:{TAG:0,_0:{threadId:a.message.a,offlineThreadingId:a.message.f}},reactions:k(a.reactions),author:b("bs_belt_Option").mapWithDefault(n,g._(/*FBT_CALL*/"Facebook \u7528\u6236"/*FBT_CALL*/),function(a){return a.name}),authorFbid:m,authorActualName:d==null?void 0:d.actual_name,authorParticipantId:b("bs_int64").to_string(a.message.h),authorGender:l(b("bs_belt_Option").mapWithDefault(n,b("LSContactGender.bs").unknown,function(a){return a.gender})),authorPictureUrl:b("bs_belt_Option").map(n,function(a){return a.profile_picture_url}),authorProfileUrl:b("gkx")("1630108")?b("XCometProfileControllerRouteBuilder").buildURL({id:m}):void 0,text:a.message.g,ranges:q,status:j(a,h,e,f),timestamp:b("bs_caml_int64").to_float(a.message.b),isForwarded:b("MWLSParserUtils.bs").isForwarded(a),canRemoveGlobally:s&&p,selectedReaction:c!==void 0?c.reaction:void 0,adminMsgCtaType:a.message.M,adminMsgCtaTitle:a.message.L}}function n(a){if(b("cr:1332660")==null)return[];else return b("bs_curry")._1(b("cr:1332660").getURLRanges,a)}function o(a,b){return a.some(function(a){return a.b===b})}function p(a,b){return a.some(function(a){return a.b===b})}function q(a){return b("bs_array").concat({hd:b("MWChatMessage.bs").findRanges(a),tl:{hd:n(a),tl:0}})}function r(a,c){var d=a.message.g;if(d!==void 0&&d!=="")if(b("MWChatMessage.bs").isEmojiOnlyMessage(d))return{text:d,ranges:[],isForwarded:c.isForwarded,isEmojiOnly:!0,hotEmojiSize:a.message.U};else return{text:d,ranges:b("bs_array").concat({hd:c.ranges,tl:{hd:q(d),tl:0}}),isForwarded:c.isForwarded,isEmojiOnly:!1,hotEmojiSize:a.message.U}}function s(a,c,d,e,f,g,h,i,j,k){h=m(k,h,c,d,e,f,a);c=h.messageID;d=h.authorParticipantId;e=h.status;f=h.timestamp;a=h.canRemoveGlobally;c={messageID:c,isSaved:i,isPinned:j,author:d,authorGender:b("GenderConst").MALE_SINGULAR,status:e,timestamp:f,canRemoveGlobally:a};i=h.reactions;j=h.selectedReaction;d={reactions:i,selectedReaction:j};if(k.message.m)e={TAG:1,_0:c,_1:{removedTimestamp:h.timestamp,authorName:h.author}};else{f=r(k,h);a=k.has_attachment||k.message.i!==void 0;if(f!==void 0)if(a){i=b("MWLSAttachmentParser.bs").parseMessageWithAttachments(k,h,g);e=i!==void 0?{TAG:0,_0:c,_1:d,_2:{TAG:1,_0:i,_1:f}}:{TAG:2,_0:c}}else e={TAG:0,_0:c,_1:d,_2:{TAG:0,_0:f}};else if(a){j=b("MWLSAttachmentParser.bs").parseMessageWithAttachments(k,h,g);e=j!==void 0?{TAG:0,_0:c,_1:d,_2:{TAG:1,_0:j,_1:void 0}}:{TAG:2,_0:c}}else e={TAG:2,_0:c}}return[e,c]}function d(a,c,d,e,f,g,j){var k=h(c,a),l=i(c,a);return function(h){var i=s(a,c,k,l,d,e,f,o(g,h.message.e),p(j,h.message.e),h),m=i[0];if(!b("MWLSParserUtils.bs").isReplyToSomething(h))return{TAG:0,_0:m};switch(m.TAG|0){case 0:case 1:break;case 2:return{TAG:0,_0:m}}var n=b("MWLSMessageReplyParser.bs").getMessageReplyContent(h);if(n===void 0)return{TAG:0,_0:{TAG:2,_0:i[1]}};i=h.message.x;if(i!==void 0&&b("bs_caml").i64_eq(i,a))return{TAG:2,_0:n,_1:m};else return{TAG:1,_0:n,_1:m}}}e=b("cr:1332660");f.idsAreSame=a;f.isBlocked=c;f.getlastReadTimestampMsExclViewer=h;f.getDeliveredWatermarkTimestampMsExclViewer=i;f.getDeliveryStatus=j;f.groupReactionsByEmoji=k;f.contactGenderToGenderConst=l;f.parseCommonProps=m;f.$EmployeeLinkRanges$requireCond=b("cr:1332660");f.employeeLinkRanges=e;f.genMessageRanges=q;f.parseBody=r;f.parseMessageContent=s;f.makeParser=d}),null);
__d("MWLSRepliedToMessage.bs",["CancellablePromise.bs","CancellationToken.bs","FBID.bs","MWLSActor.bs","MWLSMessage.bs","MWLSMessageParser.bs","MWLSParticipant.bs","MWLSThreadDisplayContext.bs","Promise","ReQL.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","promiseDone","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("MWLSMessage.bs").getAllInOpenThread(a.threadId,c),{hd:a.timestamp,tl:{hd:a.messageId,tl:0}})).then(function(a){if(a!==void 0)return b("ReQL.bs").toArray(b("MWLSParticipant.bs").getAllInOpenThread(c,b("ReQLTable").table(c,"contacts").asc,a.message.a)).then(function(c){c=c.reduce(function(a,c){return a.set(b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.contact_id)),c)},new Map());return b("Promise").resolve([a,c])});else return b("Promise").resolve([a,new Map()])})}function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWLSThreadDisplayContext.bs").useHook(void 0);a=h.useState(function(){});var f=a[1],g=h.useCallback(function(a){return b("bs_curry")._1(f,function(a){})},[f]),j=h.useCallback(function(a){var g=b("CancellationToken.bs").make(void 0);if(typeof a==="number")return;if(a.TAG===0)return;g=b("CancellablePromise.bs").ignoreFailed(void 0,b("CancellablePromise.bs").then_(g,function(a){var c=a[1],g=a[0];if(g!==void 0){a=b("MWLSMessageParser.bs").parseMessageContent(d,c,b("MWLSMessageParser.bs").getlastReadTimestampMsExclViewer(c,d),b("MWLSMessageParser.bs").getDeliveredWatermarkTimestampMsExclViewer(c,d),new Map(),e,void 0,!1,!1,g);var h=a[0];c=b("FBID.bs").ofString(b("bs_int64").to_string(g.message.h));if(c!==void 0){var i=b("bs_caml_option").valFromOption(c);b("bs_curry")._1(f,function(a){return{content:h,fromViewer:b("bs_caml").i64_eq(g.message.h,d),authorID:i}})}else b("recoverableViolation")("Encountered message author id which is not a fbid "+b("bs_int64").to_string(g.message.h),"messenger_privacy_web")}else b("recoverableViolation")("Tried to reply to a message that does not exist","messenger_privacy_web");return b("Promise").resolve(void 0)},i(a._0,c)));b("promiseDone")(g,void 0,void 0)},[c,f,d,e]);return[a[0],j,g]}f.useCurrentlyRepliedToMessage=a}),null);
__d("MWChatColors.bs",[],(function(a,b,c,d,e,f){"use strict";a={replyToOriginal:{backgroundColor:"khkgorpb",color:"m9osqain"},outgoingForwarded:{color:"av1wybal"},incomingForwarded:{color:"pipptul6"},outgoing:{color:"ljqsnud1"},incoming:{color:"oo9gr5id"}};b={action:{marginStart:"hcukyx3x",marginEnd:"cxmmr5t8",width:"b73ngqbp",height:"rgmg9uty",display:"j83agx80",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",flexShrink:"pfnyh3mw",alignContent:"n5ue3fu6",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",textAlign:"oqcyycmt",cursor:"nhd2j8a9",":hover":{backgroundColor:"opvtebq1"},position:"l9j0dhe7"},icon:{height:"p1ueia1e",width:"pgctjfs5",opacity:"l8rlqa9s",":active":{opacity:"sh06z9xi"},":hover":{opacity:"i2p6rm4e"}},svgStroke:{stroke:"rvno3twz",fill:"mlqo0dh0"},svgFill:{fill:"m50y4xls"}};c={styles:b};f.styles=a;f.MessageActions=c}),null);
__d("MWV2MessageRowActionsContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c={current:function(a){}};d={current:function(a){}};e={current:function(a){}};b={current:function(a){}};c={forwardMessage:c,openReactionsMenu:d,removeMessage:e,replyToMessage:b};var i=h.createContext(c);function a(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}d={make:a};f.emptyValue=c;f.context=i;f.Provider=d}),null);
__d("MWChatReactionsAction.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","KeyCommandHandler.react","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWPTooltip.react","MWV2MessageRowActionsContext.bs","ODS","bs_belt_Option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={remove:"REMOVE_REACTION",add:"ADD_REACTION"};var k=b("MWChatColors.bs").MessageActions.styles,l={popoverLoading:{minHeight:"e170dy2k",minWidth:"ec2v3nvp"}},m=j.jsxs("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",children:[j.jsx("circle",{cx:"11",cy:"11",r:"7",strokeWidth:"1.5px",className:(i||(i=b("stylex")))(k.svgStroke)}),j.jsx("path",{d:"M8,13Q11,16,14,13",className:i(k.svgStroke),strokeWidth:"1.5px"}),j.jsx("circle",{cx:"9",cy:"10",r:"1.2",className:i(k.svgFill)}),j.jsx("circle",{cx:"13",cy:"10",r:"1.2",className:i(k.svgFill)})]}),n=b("gkx")("1224637");d={key:b("CometKeys").UP};e={key:b("CometKeys").DOWN};var o=n?[{command:d,description:g._(/*FBT_CALL*/"\u958b\u555f\u300c\u5fc3\u60c5\u300d\u5b50\u529f\u80fd\u8868"/*FBT_CALL*/),handler:function(a){}},{command:e,description:g._(/*FBT_CALL*/"\u958b\u555f\u300c\u5fc3\u60c5\u300d\u5b50\u529f\u80fd\u8868"/*FBT_CALL*/),handler:function(a){}}]:[];function a(a){var c=a.onVisibilityChange,d=a.sendReaction,e=a.align,f=a.selectedReaction,h=a.closeActionsMenu,p=a.messageID,q=g._(/*FBT_CALL*/"\u50b3\u9054\u5fc3\u60c5"/*FBT_CALL*/);a=j.useState(function(){return!1});var r=a[1],s=a[0];a=j.useContext(b("MWV2MessageRowActionsContext.bs").context);var t=a.openReactionsMenu;return j.jsx(b("CometLazyPopoverTrigger.react"),{fallback:j.jsx(b("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:[l.popoverLoading]}),onVisibilityChange:function(a){a||b("bs_curry")._1(r,function(a){return!1});return b("bs_curry")._1(c,a)},popoverResource:b("JSResource")("MWChatReactionsMenu").__setRef("MWChatReactionsAction.bs"),popoverProps:{onSelect:function(a){var c=f!==void 0?f===a:!1;b("bs_curry")._2(d,a,c);c||b("MWLSLogMessageClick.bs").logMessageClicked(p,b("LsTargetType.bs").reaction,void 0,void 0);return b("bs_curry")._1(h,void 0)},selectedReaction:f,onClose:function(a){},closeActionsMenu:h,showEmojiPicker:s,setShowEmojiPicker:b("bs_curry").__1(r),messageID:p},popoverType:s?"dialog":"menu",align:function(){switch(b("bs_belt_Option").getWithDefault(e,"middle")){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:function(){switch(s?"below":"above"){case"above":return"above";case"below":return"below";case"start":return"start";case"end_":return"end"}}(),children:function(a,c,d,e,f,g,h){var l=function(a){b("bs_curry")._1(c,void 0),b("MWLSLogMessageClick.bs").logMessageClicked(p,b("LsTargetType.bs").reactionIcon,void 0,void 0),b("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};t.current=l;d=function(a){var b=a.key;if(n&&(b==="ArrowUp"||b==="ArrowDown")){l(void 0);a.preventDefault();return}};return j.jsx(b("MWPTooltip.react"),{tooltip:q,align:"middle",position:"above",children:j.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:o,xstyle:!1,children:j.jsx(b("KeyCommandHandler.react"),{children:j.jsx(b("CometPressable.react"),{"aria-label":q,role:n?"menuitem":"button",expanding:!0,ref:a,testid:"messenger_reactions_menu_button",onHoverIn:b("bs_curry").__1(e),onHoverOut:function(a){return b("bs_curry")._1(f,void 0)},onPressIn:b("bs_curry").__1(g),onPress:l,overlayDisabled:!0,children:j.jsx("div",{className:(i||(i=b("stylex")))(k.action),children:j.jsx("div",{className:i(k.icon),children:m})})}),onKeyDown:d})})})}})}a=a;f.Action=c;f.styles=k;f.styles2=l;f.reactionIcon=m;f.isWork=n;f.keyUp=d;f.keyDown=e;f.commandConfigs=o;f.make=a}),null);
__d("MWMessageCellKeyCommands.bs",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.bs","bs_curry","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c;a=a.children;var d=h.useContext((c=b("MWV2MessageRowActionsContext.bs")).context),e=d.openReactionsMenu,f=h.useCallback(function(a){return b("bs_curry")._1(e.current,void 0)},[e]);d=h.useContext(c.context);var g=d.replyToMessage,i=h.useCallback(function(a){return b("bs_curry")._1(g.current,void 0)},[g]);d=h.useContext(c.context);var j=d.forwardMessage,k=h.useCallback(function(a){return b("bs_curry")._1(j.current,void 0)},[j]);d=h.useContext(c.context);var l=d.removeMessage,m=h.useCallback(function(a){return b("bs_curry")._1(l.current,void 0)},[l]);c=h.useMemo(function(){var a,c=[],d=(a=b("cometGetKeyCommandConfig")).getCometKeyCommandConfig("chats","likeMessage",f);c.push(d);d=a.getCometKeyCommandConfig("chats","replyToMessage",i);c.push(d);d=a.getCometKeyCommandConfig("chats","forwardMessage",k);c.push(d);d=a.getCometKeyCommandConfig("chats","removeMessage",m);c.push(d);return c},[f,i,k,m]);return h.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:c,xstyle:!1,children:a})}c=a;f.keyCommands=c}),null);
__d("MWV2ChatErrorBubble.bs",["fbt","MWV2TombstonedMessage.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={withBackground:{backgroundColor:"nred35xi"},withReply:{zIndex:"tkr6xdv7"},vr:{height:"p3ovkuyr",width:"k4urcfbm"}};function a(a){a=a.hasReply;return j.jsxs("div",{className:(i||(i=b("stylex")))(a?k.withReply:k.withBackground),children:[a?null:j.jsx("div",{className:(i||(i=b("stylex")))(k.vr,k.withBackground)}),j.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._(/*FBT_CALL*/"\u986f\u793a\u5a92\u9ad4\u6642\u767c\u751f\u932f\u8aa4"/*FBT_CALL*/),xstyle:k.withBackground})]})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2ChatSeenHeadsRow.bs",["fbt","BaseGlimmer.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWLSThreadDisplayContext.bs","MWPTooltip.react","MWPTooltipGroup.react","MWTheme.bs","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","bs_array","bs_caml_obj","bs_curry","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",paddingBottom:"r8blr3vg"},mask:{backgroundColor:"nred35xi"},spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},heads:{flexShrink:"pfnyh3mw",display:"j83agx80",marginTop:"aahdfvyu",marginEnd:"cgat1ltu",marginBottom:"dicw6rsg",marginStart:"hcukyx3x"},img:{verticalAlign:"sf5mxxl7",width:"gab7stmx",height:"i4qgphn6",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",paddingStart:"abpf7j7b",paddingEnd:"exrn9cbp"},overflow:{backgroundColor:"tdjehn4e",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",color:"m9osqain",fontSize:"r9r71o1u",fontWeight:"n3ffmt46",lineHeight:"eagtllmd",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"b3onmgus",textAlign:"oqcyycmt"}};function l(a,c){var d=a.length,e=d>5;d=Math.max(d-(e?4:5)|0,0);var f=a.slice(d);if(e){e=Math.max(d-9|0,0);a=a.slice(e,d);var h="\n"+g._(/*FBT_CALL*/{"*":"\u548c\u5176\u4ed6{Number of additional views}\u4eba"}/*FBT_CALL*/,[g._param("Number of additional views",e,[0])]);a=j.jsxs("ul",{children:[a.reverse().map(function(a,b){return j.jsx("li",{children:a.name},String(b))}),e>0?j.jsx("li",{children:h},"overflow"):null]});e=j.jsx(b("MWPTooltip.react"),{tooltip:a,align:function(){switch(b("bs_caml_obj").caml_equal(c,1)?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:j.jsx("span",{className:(i||(i=b("stylex")))(k.overflow),children:g._(/*FBT_CALL*/{"*":"+{the number of additional viewers}"}/*FBT_CALL*/,[g._param("the number of additional viewers",d,[0])])}),forceInlineDisplay:!0},"overflow")}else e=null;return b("bs_array").append([e],f.map(function(a,d){var e=a.timestamp>0?g._(/*FBT_CALL*/{"*":"{full name}\u5df2\u5728{seen time}\u770b\u904e"}/*FBT_CALL*/,[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender)),g._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):g._(/*FBT_CALL*/{"*":"{full name}\u5df2\u770b\u904e"}/*FBT_CALL*/,[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender))]);return j.jsx(b("MWPTooltip.react"),{tooltip:e,align:function(){switch(b("bs_caml_obj").caml_equal(c,1)?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:a.imageSrc===""?j.jsx(b("BaseGlimmer.react"),{className:(i||(i=b("stylex")))(k.img),index:d}):j.jsx("img",{className:(i||(i=b("stylex")))(k.img),alt:e,src:a.imageSrc}),forceInlineDisplay:!0},a.id)}))}function a(a){var c=a.messageSeenBy;a=b("MWTheme.bs").useTheme(void 0);var d=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),e=d.setIsDialogOpened,f=d.setFocused,h=c.length,m=b("MWLSThreadDisplayContext.bs").useHook(void 0);return j.jsxs("div",{role:"none",className:(i||(i=b("stylex")))(k.root,b("MWTheme.bs").isGradient(a)?k.mask:!1),children:[j.jsx("div",{className:i(k.spacer)}),j.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){b("bs_curry")._1(e,function(a){return!1});return b("bs_curry")._1(f,function(a){return!0})},dialogResource:b("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog",{name:"MWV2ChatSeenHeadsDialog","class":"fluid"}).__setRef("MWV2ChatSeenHeadsRow.bs"),dialogProps:{onClose:function(a){},messageSeenBy:c},children:function(a,d){return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"{number of participants who have seen this message}\u4f4d\u53c3\u8207\u8005\u5df2\u8b80"/*FBT_CALL*/,[g._param("number of participants who have seen this message",String(h))]).toString(),ref:d,onPress:function(c){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.heads]},children:j.jsx(b("MWPTooltipGroup.react"),{children:l(c,m)})})}})]})}c=5;d=a;f.styles=k;f.maxNumberOfHeads=c;f.getImageRow=l;f.make=d}),null);
__d("MWV2MessageEndOfGroupContent.bs",["MWPMessageListColumn.bs","MWV2ChatSeenHeadsRow.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.seenHeads;return h.jsx(h.Fragment,{children:a.length!==0?h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWV2ChatSeenHeadsRow.bs").make,{messageSeenBy:a})}):null})}c=a;f.make=c}),null);
__d("MWV2MessageProfilePhoto.bs",["BaseGlimmer.react","CometImageCover.react","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MWPMessageAuthor.bs","MWPTooltip.react","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{width:"ciadx1gn"}};function k(a){return i.jsx("div",{className:(h||(h=b("stylex")))(j.root)})}c={styles:j,make:k};var l={profile:{flexShrink:"pfnyh3mw",width:"ciadx1gn",height:"mudddibn",alignItems:"aovydwv3",display:"j83agx80"},glimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",width:"ciadx1gn",height:"mudddibn"}};function a(a){var c=a.message,d=a.isLastMessageInGroup,e=a.isGroupThread;a=i.useContext(b("MWPMessageAuthor.bs").ctx);var f=a.nickname,g=a.contact,j={borderRadius:"50%"};if(!d)return i.jsx(k,{});var m;a=0;if(g!==void 0&&g.b!==""){d=f!==void 0?f+" ("+g.h+")":g.h;m=i.jsx(b("MWPTooltip.react"),{tooltip:d,align:"middle",position:"start",children:b("gkx")("4185")?i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu").__setRef("MWV2MessageProfilePhoto.bs"),popoverProps:{message:c},children:function(a,c,d,f,h,k,m){if(e)return i.jsx(b("CometPressable.react"),{ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},xstyle:function(a){return[l.profile]},children:i.jsx(b("CometImageCover.react"),{alt:g.h,src:g.b,style:j})});else return i.jsx(b("CometImageCover.react"),{alt:g.h,src:g.b,style:j})}}):i.jsx(b("CometImageCover.react"),{alt:g.h,src:g.b,style:j})})}else a=1;a===1&&(m=i.jsx(b("BaseGlimmer.react"),{index:1,xstyle:l.glimmer}));return i.jsx("div",{className:(h||(h=b("stylex")))(l.profile),children:m})}d=a;f.NoProfilePhoto=c;f.styles=l;f.make=d}),null);
__d("BaseHeadingContextWrapper.re",["BaseHeadingContextWrapper.react"],(function(a,b,c,d,e,f){a=b("BaseHeadingContextWrapper.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWV2MessageSenderName.bs",["MWPMessageAuthor.bs","MWPMessageListColumn.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{fontSize:"r9r71o1u",color:"m9osqain",lineHeight:"fsrhnwul",paddingStart:"d0szoon8",marginTop:"qjjbsfad"}};function k(a){a=a.children;return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:a})}c={styles:j,make:k};function a(a){a=a.message;a=b("MWPMessageAuthor.bs").useAuthorName(a);a=a[0];return i.jsx(i.Fragment,{children:a!==void 0?i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:i.jsx(k,{children:a})}):null})}d=a;f.GroupHeading=c;f.make=d}),null);
__d("MWV2MessageHasAttachment.bs",["LSMessageContentType.bs","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){if(!b("bs_int64").equal(a.Q,b("LSMessageContentType.bs").text)&&!b("bs_int64").equal(a.Q,b("bs_caml_int64").add(b("LSMessageContentType.bs").text,b("LSMessageContentType.bs").forwardIndicator))&&!b("bs_int64").equal(a.Q,b("LSMessageContentType.bs").glyph)&&!b("bs_int64").equal(a.Q,b("bs_caml_int64").add(b("LSMessageContentType.bs").glyph,b("LSMessageContentType.bs").forwardIndicator)))return!b("bs_int64").equal(a.Q,b("bs_caml_int64").add(b("LSMessageContentType.bs").text,b("LSMessageContentType.bs").storyReply));else return!1}f.make=a}),null);
__d("MWV2OpenForwardedContent.bs",["fbt","MDSForwardSvgIcon.bs","MWPMessageAuthor.bs","MWV2MessageHasAttachment.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_caml","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{display:"j83agx80",alignItems:"bp9cbjyn",paddingTop:"jwdofwj8",paddingBottom:"pby63qed"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function a(a){return g._(/*FBT_CALL*/"{name}\u8f49\u5bc4\u4e86 1 \u5247\u8a0a\u606f"/*FBT_CALL*/,[g._param("name",a)])}function c(a){return g._(/*FBT_CALL*/"{name}\u8f49\u5bc4\u4e86 1 \u689d\u9023\u7d50"/*FBT_CALL*/,[g._param("name",a)])}var l=g._(/*FBT_CALL*/"\u5df2\u8f49\u5bc4 1 \u689d\u9023\u7d50"/*FBT_CALL*/);function d(a){return g._(/*FBT_CALL*/"{name}\u50b3\u5bc4\u4e86 1 \u5f35\u5716\u50cf"/*FBT_CALL*/,[g._param("name",a)])}var m=g._(/*FBT_CALL*/"\u5df2\u8f49\u5bc4 1 \u5f35\u5716\u50cf"/*FBT_CALL*/);function e(a){return g._(/*FBT_CALL*/"{name}\u8f49\u5bc4\u4e86 1 \u6bb5\u5f71\u7247"/*FBT_CALL*/,[g._param("name",a)])}var n=g._(/*FBT_CALL*/"\u5df2\u8f49\u5bc4 1 \u6bb5\u5f71\u7247"/*FBT_CALL*/);function o(a){if(b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").xma))return a.q==="xma_web_url";else return!1}function p(a){if(b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").animatedImage))return!0;else return b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").image)}function q(a){return b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").video)}function r(a,c){var d=b("ReStore.bs").useHook(void 0),e=a.e,f=a.a,h=b("MWV2MessageHasAttachment.bs").make(a),i=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){if(h)return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"attachments").asc,{hd:f,tl:{hd:e,tl:0}});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,e,JSON.stringify(f),h]));a=b("MWPMessageAuthor.bs").useAuthorName(a);var k=a[0];return j.useMemo(function(){if(c)if(i!==void 0)if(o(i))return g._(/*FBT_CALL*/"\u4f60\u8f49\u5bc4\u4e86 1 \u689d\u9023\u7d50"/*FBT_CALL*/);else if(p(i))return g._(/*FBT_CALL*/"\u4f60\u8f49\u5bc4\u4e86 1 \u5f35\u5716\u50cf"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(i.f,b("MessagingAttachmentType.bs").video))return g._(/*FBT_CALL*/"\u4f60\u8f49\u5bc4\u4e86 1 \u6bb5\u5f71\u7247"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"\u4f60\u8f49\u5bc4\u4e86 1 \u5247\u8a0a\u606f"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"\u4f60\u8f49\u5bc4\u4e86 1 \u5247\u8a0a\u606f"/*FBT_CALL*/);else if(i!==void 0)if(k!==void 0)if(o(i))return g._(/*FBT_CALL*/"{name}\u8f49\u5bc4\u4e86 1 \u689d\u9023\u7d50"/*FBT_CALL*/,[g._param("name",k)]);else if(p(i))return g._(/*FBT_CALL*/"{name}\u50b3\u5bc4\u4e86 1 \u5f35\u5716\u50cf"/*FBT_CALL*/,[g._param("name",k)]);else if(b("bs_caml").i64_eq(i.f,b("MessagingAttachmentType.bs").video))return g._(/*FBT_CALL*/"{name}\u8f49\u5bc4\u4e86 1 \u6bb5\u5f71\u7247"/*FBT_CALL*/,[g._param("name",k)]);else return g._(/*FBT_CALL*/"\u5df2\u8f49\u5bc4 1 \u5247\u8a0a\u606f"/*FBT_CALL*/);else if(o(i))return g._(/*FBT_CALL*/"\u5df2\u8f49\u5bc4 1 \u689d\u9023\u7d50"/*FBT_CALL*/);else if(p(i))return g._(/*FBT_CALL*/"\u5df2\u8f49\u5bc4 1 \u5f35\u5716\u50cf"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(i.f,b("MessagingAttachmentType.bs").video))return g._(/*FBT_CALL*/"\u5df2\u8f49\u5bc4 1 \u6bb5\u5f71\u7247"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"\u5df2\u8f49\u5bc4 1 \u5247\u8a0a\u606f"/*FBT_CALL*/);else if(k!==void 0)return g._(/*FBT_CALL*/"{name}\u8f49\u5bc4\u4e86 1 \u5247\u8a0a\u606f"/*FBT_CALL*/,[g._param("name",k)]);else return g._(/*FBT_CALL*/"\u5df2\u8f49\u5bc4 1 \u5247\u8a0a\u606f"/*FBT_CALL*/)},[c,i,k])}function s(a){var c=a.message;a=a.outgoing;c=r(c,a);return j.jsxs("div",{className:(i||(i=b("stylex")))(k.container),children:[j.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}),j.jsx("div",{className:i(k.text),children:c})]})}s=s;f.styles=k;f.textForwardedBySomeone=a;f.linkForwardedBySomeone=c;f.linkForwardedByUnknown=l;f.imageForwardedBySomeone=d;f.imageForwardedByUnknown=m;f.videoForwardedBySomeone=e;f.videoForwardedByUnknown=n;f.isLink=o;f.isImage=p;f.isVideo=q;f.useTitle=r;f.make=s}),null);
__d("MWV2OpenReplySnippet.bs",["LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","bs_caml","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",alignItems:"bp9cbjyn",paddingTop:"jwdofwj8",paddingBottom:"pby63qed"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function k(a){a=a.message;a=a.t;if(a!==void 0)if(b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").story))return i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"});else if(b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").fbStoryShare))return i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"});else return null;else return null}c={make:k};function a(a){a=a.message;var c=a.v;if(c!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx(k,{message:a}),i.jsx("div",{className:h(j.text),children:c})]});else return null}d=a;f.styles=j;f.Icon=c;f.make=d}),null);
__d("MWV2MessageRowHeader.bs",["fbt","BaseHeading.react","BaseHeadingContextWrapper.re","LSMessageReplySourceTypeV2.bs","MWPMessageAuthor.bs","MWPMessageListColumn.bs","MWV2MessageHasReply.bs","MWV2MessageSenderName.bs","MWV2OpenForwardedContent.bs","MWV2OpenReplySnippet.bs","StylexHelpers.bs","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={header:{display:"j83agx80",flexDirection:"cbu4d94t"},alignEnd:{alignItems:"aovydwv3"},hiddenFromFocusRegion:{height:"do00u71z",width:"ttbfdpzt"}};function l(a){var c=a.message,d=a.outgoing;a=b("MWPMessageAuthor.bs").useAuthorName(c);a=a[0];var e=j.useMemo(function(){if(d)return g._(/*FBT_CALL*/"\u4f60\u50b3\u9001\u4e86"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"\u6210\u54e1"/*FBT_CALL*/)},[d]);if(c.j)return null;else return j.jsx("span",{className:(i||(i=b("stylex")))(b("StylexHelpers.bs").styles.visuallyHidden),children:a!==void 0&&!d?a:e})}c={make:l};function m(a,c){return j.useMemo(function(){var d=a.v;d=d!==void 0?d!=="":!1;var e=b("bs_caml_obj").caml_equal(a.t,b("LSMessageReplySourceTypeV2.bs").forward);if(d)return b("bs_caml_option").some(j.jsx(b("MWV2OpenReplySnippet.bs").make,{message:a,outgoing:c}));else if(e)return b("bs_caml_option").some(j.jsx(b("MWV2OpenForwardedContent.bs").make,{message:a,outgoing:c}));else return},[a,c])}function a(a){var c=a.isFirstMessageInGroup,d=a.message,e=a.outgoing;a=a.isGroupThread;var f=b("MWV2MessageHasReply.bs").make(d),g=m(d,e);g=j.jsx(j.Fragment,{children:g!==void 0?j.jsx("div",{role:"none",className:(i||(i=b("stylex")))(k.header,e?k.alignEnd:!1),children:j.jsx(b("MWPMessageListColumn.bs").WithGutters.make,{children:b("bs_caml_option").valFromOption(g),shrinkwrap:!0})}):a&&c&&!e&&!f?j.jsx(b("MWV2MessageSenderName.bs").make,{message:d}):j.jsx(l,{message:d,outgoing:e})});return j.jsx(b("BaseHeadingContextWrapper.re").make,{children:j.jsx(b("BaseHeading.react"),{children:g})})}d=a;f.styles=k;f.AccessibleText=c;f.useSnippet=m;f.make=d}),null);
__d("WorkChatDateBreak.bs",["BaseHeading.react","CometTimestamp.react","MWTheme.bs","formatDate","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{textAlign:"oqcyycmt",color:"pipptul6",fontSize:"r9r71o1u",fontWeight:"lrazzd5p"},mask:{backgroundColor:"nred35xi"},accessibleElem:{clip:"q45zohi1",clipPath:"ema1e40h",height:"do00u71z",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"ttbfdpzt"}};function a(a){a=a.timestamp;var c=b("MWTheme.bs").useTheme(void 0);return i.jsxs(b("BaseHeading.react"),{children:[i.jsx("div",{className:(h||(h=b("stylex")))(j.accessibleElem),children:i.jsx(b("CometTimestamp.react"),{date:new Date(a)})}),i.jsx("div",{className:h(j.root,b("MWTheme.bs").isGradient(c)?j.mask:!1),"data-scope":"date_break","aria-hidden":!0,children:b("formatDate")(new Date(a),{today:"g:ia",thisYear:"M jS, g:ia",withinWeek:"D g:ia",older:"m/d/Y g:ia",future:"g:ia"})})],testid:"mw-chat-date-break"})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2MessageStartOfGroupContent.bs",["MWPMessageListColumn.bs","MWV2MessageRowSimple.bs","WorkChatDateBreak.bs","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){if(c!==void 0)return b("bs_int64").compare(b("bs_caml_int64").sub(a.b,c.b),[0,9e5])>0;else return!0}function j(a){var c=a.message;a=a.prevMessage;if(i(c,a))return h.jsx(b("MWV2MessageRowSimple.bs").make,{children:h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("WorkChatDateBreak.bs").make,{timestamp:b("bs_caml_int64").to_float(c.b)})})});else return null}c={make:j};function a(a){var b=a.message;a=a.prevMessage;return h.jsx(j,{message:b,prevMessage:a})}d=a;f.Datebreak=c;f.make=d}),null);
__d("MWV2ChatReactionsTooltip.bs",["fbt","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.reactions,d=a.threadKey,e=a.messageId,f=b("ReStore.bs").useHook(void 0);a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").leftJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"reactions").asc,{hd:d,tl:{hd:e,tl:0}}),b("ReQLTable").table(f,"contacts").asc)},[JSON.stringify(d),f,e]));var h=new Map(a.map(function(a){var c=a[1];return[b("bs_int64").to_string(a[0].d),c!==void 0?c.h:g._(/*FBT_CALL*/"Facebook \u7528\u6236"/*FBT_CALL*/)]}));a=i.useMemo(function(){var a=c.map(function(a){a=h.get(b("bs_int64").to_string(a.d));if(a==null)return"";else return a}).filter(function(a){return a!==""}),d=a.length;a=a.slice(0,9);if(d>9){d=d-9|0;a.push(g._(/*FBT_CALL*/{"*":"\u548c\u5176\u4ed6{count}\u4eba"}/*FBT_CALL*/,[g._param("count",String(d)),g._plural(d)]))}return a},[c,a]);a=a.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:a})}c=9;d=a;f.maxExplicitNames=c;f.make=d}),null);
__d("MWV2ChatReactionsPill.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","EmojiRenderer","JSResourceForInteraction","MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWLSThread.bs","MWPTooltip.react","MWV2ChatReactionsTooltip.bs","MWV2MessageRowIsRowFocusedContext.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml_array","bs_curry","gkx","intlList","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{display:"j83agx80",height:"hm271qws",justifyContent:"bkfpd7mw",width:"k4urcfbm",position:"l9j0dhe7",zIndex:"tkr6xdv7",backgroundColor:"hybvsw6c"},root:{display:"j83agx80",transform:"sg75zgpm"},emojiRow:{paddingTop:"ggysqto6",paddingEnd:"exrn9cbp",paddingBottom:"ojkyduve",paddingStart:"abpf7j7b",textAlign:"ftzlm3b6",backgroundColor:"hybvsw6c",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",boxShadow:"tlilfck6",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t"},emoji:{alignItems:"bp9cbjyn",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",lineHeight:"soycq5t1",marginEnd:"o9f14d3k",cursor:"nhd2j8a9"},emojiNum:{width:"fhvfysw3",textAlign:"oqcyycmt",fontSize:"r9r71o1u",lineHeight:"soycq5t1",color:"m9osqain"},gutter:{flexBasis:"nl5py54v",flexShrink:"g5gj957u",flexGrow:"kb5gq1qc"}};function a(a){var c=b("ReStore.bs").useHook(void 0),d=a.e,e=a.a;return b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"reactions").asc,{hd:e,tl:{hd:d,tl:0}}),function(a){if(b("bs_curry")._1(b("MWChatReactionsUtils.bs").isHeart,a.e))return{a:a.a,b:a.b,c:a.c,d:a.d,e:b("MWChatReactionsUtils.bs").heartType1,f:a.f};else return a})},[JSON.stringify(e),d,c]))}function l(a,c){if(!b("gkx")("3598"))return g._(/*FBT_CALL*/{"*":"{number}\u500b\u5fc3\u60c5\uff0c\u67e5\u770b\u8ab0\u5c0d\u6b64\u50b3\u9054\u4e86\u5fc3\u60c5","_1":"1 \u500b\u5fc3\u60c5\uff0c\u67e5\u770b\u8ab0\u5c0d\u6b64\u50b3\u9054\u4e86\u5fc3\u60c5"}/*FBT_CALL*/,[g._plural(c,"number")]);a=b("intlList")(a.map(function(a){return a.join("")}),b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._(/*FBT_CALL*/{"*":"{number}\u500b{the comma separated list of emojis used to react on this message}\u5fc3\u60c5\uff1b\u67e5\u770b\u8ab0\u5c0d\u6b64\u50b3\u9054\u4e86\u5fc3\u60c5","_1":"1 \u500b{the comma separated list of emojis used to react on this message}\u5fc3\u60c5\uff1b\u67e5\u770b\u8ab0\u5c0d\u6b64\u50b3\u9054\u4e86\u5fc3\u60c5"}/*FBT_CALL*/,[g._plural(c,"number"),g._param("the comma separated list of emojis used to react on this message",a)])}function c(a){var c=a.message,d=a.reactions;a=a.outgoing;var e=c.e,f=c.a,g=b("MWLSThread.bs").useThread(f),h=d.length,m=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),n=m.setIsDialogOpened,o=m.setFocused;m=Array.from(new Set(d.map(function(a){return a.e}))).slice(0,3).map(function(a,c){c=b("EmojiRenderer").parse(a).map(function(a){return a.emoji});if(c.length!==1)return[""];else return c[0]}).filter(function(a){return a.join("")!==""});var p=m.map(function(c,d){if(c.length===1){var a=c[0];if(a==="")return null}return j.jsx("div",{className:(i||(i=b("stylex")))(k.emoji),children:j.jsx(b("MWChatReactionEmoji.bs").make,{emoji:c,size:16,testid:"messenger_reaction_emoji_"+b("bs_caml_array").get(c,0)})},String(d))});if(h<=0)return null;var q=l(m,h);return j.jsx(j.Fragment,{children:j.jsxs("div",{role:"none",className:(i||(i=b("stylex")))(k.container),children:[j.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){b("bs_curry")._1(n,function(a){return!1});return b("bs_curry")._1(o,function(a){return!0})},dialogResource:b("JSResourceForInteraction")("MWV2ChatReactionsDialog",{name:"MWV2ChatReactionsDialog","class":"fluid"}).__setRef("MWV2ChatReactionsPill.bs"),dialogProps:{onClose:function(a){},thread:g,message:c,reactions:{}},children:function(a,c){return j.jsx("div",{role:"none",className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MWPTooltip.react"),{tooltip:j.jsx(b("MWV2ChatReactionsTooltip.bs").make,{reactions:d,threadKey:f,messageId:e}),align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":q,ref:c,onPress:function(c){b("bs_curry")._1(n,function(a){return!0});return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:j.jsxs("div",{role:"none",className:i(k.emojiRow),children:[p,j.jsx("div",{role:"none",className:i(k.emojiNum),children:String(h)})]})})})})}}),a?null:j.jsx("div",{role:"none",className:(i||(i=b("stylex")))(k.gutter)})]})})}d=3;e=c;f.styles=k;f.maxShownReactions=d;f.useReactions=a;f.generateAriaLabel=l;f.make=e}),null);
__d("MWV2JumpToRepliedMessageLogger.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId,void 0),null);b("MWChatInteraction.bs").set(c,f);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}f.startHeroInteractionTrace=a}),null);
__d("MWV2JumpToRepliedMessage.bs",["LS.bs","LSMessagePointQuery","LSMessagingInitiatingSourceHook.bs","LSTransaction.bs","MWThreadKey.bs","MWV2JumpToRepliedMessageLogger.bs","MWVersion.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_curry","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("ReStore.bs").useHook(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0),g=h.useRef(!1),i=b("MWVisibleMessageContext.bs").useHook(void 0),j=i.setVisibleMessage,k=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),l=b("useCometInteractionTracing")(b("qpl")._(25301087,"7779"),"fast","INTERACTION"),m=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"messages").asc,{hd:f,tl:{hd:c,tl:{hd:a,tl:0}}})},[e,f,c,a]));h.useEffect(function(){m!==void 0||g.current||(g.current=!0,b("LSTransaction.bs").run(e,function(c){return b("LSMessagePointQuery")(f,a,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"))},[e,m,f,a]);i=h.useMemo(function(){return m!==void 0},[m]);var n=h.useCallback(function(a){return l(function(e){if(m===void 0)return;var a=m.e,c=m.b;b("bs_curry")._1(j,function(b){return{timestamp:c,messageId:a,highlights:[],contextLine:"",source:1}});return b("MWV2JumpToRepliedMessageLogger.bs").startHeroInteractionTrace(e,d?a:m.f,k,b("MWVersion.bs").v2)})},[m,j,l,d,k]);return[i,n]}f.useHook=a}),null);
__d("MWV2RepliedMessageBubbleWrapper.bs",["fbt","CometPressable.react","MWV2JumpToRepliedMessage.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{display:"a8c37x1j"}};function a(a){var c=a.messageId,d=a.timestampMs,e=a.isSecureThread;a=a.children;c=b("MWV2JumpToRepliedMessage.bs").useHook(c,d,e);var f=c[1];return i.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u524d\u5f80\u8a0a\u606f"/*FBT_CALL*/),disabled:!c[0],onPress:function(a){return b("bs_curry")._1(f,void 0)},overlayDisabled:!0,xstyle:function(a){return[j.root]},children:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ReplyTo.bs",["fbt","CometScreenReaderText.react","MWV2ChatBubbleSolid.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={content:{overflowWrap:"jm1wdb64",paddingBottom:"f10w8fjw",fontSize:"e9vueds3",color:"m9osqain"}};function a(a){var c=a.children,d=a.outgoing;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsxs(b("MWV2ChatBubbleSolid.bs").make,{children:[j.jsx(b("CometScreenReaderText.react"),{text:g._(/*FBT_CALL*/"\u539f\u59cb\u8a0a\u606f\uff1a"/*FBT_CALL*/)}),j.jsx("div",{className:(i||(i=b("stylex")))(k.content,a),children:c})],style:{backgroundColor:"var(--comment-footer-background)"},connectTop:!1,connectBottom:!0,precedesXMA:!1,outgoing:d})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2Reply.bs",["fbt","ix","CometPressable.react","CometTextWithEntities.react","LSMessageReplySourceTypeV2.bs","LSReplyMessageAttachmentType.bs","LSReplyMessageStatus.bs","MWChatTextFormatting","MWChatTextTransform.bs","MWStableImage.bs","MWV2RepliedMessageBubbleWrapper.bs","MWV2ReplyTo.bs","TetraIcon.react","XCometStoriesControllerRouteBuilder","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_int64","fbicon","qex","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l=g._(/*FBT_CALL*/"\u5df2\u79fb\u9664\u8a0a\u606f"/*FBT_CALL*/),m={root:{fontStyle:"fmqa7x8m"}};function n(a){a=a.outgoing;return k.jsx(b("MWV2ReplyTo.bs").make,{children:l,outgoing:a,xstyle:m.root})}c={text:l,styles:m,make:n};var o=g._(/*FBT_CALL*/"\u9644\u4ef6"/*FBT_CALL*/),p={root:{alignItems:"bp9cbjyn",display:"j83agx80",fontStyle:"fmqa7x8m"},icon:{display:"a8c37x1j",marginStart:"h676nmdw"}};function q(a){a=a.outgoing;return k.jsx(b("MWV2ReplyTo.bs").make,{children:k.jsxs("div",{className:(j||(j=b("stylex")))(p.root),children:[o,k.jsx("span",{className:j(p.icon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("537728"),12),color:"secondary"})})]}),outgoing:a})}d={text:o,styles:p,make:q};var r={root:{display:"a8c37x1j",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"dbpd2lw6"},rootHasSticker:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e"},image:{display:"a8c37x1j",height:"idiwt2bm",maxWidth:"d2edcug0",width:"dbpd2lw6"},imageSmall:{maxHeight:"iko8p5ub"},incoming:{borderBottomStartRadius:"qttc61fc"},outgoing:{borderBottomEndRadius:"ihh4hy1g"}};function s(a){var c=a.src,d=a.outgoing,e=a.isSticker,f=a.width;a=a.height;e=e!==void 0?e:!1;f=f!==void 0?b("bs_caml_option").valFromOption(f):void 0;a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;d=e?!1:d?r.outgoing:r.incoming;return k.jsx(b("MWStableImage.bs").make,{width:f!==void 0?b("bs_caml_int64").to_float(f):void 0,height:a!==void 0?b("bs_caml_int64").to_float(a):void 0,src:c,alt:"",maxHeight:100,maxWidth:300,className:(j||(j=b("stylex")))(r.root,e?r.rootHasSticker:!1,d)})}e={styles:r,make:s};var t=g._(/*FBT_CALL*/"\u5df2\u79fb\u9664\u8a0a\u606f"/*FBT_CALL*/),u={root:{display:"a8c37x1j"}};function v(a){var c=a.message;a=a.outgoing;var d=c.r;d=d!==void 0?b("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+d),view_single:!0}).setDomain("www.facebook.com").setProtocol("https").toString():void 0;c=c.z;if(c===void 0)return null;c={"aria-label":g._(/*FBT_CALL*/"\u67e5\u770b\u9650\u6642\u52d5\u614b"/*FBT_CALL*/),overlayDisabled:!0,children:k.jsx(s,{src:c,outgoing:a})};a=b("bs_belt_Option").map(d,function(a){return{url:a}});a!==void 0&&(c.linkProps=b("bs_caml_option").valFromOption(a));return k.jsx(b("CometPressable.react"),c)}t={text:t,styles:u,make:v};var w=g._(/*FBT_CALL*/"\u76f8\u7247"/*FBT_CALL*/),x={italic:{fontStyle:"fmqa7x8m"}};function y(a){var c=a.message;a=a.outgoing;var d=c.z;if(d!==void 0)return k.jsx(s,{src:d,outgoing:a,width:c.A,height:c.B});else return k.jsx(b("MWV2ReplyTo.bs").make,{children:w,outgoing:a,xstyle:x.italic})}u={text:w,styles:x,make:y};var z=g._(/*FBT_CALL*/"\u8cbc\u5716"/*FBT_CALL*/),A={italic:{fontStyle:"fmqa7x8m"}};function B(a){var c=a.message;a=a.outgoing;var d=c.z;if(d!==void 0)return k.jsx(s,{src:d,outgoing:a,isSticker:!0,width:c.A,height:c.B});else return k.jsx(b("MWV2ReplyTo.bs").make,{children:z,outgoing:a,xstyle:A.italic})}var C={text:z,styles:A,make:B},D={text:{color:"m9osqain"}};function E(c){var a=c.text;c=k.useMemo(function(){var a={};a.MessengerTextFormatting=[b("MWChatTextFormatting").replyRenderer];return a},[]);var d=k.useMemo(function(){return b("MWChatTextFormatting").getFormattingRanges(a)},[a]);return k.jsx("div",{className:(j||(j=b("stylex")))(D.text),children:k.jsx(b("CometTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:d,truncationStyle:"ellipsis-only",withParagraphs:!1,text:a,renderers:c,transforms:b("MWChatTextTransform.bs").epdTextTransforms})})}var F={styles:D,make:E},G={elevate:{maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"tkr6xdv7"}};function a(a){var c=a.message,d=a.outgoing;a=a.isSecureThread;a=a!==void 0?a:!1;var e=c.Y,f=c.H,g=c.G,h=c.w,i=c.r;g=g!==void 0?(b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").photo)||b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").video))&&b("bs_caml_obj").caml_equal(c.t,b("LSMessageReplySourceTypeV2.bs").story)?k.jsx(v,{message:c,outgoing:d}):f!==void 0?b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").other)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").photo)?k.jsx(y,{message:c,outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").multiphoto)?k.jsx(y,{message:c,outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").video)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").gif)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").sticker)?k.jsx(B,{message:c,outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").link)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").permanentRavenPhoto)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").permanentRavenVideo)?k.jsx(q,{outgoing:d}):(b("recoverableViolation")("Unknown attachment type: "+b("bs_int64").to_string(g),"messenger_comet"),null):null:f!==void 0?null:b("bs_caml_obj").caml_equal(c.u,b("LSReplyMessageStatus.bs").deleted)?k.jsx(n,{outgoing:d}):h!==void 0&&b("bs_caml_obj").caml_equal(c.t,b("LSMessageReplySourceTypeV2.bs").message)?h!==""?k.jsx(b("MWV2ReplyTo.bs").make,{children:k.jsx(E,{text:h}),outgoing:d}):k.jsx(q,{outgoing:d}):null;f=b("qex")._("297");c=i!==void 0&&e!==void 0&&!(f==null||f!=="enabled")?k.jsx(b("MWV2RepliedMessageBubbleWrapper.bs").make,{messageId:i,timestampMs:e,isSecureThread:a,children:g}):g;return k.jsx("div",{className:(j||(j=b("stylex")))(G.elevate),children:c})}a=a;f.Removed=c;f.Attachment=d;f.$$Image=e;f.Story=t;f.Photo=u;f.Sticker=C;f.$$Text=F;f.styles=G;f.make=a}),null);
__d("MWV2ReplyError.bs",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{fontStyle:"fmqa7x8m"}};function a(a){a=a.outgoing;return i.jsx(b("MWV2ReplyTo.bs").make,{children:g._(/*FBT_CALL*/"\u986f\u793a\u5a92\u9ad4\u6642\u767c\u751f\u932f\u8aa4"/*FBT_CALL*/),outgoing:a,xstyle:j.root})}c=a;f.styles=j;f.make=c}),null);
__d("MWLSGetParticipantFbids.bs",["FBID.bs","MWLSParticipant.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWUIChatTabState.bs").useTab(void 0);a=b("MWUIChatTabState.bs").useTokenProvider(void 0);var e=h.useMemo(function(){if(!d)return b("SortedAsyncIterable.bs").empty(void 0);var a=b("MWThread_DEPRECATED.bs").toThreadKey(d._0),e=b("ReQLTable").table(c,"contacts").asc;return b("MWLSParticipant.bs").getAllInOpenThread(c,e,a)},[c,d]);e=b("ReQLSubscription.bs").useArray(e);if(d)return e.map(function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.contact_id))});else return b("bs_curry")._1(a,void 0)}f.useHook=a}),null);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("MWLSShowPaymentDetails.bs",["fbt","LSDatabaseType.bs","MWLSDatabaseLazySync.bs","bs_curry","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=i.useState(function(){return null});var c=a[1],d=a[0];a=i.useState(function(){return!1});var e=a[1],f=a[0];a=b("useMWUIPaymentDetailsDialog")(d);var h=a[0],j=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").payments);i.useEffect(function(){!(d==null)&&f&&h({title:g._(/*FBT_CALL*/"\u4ed8\u6b3e\u660e\u7d30"/*FBT_CALL*/),transactionID:d},function(a){return b("bs_curry")._1(e,function(a){return!1})})},[d,f]);return i.useMemo(function(){return function(a){b("bs_curry")._1(j,void 0);b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(c,function(b){return a})}},[e,c,j])}f.useHook=a}),null);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744182");c=b("FalcoLoggerInternal").create("pii_action_flow",a);e.exports=c}),null);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MWChatGutterItem.bs",["BaseGlimmer.react","MWLSThreadDisplayContext.bs","MWMessageDeliveryStatus.bs","MWMessageDeliveryStatusIcons.bs","MWPTooltip.react","MWTheme.bs","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",alignItems:"aovydwv3"},mask:{backgroundColor:"nred35xi"},incoming:{flexDirection:"rl25f0pe"},icon:{display:"j83agx80",flexShrink:"pfnyh3mw",marginStart:"kkf49tns",marginEnd:"cgat1ltu",verticalAlign:"hrs1iv20",userSelect:"abiwlrkh",width:"gab7stmx",height:"i4qgphn6"},image:{marginStart:"kkf49tns",marginEnd:"cgat1ltu",verticalAlign:"hrs1iv20",userSelect:"abiwlrkh",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},profilePlaceholder:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",verticalAlign:"pzggbiyp",width:"gab7stmx",height:"i4qgphn6"},noneStatus:{flexShrink:"pfnyh3mw",width:"pgctjfs5"}};function a(a){var c=a.status,d=a.incoming,e=a.hasRepliedToMessage,f=a.xstyle;a=a.id;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?b("bs_caml_option").valFromOption(f):!1;a=a!==void 0?a:"";var g=b("MWTheme.bs").useTheme(void 0);g=b("MWTheme.bs").isGradient(g);var k=b("MWMessageDeliveryStatus.bs").getStatusTitle(c),l=b("MWLSThreadDisplayContext.bs").useHook(void 0),m;if(typeof c==="number")if(c===0)m=i.jsx("div",{className:(h||(h=b("stylex")))(j.noneStatus)});else{var n;if(typeof c==="number")switch(c){case 0:n=null;break;case 1:n=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Sending.make,{size:1,xstyle:j.icon});break;case 2:n=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Sent.make,{size:1,xstyle:j.icon});break;case 3:n=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Delivered.make,{size:1,xstyle:j.icon});break;case 4:n=i.jsx(b("MWMessageDeliveryStatusIcons.bs").$$Error.make,{size:1,xstyle:j.icon});break}else n=null;m=i.jsx("div",{children:n})}else if(c.TAG===0){c=c._0;m=c.imageSrc===""?i.jsx(b("BaseGlimmer.react"),{className:(h||(h=b("stylex")))(j.profilePlaceholder),index:1}):i.jsx("img",{width:"14px",height:"14px",alt:k,"data-testid":"messenger_single_seen_head",className:(h||(h=b("stylex")))(j.image),src:c.imageSrc})}else m=null;c=k!==""?i.jsx(b("MWPTooltip.react"),{tooltip:k,align:function(){switch(b("bs_caml_obj").caml_equal(l,1)?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:m}):m;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,g&&!e?j.mask:!1,d?j.incoming:!1,f),"data-testid":"messenger_delivery_status",id:a,children:c})}c=a;f.styles=j;f.make=c}),null);
__d("MWLSOpenStaticLocationDialog.bs",["JSResource","MWThreadKey.bs","Promise","ReQL.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml_array","bs_caml_option","bs_int64","promiseDone","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("useCometLazyDialog")(b("JSResource")("MWChatStaticLocationDialog.react").__setRef("MWLSOpenStaticLocationDialog.bs"));var e=a[0];return h.useCallback(function(a){a=b("ReQL.bs").first(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachments").asc,{hd:d,tl:{hd:a,tl:0}}),function(a){a=a.o;a=a!==void 0?a:b("bs_int64").zero;a=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachment_ctas").asc,{hd:a,tl:0}));if(a!==void 0)return a.j})).then(function(a){if(a!==void 0){a=b("bs_caml_option").valFromOption(a);a=a!==void 0?a:""}else a="";var c=b("bs_caml_array").get(a.split(","),0);a=b("bs_caml_array").get(a.split(","),1);e({latitude:c,longitude:a},function(a){});return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},[c,d])}f.useHook=a}),null);
__d("MWChatImageSize.bs",["bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=c!==void 0?c:!1,f=h.useRef(void 0);d=h.useState(function(){});var g=d[1];h.useEffect(function(){if(a===void 0)return;if(f.current===void 0&&!e){var c=new Image();c.src=a;c.onload=function(){return b("bs_curry")._1(g,function(a){return{width:c.naturalWidth,height:c.naturalHeight}})};f.current=b("bs_caml_option").some(c)}return function(a){b("bs_curry")._1(g,function(a){});a=f.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);a.onload=null}},[a,e,g]);return d[0]}f.useImageSize=a}),null);
__d("MWLSUseLatch.bs",["CometThrottle","Run","bs_curry","debounce","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("CometThrottle");function a(a,c,d){var e=c!==void 0?c:!1;h.useEffect(function(){if(!e)return;var c=b("Run").onUnload(function(c){return b("bs_curry")._1(a,!1)});return function(a){return c.remove()}},[e,a]);return h.useMemo(function(){var c={contents:!1},e=b("debounce")(function(d){if(!c.contents)return b("bs_curry")._1(a,!1)},d|0),f=i(function(c){return b("bs_curry")._1(a,!0)},3e3,{leading:!0,trailing:!1}),g=function(d){b("bs_curry")._1(a,!1),c.contents=!0},h=function(a){b("bs_curry")._1(f,void 0);return e(void 0)};return[h,g]},[a,d])}f.throttle=i;f.useLatch=a}),null);
__d("MWComposerXacDisclosureLoader.bs",["LSAuthorityLevel.bs","MWComposerXacDisclosureRelay.react","MWLSThreadHasInstagramUsers.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.size;var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=JSON.stringify(d),f=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:d,tl:0}),function(a){return b("bs_int64").compare(a.Z,b("LSAuthorityLevel.bs").authoritative)<0})},[e,c])));e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("MWLSThreadHasInstagramUsers.bs").query(c,d)},[e,c])));if(e)return h.jsx(b("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:f,size:a});else return null}c=a;f.make=c}),null);
__d("MWV2ComposerMediaProgressBar.bs",["MWV2ColorUtils.bs","MWV2Theme.bs","bs_js_math","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={progressBar:{position:"pmk7jnqg",bottom:"i09qtzwb",start:"j9ispegn",width:"k4urcfbm"}};function a(a){var c=a.mediaStaging;a=a.height;var d=b("MWV2Theme.bs").useHook(void 0);d=c.p?"var(--negative)":b("MWV2ColorUtils.bs").int64ToHex(d.threadTheme.c);c=b("bs_js_math").ceil(c.n*100);var e=(a/2).toString();e="M 0,"+e+" L 100,"+e;return i.jsxs("svg",{viewBox:"0 0 100 "+a.toString(),preserveAspectRatio:"none",className:(h||(h=b("stylex")))(j.progressBar),style:{height:a.toString()},children:[i.jsx("path",{d:e,stroke:"rgba(0,0,0,.5)",strokeWidth:a.toString(),strokeLinecap:"round"}),i.jsx("path",{d:e,stroke:d,strokeWidth:(c===0?0:a).toString(),strokeLinecap:"round",style:{transition:"stroke-dashoffset .5s, stroke .5s",strokeDasharray:"100",strokeDashoffset:(100-c|0).toString()}})]})}c=a;f.styles=j;f.make=c}),null);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWV2UseMediaViewerURL.bs",["FBID.bs","MessagingAttachmentType.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","bs_caml","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useMemo(function(){var c=b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").animatedImage);if(c)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:void 0,fbid:b("FBID.bs").ofStringExn(a.e),message_id:a.c});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a)),attachment_id:b("FBID.bs").ofStringExn(a.e),message_id:a.c})},[JSON.stringify(a.a),JSON.stringify(a.f),JSON.stringify(a.c),a.e])}f.useHook=a}),null);
__d("MWV2MessageIsEmojiOnly.bs",["EmojiRenderer","EmoticonRenderer","gkx"],(function(a,b,c,d,e,f){"use strict";var g=/^[ \r\n\s]*$/;function a(a){if(a===void 0)return!1;var c=b("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),d=b("gkx")("1839834")?b("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];c=c.concat(d);if(c.length===0)return!1;d=c.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};c=d.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return g.test(c)===!1});d=e.contents!==a.length&&!g.test(a.substring(f.contents));if(c)return!1;else return!d}f.utf16RegexSpaces=g;f.make=a}),null);
__d("MWMessageListAttachmentDimensions.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,b){return h.useMemo(function(){var c=b.bZ,d=b.ca;return a!==void 0&&c!==void 0&&d!==void 0&&a===1?[c,d]:[b.K,b.L]},[a,b])}f.useHook=a}),null);
__d("MWMessageListMediaPressableContainer.bs",["CometPressable.react","MWMessageProtectionContext.bs","MessagingAttachmentType.bs","bs_caml","bs_caml_option","bs_curry","cr:12148","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:12148")==null?void 0:b("bs_caml_option").some(b("cr:12148"));function a(a){var c=a.attachment,d=a.onPress,e=a.children,f=a.xstyle,g=a.overlayDisabled,j=a.testid,k=a.ariaLabel,l=a.linkProps_;a=a.onHoverIn;g=g!==void 0?g:!1;var m=b("MWMessageProtectionContext.bs").useHook(void 0),n=b("bs_caml").i64_eq(c.f,b("MessagingAttachmentType.bs").image),o=b("bs_caml").i64_eq(c.f,b("MessagingAttachmentType.bs").video);if(!(b("cr:12148")==null)&&(n||o)&&m.blurMedia){n={attachment:c,onPress:d,children:e,xstyle:f,overlayDisabled:g};j!==void 0&&(n.testid=b("bs_caml_option").valFromOption(j));k!==void 0&&(n.ariaLabel=b("bs_caml_option").valFromOption(k));l!==void 0&&(n.linkProps_=b("bs_caml_option").valFromOption(l));return h.jsx(i.make,n)}o={onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayDisabled:g,xstyle:function(a){return f},children:e};k!==void 0&&(o["aria-label"]=b("bs_caml_option").valFromOption(k));l!==void 0&&(o.linkProps=b("bs_caml_option").valFromOption(l));j!==void 0&&(o.testid=b("bs_caml_option").valFromOption(j));a!==void 0&&(o.onHoverIn=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),o)}c=a;f.$MWMessageListProtectedMedia$requireCond=b("cr:12148");f.make=c}),null);
__d("MWV2ChatAdminMessage.bs",["CometTextWithEntities.react","MWChatTextTransform.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{paddingEnd:"gl4o1x5y",paddingStart:"lt9micmv",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt"},content:{maxWidth:"f2fs36ck",fontSize:"r9r71o1u",lineHeight:"eagtllmd",color:"pipptul6",textAlign:"oqcyycmt",marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5"}};function a(a){a=a.message;a=a.g;return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:a!==void 0?i.jsx("div",{"aria-label":a,className:(h||(h=b("stylex")))(j.content),children:i.jsx("div",{"aria-hidden":!0,children:i.jsx(b("CometTextWithEntities.react"),{text:a,transforms:b("MWChatTextTransform.bs").epdTextTransforms})})}):null})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatAttachmentParserUtils.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),null);
__d("MWV2ChatTextParserUtils.bs",["EmojiRenderer","EmoticonRenderer","FBID.bs","LSContactTypeExact.bs","MWChatTextFormatting","MWLSContactTypeExactUtils.bs","MessageProfileRangeType","MessageProfileRangeType.bs","ReQL.bs","ReQLSuspense.bs","ReQLTable","XCometVanityURLControllerRouteBuilder","bs_caml","bs_caml_array","bs_caml_format","getURLRanges","gkx"],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var c=b("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),d=b("gkx")("1839834")?b("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];c=c.concat(d).sort(function(a,b){return a.offset-b.offset|0});if(c.length===0)return!1;var e={contents:0},f={contents:0};d=c.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return g.test(c)===!1});c=e.contents!==a.length&&!g.test(a.substring(f.contents));if(d)return!1;else return!c}function c(a){var c=b("getURLRanges")(a),d=[];a=b("MWChatTextFormatting").getFormattingRanges(a);c.forEach(function(a){a={offset:a.offset,length:a.length,entity:{__typename:"Link",uri:a.entity.url}};d.push(a)});return d.concat(a)}function h(a){if(b("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function i(a,c){try{a=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(c),tl:0}))}catch(b){a=void 0}if(a===void 0)return h(c);var d=a.r;if(b("bs_caml").i64_eq(d,b("LSContactTypeExact.bs").fbUser))return"https://www.facebook.com"+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(c)});if(!b("MWLSContactTypeExactUtils.bs").isIgContact(a))return h(c);d=a.K;if(d!==void 0)return"https://www.instagram.com/"+d+"/";else return h(c)}function d(a,c,d,e,f){c=c.split(",");var g=d.split(","),j=e.split(","),k=f.split(",");return c.reduce(function(c,d,e){var f=b("MessageProfileRangeType.bs").ofString(b("bs_caml_array").get(k,e));f===b("MessageProfileRangeType").THREAD||f===b("MessageProfileRangeType").THREAD_ACTIVE?c.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(j,e)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(g,e)),entity:{__typename:"Profile",uri:h(d),id:b("FBID.bs").ofStringExn(d)}}):f===b("MessageProfileRangeType").PROFILE&&c.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(j,e)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(g,e)),entity:{__typename:"Profile",uri:i(a,d),id:b("FBID.bs").ofStringExn(d)}});return c},[])}f.utf16RegexSpaces=g;f.isEmojiOnlyMessage=a;f.findRanges=c;f.createURIForThread=h;f.createProfileURIForMention=i;f.findRangesForMentions=d}),null);
__d("MWV2ChatText.bs",["BaseTheme.react","CometTextWithEntities.react","LSMessageReplySourceTypeV2.bs","MWBaseTheme.bs","MWChatTextFormatting","MWChatTextTransform.bs","MWMessageProtectionContext.bs","MWTextWithEntities.bs","MWV2ChatTextParserUtils.bs","MWVisibleMessageContext.bs","ReStore.bs","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={underline:{textDecoration:"oo483o9r"},bold:{fontWeight:"lrazzd5p"},highlight:{backgroundColor:"tutozmqo",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",paddingTop:"jwdofwj8",paddingEnd:"rz4wbd8a",paddingBottom:"r8blr3vg",paddingStart:"a8nywdso"},outgoingForwarded:{color:"av1wybal"},incomingForwarded:{color:"pipptul6"},blockquote:{borderStartStyle:"mk2mc5f4",borderStartWidth:"peup4ujy",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a",whiteSpace:"ii04i59q",wordWrap:"c1et5uql",fontSize:"e9vueds3",lineHeight:"j5wam9gi",marginTop:"aahdfvyu",marginEnd:"cxmmr5t8",marginBottom:"tvmbv18p",marginStart:"hcukyx3x"},blockquoteIncoming:{borderStartColor:"ph5sz0o6",color:"pipptul6"},blockquoteOutgoing:{borderStartColor:"ilywhbp3"},outgoing:{color:"ljqsnud1"},incoming:{color:"oo9gr5id"},text:{whiteSpace:"ii04i59q"}};d={"mw-blockquote-border-start-color":"var(--placeholder-text)"};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var k={light:d,dark:e,type:"VARIABLES"};function a(a){if(a)return b("MWBaseTheme.bs").empty;else return k}function l(a){var c=b("ReStore.bs").useHook(void 0);return i.useMemo(function(){var d=a.g;d=d!==void 0&&d!==""?d:void 0;if(d===void 0)return[];var e=b("MWV2ChatTextParserUtils.bs").isEmojiOnlyMessage(d),f=a.p,g=a.o,h=a.n,i=a.q;if(e)return[];else if(f!==void 0&&g!==void 0&&h!==void 0&&i!==void 0)return b("MWV2ChatTextParserUtils.bs").findRangesForMentions(c,f,g,h,i).concat(b("MWV2ChatTextParserUtils.bs").findRanges(d));else return b("MWV2ChatTextParserUtils.bs").findRanges(d)},[a,c])}function m(a,c,d){var e=a!==void 0?a:!1,f=c!==void 0?b("bs_caml_option").valFromOption(c):!1;return i.useMemo(function(){var a={};e||(a.Link=[b("MWTextWithEntities.bs").linkPlugin([f,j.underline],"_blank","chat_message_regular_link",void 0)],a.Profile=[b("MWTextWithEntities.bs").linkPlugin([f,j.bold],void 0,"profile_link",void 0)]);a.Highlight=[b("MWTextWithEntities.bs").linkPlugin([f,j.highlight],void 0,"highlight",void 0)];a.MessengerTextFormatting=[b("MWChatTextFormatting").messageRenderer];return a},[e,f])}function c(a){var c=a.message,d=a.outgoing;a=b("MWVisibleMessageContext.bs").useHook(void 0);a=a.visibleMessage;var e=c.g,f=b("bs_caml_obj").caml_equal(c.t,b("LSMessageReplySourceTypeV2.bs").forward),g=i.useMemo(function(){if(f)if(d)return j.outgoingForwarded;else return j.incomingForwarded;else if(d)return j.outgoing;else return j.incoming},[d,f]),n=b("MWMessageProtectionContext.bs").useHook(void 0);n=m(n.disableLinks,b("bs_caml_option").some(g),void 0);var o=l(c),p=c.g;if(a!==void 0&&p!==void 0&&a.messageId===c.e){var q=p.indexOf(a.contextLine);if(q>-1){c=a.highlights.map(function(a){return{offset:a.matchOffset+q|0,length:a.matchLength,entity:{__typename:"Highlight"}}});p=o.concat(c)}else p=o}else p=o;a=d?b("MWBaseTheme.bs").empty:k;return i.jsx(b("BaseTheme.react"),{config:a,children:e!==void 0?f?i.jsx("blockquote",{className:(h||(h=b("stylex")))(g,j.blockquote,d?j.blockquoteOutgoing:j.blockquoteIncoming),dir:"auto",children:i.jsx(b("CometTextWithEntities.react"),{ranges:p,withParagraphs:!1,text:e,renderers:n,transforms:b("MWChatTextTransform.bs").epdTextTransforms})}):i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(g,j.text),dir:"auto",children:i.jsx(b("CometTextWithEntities.react"),{ranges:p,withParagraphs:!1,text:e,renderers:n,transforms:b("MWChatTextTransform.bs").epdTextTransforms})}):null,role:"none"})}d=b("MWBaseTheme.bs").empty;e=c;f.styles=j;f.ougtoingTheme=d;f.incomingTheme=k;f.getTheme=a;f.useRanges=l;f.useRenderers=m;f.make=e}),null);
__d("MDSCautionTriangleSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"})})}c=a;f.make=c}),null);
__d("MWPUseSendOrUnsendReaction.bs",["LS.bs","LSOptimisticUpsertReaction","LSTransaction.bs","MWLSActor.bs","ReStore.bs","bs_caml_int64","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(e){var f=b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticUpsertReaction")(a.a,b("bs_caml_int64").of_float(Date.now()),a.e,d,e,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(f,void 0,void 0)},[c,a.e,d])}f.useHook=a}),null);
__d("MAWPSendOrRemoveReaction.bs",["FBID.bs","LSMessagingThreadTypeUtil.bs","MWPUseSendOrUnsendReaction.bs","bs_belt_Option","bs_caml_option","bs_curry","bs_int64","cr:783","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:783")==null?void 0:b("bs_caml_option").some(b("cr:783"));function a(a,c){var d=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c);c=c.a;var e=b("cr:783")==null?void 0:b("bs_curry")._2(i.useSendOrRemoveReaction,c,b("FBID.bs").ofString(b("bs_int64").to_string(a.h))),f=b("MWPUseSendOrUnsendReaction.bs").useHook(a);return h.useMemo(function(){return function(a,c){if(d&&e!==void 0)return b("bs_curry")._2(e,a,c);else return b("bs_curry")._1(f,b("bs_belt_Option").getWithDefault(c,""))}},[JSON.stringify(c),d,e,f])}f.$MAWSendOrRemoveReaction$requireCondXplat=b("cr:783");f.useSendOrRemoveReaction=a}),null);
__d("UseCurrentDisplayMode.bs",[],(function(a,b,c,d,e,f){"use strict";a="dark";b="light";f.darkTheme=a;f.lightTheme=b}),null);
__d("ZenonUserActionLogger.bs",["ZenonUserActionLogger"],(function(a,b,c,d,e,f){"use strict";function a(a){b("ZenonUserActionLogger").logClick(a)}function c(a){b("ZenonUserActionLogger").logImpression(a)}f.logClick=a;f.logImpression=c}),null);
__d("ZenonUserActionLoggerCommon.bs",["cr:11084"],(function(a,b,c,d,e,f){"use strict";a=b("cr:11084").logClick;c=b("cr:11084").logImpression;f.$LazyZenonUserActionLoggerForMessenger$OR$ZenonUserActionLogger$requireCond=b("cr:11084");f.logClick=a;f.logImpression=c}),null);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("blockquote",{className:"ii04i59q dati1w0a hv4rvrfc tvmbv18p aahdfvyu hcukyx3x cxmmr5t8 peup4ujy mk2mc5f4 lmiizvyk",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return null;a=new(c("URI"))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("MakeRoomRingback.bs",["FBID.bs","MWThreadKey.bs","MessagingThreadType.bs","Promise","RTWebPreCallHooks","ReQL.bs","ReQLTable","ReStore.bs","bs_caml","bs_int64","getRingbackUrl","promiseDone","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("getRingbackUrl");function a(a){var c=b("RTWebPreCallHooks").useJoinMeetupCallback(),d=b("ReStore.bs").useHook(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){var f=a.linkUrl;a=b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").asc,{hd:e,tl:0})).then(function(a){if(a!==void 0){a=b("bs_caml").i64_eq(a.c,b("MessagingThreadType.bs").oneToOne)?i(f,b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a))):(b("recoverableViolation")("Cannot ring a non user thread","rtc_www"),f);return b("Promise").resolve(c(a))}b("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,function(a){b("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[c,e,d])}f.getRingbackUrl=i;f.useHook=a}),null);
__d("MentorshipClientSideEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setApplicationID=function(a){this.$1.application_id=a;return this};c.setApplicationProfileID=function(a){this.$1.application_profile_id=a;return this};c.setCohortGroupOrPageID=function(a){this.$1.cohort_group_or_page_id=a;return this};c.setCohortID=function(a){this.$1.cohort_id=a;return this};c.setContainerType=function(a){this.$1.container_type=a;return this};c.setDestinationContainerType=function(a){this.$1.destination_container_type=a;return this};c.setDestinationUnitType=function(a){this.$1.destination_unit_type=a;return this};c.setDisplayName=function(a){this.$1.display_name=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitActorType=function(a){this.$1.explicit_actor_type=a;return this};c.setPairCreationType=function(a){this.$1.pair_creation_type=a;return this};c.setProgramGroupID=function(a){this.$1.program_group_id=a;return this};c.setProgramID=function(a){this.$1.program_id=a;return this};c.setProgramThreadID=function(a){this.$1.program_thread_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceContainerType=function(a){this.$1.source_container_type=a;return this};c.setSourceUnitType=function(a){this.$1.source_unit_type=a;return this};c.setUnitType=function(a){this.$1.unit_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,app_id:!0,app_version:!0,application_id:!0,application_profile_id:!0,cohort_group_or_page_id:!0,cohort_id:!0,container_type:!0,destination_container_type:!0,destination_unit_type:!0,display_name:!0,event:!0,explicit_actor_type:!0,pair_creation_type:!0,program_group_id:!0,program_id:!0,program_thread_id:!0,session_id:!0,source_container_type:!0,source_unit_type:!0,unit_type:!0};f["default"]=a}),66);
__d("MentorshipMessengerLoggingUtils",["CurrentUser","MentorshipClientSideEventsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("MentorshipClientSideEventsTypedLogger"))().setEvent(a.event).setActorID(c("CurrentUser").getID()).setProgramID(a.programID).setDisplayName(a.displayName).updateExtraData(a.extraData).setContainerType("messenger_thread").setUnitType(a.unit);a.event=="click_unit"&&b.setDestinationContainerType(a.destContainer).setDestinationUnitType(a.destUnit);b.log()}g.logMessengerEvent=a}),98);
__d("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1570574486349284"};b.getQueryID=function(){return"389945858066688"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation","MessengerPlatformClientTypedLogger","PopupWindow","XMNCommerceCTAPostProcessController"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=c("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation").getURI({cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MNCommerceCTAProcessor").logCTAClick(a)}function c(a,c){b("MNCommerceCTAProcessor").process(a,c!==void 0?b("bs_caml_option").valFromOption(c):void 0)}f.logCTAClick=a;f.$$process=c}),null);
__d("RTWebLoggingComponentConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="participate_live_dialog")return"participate_live_dialog";else if(a==="free_call")return"free_call";else if(a==="submit_feedback")return"submit_feedback";else if(a==="calendar_clock")return"calendar_clock";else if(a==="rating_not_now")return"rating_not_now";else if(a==="breakout_start_button")return"breakout_start_button";else if(a==="view_participants")return"view_participants";else if(a==="video_escalate_accept")return"video_escalate_accept";else if(a==="media_access_pending")return"media_access_pending";else if(a==="calendar_clock_tooltip")return"calendar_clock_tooltip";else if(a==="create_live_dialog_next_button")return"create_live_dialog_next_button";else if(a==="raise_hand_queue")return"raise_hand_queue";else if(a==="self_view_minimize")return"self_view_minimize";else if(a==="banner")return"banner";else if(a==="live_indicator")return"live_indicator";else if(a==="more_options")return"more_options";else if(a==="end_live_dialog_end_button")return"end_live_dialog_end_button";else if(a==="create_live_dialog_show_button")return"create_live_dialog_show_button";else if(a==="save_button")return"save_button";else if(a==="start_call_button")return"start_call_button";else if(a==="mweb_roster_row")return"mweb_roster_row";else if(a==="create_live_dialog_start_button")return"create_live_dialog_start_button";else if(a==="incoming_ring_tone")return"incoming_ring_tone";else if(a==="upgrade_chrome")return"upgrade_chrome";else if(a==="recent_calls")return"recent_calls";else if(a==="toggle_filters")return"toggle_filters";else if(a==="screensharing_pop_out_button")return"screensharing_pop_out_button";else if(a==="join_call_button")return"join_call_button";else if(a==="window_resize")return"window_resize";else if(a==="fullscreen_enable")return"fullscreen_enable";else if(a==="calendar_meeting_now_notification_join")return"calendar_meeting_now_notification_join";else if(a==="participant_remove")return"participant_remove";else if(a==="self_view_unminimize")return"self_view_unminimize";else if(a==="review_room")return"review_room";else if(a==="call_back")return"call_back";else if(a==="copy_link")return"copy_link";else if(a==="schedule_room")return"schedule_room";else if(a==="scroll_filters")return"scroll_filters";else if(a==="media_access_rejected")return"media_access_rejected";else if(a==="participant_row_unselect")return"participant_row_unselect";else if(a==="participate_live_dialog_join_button")return"participate_live_dialog_join_button";else if(a==="fullscreen")return"fullscreen";else if(a==="pin_speaker")return"pin_speaker";else if(a==="video_escalate")return"video_escalate";else if(a==="browser_notification")return"browser_notification";else if(a==="calendar_end_call_view")return"calendar_end_call_view";else if(a==="upgrade_edge")return"upgrade_edge";else if(a==="redial")return"redial";else if(a==="toggle_video_first")return"toggle_video_first";else if(a==="poor_network_tooltip")return"poor_network_tooltip";else if(a==="install_app_button")return"install_app_button";else if(a==="video_filter_option")return"video_filter_option";else if(a==="calendar_end_call_view_join")return"calendar_end_call_view_join";else if(a==="chat_panel_message")return"chat_panel_message";else if(a==="audio_button")return"audio_button";else if(a==="plus_expander_menu")return"plus_expander_menu";else if(a==="participant_row_select")return"participant_row_select";else if(a==="fullscreen_disable")return"fullscreen_disable";else if(a==="toggle_chat")return"toggle_chat";else if(a==="toggle_camera")return"toggle_camera";else if(a==="accept_button")return"accept_button";else if(a==="settings")return"settings";else if(a==="participate_live_dialog_leave_button")return"participate_live_dialog_leave_button";else if(a==="calendar_meeting_now_notification")return"calendar_meeting_now_notification";else if(a==="raise_hand")return"raise_hand";else if(a==="breakout_end_button")return"breakout_end_button";else if(a==="call_again")return"call_again";else if(a==="toggle_audio")return"toggle_audio";else if(a==="video_button")return"video_button";else if(a==="create_room")return"create_room";else if(a==="star_rating")return"star_rating";else if(a==="message")return"message";else if(a==="video_layout_switch")return"video_layout_switch";else if(a==="more_options_live_comments_menu")return"more_options_live_comments_menu";else if(a==="unpin_speaker")return"unpin_speaker";else if(a==="select_invitees")return"select_invitees";else if(a==="upsell_rooms_chrome_extension")return"upsell_rooms_chrome_extension";else if(a==="close_dialog")return"close_dialog";else if(a==="add_participant")return"add_participant";else if(a==="toggle_video")return"toggle_video";else if(a==="self_view")return"self_view";else if(a==="close_chat")return"close_chat";else if(a==="end_live_dialog_show_button")return"end_live_dialog_show_button";else if(a==="end_call_button")return"end_call_button";else if(a==="video_escalate_decline")return"video_escalate_decline";else if(a==="calendar_meeting_soon_notification")return"calendar_meeting_soon_notification";else if(a==="decline_button")return"decline_button";else if(a==="screensharing")return"screensharing";else if(a==="close_window")return"close_window";else return"cancel_button"}function c(a){switch(a){case"accept_button":return"accept_button";case"add_participant":return"add_participant";case"audio_button":return"audio_button";case"banner":return"banner";case"breakout_end_button":return"breakout_end_button";case"breakout_start_button":return"breakout_start_button";case"browser_notification":return"browser_notification";case"calendar_clock":return"calendar_clock";case"calendar_clock_tooltip":return"calendar_clock_tooltip";case"calendar_end_call_view":return"calendar_end_call_view";case"calendar_end_call_view_join":return"calendar_end_call_view_join";case"calendar_meeting_now_notification":return"calendar_meeting_now_notification";case"calendar_meeting_now_notification_join":return"calendar_meeting_now_notification_join";case"calendar_meeting_soon_notification":return"calendar_meeting_soon_notification";case"call_again":return"call_again";case"call_back":return"call_back";case"cancel_button":return"cancel_button";case"chat_panel_message":return"chat_panel_message";case"close_chat":return"close_chat";case"close_dialog":return"close_dialog";case"close_window":return"close_window";case"copy_link":return"copy_link";case"create_live_dialog_next_button":return"create_live_dialog_next_button";case"create_live_dialog_show_button":return"create_live_dialog_show_button";case"create_live_dialog_start_button":return"create_live_dialog_start_button";case"create_room":return"create_room";case"decline_button":return"decline_button";case"end_call_button":return"end_call_button";case"end_live_dialog_end_button":return"end_live_dialog_end_button";case"end_live_dialog_show_button":return"end_live_dialog_show_button";case"free_call":return"free_call";case"fullscreen":return"fullscreen";case"fullscreen_disable":return"fullscreen_disable";case"fullscreen_enable":return"fullscreen_enable";case"incoming_ring_tone":return"incoming_ring_tone";case"install_app_button":return"install_app_button";case"join_call_button":return"join_call_button";case"live_indicator":return"live_indicator";case"media_access_pending":return"media_access_pending";case"media_access_rejected":return"media_access_rejected";case"message":return"message";case"more_options":return"more_options";case"more_options_live_comments_menu":return"more_options_live_comments_menu";case"mweb_roster_row":return"mweb_roster_row";case"participant_remove":return"participant_remove";case"participant_row_select":return"participant_row_select";case"participant_row_unselect":return"participant_row_unselect";case"participate_live_dialog":return"participate_live_dialog";case"participate_live_dialog_join_button":return"participate_live_dialog_join_button";case"participate_live_dialog_leave_button":return"participate_live_dialog_leave_button";case"pin_speaker":return"pin_speaker";case"plus_expander_menu":return"plus_expander_menu";case"poor_network_tooltip":return"poor_network_tooltip";case"raise_hand":return"raise_hand";case"raise_hand_queue":return"raise_hand_queue";case"rating_not_now":return"rating_not_now";case"recent_calls":return"recent_calls";case"redial":return"redial";case"review_room":return"review_room";case"save_button":return"save_button";case"schedule_room":return"schedule_room";case"screensharing":return"screensharing";case"screensharing_pop_out_button":return"screensharing_pop_out_button";case"scroll_filters":return"scroll_filters";case"select_invitees":return"select_invitees";case"self_view":return"self_view";case"self_view_minimize":return"self_view_minimize";case"self_view_unminimize":return"self_view_unminimize";case"settings":return"settings";case"star_rating":return"star_rating";case"start_call_button":return"start_call_button";case"submit_feedback":return"submit_feedback";case"toggle_audio":return"toggle_audio";case"toggle_camera":return"toggle_camera";case"toggle_chat":return"toggle_chat";case"toggle_filters":return"toggle_filters";case"toggle_video":return"toggle_video";case"toggle_video_first":return"toggle_video_first";case"unpin_speaker":return"unpin_speaker";case"upgrade_chrome":return"upgrade_chrome";case"upgrade_edge":return"upgrade_edge";case"upsell_rooms_chrome_extension":return"upsell_rooms_chrome_extension";case"video_button":return"video_button";case"video_escalate":return"video_escalate";case"video_escalate_accept":return"video_escalate_accept";case"video_escalate_decline":return"video_escalate_decline";case"video_filter_option":return"video_filter_option";case"video_layout_switch":return"video_layout_switch";case"view_participants":return"view_participants";case"window_resize":return"window_resize";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingComponent.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("RTWebLoggingSurfaceConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="screensharing_pop_out")return"screensharing_pop_out";else if(a==="group_call_participant_picker_dialog")return"group_call_participant_picker_dialog";else if(a==="chat_panel")return"chat_panel";else if(a==="setting_dialog")return"setting_dialog";else if(a==="pre_call_screen")return"pre_call_screen";else if(a==="admin_message")return"admin_message";else if(a==="timeline_top_section")return"timeline_top_section";else if(a==="group_call_view_members_dialog")return"group_call_view_members_dialog";else if(a==="chat_tab")return"chat_tab";else if(a==="missed_call_dialog")return"missed_call_dialog";else if(a==="meeting_room_intern_search_card")return"meeting_room_intern_search_card";else if(a==="meeting_room_map_dialog")return"meeting_room_map_dialog";else if(a==="call_controls")return"call_controls";else if(a==="mweb_roster_view")return"mweb_roster_view";else if(a==="work_profile")return"work_profile";else if(a==="audio_fallback_dialog")return"audio_fallback_dialog";else if(a==="call_container")return"call_container";else if(a==="chat_sidebar")return"chat_sidebar";else if(a==="post_vc_call_upsell")return"post_vc_call_upsell";else if(a==="messenger_bubble")return"messenger_bubble";else if(a==="www_roster_view")return"www_roster_view";else if(a==="incoming_call_dialog")return"incoming_call_dialog";else if(a==="unsupported_browser_dialog")return"unsupported_browser_dialog";else if(a==="workplace_group_chat")return"workplace_group_chat";else if(a==="star_rating_surface")return"star_rating_surface";else if(a==="group_call_add_members_dialog")return"group_call_add_members_dialog";else if(a==="dropdown_call_menu")return"dropdown_call_menu";else if(a==="messages_jewel")return"messages_jewel";else if(a==="chat_sidebar_confirmation_dialog")return"chat_sidebar_confirmation_dialog";else if(a==="meeting_room_profile")return"meeting_room_profile";else if(a==="messenger_header")return"messenger_header";else if(a==="workplace_p2p_chat")return"workplace_p2p_chat";else if(a==="work_hovercard")return"work_hovercard";else if(a==="thread_list")return"thread_list";else if(a==="call_header")return"call_header";else if(a==="post_rooms_call_upsell")return"post_rooms_call_upsell";else return"desktop_notification"}function c(a){switch(a){case"admin_message":return"admin_message";case"audio_fallback_dialog":return"audio_fallback_dialog";case"call_container":return"call_container";case"call_controls":return"call_controls";case"call_header":return"call_header";case"chat_panel":return"chat_panel";case"chat_sidebar":return"chat_sidebar";case"chat_sidebar_confirmation_dialog":return"chat_sidebar_confirmation_dialog";case"chat_tab":return"chat_tab";case"desktop_notification":return"desktop_notification";case"dropdown_call_menu":return"dropdown_call_menu";case"group_call_add_members_dialog":return"group_call_add_members_dialog";case"group_call_participant_picker_dialog":return"group_call_participant_picker_dialog";case"group_call_view_members_dialog":return"group_call_view_members_dialog";case"incoming_call_dialog":return"incoming_call_dialog";case"meeting_room_intern_search_card":return"meeting_room_intern_search_card";case"meeting_room_map_dialog":return"meeting_room_map_dialog";case"meeting_room_profile":return"meeting_room_profile";case"messages_jewel":return"messages_jewel";case"messenger_bubble":return"messenger_bubble";case"messenger_header":return"messenger_header";case"missed_call_dialog":return"missed_call_dialog";case"mweb_roster_view":return"mweb_roster_view";case"post_rooms_call_upsell":return"post_rooms_call_upsell";case"post_vc_call_upsell":return"post_vc_call_upsell";case"pre_call_screen":return"pre_call_screen";case"screensharing_pop_out":return"screensharing_pop_out";case"setting_dialog":return"setting_dialog";case"star_rating_surface":return"star_rating_surface";case"thread_list":return"thread_list";case"timeline_top_section":return"timeline_top_section";case"unsupported_browser_dialog":return"unsupported_browser_dialog";case"work_hovercard":return"work_hovercard";case"work_profile":return"work_profile";case"workplace_group_chat":return"workplace_group_chat";case"workplace_p2p_chat":return"workplace_p2p_chat";case"www_roster_view":return"www_roster_view";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingSurface.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("ReactStyle.bs",["ReactDOMStyle.bs"],(function(a,b,c,d,e,f){"use strict";a=b("ReactDOMStyle.bs").unsafeAddProp;f.unsafeAddProp=a}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3780157165378049"}),null);
__d("MessengerDotComStyleXTheme",[],(function(a,b,c,d,e,f){e.exports={"fds-black":"#000000","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"#ECF3FF","fds-blue-30":"#AAC9FF","fds-blue-40":"#77A7FF","fds-blue-60":"#1877F2","fds-blue-70":"#2851A3","fds-blue-80":"#1D3C78","fds-button-text":"#444950","fds-comment-background":"#F2F3F5","fds-dark-mode-gray-35":"#CCCCCC","fds-dark-mode-gray-50":"#828282","fds-dark-mode-gray-70":"#4A4A4A","fds-dark-mode-gray-80":"#373737","fds-dark-mode-gray-90":"#282828","fds-dark-mode-gray-100":"#1C1C1C","fds-gray-00":"#F5F6F7","fds-gray-05":"#F2F3F5","fds-gray-10":"#EBEDF0","fds-gray-20":"#DADDE1","fds-gray-25":"#CCD0D5","fds-gray-30":"#BEC3C9","fds-gray-45":"#8D949E","fds-gray-70":"#606770","fds-gray-80":"#444950","fds-gray-90":"#303338","fds-gray-100":"#1C1E21","fds-green-55":"#00A400","fds-highlight":"#3578E5","fds-highlight-cell-background":"#ECF3FF","fds-primary-icon":"#1C1E21","fds-primary-text":"#1C1E21","fds-red-55":"#FA383E","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"#E4F0F6","fds-spectrum-blue-gray-tint-70":"#CFD1D5","fds-spectrum-cherry":"#F35369","fds-spectrum-cherry-tint-70":"#FBCCD2","fds-spectrum-grape-tint-70":"#DDD5F0","fds-spectrum-grape-tint-90":"#F4F1FA","fds-spectrum-lemon-dark-1":"#F5C33B","fds-spectrum-lemon-tint-70":"#FEF2D1","fds-spectrum-lime":"#A3CE71","fds-spectrum-lime-tint-70":"#E4F0D5","fds-spectrum-orange-tint-70":"#FCDEC5","fds-spectrum-orange-tint-90":"#FEF4EC","fds-spectrum-seafoam-tint-70":"#CAEEF9","fds-spectrum-slate-dark-2":"#89A1AC","fds-spectrum-slate-tint-70":"#EAEFF2","fds-spectrum-teal":"#6BCEBB","fds-spectrum-teal-dark-1":"#4DBBA6","fds-spectrum-teal-dark-2":"#31A38D","fds-spectrum-teal-tint-70":"#D2F0EA","fds-spectrum-teal-tint-90":"#F0FAF8","fds-spectrum-tomato":"#FB724B","fds-spectrum-tomato-tint-30":"#F38E7B","fds-spectrum-tomato-tint-90":"#FDEFED","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-white":"#FFFFFF","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"#FFBA00",accent:"#0099FF","always-white":"#FFFFFF","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","attachment-footer-background":"#F0F2F5","background-deemphasized":"#F0F2F5","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","blue-link":"#216FDB","card-background":"#FFFFFF","card-background-flat":"#F7F8FA","comment-background":"rgba(134, 142, 153, 0.1)","comment-footer-background":"#F6F9FA","dataviz-primary-1":"rgb(48,200,180)","disabled-button-background":"#E4E6EB","disabled-button-text":"#BCC0C4","disabled-icon":"#BCC0C4","disabled-text":"#BCC0C4",divider:"#CED0D4","event-date":"#F3425F","filter-accent":"invert(50%) sepia(94%) saturate(3979%) hue-rotate(183deg) brightness(104%) contrast(103%)","filter-always-white":"invert(100%)","filter-disabled-icon":"invert(80%) sepia(6%) saturate(200%) saturate(120%) hue-rotate(173deg) brightness(98%) contrast(89%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-primary-icon":"invert(8%) sepia(10%) saturate(200%) saturate(200%) saturate(166%) hue-rotate(177deg) brightness(104%) contrast(91%)","filter-secondary-icon":"invert(39%) sepia(21%) saturate(200%) saturate(109.5%) hue-rotate(174deg) brightness(94%) contrast(86%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","filter-blue-link-icon":"invert(30%) sepia(98%) saturate(200%) saturate(200%) saturate(200%) saturate(166.5%) hue-rotate(192deg) brightness(91%) contrast(101%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","glimmer-spinner-icon":"#65676B","hero-banner-background":"#FFFFFF","hosted-view-selected-state":"rgba(0, 0, 0, 0.04)","highlight-bg":"#E7F3FF","hover-overlay":"rgba(0, 0, 0, 0.05)","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(0, 0, 0, 0.1)","media-outer-border":"#FFFFFF","media-pressed":"rgba(68, 73, 80, 0.35)","messenger-card-background":"#FFFFFF","messenger-reply-background":"#F0F2F5","overlay-alpha-80":"rgba(244, 244, 244, 0.8)","overlay-on-media":"rgba(0, 0, 0, 0.6)","nav-bar-background":"#FFFFFF","nav-bar-background-gradient":"linear-gradient(to top, #FFFFFF, rgba(255,255,255.9), rgba(255,255,255,.7), rgba(255,255,255,.4), rgba(255,255,255,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #F0F2F5, rgba(240,242,245.9), rgba(240,242,245,.7), rgba(240,242,245,.4), rgba(240,242,245,0))",negative:"hsl(350, 87%, 55%)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#F02849","placeholder-icon":"#8A8D91","placeholder-text":"#8A8D91","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#FFFFFF",positive:"#5AD539","positive-background":"#DEEFE1","press-overlay":"rgba(0, 0, 0, 0.10)","primary-button-background":"#0099FF","primary-button-background-experiment":"#1B74E4","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"#E7F3FF","primary-deemphasized-button-pressed":"rgba(0, 0, 0, 0.05)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#1877F2","primary-icon":"#050505","primary-text":"#050505","primary-text-on-media":"#FFFFFF","primary-web-focus-indicator":"#D24294","progress-ring-neutral-background":"rgba(0, 0, 0, 0.2)","progress-ring-neutral-foreground":"#000000","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","progress-ring-blue-background":"rgba(24, 119, 242, 0.2)","progress-ring-blue-foreground":"hsl(214, 89%, 52%)","progress-ring-disabled-background":"rgba(190,195,201, 0.2)","progress-ring-disabled-foreground":"#BEC3C9","rating-star-active":"#EB660D","scroll-thumb":"#BCC0C4","scroll-shadow":"0 1px 2px rgba(0, 0, 0, 0.1), 0 -1px rgba(0, 0, 0, 0.1) inset","secondary-button-background":"#f5f5f5","secondary-button-background-floating":"#ffffff","secondary-button-background-on-dark":"rgba(0, 0, 0, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-stroke":"transparent","secondary-button-text":"#050505","secondary-icon":"#65676B","secondary-text":"#65676B","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-text":"#4B4C4F","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-inset":"rgba(255, 255, 255, 0.5)","surface-background":"#FFFFFF","text-highlight":"rgba(24, 119, 242, 0.2)","toggle-active-background":"#E7F3FF","toggle-active-icon":"rgb(24, 119, 242)","toggle-active-text":"rgb(24, 119, 242)","toggle-button-active-background":"#E7F3FF",wash:"#E4E6EB","web-wash":"#F0F2F5",warning:"hsl(40, 89%, 52%)","fb-logo-color":"#2D88FF","dialog-anchor-vertical-padding":"0px","header-height":"0px","button-corner-radius":"6px","card-corner-radius":"8px","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-none":"0ms","fds-fast":"200ms","fds-slow":"400ms","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","dataviz-primary-2":"rgb(134,218,255)","dataviz-primary-3":"rgb(95,170,255)","dataviz-secondary-1":"rgb(118,62,230)","dataviz-secondary-2":"rgb(147,96,247)","dataviz-secondary-3":"rgb(219,26,139)","dataviz-supplementary-1":"rgb(255,122,105)","dataviz-supplementary-2":"rgb(241,168,23)","dataviz-supplementary-3":"rgb(49,162,76)","dataviz-supplementary-4":"rgb(50,52,54)"}}),null);
__d("MWChatContactsContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numContactsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatContactsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:b,kind:"FragmentSpread",name:"MWChatContacts_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatContactsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null},c],storageKey:null}],storageKey:null}]},params:{id:"3230831476954634",metadata:{},name:"MWChatContactsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatContacts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"MWChatContacts_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWQuickPromotionDesktopInterstitialUpsellQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4406300752749233",metadata:{},name:"MWQuickPromotionDesktopInterstitialUpsellQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWQuickPromotionThreadlistBannerQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4403417699741787",metadata:{},name:"MWQuickPromotionThreadlistBannerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MessengerRoomsChatJoinRoomButtonQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"thread_id"}],b=[{kind:"Variable",name:"id",variableName:"thread_id"}],c={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null}],type:"MessengerCallInviteLink",abstractKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerRoomsChatJoinRoomButtonQuery",selections:[{alias:null,args:b,concreteType:"MessengerViewerChatForRoomThread",kind:"LinkedField",name:"fetch__MessengerViewerChatForRoomThread",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rtc_room_door",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerRoomsChatJoinRoomButtonQuery",selections:[{alias:null,args:b,concreteType:"MessengerViewerChatForRoomThread",kind:"LinkedField",name:"fetch__MessengerViewerChatForRoomThread",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rtc_room_door",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,d],storageKey:null},d],storageKey:null}]},params:{id:"4696189230405636",metadata:{},name:"MessengerRoomsChatJoinRoomButtonQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometCreateVideoCallLinkIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1388374"),20);b=a;g["default"]=b}),98);
__d("MDSVideoIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(){var a=h.jsx(c("CometSVGIcon.react"),{color:"primary",size:28,viewBox:"0 0 36 36",children:h.jsx("path",{clipRule:"evenodd",d:"M9 9.5a4 4 0 00-4 4v9a4 4 0 004 4h10a4 4 0 004-4v-9a4 4 0 00-4-4H9zm16.829 12.032l3.723 1.861A1 1 0 0031 22.5v-9a1 1 0 00-1.448-.894l-3.723 1.861A1.5 1.5 0 0025 15.81v4.38a1.5 1.5 0 00.829 1.342z",fillRule:"evenodd"})});return a};b=a;e=b;g["default"]=e}),98);
__d("MessengerLSCreateRoomCallButton.react",["fbt","CometLazyPopoverTrigger.react","JSResourceForInteraction","MDSVideoIcon.react","TetraCircleButton.react","VideoChatLinksUserActionsTypedLoggerLite","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("MessengerLSRoomPickerMenuContainer.react").__setRef("MessengerLSCreateRoomCallButton.react"),k=h._(/*FBT_CALL*/"\u5efa\u7acb\u65b0\u7684\u5305\u5ec2"/*FBT_CALL*/),l="messenger_inbox",m=function(){return c("VideoChatLinksUserActionsTypedLoggerLite").log({component:"messenger_inbox_meetup_select_media_type_button",event:"meetup_select_media_entry_point_clicked",surface:l})};function a(){return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:function(){}},popoverResource:j,position:"below",children:function(a,b){return i.jsx(c("TetraCircleButton.react"),{icon:c("MDSVideoIcon.react"),label:k,onPress:function(){b(),m()},ref:a,size:36,testid:void 0})}},"room")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerLSCreateVideoCallLink.react",["fbt","CometCircleButton.react","CometProgressRingIndeterminate.react","MessengerLSCreateRoomCallButton.react","cr:11065","gkx","qex","react","useMWChatNewVideoChat"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=(e=c("qex")._("372"))!=null?e:!1;function a(){var a=h._(/*FBT_CALL*/"\u5efa\u7acb\u65b0\u7684\u5305\u5ec2"/*FBT_CALL*/),d=c("useMWChatNewVideoChat")(),e=d[0];d=d[1];var f=c("gkx")("1777407"),g=f?"messenger_inbox":"messenger_inbox_on_comet";return d||!1?i.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05 taijpn5t cbu4d94t pq6dq46d rq0escxv bp9cbjyn",children:i.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}):j?i.jsx(c("MessengerLSCreateRoomCallButton.react"),{}):i.jsx(c("CometCircleButton.react"),{icon:b("cr:11065"),label:a,onPress:function(){return e(g)},size:36,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPSwitch.react",["cr:12307"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:12307")}),98);
__d("MWGroupLimitContainer.bs",["bs_curry","cr:12304"],(function(a,b,c,d,e,f){"use strict";var g=b("cr:12304")==null?function(a,b){return[!1,!1]}:b("cr:12304").useHookForThread;function a(a){var c=a.children,d=a.groupLimitReachedContent;a=a.thread;a=b("bs_curry")._2(g,a,void 0);if(a[0])return d;else return c}c=a;f.$MWUseHasGroupLimitBeenReached$OR$null$requireCond=b("cr:12304");f.make=c}),null);
__d("MWChatContacts.react",["fbt","CometHomeContactsConfig","CometHomeContactsPresenceAwareList.react","CometRelay","MWChatContact.react","MWChatContacts_viewer.graphql","TetraText.react","orEmptyArray","qex","react","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){var e=a.entryPoint,f=a.preventLocalNavigation,g=a.selectedThreadKey,k=a.showCount;k=k===void 0?!1:k;a=a.viewer$key;var l=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatContacts_viewer.graphql"),a);a=c("orEmptyArray")(l==null?void 0:l.chat_sidebar_contacts);var m=c("useMWChatOpenTabForUser")(e),n=m[0];m[1];m=c("qex")._("971346");m=m===!0?(l==null?void 0:(m=l.presence_view_side_settings)==null?void 0:m.is_active_status_viewable)===!0:(l==null?void 0:l.chat_visibility)===!0;a=a.filter(function(a){return(a==null?void 0:a.id)!=null&&a.availability==="ACTIVE"});a=a.slice(0,c("CometHomeContactsConfig").numContactsToFetch).map(function(a){var b=j.jsx(c("MWChatContact.react"),{entryPoint:e,openTabForUser:n,preventLocalNavigation:f,profile:a,selected:g!=null&&g===a.id,viewer:l});return j.jsx("li",{children:b},a.id)});return j.jsxs(j.Fragment,{children:[k?j.jsx(c("TetraText.react"),{color:"secondary",type:"body4",children:j.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad",children:h._(/*FBT_CALL*/"\u5728\u7dda\u4e0a\u7684\u806f\u7d61\u4eba\uff08{active count}\u4eba\uff09"/*FBT_CALL*/,[h._param("active count",a.length)])})}):null,j.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:m,children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatContactsContainer.react",["CometHomeContactsConfig","CometRelay","MWChatContacts.react","MWChatContactsContainerQuery.graphql","WebPixelRatio","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatContactsContainerQuery.graphql"),{numContactsToFetch:c("CometHomeContactsConfig").numContactsToFetch,scale:d("WebPixelRatio").get()});e=e==null?void 0:e.viewer;if(e==null){c("recoverableViolation")("Viewer is null so we're unable to render the contact list container","messenger_web_product");return null}var f=a.entryPoint||"unknown";return i.jsx(c("MWChatContacts.react"),babelHelpers["extends"]({viewer$key:e},a,{entryPoint:f}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerThreadlistFooterDesktopAppLink.bs",["fbt","ix","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSText.react","MessengerDesktopPromoEventLogger","TetraIcon.react","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","fbicon","gkx","react","stylex","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{boxShadow:"usczdcwk",minHeight:"iihba337",":hover":{textDecoration:"p8dawk7l"},paddingTop:"jb3vyjys",paddingEnd:"gl4o1x5y",paddingBottom:"qt6c0cv9",paddingStart:"lt9micmv","@media (max-width: 900px)":{width:"g0mhvs5p"}},button:{display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn"},icon:{marginEnd:"fv0vnmcu"},content:{"@media (max-width: 900px)":{display:"ahb00how"}}};function a(a){var c=k.useRef(!1),d=k.useRef(b("uuid")()).current;k.useEffect(function(){c.current||(c.current=!0,b("MessengerDesktopPromoEventLogger").log({location:"MessengerThreadlistFooterDesktopAppLink",event:"Impression",funnelSessionId:d}))},[]);a=b("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:d}).setDomain("www.messenger.com").setProtocol("https").setFragment("startDownload").toString();a=b("gkx")("3674")?"https://www.microsoft.com/p/messenger/9wzdncrf0083":a;var e=k.useCallback(function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerThreadlistFooterDesktopAppLink",event:"Click",funnelSessionId:d})},[]),f=b("UserAgent").isPlatform("Windows")?g._(/*FBT_CALL*/"\u5b89\u88dd Messenger \u61c9\u7528\u7a0b\u5f0f"/*FBT_CALL*/):b("UserAgent").isPlatform("Mac OS X")?g._(/*FBT_CALL*/"\u5b89\u88dd Messenger \u61c9\u7528\u7a0b\u5f0f"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u5b89\u88dd Messenger \u61c9\u7528\u7a0b\u5f0f"/*FBT_CALL*/);return k.jsx(b("MDSRow.react"),{paddingHorizontal:8,paddingVertical:8,verticalAlign:"center",expanding:!0,spacing:0,xstyle:l.root,children:k.jsx(b("MDSRowItem.react"),{expanding:!0,children:k.jsx(b("CometPressable.react"),{"aria-label":f,expanding:!0,linkProps:{target:"_blank",url:a},onPress:e,overlayOffset:10,overlayRadius:6,children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.button),children:[k.jsx("span",{className:j(l.icon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("520490"),16),color:"primary"})}),k.jsx("span",{className:j(l.content),children:k.jsx(b("MDSText.react"),{align:"center",type:"bodyLink3",children:f.toString()})})]})})})})}c=a;f.styles=l;f.make=c}),null);
__d("MessengerThreadlistFooterOpenInAppLink.bs",["fbt","ix","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSText.react","MessengerDesktopDeeplinkEventFalcoEvent","TetraIcon.react","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","fbicon","react","stylex","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{boxShadow:"usczdcwk",minHeight:"iihba337",":hover":{textDecoration:"p8dawk7l"},paddingTop:"jb3vyjys",paddingEnd:"gl4o1x5y",paddingBottom:"qt6c0cv9",paddingStart:"lt9micmv","@media (max-width: 900px)":{width:"g0mhvs5p"}},button:{display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn"},icon:{marginEnd:"fv0vnmcu"},content:{"@media (max-width: 900px)":{display:"ahb00how"}}};function a(a){var c=k.useRef(!1),d=k.useRef(b("uuid")()).current;k.useEffect(function(){c.current||(c.current=!0,b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}}))});a=b("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:d,thread:void 0,origin:"MSG"}).setDomain("www.messenger.com").setProtocol("https").toString();var e=k.useCallback(function(a){b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_click",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}})},[]),f=g._(/*FBT_CALL*/"\u958b\u555f Messenger \u61c9\u7528\u7a0b\u5f0f"/*FBT_CALL*/);return k.jsx(b("MDSRow.react"),{paddingHorizontal:8,paddingVertical:8,verticalAlign:"center",expanding:!0,spacing:0,xstyle:l.root,children:k.jsx(b("MDSRowItem.react"),{expanding:!0,children:k.jsx(b("CometPressable.react"),{"aria-label":f,expanding:!0,linkProps:{target:"_blank",url:a},onPress:e,overlayOffset:10,overlayRadius:6,children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.button),children:[k.jsx("span",{className:j(l.icon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("505620"),20),color:"primary"})}),k.jsx("span",{className:j(l.content),children:k.jsx(b("MDSText.react"),{align:"center",type:"bodyLink3",children:f.toString()})})]})})})})}c=a;f.styles=l;f.make=c}),null);
__d("MercuryTypeaheadConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:8,COMPOSER_GUEST_MAX:6,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_NON_FRIENDS_EXTRA_FETCH:3,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:5,COMPOSER_USERS_MAX:13,COMPOSER_WM_MAX:23,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",SEARCH_TYPE:"search",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",GUEST_USER_TYPE:"guest",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game",MESSAGE_TYPE:"message",WORKPLACE_BOT_CATEGORY_TYPE:"WORKPLACE_BOT",VALID_EMAIL:"^([A-Z0-9._%+-]+@((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._%+-]+[A-Z0-9._%+-]*)|([A-Z0-9._%+-]+[A-Z._%+-]+[A-Z0-9._%+-]*))@(?:facebook\\.com))$"});f["default"]=a}),66);
__d("MWInboxURIState.bs",["CurrentEnvironment","MAWGating.bs","MercuryFilters.bs","MercuryIDs","MercuryTypeaheadConstants","MessengerURIConstants","URI","bs_belt_Option","bs_caml_array","bs_caml_exceptions","bs_caml_format","bs_caml_option","bs_curry","bs_js_json","bs_js_null_undefined","cr:12141","cr:12142","gkx","qex","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";var g;d={};var h=b("bs_caml_exceptions").create("MWInboxURIState.NonMessengerState"),i="/?$";function j(a){a=a.match(new RegExp(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));return b("bs_belt_Option").map(a===null?void 0:b("bs_caml_option").some(a),function(a){return decodeURIComponent(b("bs_caml_array").get(a,1))})}function k(a){a=a.match(new RegExp(b("MessengerURIConstants").FOLDERS_PATH+("/([^/]+)"+(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"))));return b("bs_belt_Option").map(a===null?void 0:b("bs_caml_option").some(a),function(a){return decodeURIComponent(b("bs_caml_array").get(a,1))})}var l=b("qex")._("1097094")===!0,m=b("CurrentEnvironment").instagramdotcom?b("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:b("CurrentEnvironment").facebookdotcom?b("MessengerURIConstants").FACEBOOK_PREFIX:"";function n(a){a=new(g||(g=b("URI")))(a.url);var c=a.getPath();a=a.getQueryData();var d=b("gkx")("1300945"),e=new RegExp("^"+(m+"(/|$)")),f=b("bs_belt_Option").isSome(a.story_id);if(b("CurrentEnvironment").facebookdotcom&&!(e.test(c)||d&&c==="/"&&!f))throw{RE_EXN_ID:h,Error:new Error()};d=c.replace(e,"/");f=a.filter;c=a.fbid;e=a.qa;var n=a.sa,o=a.t,p=a.threadIDs;a=a.id;try{p=b("bs_belt_Option").map(p,function(a){return JSON.parse(a)});p!==void 0&&b("bs_belt_Option").map(b("bs_js_json").decodeArray(b("bs_caml_option").valFromOption(p)),function(a){return a.reduce(function(a,c){c=b("bs_js_json").decodeString(c);if(b("MercuryIDs").isValidThreadID(b("bs_js_null_undefined").fromOption(b("bs_belt_Option").map(c,function(a){return a}))))return a.concat([c]);else return a},[])})}catch(a){}if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").PEOPLE_PATH)))))p=1;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").PAYMENT_PATH)))))p=2;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").SEARCH_PATH)))))if(l)if(e!==void 0)p=4;else if(n!==void 0&&o!==void 0){e=b("bs_caml_option").valFromOption(o);p=e===b("MercuryTypeaheadConstants").FRIEND_TYPE||e===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?5:e===b("MercuryTypeaheadConstants").PAGE_TYPE?6:e===b("MercuryTypeaheadConstants").THREAD_TYPE?7:3}else p=3;else p=3;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_GROUP_VIEW)))))p=7;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_CHAT_VIEW)))))p=5;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_UNREAD_VIEW)))))p=8;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW)))))p=9;else if(d==="/read/")p={_0:c!==void 0?{TAG:0,_0:b("bs_caml_format").caml_int64_of_string(c)}:void 0};else{if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+(b("MessengerURIConstants").COMPOSE_SUBPATH+i))))))n=[0,void 0,void 0];else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+(b("MessengerURIConstants").PAYMENT_PATH+b("MessengerURIConstants").PAYMENT_PAY_PATH))))))n=a!==void 0?[1,a,void 0]:[2,void 0,void 0];else{o=j(d);try{e=b("bs_belt_Option").map(o,b("bs_caml_format").caml_int64_of_string)}catch(a){e=void 0}c=e!==void 0?[{TAG:0,_0:e},o]:[void 0,void 0];a=k(d);n=[c[0],c[1],a]}p={_0:n[0]}}b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").FILTERED_REQUESTS_PATH))))||(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").ARCHIVED_PATH))))||(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").MESSAGE_REQUESTS_PATH))))||b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").FOLDERS_PATH))))));b("bs_belt_Option").mapWithDefault(f,!1,b("MercuryFilters.bs").isSupportedFilter)&&b("bs_belt_Option").getExn(f);return p}var o=b("cr:12141")==null?void 0:b("bs_caml_option").some(b("cr:12141"));function p(a){if(!(b("cr:12142")==null)&&!b("MAWGating.bs").isOccamadillo)return b("bs_curry")._1(b("cr:12142").isThreadId,a);else return!1}function a(a){return new(g||(g=b("URI")))(a.substring(m.length)).getPath().split("/")}function c(a){a=a==null?void 0:b("bs_caml_option").some(a);var c=b("useCurrentRoute")(),d=new(g||(g=b("URI")))(c.url);d=d.getPath();if(!d.startsWith(m))throw{RE_EXN_ID:h,Error:new Error()};d=c.url.substring(m.length);try{a=b("bs_belt_Option").map(a,b("bs_caml_format").caml_int64_of_string)}catch(b){a=void 0}var e;if(b("cr:12141")==null)e=void 0;else{var f=b("bs_curry")._1(o.getMostRecentSecureThreadKey,void 0);e=f!==void 0?f:void 0}f=new g(d).getPath().split("/");var i;if(a!==void 0)if(p(a))return n(c);else return{_0:{TAG:0,_0:a}};d=f.length;if(d>=4)return n(c);switch(d){case 0:return n(c);case 1:a=f[0];if(a!=="")return n(c);if(e===void 0)return n(c);i=e;break;case 2:d=f[0];a=f[1];switch(a){case"":if(e===void 0)return n(c);i=e;break;case"new":return{_0:0};default:if(d!=="")return n(c);a=f[1];if(a!=="t")return n(c);if(e===void 0)return n(c);i=e}break;case 3:d=f[1];if(d!=="t")return n(c);a=f[2];if(a==="")return n(c);try{e=b("bs_caml_format").caml_int64_of_string(a)}catch(a){e=void 0}if(e!==void 0&&!p(e))return{_0:{TAG:0,_0:e}};else return 0}return{_0:{TAG:1,_0:b("bs_caml_format").caml_int64_of_string(i)}}}f.MessagingTag=d;f.NonMessengerState=h;f._getFolderID=k;f.isSearchRefactor=l;f.prefix=m;f.parseURI_DEPRECATED=n;f.$MAWSessionStorage$requireCondXplat=b("cr:12141");f.$MAWThreadId$requireCondXplat=b("cr:12142");f.getRouteTokens=a;f.useState=c}),null);
__d("MWInboxProvider.bs",["MWInboxURIState.bs","bs_js_null_undefined","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({});function a(a){var c=a.children,d=a.threadKey;a=a.refParam;d=b("bs_js_null_undefined").fromOption(d);d=b("MWInboxURIState.bs").useState(d);a={refParam:a,inboxState:d};return h.createElement(i.Provider,{value:a,children:c})}c=a;f.context=i;f.make=c}),null);
__d("MWLSSendMDotMeRef.bs",["LS.bs","LSSendPlatformReferralEvent","LSTransaction.bs","ReStore.bs","bs_caml_format","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:!0};function a(a,c){var d=b("ReStore.bs").useHook(void 0);h.useEffect(function(){var e=i.contents;if(a!==void 0&&c!==void 0&&e){b("promiseDone")(b("LSTransaction.bs").run(d,function(d){return b("LSSendPlatformReferralEvent")(b("bs_caml_format").caml_int64_of_string(c),a,void 0,void 0,void 0,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite"),void 0,void 0);i.contents=!1;return}},[c,a,d])}f.shouldSendRef=i;f.useHook=a}),null);
__d("MWQuickPromotionDesktopInterstitialUpsell.entrypoint",["JSResourceForInteraction","MWQuickPromotionDesktopInterstitialUpsellQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{upsellQueryRef:{parameters:c("MWQuickPromotionDesktopInterstitialUpsellQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWQuickPromotionDesktopInterstitialUpsell.react").__setRef("MWQuickPromotionDesktopInterstitialUpsell.entrypoint")};b=a;g["default"]=b}),98);
__d("MWQuickPromotionDesktopInterstitialUpsellContainer.react",["CometPlaceholder.react","MWQuickPromotionDesktopInterstitialUpsell.entrypoint","RelayHooks","react","useCometRelayEntrypointContextualEnvironmentProvider","useEffectOnce"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometRelayEntrypointContextualEnvironmentProvider")();a=d("RelayHooks").useEntryPointLoader(a,c("MWQuickPromotionDesktopInterstitialUpsell.entrypoint"));var b=a[0],e=a[1],f=a[2];c("useEffectOnce")(function(){e({});return function(){return f()}});return b?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:b,props:{}})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInbox.bs",["CometErrorBoundary.re","CometPlaceholder.react","CurrentEnvironment","LSErrorHandlerDeferred.bs","MAWGating.bs","MWInboxProvider.bs","MWLSChatPopperUpper.bs","MWLSSendMDotMeRef.bs","MWLSThreadDisplayContext.bs","MWQuickPromotionDesktopInterstitialUpsellContainer.react","MessengerDotComStyleXTheme","ReStore.bs","RecoverableViolation.react","StyleXSheet","bs_caml_option","bs_curry","cr:10887","cr:11388","cr:11428","cr:11591","cr:1847793","cr:356","cr:931","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={container:{minHeight:"dp1hu0rb"}},j=b("cr:1847793")==null?void 0:b("bs_caml_option").some(b("cr:1847793")),k=b("cr:10887")==null?function(a){}:b("MAWGating.bs").isOccamadillo?function(a){}:b("cr:10887").useHook,l=b("cr:931")==null?void 0:b("bs_caml_option").some(b("cr:931")),m=b("cr:356")==null?void 0:b("bs_caml_option").some(b("cr:356")),n=b("cr:11388")==null?void 0:b("bs_caml_option").some(b("cr:11388"));!(b("cr:11591")==null)&&!(b("cr:11428")==null)&&b("bs_curry")._1(b("cr:11591").start,b("cr:11428").config);if(b("CurrentEnvironment").messengerdotcom){c=new(b("StyleXSheet"))({isSlow:void 0,rootDarkTheme:void 0,rootTheme:b("bs_caml_option").some(b("MessengerDotComStyleXTheme")),supportsVariables:!0});c.injectTheme()}d=b("LSErrorHandlerDeferred.bs").subscribeToErrors();function a(a){var c=a.threadKey,d=a.refParam;a=a.children;var e=b("ReStore.bs").useHook(void 0);b("MWLSChatPopperUpper.bs").useHook(e);b("MWLSSendMDotMeRef.bs").useHook(d,c);b("bs_curry")._1(k,void 0);return h.jsx(b("MWInboxProvider.bs").make,{children:h.jsxs(b("CometPlaceholder.react"),{children:[h.jsx(b("MWLSThreadDisplayContext.bs").Provider.make,{children:!(b("cr:11388")==null)&&!(b("cr:356")==null)?h.jsx(n.make,{children:h.jsx(m.make,{children:a}),xstyle:[i.container]}):a,value:1}),h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("MWQuickPromotionDesktopInterstitialUpsellContainer.react"),{})}),b("cr:931")==null?null:h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(l.make,{})}),b("cr:1847793")==null?null:h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return h.jsx(b("RecoverableViolation.react"),{errorMessage:"MWXACIntroView component didn't catch own error",errorObject:a,projectName:"messenger_comet"})},children:h.jsx(j.make,{entrypoint:b("CurrentEnvironment").messengerdotcom?"mdotcom":"inbox"})})],fallback:b("gkx")("678680")?"MWInbox suspended":null}),threadKey:c,refParam:d})}e=a;f.styles=i;f.$MWComposerKeyCommandFocusManager$OR$null$requireCond=b("cr:356");f.$MWInboxKeyCommands$OR$null$requireCond=b("cr:11388");f.$MWMessengerDesktopFeedbackSurvey$OR$null$requireCond=b("cr:931");f.$MWV2RedirectToLatestReadThread$OR$null$requireCond=b("cr:10887");f.$MWXACIntroView$OR$null$requireCond=b("cr:1847793");f.$null$OR$LSPlatformClientStartLoadingEarly$requireCond=b("cr:11591");f.$null$OR$LSPlatformMessengerConfig$requireCond=b("cr:11428");f._unsub=d;f.make=e}),null);
__d("MWInbox.re",["MWInbox.bs"],(function(a,b,c,d,e,f){a=b("MWInbox.bs").make;f.make=a}),null);
__d("LSUserControlButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSContactType.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){return i.jsx("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.317298 13.767L5.37312 18.8229C5.79583 19.2461 6.48204 19.2461 6.90474 18.8229L17.016 8.7107C17.4391 8.28783 17.4391 7.60136 17.016 7.1785C16.593 6.75528 15.9071 6.75528 15.4841 7.1785L6.13875 16.5248L1.84928 12.2348C1.42622 11.8112 0.740361 11.8112 0.317298 12.2348C-0.105766 12.6576 -0.105766 13.3438 0.317298 13.767ZM23.6881 12.2778H22.5333V12.28H20.8008C20.3395 12.28 20.0644 12.7941 20.3201 13.1776L22.6306 16.6428C22.8592 16.9857 23.363 16.9857 23.5916 16.6428L25.9021 13.1776C26.1579 12.7941 25.8827 12.28 25.4214 12.28H23.6881V12.2778Z",fill:"white"})})}c={make:j};var k={button:{borderTopStartRadius:"cmek9o9a",borderTopEndRadius:"p7f4f6cj",borderBottomEndRadius:"c8oo3d72",borderBottomStartRadius:"r15kkdkt",display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",width:"f8ljpb73"}};function l(a){var c=a.thread,d=a.color;return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSUserControlMenu.react").__setRef("LSUserControlButton.bs"),disableAutoFlip:!0,popoverProps:{thread:c},align:"end",position:"below",children:function(a,c,e,f,h,l,m){return i.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u7c89\u7d72\u5c08\u9801\u9078\u9805"/*FBT_CALL*/),ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.button]},style:{backgroundColor:d},children:i.jsx(j,{})})}})}d={styles:k,make:l};function a(a){var c=a.thread;a=a.color;var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c.a,tl:0}),function(c){var a=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:c.b,tl:0}));return[c,a]})},[d,JSON.stringify(c.a)])),f=b("MWLSActor.bs").useActor(void 0);e=e.find(function(a){return b("bs_caml").i64_neq(a[0].b,f)});if(e===void 0)return null;var g=e[1];if(g!==void 0&&b("bs_caml").i64_eq(g.q,b("LSContactType.bs").page))return i.jsx(l,{thread:c,contact:g,participant:e[0],color:a});else return null}e=a;f.Checkmark=c;f.UserControlButton=d;f.make=e}),null);
__d("MessengerRoomsChatJoinRoomButtonQuery",["MessengerRoomsChatJoinRoomButtonQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MessengerRoomsChatJoinRoomButtonQuery.graphql");c=a;g["default"]=c}),98);
__d("MessengerRoomsChatJoinRoomButtonUtils",["MessengerRoomsChatJoinRoomButtonQuery","RelayFBEnvironment","RelayHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("RelayHooks").fetchQuery(c("RelayFBEnvironment"),c("MessengerRoomsChatJoinRoomButtonQuery"),{thread_id:a}).toPromise();return a}g.fetchRoomUrl=a}),98);
__d("RoomsChatUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744333");c=b("FalcoLoggerInternal").create("rooms_chat_user_actions",a);e.exports=c}),null);
__d("ZenonAbstractButton.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var c=a["aria-label"],d=a.children,e=a["data-hover"],f=a.disabled;f=f===void 0?!1:f;var g=a.label,j=a.onClick,k=a.showLabelWhenDisabled;k=k===void 0?!1:k;a=babelHelpers.objectWithoutPropertiesLoose(a,["aria-label","children","data-hover","disabled","label","onClick","showLabelWhenDisabled"]);return h.jsxs("button",babelHelpers["extends"]({"aria-disabled":f,"aria-label":c,"data-hover":f&&!k?"none":e,disabled:f&&!k,onClick:f?i:j,ref:b,type:"button"},a,{children:[d,h.jsx("span",{className:"lanauo1g ah27w7js alrytcbg hgsucude rb9yzgxv mc69vkn9 sqk0u2jd",children:g})]}))}a.displayName=a.name+" [from "+f.id+"]";function i(a){a.preventDefault()}b=h.forwardRef(a);g["default"]=b}),98);
__d("MessengerLSJoinRoomButton.react",["fbt","ix","FBLogger","Image.react","MessengerRoomsChatJoinRoomButtonUtils","RoomsChatUserActionsFalcoEvent","URI","ZenonAbstractButton.react","promiseDone","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useState;function a(a){var b=a.threadFBID;a=l(null);var e=a[0],f=a[1];a=l(null);var g=a[0],m=a[1];a=l(null);var n=a[0],o=a[1];k(function(){c("promiseDone")(d("MessengerRoomsChatJoinRoomButtonUtils").fetchRoomUrl(b),function(a){var b;m(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(b=b.rtc_room_door)==null?void 0:b.link_url);o(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(b=b.rtc_room_door)==null?void 0:b.link_hash);f(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(a=b.rtc_room_door)==null?void 0:a.is_audio_only)},function(a){a.errors&&Array.isArray(a.errors)&&a.errors.forEach(function(a){return c("FBLogger")("rtc_www").addMetadata("RT_WEB","TYPE","ROOM").mustfix("Error fetching url for Messenger Join Room Button: "+a.message)})})},[m,b,n,o,f]);return g!=null&&n!=null&&e!=null?j.jsxs(c("ZenonAbstractButton.react"),{className:"dq4g6rjb k27skwkl fsf7x5fv h5fs5mea dtqh1a21 pdqhzjwd jao8r537 rt34pxt2 js4msrqk ggolc4ur iwso50tu f5m7p0br im547bx5 jl2a5g8c alzwoclg",onClick:function(){c("RoomsChatUserActionsFalcoEvent").log(function(){var a;return{event:"button_tap",event_type:"header_video_button",extra_data:null,funnel_session_id:"",link_hash:n,thread_fbid:(a=b)!=null?a:"0"}}),c("URI").goURIOnNewWindow(g)},children:[j.jsx(c("Image.react"),{className:"a60616oh nhe0l0td",src:e?i("395818"):i("377019")}),j.jsx("span",{className:"mln2r6ah eay0q90j iryl7rsq eohcrkr5 igjjae4c nfkogyam nthtkgg5",children:h._(/*FBT_CALL*/"\u52a0\u5165"/*FBT_CALL*/)})]}):null}a.displayName=a.name+" [from "+f.id+"]";c("stylex").inject(".nthtkgg5{margin-top:5px}",1);c("stylex").inject(".nfkogyam{font-size:0.8125rem}",1);c("stylex").inject(".igjjae4c{font-weight:bold}",1);c("stylex").inject(".eohcrkr5{height:16px}",1);c("stylex").inject(".iryl7rsq{width:32px}",1);c("stylex").inject(".eay0q90j{margin-left:6.5px}",1,".eay0q90j{margin-right:6.5px}");c("stylex").inject(".mln2r6ah{margin-right:10px}",1,".mln2r6ah{margin-left:10px}");c("stylex").inject(".nhe0l0td{margin-top:6.5px}",1);c("stylex").inject(".a60616oh{margin-left:10px}",1,".a60616oh{margin-right:10px}");c("stylex").inject(".alzwoclg{display:flex}",1);c("stylex").inject(".jl2a5g8c{flex-direction:row}",1);c("stylex").inject(".im547bx5{background-color:#5AD539}",1);c("stylex").inject(".f5m7p0br{border-top:none}",.3);c("stylex").inject(".iwso50tu{border-right:none}",.3,".iwso50tu{border-left:none}");c("stylex").inject(".ggolc4ur{border-bottom:none}",.3);c("stylex").inject(".js4msrqk{border-left:none}",.3,".js4msrqk{border-right:none}");c("stylex").inject(".rt34pxt2{border-top-left-radius:18px}",1,".rt34pxt2{border-top-right-radius:18px}");c("stylex").inject(".jao8r537{border-top-right-radius:18px}",1,".jao8r537{border-top-left-radius:18px}");c("stylex").inject(".pdqhzjwd{border-bottom-right-radius:18px}",1,".pdqhzjwd{border-bottom-left-radius:18px}");c("stylex").inject(".dtqh1a21{border-bottom-left-radius:18px}",1,".dtqh1a21{border-bottom-right-radius:18px}");c("stylex").inject(".h5fs5mea{color:white}",1);c("stylex").inject(".fsf7x5fv{cursor:pointer}",1);c("stylex").inject(".k27skwkl{height:28px}",1);c("stylex").inject(".dq4g6rjb{width:82px}",1);g["default"]=a}),98);
__d("MWInboxHeaderButtons.bs",["fbt","CometPressable.react","CurrentEnvironment","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSUserControlButton.bs","MDSRow.react","MDSRowItem.react","MWChatRTCButton.bs","MWChatRTCButtonIcons.bs","MWLSRTCDisplayStatus.bs","MWLSStartPhoneCall.bs","MWLSTheme.bs","MWPTooltip.react","MWTheme.bs","MWThread_DEPRECATED.bs","MessengerLSJoinRoomButton.react","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={rowItem:{alignItems:"bp9cbjyn",display:"j83agx80",height:"qu8okrzs",justifyContent:"taijpn5t",paddingTop:"ipjc6fyt",paddingEnd:"p8fzw8mz",paddingBottom:"iuny7tx3",paddingStart:"pcp91wgn",width:"eim337gk"},iconContainer:{alignItems:"bp9cbjyn",display:"pq6dq46d",height:"mudddibn",justifyContent:"taijpn5t",position:"l9j0dhe7",width:"ciadx1gn"},iconOverlay:{start:"j9ispegn",position:"pmk7jnqg",width:"k4urcfbm",height:"datstx6m",opacity:"b5wmifdl",top:"kr520xx4",borderTopStartRadius:"mdpwds66",borderTopEndRadius:"b2cqd1jy",borderBottomEndRadius:"n13yt9zj",borderBottomStartRadius:"eh67sqbx"},iconOverlayActive:{opacity:"lupvgy83"}};function a(a){var c=a.thread,d=a.info,e=a.setInfo;a=a.isReachable;a=a!==void 0?a:!0;var f=b("MWThread_DEPRECATED.bs").useFBID(void 0),h=b("MWLSRTCDisplayStatus.bs").useHook(void 0),l=b("MWLSStartPhoneCall.bs").useMakeRTCCall(void 0),m=l[0];l=b("MWLSTheme.bs").useTheme(c.a);l=b("MWTheme.bs").top(l);var n=h===0,o=g._(/*FBT_CALL*/"\u5c0d\u8a71\u8cc7\u6599"/*FBT_CALL*/);return j.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[j.jsx(b("LSUserControlButton.bs").make,{thread:c,color:l}),a&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,c)&&n?j.jsx(b("MDSRowItem.react"),{xstyle:[k.rowItem],children:j.jsx(b("MWChatRTCButton.bs").audio,{fill:l,label:g._(/*FBT_CALL*/"\u958b\u59cb\u8a9e\u97f3\u901a\u8a71"/*FBT_CALL*/),size:"34px",onPress:function(a){return b("bs_curry")._3(m,!1,f,"inbox_thread_header")},overlayDisabled:!0})}):null,a&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,c)&&n?j.jsx(b("MDSRowItem.react"),{xstyle:[k.rowItem],children:j.jsx(b("MWChatRTCButton.bs").video,{fill:l,label:g._(/*FBT_CALL*/"\u958b\u59cb\u8996\u8a0a\u901a\u8a71"/*FBT_CALL*/),disabled:h===1,size:"34px",onPress:function(a){return b("bs_curry")._3(m,!0,f,"inbox_thread_header")},showPresence:!1,overlayDisabled:!0})}):null,b("gkx")("1943249")&&!b("LSMessagingThreadTypeUtil.bs").isSecure(c.c)?j.jsx(b("MessengerLSJoinRoomButton.react"),{threadFBID:f}):null,j.jsx(b("MDSRowItem.react"),{xstyle:[k.rowItem],children:j.jsx(b("MWPTooltip.react"),{tooltip:o,align:"middle",position:"below",children:j.jsx(b("CometPressable.react"),{"aria-label":o,onPress:function(a){return b("bs_curry")._1(e,function(a){return!d})},overlayDisabled:!0,children:j.jsxs("div",{className:(i||(i=b("stylex")))(k.iconContainer),children:[j.jsx("div",{className:i(k.iconOverlay,d&&b("CurrentEnvironment").facebookdotcom?k.iconOverlayActive:!1),style:{backgroundColor:l}}),b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").Info.icon,l,d)]})})})})]})}c=a;f.styles=k;f.make=c}),null);
__d("LSContactLink.bs",["CometLink.react","CometPressable.react","CurrentEnvironment","FBID.bs","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){c=a.K;var d=b("MWLSContactTypeExactUtils.bs").isIgContact(a);return c!==void 0&&d?"https://www.instagram.com/"+c:(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a))})}var i={expanding:{display:"j83agx80"}};function c(a){var c=a.contact,d=a.children,e=a.isText,f=a.label;a=a.testid;e=e!==void 0?e:!0;var g=f!==void 0?b("bs_caml_option").some(f):void 0,j=c.K,k=b("MWLSContactTypeExactUtils.bs").isIgContact(c);if(j!==void 0&&k){k="https://www.instagram.com/"+j;if(e){j={href:k,target:"_blank",children:d};f!==void 0&&(j.label=f);a!==void 0&&(j.testid=a);return h.jsx(b("CometLink.react"),j)}j={expanding:!0,linkProps:{target:"_blank",url:k},overlayRadius:"50%",xstyle:function(a){return[i.expanding]},children:d};g!==void 0&&(j.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(j.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),j)}k=(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.a))});j=b("CurrentEnvironment").facebookdotcom?void 0:"_blank";if(e){c={href:k,children:d};j!==void 0&&(c.target=b("bs_caml_option").valFromOption(j));f!==void 0&&(c.label=f);a!==void 0&&(c.testid=a);return h.jsx(b("CometLink.react"),c)}e={url:k};j!==void 0&&(e.target=b("bs_caml_option").valFromOption(j));f={expanding:!0,linkProps:e,overlayRadius:"50%",xstyle:function(a){return[i.expanding]},children:d};g!==void 0&&(f.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(f.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),f)}d=c;f.getHref=a;f.styles=i;f.make=d}),null);
__d("MWPresenceText.bs",["fbt","CometRelativeTimestamp.react","MWChatContactPresenceHook.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){if(a!==void 0)return b("bs_caml_option").some(i.jsx(b("CometRelativeTimestamp.react"),{date:new Date(a),format:"minimized"}))}function k(a){a=a.contactId;var c=b("MWChatContactPresenceHook.bs").useIsActive(a);a=b("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(a);if(c)return g._(/*FBT_CALL*/"\u76ee\u524d\u5728\u7dda\u4e0a"/*FBT_CALL*/);c=j(a);if(c!==void 0)return g._(/*FBT_CALL*/"{time}\u524d\u4e0a\u7dda"/*FBT_CALL*/,[g._param("time",b("bs_caml_option").valFromOption(c))]);else return null}d={make:k};function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=a.a;a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:e,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,d)})},[c,d,JSON.stringify(e)]));if(a!==void 0)return i.jsx(k,{contactId:a.b});else return null}e={fromLastActiveTimestampMs:j,PresenceText:d,useHook:a};function c(a){var c=a.a;a=b("bs_int64").to_string(c);var d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)})},[d,a]));a=a.map(function(a){return a.b});a=b("MWChatContactPresenceHook.bs").useHasActiveContact(a);if(a)return g._(/*FBT_CALL*/"\u76ee\u524d\u5728\u7dda\u4e0a"/*FBT_CALL*/)}d={useHook:c};f.OneOnOne=e;f.Group=d}),null);
__d("LSPresenceStatusText.bs",["MWPresenceText.bs","MessagingThreadType.bs","bs_caml","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.thread,d=a.startContent;a=a.endContent;c=b("MWPresenceText.bs").OneOnOne.useHook(c);if(c===null)return null;else return h.jsxs(h.Fragment,{children:[d,c,a]})}c={make:i};function j(a){var c=a.thread,d=a.startContent;a=a.endContent;c=b("MWPresenceText.bs").Group.useHook(c);if(c!==void 0)return h.jsxs(h.Fragment,{children:[d,c,a]});else return null}d={make:j};function a(a){var c=a.thread,d=a.startContent;a=a.endContent;d=d!==void 0?b("bs_caml_option").valFromOption(d):null;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var e=c.c;if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne))return h.jsx(i,{thread:c,startContent:d,endContent:a});else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group))return h.jsx(j,{thread:c,startContent:d,endContent:a});else return null}e=a;f.OneOnOnePresence=c;f.GroupPresence=d;f.make=e}),null);
__d("LSVerificationBadge.bs",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_belt_Array","bs_belt_Option","bs_caml","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={badge:{paddingStart:"scb9dxdr"}};function a(a){var c=a.thread;a=a.size;var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a,e=b("ReQLSuspense.bs").firstExn((a=b("ReQL.bs")).map(b("ReQLTable").table(d,"_user_info").asc,function(a){return a.b}));return a.map(a.filter(a.getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c.a,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)}),function(a){var c=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:a.b,tl:0}));return[a,c]})},[d,JSON.stringify(c.a)]));if(e.length!==1)return null;e=b("bs_belt_Array").get(e,0);if(e===void 0)return null;e=e[1];if(e!==void 0&&b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,e),!1))return i.jsx("span",{className:(h||(h=b("stylex")))(j.badge),children:i.jsx(b("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})});else return null}c=a;f.styles=j;f.make=c}),null);
__d("MWInboxHeaderDetails.bs",["CometMiddot.react","CometPlaceholder.react","LSContactLink.bs","LSPresenceStatusText.bs","LSRtcCallState.bs","LSThreadTitle.bs","LSVerificationBadge.bs","LsThreadType.bs","MDSText.react","MWCMInboxHeaderCommunityGroupName.bs","MWChatCalculateIsMutedFromExpireTime.bs","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MessagingThreadType.bs","MessengerMuteUtils.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Array","bs_caml","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"ll8tlv6m",justifyContent:"bkfpd7mw",flexGrow:"buofh1pr",minHeight:"qx9c56kf"},title:{marginTop:"aahdfvyu",marginBottom:"bi6gxh9e"},item:{maxWidth:"d2edcug0",display:"j83agx80",alignItems:"bp9cbjyn"}};function a(a){var c=a.thread,d=a.threadNameSize,e=a.color;a=a.isTitleALink;a=a!==void 0?a:!0;var f=b("ReStore.bs").useHook(void 0),g=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"contacts").asc,{hd:c.a,tl:0})},[f,JSON.stringify(c.a)])),k=b("bs_caml").i64_eq(c.c,b("LsThreadType.bs").communityGroup);if(b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").oneToOne)){g=b("bs_belt_Array").get(g.filter(b("MWLSContactTypeExactUtils.bs").isIgContact).map(function(a){return a.K}),0);if(g!==void 0){g=b("bs_caml_option").valFromOption(g);g=g!==void 0?g:null}else g=null}else g=null;var l=b("MessengerMuteUtils.bs").calcMuteUntilMs(c);l=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(l);var m=b("bs_caml").i64_neq(c.u,b("LSRtcCallState.bs").noOngoingCall),n=i.jsx(b("CometMiddot.react"),{});a=b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").oneToOne)&&a?i.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,c,d){return i.jsx(b("LSContactLink.bs").make,{contact:a,participant:c,children:d})}}):i.jsx(b("LSThreadTitle.bs").make,{thread:c});d={align:"center",isSemanticHeading:!0,type:d,numberOfLines:1,children:[a,i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("LSVerificationBadge.bs").make,{thread:c,size:"small"}),fallback:null})],testid:"mw_inbox_header_details_title"};e!==void 0&&(d.color=b("bs_caml_option").valFromOption(e));a={align:"center",type:"meta3",numberOfLines:1,children:[g,k?i.jsx(b("MWCMInboxHeaderCommunityGroupName.bs").make,{thread:c}):i.jsxs(i.Fragment,{children:[(m||l)&&g!==null?n:null,m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{}):i.jsx(b("LSPresenceStatusText.bs").make,{thread:c,startContent:g!==null?n:null,endContent:l?n:null})]}),l&&m?n:null,l?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx("div",{className:h(j.item,j.title),children:i.jsxs(b("MDSText.react"),d)}),i.jsx("div",{className:h(j.item),children:i.jsxs(b("MDSText.react"),a)})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWInboxHeaderDetailsContainer.bs",["CometLazyDialogTrigger.react","CometPlaceholder.react","CometPressable.react","JSResourceForInteraction","LSContactLink.bs","LSMessagingThreadTypeUtil.bs","MDSRow.react","MDSRowItem.react","MWInboxHeaderDetails.bs","MWLSActor.bs","MWThreadPicture.bs","MWV2GetOtherUser.bs","MWV2GetThreadTitle.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.photoSize,e=a.badgeSize,f=a.threadNameSize,g=a.color;a=a.isTitleALink;d=d!==void 0?d:"s_40";e=e!==void 0?e:10;f=f!==void 0?f:"headlineEmphasized3";var i=b("MWLSActor.bs").useActor(void 0),j=b("ReStore.bs").useHook(void 0),k=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").leftJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(j,"participants").asc,{hd:c.a,tl:0}),b("ReQLTable").table(j,"contacts").asc)},[j,JSON.stringify(c.a)])),l=b("MWV2GetOtherUser.bs").useOtherUser(c,k),m=h.jsx(b("MWThreadPicture.bs").make,{photoSize:d,badgeSize:e,thread:c});if(l!==void 0){d=l[1];e=h.jsx(b("LSContactLink.bs").make,{contact:d,participant:l[0],children:m,isText:!1,label:d.h})}else e=b("LSMessagingThreadTypeUtil.bs").isGroup(c.c)?h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{name:"MWLSGroupMembershipDialog","class":"fluid"}).__setRef("MWInboxHeaderDetailsContainer.bs"),dialogProps:{onClose:function(a){}},children:function(a,d){var e=b("bs_belt_Option").getWithDefault(b("MWV2GetThreadTitle.bs").computeThreadTitle(void 0,c,k,i),"");return h.jsx(b("CometPressable.react"),{"aria-label":e,ref:d,onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:m})}}):m;l={thread:c,threadNameSize:f};g!==void 0&&(l.color=b("bs_caml_option").valFromOption(g));a!==void 0&&(l.isTitleALink=b("bs_caml_option").valFromOption(a));return h.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",expanding:!0,children:h.jsxs(b("CometPlaceholder.react"),{children:[h.jsx(b("MDSRowItem.react"),{children:e}),h.jsx(b("MDSRowItem.react"),{expanding:!0,children:h.jsx(b("MWInboxHeaderDetails.bs").make,l)})],fallback:null})})}c=a;f.make=c}),null);
__d("MWInboxHeader.bs",["CurrentEnvironment","MAWGating.bs","MDSRow.react","MWInboxHeaderButtons.bs","MWInboxHeaderDetailsContainer.bs","MWThread_DEPRECATED.bs","MWUIParticipantDetails.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.thread,d=a.info;a=a.setInfo;var e=b("MWThread_DEPRECATED.bs").useFBID(void 0);e=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantReachabilityStatus,e);return h.jsx(b("MWInboxHeaderButtons.bs").make,{thread:c,info:d,setInfo:a,isReachable:e})}c={make:i};function j(a){var c=a.threadId,d=a.thread,e=a.info;a=a.setInfo;return typeof c==="object"&&c.NAME==="User"?h.jsx(i,{thread:d,info:e,setInfo:a}):h.jsx(b("MWInboxHeaderButtons.bs").make,{thread:d,info:e,setInfo:a})}d={make:j};function a(a){var c=a.thread,d=a.info;a=a.setInfo;var e=b("MWThread_DEPRECATED.bs").useIdExn(void 0),f=b("MAWGating.bs").isArmadillo(void 0)&&b("CurrentEnvironment").messengerdotcom?["p_12","p_10","s_36",9,"headlineEmphasized5"]:["p_16","p_12","s_40",10,"headlineEmphasized3"];return h.jsxs(b("MDSRow.react"),{paddingHorizontal:function(){switch(f[0]){case"p_0":return 0;case"p_4":return 4;case"p_8":return 8;case"p_12":return 12;case"p_16":return 16}}(),paddingVertical:function(){switch(f[1]){case"p_0":return 0;case"p_4":return 4;case"p_8":return 8;case"p_10":return 10;case"p_12":return 12;case"p_16":return 16}}(),verticalAlign:"center",children:[h.jsx(b("MWInboxHeaderDetailsContainer.bs").make,{thread:c,photoSize:f[2],badgeSize:f[3],threadNameSize:f[4]}),h.jsx(j,{threadId:e,thread:c,info:d,setInfo:a})]})}e=h.memo(a);f.UserThreadInboxHeaderButtons=c;f.InboxHeaderButtonsWrapper=d;f.make=e}),null);
__d("BaseMultiStepContainer.re",["BaseMultiStepContainer.react"],(function(a,b,c,d,e,f){a=b("BaseMultiStepContainer.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWCMEditThreadInfoDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.children;return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWCMCreateEditChatDialog.react").__setRef("MWCMEditThreadInfoDialogTrigger.bs"),dialogProps:{onClose:function(a){},thread:c,lsEntryPoint:"inboxThreadList"},children:b("bs_curry").__2(a)})}c=a;f.make=c}),null);
__d("MWInboxInfoActionsSectionIcons.bs",["cr:1724557"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1724557")).EditNicknames;d=a.ChangeChatName;e=a.ChangePhoto;b=a.Search;var g=a.LeaveChat;f.$MDSInboxInfoActionsSectionIcons$OR$TetraInboxInfoActionsSectionIcons$requireCond=a;f.EditNicknames=c;f.ChangeChatName=d;f.ChangePhoto=e;f.Search=b;f.LeaveChat=g}),null);
__d("MWCMEditThreadInfo.bs",["fbt","MWCMEditThreadInfoDialogTrigger.bs","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","TetraListCell.react","bs_caml_option","bs_curry","cr:10742","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742")),k=g._(/*FBT_CALL*/"\u8b8a\u66f4\u804a\u5929\u5ba4\u540d\u7a31\u548c\u8aaa\u660e"/*FBT_CALL*/);function a(a){a=a.thread;return i.jsx(b("MWCMEditThreadInfoDialogTrigger.bs").make,{thread:a,children:function(a,c){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:k,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").ChangeChatName.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)}});else return i.jsx(j.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").ChangeChatName.icon}),label:k,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}c=a;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxInfoEditEmoji.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MWLikeSvgIcon.bs","MWTheme.bs","TetraListCell.react","bs_caml_option","bs_curry","cr:10742","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={iconContainer:{alignItems:"bp9cbjyn",display:"pq6dq46d",fontSize:"o3w64lxj",justifyContent:"taijpn5t"}};c=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742"));var l=g._(/*FBT_CALL*/"\u8b8a\u66f4\u8868\u60c5\u7b26\u865f"/*FBT_CALL*/);function a(a){a=a.thread;var c=a.w,d=b("MWTheme.bs").useTheme(void 0),e=b("MWTheme.bs").bottom(d),f=j.useMemo(function(){if(c!==void 0&&c!=="")return{color:"transparent",size:24,emojiSize:20,emoji:c,type:"emoji"};var a=function(a){return j.jsx("span",{role:"presentation",className:(i||(i=b("stylex")))(k.iconContainer),children:j.jsx(b("MWLikeSvgIcon.bs").make,{color:e})})};return{alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:a,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:void 0,ref:void 0,size:void 0,linkProps:void 0,type:"icon"}},[c,e]);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeEmojiDialog").__setRef("MWInboxInfoEditEmoji.bs"),dialogProps:{threadKey:a.a,onClose:function(a){}},children:function(a,d){if(b("cr:10742")==null)return j.jsx(b("TetraListCell.react"),{headline:l,addOnPrimary:f,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_change_emoji_button"});var g;d=0;c!==void 0&&c!==""?g=j.jsx("span",{role:"presentation",className:(i||(i=b("stylex")))(k.iconContainer),children:j.jsx(b("MWLikeSvgIcon.bs").make,{color:e})}):d=1;d===1&&(g=j.jsx("span",{role:"presentation",className:(i||(i=b("stylex")))(k.iconContainer),children:j.jsx(b("MWLikeSvgIcon.bs").make,{color:e})}));return j.jsx(b("cr:10742").make,{addOnStart:g,label:l,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}d=a;f.styles=k;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.mawInboxInfoButton=c;f.title=l;f.make=d}),null);
__d("MWInboxInfoEditNicknames.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","TetraListCell.react","bs_caml_option","bs_curry","cr:10742","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742")),k=g._(/*FBT_CALL*/"\u7de8\u8f2f\u66b1\u7a31"/*FBT_CALL*/);function a(a){a=a.thread;return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSNicknameDialog.react").__setRef("MWInboxInfoEditNicknames.bs"),dialogProps:{thread:a,onClose:function(a){}},children:function(a,c){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:k,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").EditNicknames.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_edit_nicknames_button"});else return i.jsx(j.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").EditNicknames.icon}),label:k,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_edit_nicknames_button"})}})}c=a;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxInfoEditPhoto.bs",["fbt","CometFileSelector.re","DTSG","LS.bs","LSTransaction.bs","LSUpdateThreadImage","MWInboxInfoActionsSectionIcons.bs","Promise","ReStore.bs","TetraIcon.react","TetraListCell.react","bs_belt_Array","bs_caml_option","bs_curry","cometAsyncFetch","cometPushToast","cr:10742","promiseDone","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742")),k=g._(/*FBT_CALL*/"\u66f4\u6539\u76f8\u7247"/*FBT_CALL*/);function a(a){var c=a.thread,d=b("ReStore.bs").useHook(void 0),e=i.useCallback(function(a){return function(e){var f=b("LSTransaction.bs").run(d,function(d){return b("LSUpdateThreadImage")(c.a,a,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,void 0,void 0,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite");b("promiseDone")(f,void 0,void 0)}},[d,JSON.stringify(c.a)]),f=function(a){b("cometPushToast").cometPushErrorToast({message:"Unable to set group picture"})};a=function(a){a=a.item(0);if(a==null){b("recoverableViolation")("file input onChange without any files?","messenger");return f(void 0)}var c=new FormData();c.set("images_only",!0);c.set("fb_dtsg",b("DTSG").getToken());c.set("attachment[]",a,a.name);a=b("cometAsyncFetch")("/ajax/mercury/upload.php",{method:"POST",data:{},formData:c}).then(function(a){var c;if(a==null)c=!1;else{a=a.metadata;if(a==null)c=!1;else{a=b("bs_belt_Array").get(a,0);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);var d=a.image_id;a=a.src;d!==void 0&&a!==void 0?(b("bs_curry")._2(e,d,b("bs_caml_option").valFromOption(a)),c=!0):c=!1}else c=!1}}c||f(void 0);return b("Promise").resolve(void 0)})["catch"](function(a){f(void 0);b("recoverableViolation")(a.toString(),"messenger");return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)};return i.jsx(b("CometFileSelector.re").make,{accept:[".jpg",".png",".jpeg",".bmp",".tif",".tiff"],children:function(a){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:k,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").ChangePhoto.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)}});else return i.jsx(j.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").ChangePhoto.icon}),label:k,onPress:function(c){return b("bs_curry")._1(a,void 0)}})},onFilesSelected:a})}c=a;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxInfoEditTheme.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MWTheme.bs","TetraListCell.react","bs_caml_option","bs_curry","cr:10742","gkx","react","useCometUniqueID","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var b=function(a){if(a.TAG===0)return a._0.label;else return a._0.label};return"mw_edit_theme_svg:"+b(a)}var k=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742")),l=b("gkx")("571")?"24":"20",m=g._(/*FBT_CALL*/"\u8b8a\u66f4\u4e3b\u984c"/*FBT_CALL*/);function n(a){a=b("MWTheme.bs").useTheme(void 0);var c=b("MWTheme.bs").bottom(a),d=b("useCometUniqueID")(),e=b("useSetAttributeRef")("id",d);d=b("useSetAttributeRef")("mask","url(#"+(d+")"));e=i.jsxs(i.Fragment,{children:[i.jsx("defs",{children:i.jsxs("mask",{ref:e,children:[i.jsx("rect",{width:"100%",height:"100%",fill:"white"}),i.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"black"})]})}),i.jsx("circle",{cx:"12",cy:"12",r:"9",fill:c,ref:d})]});c={role:"presentation",height:l,width:l,fill:"none",viewBox:"0 0 24 24"};c["data-testid"]=j(a);return i.createElement("svg",c,e)}c={make:n};function a(a){return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeThemeDialog").__setRef("MWInboxInfoEditTheme.bs"),dialogProps:{onClose:function(a){}},children:function(a,c){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:m,addOnPrimary:{alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:n,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:void 0,ref:void 0,size:void 0,linkProps:void 0,type:"icon"},headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_inbox_edit_theme_button"});else return i.jsx(k.make,{addOnStart:i.jsx(n,{}),label:m,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}d=a;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.ColorWheelSvgIcon=c;f.make=d}),null);
__d("MWEditThreadNameDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.children;return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.bs"),dialogProps:{thread:c,onClose:function(a){}},children:b("bs_curry").__2(a)})}c=a;f.make=c}),null);
__d("MWInboxInfoEditThreadName.bs",["fbt","MWEditThreadNameDialogTrigger.bs","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","TetraListCell.react","bs_caml_option","bs_curry","cr:10742","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742")),k=g._(/*FBT_CALL*/"\u8b8a\u66f4\u804a\u5929\u5ba4\u540d\u7a31"/*FBT_CALL*/);function a(a){a=a.thread;return i.jsx(b("MWEditThreadNameDialogTrigger.bs").make,{thread:a,children:function(a,c){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:k,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").ChangeChatName.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)}});else return i.jsx(j.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").ChangeChatName.icon}),label:k,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}c=a;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxInfoSearchInConversation.bs",["fbt","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","TetraListCell.react","bs_caml_option","cr:10742","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742")),k=g._(/*FBT_CALL*/"\u5728\u5c0d\u8a71\u4e2d\u641c\u5c0b"/*FBT_CALL*/);function a(a){a=a.toggleSearch;if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:k,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").Search.primaryAddOn,headlineLineLimit:1,level:4,onPress:a,testid:"mw_search_in_conversation_button"});else return i.jsx(j.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").Search.icon}),label:k,onPress:a,testid:"mw_search_in_conversation_button"})}c=a;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxPersistedUIState.bs",["WebStorage","bs_caml_option","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=(h||(h=b("WebStorage"))).getLocalStorage();function a(a,c){var d=i.useState(function(){var d=j.getItem(c);if(d==null)return a;try{d=b("bs_caml_option").some(JSON.parse(d))}catch(a){b("recoverableViolation")("Unable to parse value at "+c,"messenger_web_product"),d=void 0}if(d!==void 0)return b("bs_caml_option").valFromOption(d);else return a}),e=d[0];i.useEffect(function(){var a=JSON.stringify(e);if(a!==void 0){a=(h||(h=b("WebStorage"))).setItemGuarded(j,c,a);a==null||b("recoverableViolation")("Unable to set item at path "+c,"messenger_web_product")}},[e,c]);return[e,d[1]]}f.localStorage=j;f.useHook=a}),null);
__d("MWInboxInfoActionsSection.bs",["fbt","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MWCMEditThreadInfo.bs","MWInboxInfoEditEmoji.bs","MWInboxInfoEditNicknames.bs","MWInboxInfoEditPhoto.bs","MWInboxInfoEditTheme.bs","MWInboxInfoEditThreadName.bs","MWInboxInfoSearchInConversation.bs","MWInboxPersistedUIState.bs","MWLSFeatureLimitedStatus.bs","MWListCell.bs","MessagingThreadType.bs","TetraListCell.react","bs_caml","bs_caml_option","bs_curry","cr:10733","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){var c,d=a.thread;a=a.toggleSearch;var e=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoActionsSection.isOpen__"),f=e[1],h=e[0],j=(e=b("LSThreadBitOffset.bs")).has((c=b("LSThreadCapabilityBitOffset.bs")).threadNameCustomization,d),k=e.has(c.threadDescriptionCustomization,d),l=e.has(c.threadPhotoCustomization,d),m=e.has(c.colorCustomization,d),n=e.has(c.emojiCustomization,d);e=e.has(c.nicknames,d);c=b("gkx")("1846003");var o=b("gkx")("1848989")&&!b("gkx")("971")&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").searchInConversation,d),p=b("LSMessagingThreadTypeUtil.bs").isSecure(d.c);p=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!p||b("MAWGating.bs").isFeatureLimitEnabled(void 0))&&b("gkx")("1992357");var q=b("bs_caml").i64_eq(d.c,b("MessagingThreadType.bs").communityGroup)||b("bs_caml").i64_eq(d.c,b("MessagingThreadType.bs").communityGroupUnjoined);k=[q&&j&&k&&!p?i.jsx(b("MWCMEditThreadInfo.bs").make,{thread:d},"0"):null,!q&&j&&!p?i.jsx(b("MWInboxInfoEditThreadName.bs").make,{thread:d},"1"):null,l&&!p?i.jsx(b("MWInboxInfoEditPhoto.bs").make,{thread:d},"2"):null,m&&!p?i.jsx(b("MWInboxInfoEditTheme.bs").make,{},"3"):null,n&&!p?i.jsx(b("MWInboxInfoEditEmoji.bs").make,{thread:d},"4"):null,e&&!p&&c?i.jsx(b("MWInboxInfoEditNicknames.bs").make,{thread:d},"5"):null,o?i.jsx(b("MWInboxInfoSearchInConversation.bs").make,{toggleSearch:a},"6"):null];q=k.some(function(a){return a!==null});if(q)if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._(/*FBT_CALL*/"\u81ea\u8a02\u804a\u5929\u5ba4"/*FBT_CALL*/),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:k,open:h,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(f,function(a){return!h})},testid:"mw_inbox_customize_chat_button"});else return i.jsx(b("cr:10733").make,{children:k,onPress:function(a){return b("bs_curry")._1(f,function(a){return!h})},label:g._(/*FBT_CALL*/"\u81ea\u8a02\u804a\u5929\u5ba4"/*FBT_CALL*/),isOpen:h,testid:"mw_inbox_customize_chat_button"});else return null}d=a;f.$MWCollapsible$requireCond=b("cr:10733");f.mWCollapsible=c;f.make=d}),null);
__d("MWInboxInfoDetailsSection.bs",["CometColumn.react","CometColumnItem.react","CometPlaceholder.react","LSContactLink.bs","LSPresenceStatusText.bs","LSThreadTitle.bs","LSVerificationBadge.bs","MDSText.react","MDSTextPairing.react","MWFacepile.bs","MWLSContactTypeExactUtils.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_option","cr:10565","cr:10566","cr:587","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.toggleSearch;var d=b("ReStore.bs").useHook(void 0),e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:c.a,tl:0}),b("MWLSContactTypeExactUtils.bs").isIgContact)},[d,JSON.stringify(c.a)])));if(e&&b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").oneToOne)){e=c.B;e=e!==void 0?b("bs_caml_option").some(e):void 0}else e=void 0;var f=function(a){a=a.thread;if(b("cr:10565")==null)if(b("cr:10566")==null)return null;else return h.jsx(b("cr:10566").make,{photoSize:"s_80",badgeSize:14,thread:a});var c=a.f;if(c!==void 0)return h.jsx(b("cr:10565").make,{imageUri:c,shape:"circle",size:72});else return h.jsx(b("MWFacepile.bs").make,{thread:a,photoSize:"s_80",badgeSize:14})},g={headline:h.jsxs(h.Fragment,{children:[h.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,c,d){return h.jsx(b("LSContactLink.bs").make,{contact:a,participant:c,children:d,testid:"mw_inbox_info_details_section_title"})}}),h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("LSVerificationBadge.bs").make,{thread:c,size:"large"}),fallback:null})]}),level:3,textAlign:"center"};e!==void 0&&(g.meta=b("bs_caml_option").valFromOption(e));return h.jsxs(b("CometColumn.react"),{children:[h.jsx(b("CometColumnItem.react"),{align:"center",paddingVertical:16,children:h.jsx(f,{thread:c})}),h.jsx(b("CometColumnItem.react"),{align:"center",paddingHorizontal:16,paddingTop:0,paddingVertical:16,children:h.jsx(b("MDSTextPairing.react"),g)}),h.jsx(b("CometColumnItem.react"),{align:"center",children:h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:h.jsx(b("LSPresenceStatusText.bs").make,{thread:c})}),fallback:null})}),b("cr:587")==null?null:h.jsx(b("CometColumnItem.react"),{children:h.jsx(b("cr:587").make,{thread:c,toggleSearch:a})})]})}c=a;f.$MDSProfilePhoto$OR$null$requireCond=b("cr:10565");f.$MWInboxInfoQuickActions$OR$null$requireCond=b("cr:587");f.$null$OR$MWThreadPicture$requireCond=b("cr:10566");f.make=c}),null);
__d("MWInboxInfoGroupOptionsSection.bs",["fbt","LS.bs","LSOptimisticSetNeedsAdminApprovalForNewParticipant","LSTransaction.bs","MDSListCell.react","MDSText.react","MWListCell.bs","MWPSwitch.react","ReStore.bs","TetraListCell.react","bs_caml_option","bs_curry","cr:10733","promiseDone","react","stylex","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={labelContainer:{cursor:"am9p1bwg"},subLabelContainer:{paddingTop:"jktsbyx5"}},l=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733")),m=g._(/*FBT_CALL*/"\u9700\u8981\u7ba1\u7406\u54e1\u6279\u51c6"/*FBT_CALL*/),n=g._(/*FBT_CALL*/"\u8981\u6c42\u7ba1\u7406\u54e1\u6279\u51c6\u6240\u6709\u7fa4\u7d44\u804a\u5929\u5ba4\u52a0\u5165\u7533\u8acb"/*FBT_CALL*/);function a(a){var c=a.thread,d=b("ReStore.bs").useHook(void 0);a=j.useState(function(){return!1});var e=a[1];a=a[0];var f=b("useCometUniqueID")(),h=c.t,o=h!==void 0?h:!1,p=j.useCallback(function(a){var e=b("LSTransaction.bs").run(d,function(d){return b("LSOptimisticSetNeedsAdminApprovalForNewParticipant")(c.a,a,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite");b("promiseDone")(e,void 0,void 0)},[d,JSON.stringify(c.a)]);if(b("cr:10733")==null)return j.jsx(b("TetraListCell.react"),{headline:g._(/*FBT_CALL*/"\u7fa4\u7d44\u9078\u9805"/*FBT_CALL*/),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:j.jsx(b("TetraListCell.react"),{body:n,headline:m,addOnSecondary:b("MWListCell.bs").SecondaryAddOn.$$switch({size:"small",onChange:function(a){return b("bs_curry")._1(p,!o)},type:"switch",value:o})}),open:a,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(e,function(a){return!a})}});else return j.jsx(l.make,{children:j.jsx(b("MDSListCell.react"),{addOnEnd:j.jsx(b("MWPSwitch.react"),{onValueChange:function(a){return b("bs_curry")._1(p,!o)},value:o,children:m,"aria-describedby":f,size:"small"}),addOnEndVerticalAlign:"top",content:j.jsxs(j.Fragment,{children:[j.jsx(b("MDSText.react"),{type:"headline4",children:m}),j.jsx("div",{className:(i||(i=b("stylex")))(k.subLabelContainer),children:j.jsx(b("MDSText.react"),{type:"meta3",children:n,id:f})})]}),xstyle:[k.labelContainer],size:"medium"}),onPress:function(a){return b("bs_curry")._1(e,function(a){return!a})},label:g._(/*FBT_CALL*/"\u7fa4\u7d44\u9078\u9805"/*FBT_CALL*/),isOpen:a})}c=a;f.$MWCollapsible$requireCond=b("cr:10733");f.make=c}),null);
__d("MWAddMemberToGroupDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","LSDatabaseType.bs","MWLSDatabaseLazySync.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.thread,d=a.children,e=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWAddParticipantDialogForJSResource.react").__setRef("MWAddMemberToGroupDialogTrigger.bs"),dialogProps:{thread:c,onClose:i},children:function(a,c){return b("bs_curry")._2(d,function(c){b("bs_curry")._1(e,void 0);return b("bs_curry")._1(a,void 0)},c)}})}c=a;f.onClose=i;f.make=c}),null);
__d("MWMembersSectionIcons.bs",["cr:11273"],(function(a,b,c,d,e,f){"use strict";a=b("cr:11273").Add;f.$MDSMembersSectionIcons$OR$FDSMembersSectionIcons$requireCond=b("cr:11273");f.Add=a}),null);
__d("MWInboxInfoMemberList.bs",["fbt","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MDSListCell.react","MDSText.react","MWAddMemberToGroupDialogTrigger.bs","MWGroupLimitContainer.bs","MWLSFeatureLimitedStatus.bs","MWLSGroupMembershipMemberList.bs","MWMembersSectionIcons.bs","MWPParticipantsAndContactsForThread.bs","TetraIcon.react","TetraListCell.react","bs_caml_option","bs_curry","cr:10742","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742")),k=g._(/*FBT_CALL*/"\u65b0\u589e\u7528\u6236"/*FBT_CALL*/);function l(a){a=a.thread;return i.jsx(b("MWGroupLimitContainer.bs").make,{children:i.jsx(b("MWAddMemberToGroupDialogTrigger.bs").make,{thread:a,children:function(a,c){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:k,addOnPrimary:{color:"gray",size:36,disabled:void 0,shape:void 0,icon:b("MWMembersSectionIcons.bs").Add.icon,type:"contained-icon"},level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c});else return i.jsx(j.make,{addOnStart:i.jsx("div",{className:"thwo4zme tv7at329 bp9cbjyn taijpn5t j83agx80 t80i3w57 spb7xbtv bkmhp75w emlxlaya s45kfl79",children:i.jsx(b("TetraIcon.react"),{icon:b("MWMembersSectionIcons.bs").Add.icon})}),label:k,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}}),groupLimitReachedContent:i.jsx(b("MDSListCell.react"),{content:i.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:g._(/*FBT_CALL*/"\u4f60\u5df2\u9054\u5230\u6210\u54e1\u6578\u91cf\u4e0a\u9650\u3002\u82e5\u8981\u65b0\u589e\u5176\u4ed6\u6210\u54e1\uff0c\u8acb\u5f9e\u7fa4\u7d44\u79fb\u9664\u7528\u6236\u3002"/*FBT_CALL*/),testid:"members_list_group_limit_reached"}),size:"medium"}),thread:a})}c={make:l};function a(a){a=a.thread;var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.c);c=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!c||b("MAWGating.bs").isFeatureLimitEnabled(void 0));var d=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addMember,a),e=b("MWPParticipantsAndContactsForThread.bs").useValue(a);return i.jsxs(i.Fragment,{children:[i.jsx(b("MWLSGroupMembershipMemberList.bs").make,{thread:a,showAdminsOnly:!1,showAdminIndicator:!0,participantsAndContacts:e}),!c&&d?i.jsx(l,{thread:a}):null]})}d=a;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.AddPeopleButton=c;f.make=d}),null);
__d("MWInboxInfoMembersSection.bs",["fbt","MWInboxInfoMemberList.bs","MWInboxPersistedUIState.bs","MWListCell.bs","TetraListCell.react","bs_caml_option","bs_curry","cr:10733","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){a=a.thread;var c=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoMembersSection.isOpen__"),d=c[1],e=c[0];c=i.jsx(i.Fragment,{children:i.jsx(b("MWInboxInfoMemberList.bs").make,{thread:a})});if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._(/*FBT_CALL*/"\u804a\u5929\u5ba4\u6210\u54e1"/*FBT_CALL*/),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:c,open:e,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})}});else return i.jsx(b("cr:10733").make,{children:c,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})},label:g._(/*FBT_CALL*/"\u804a\u5929\u5ba4\u6210\u54e1"/*FBT_CALL*/),isOpen:e})}d=a;f.$MWCollapsible$requireCond=b("cr:10733");f.mWCollapsible=c;f.make=d}),null);
__d("MWInboxInfoPendingRequest.bs",["fbt","ix","BaseRow.react","BaseRowItem.react","CometTextWithEntities.react","LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSOptimisticRespondToAdminApprovalRequest","LSTransaction.bs","LSVec.bs","LSVerifyContactRowExists","MWChatTextTransform.bs","MWListCell.bs","MWPTooltip.react","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraIcon.react","TetraListCell.react","bs_curry","fbicon","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=a.response,d=a.thread,e=a.contact,f=b("ReStore.bs").useHook(void 0),i=j.useCallback(function(a){var c=b("LSTransaction.bs").run(f,function(c){return b("LSOptimisticRespondToAdminApprovalRequest")(d.a,b("LSVec.bs").make([e.a]),a?!1:!0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(c,void 0,void 0)},[f,JSON.stringify(d.a),JSON.stringify(e.a)]);a=g._(/*FBT_CALL*/"\u7565\u904e"/*FBT_CALL*/);var k=g._(/*FBT_CALL*/"\u6279\u51c6"/*FBT_CALL*/);if(c)return j.jsx(b("MWPTooltip.react"),{tooltip:a,align:"middle",position:"above",children:j.jsx(b("TetraIcon.react"),{"aria-label":a,icon:b("fbicon")._(h("478232"),16),onPress:function(a){return b("bs_curry")._1(i,1)},testid:"ignore_button",color:"secondary"})});else return j.jsx(b("MWPTooltip.react"),{tooltip:k,align:"middle",position:"above",children:j.jsx(b("TetraIcon.react"),{"aria-label":k,icon:b("fbicon")._(h("477813"),16),onPress:function(a){return b("bs_curry")._1(i,0)},testid:"approve_button",color:"secondary"})})}c={make:k};var l={item:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}};function a(a){var c=a.thread,d=a.groupMembershipApprovalRequest,e=b("ReStore.bs").useHook(void 0);a=j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"contacts").asc,{hd:d.b,tl:0})},[e,JSON.stringify(c.a),JSON.stringify(d.b)]);a=b("ReQLSubscription.bs").useFirst(a);var f=d.b;j.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSVerifyContactRowExists")(f,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)},[e,JSON.stringify(f)]);if(a===void 0)return null;c=j.jsxs(b("BaseRow.react"),{children:[j.jsx(b("BaseRowItem.react"),{children:j.jsx(k,{response:1,thread:c,contact:a}),xstyle:[l.item]}),j.jsx(b("BaseRowItem.react"),{children:j.jsx(k,{response:0,thread:c,contact:a}),xstyle:[l.item]})]});return j.jsx(b("TetraListCell.react"),{body:j.jsx(b("CometTextWithEntities.react"),{text:d.c,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]}),headline:j.jsx(b("CometTextWithEntities.react"),{text:a.h,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]}),addOnPrimary:{addOn:void 0,shape:void 0,size:36,source:{uri:a.b},alt:void 0,linkProps:void 0,type:"profile-photo"},addOnSecondary:b("MWListCell.bs").SecondaryAddOn.body({addOn:c,type:"body"}),level:4})}d=a;f.ApprovalResponseButton=c;f.styles=l;f.make=d}),null);
__d("MWInboxInfoPendingRequestsSection.bs",["fbt","MWInboxInfoPendingRequest.bs","MWInboxPersistedUIState.bs","MWListCell.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraListCell.react","bs_caml_option","bs_curry","bs_int64","cr:10733","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){var c=a.thread;a=a.isOpenInitial_TEST_ONLY;a=a!==void 0?a:!1;a=b("MWInboxPersistedUIState.bs").useHook(a,"__MWInboxInfoPendingRequestsSection.isOpen__");var d=a[1],e=a[0],f=b("ReStore.bs").useHook(void 0);a=i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"group_membership_approval_requests").asc,{hd:c.a,tl:0})},[f,JSON.stringify(c.a)]);a=b("ReQLSubscription.bs").useArray(a);a=a.map(function(a){return i.jsx(b("MWInboxInfoPendingRequest.bs").make,{thread:c,groupMembershipApprovalRequest:a},b("bs_int64").to_string(a.b))});var h=a.length;if(h===0)return null;else if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._(/*FBT_CALL*/"\u793e\u5718\u52a0\u5165\u7533\u8acb\uff08{memberRequestCount}\uff09"/*FBT_CALL*/,[g._param("memberRequestCount",String(h))]),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:a,open:e,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})}});else return i.jsx(b("cr:10733").make,{children:a,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})},label:g._(/*FBT_CALL*/"\u793e\u5718\u52a0\u5165\u7533\u8acb\uff08{memberRequestCount}\uff09"/*FBT_CALL*/,[g._param("memberRequestCount",String(h))]),isOpen:e})}d=a;f.$MWCollapsible$requireCond=b("cr:10733");f.mWCollapsible=c;f.make=d}),null);
__d("MWInboxInfoIgnoreMessages.bs",["fbt","CometLazyDialogTrigger.react","JSResource","LsIgnoreTappedFalcoEvent","LsMessengerThreadDamagingActionsEntryPoint.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","TetraIcon.react","TetraListCell.react","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:10742","react","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742"));function a(a){var c=a.thread,d=g._(/*FBT_CALL*/"\u7565\u904e\u8a0a\u606f"/*FBT_CALL*/),e=b("uuid")();return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatIgnoreMessagesDialogForJSResource.react").__setRef("MWInboxInfoIgnoreMessages.bs"),dialogProps:{onClose:function(a){},thread:c,uuid:e,entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings},children:function(a,f){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:d,addOnPrimary:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").IgnoreMessages.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(d){b("LsIgnoreTappedFalcoEvent").log(function(){return{thread:{id:b("bs_int64").to_string(c.a),type:b("bs_caml_int64").to_int32(c.c)},entry_point:{entry_point:b("bs_caml_int64").to_int32(b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings)},uuid:e,extra_data_map:{}}});return b("bs_curry")._1(a,void 0)},testid:"mw_ignore_messages_button"});else return i.jsx(j.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").IgnoreMessages.icon}),label:d,onPress:function(d){b("LsIgnoreTappedFalcoEvent").log(function(){return{thread:{id:b("bs_int64").to_string(c.a),type:b("bs_caml_int64").to_int32(c.c)},entry_point:{entry_point:b("bs_caml_int64").to_int32(b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings)},uuid:e,extra_data_map:{}}});return b("bs_curry")._1(a,void 0)},testid:"mw_ignore_messages_button"})}})}c=a;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxInfoLeaveGroupItem.bs",["MWLSConfirmRemoveFromGroup.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.thread;a=a.children;c=b("MWLSConfirmRemoveFromGroup.bs").useHook(c,!0,!1);return b("bs_curry")._2(a,c[0],c[1])}c=a;f.make=c}),null);
__d("MWInboxInfoPrivacyAndSupportSection.bs",["fbt","LSMessageThreadUnsendabilityStatus.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSWhatsAppConnectStatus.bs","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","MWInboxInfoBlockMessages.bs","MWInboxInfoFRXItem.bs","MWInboxInfoIgnoreMessages.bs","MWInboxInfoLeaveGroupItem.bs","MWInboxInfoMessengerRestrict.bs","MWInboxInfoNotifications.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWInboxPersistedUIState.bs","MWLSActor.bs","MWLSCanLeaveGroup.bs","MWListCell.bs","MWThreadListHoverButtonDropdownMenuIcons.bs","MessagingThreadType.bs","MessengerRestrictButtonSource.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","TetraIcon.react","TetraListCell.react","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","cr:10733","cr:10742","cr:12291","cr:12295","cr:1275","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var c=a.c;a=a.L;if(a!==void 0&&b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").oneToOne))return b("bs_caml").i64_eq(a,b("LSMessageThreadUnsendabilityStatus.bs").denyIfPageThread);else return!1}function k(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=a.a;return b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:e,tl:{hd:d,tl:0}})},[c,d,JSON.stringify(e)]))!==void 0}var l=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733")),m=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742")),n=b("cr:1275")==null?void 0:b("bs_caml_option").some(b("cr:1275"));function a(a){var c=a.thread,d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0);a=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoPrivacyAndSupportSection.isOpen__");var f=a[1],h=a[0];a=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c);var o=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c))return b("ReQL.bs").leftJoin(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c.a,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)}),b("ReQLTable").table(d,"contacts").asc);else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(c.a)])),p=o!==void 0?o[0].b:void 0,q=b("bs_caml").i64_eq(c.l,b("bs_caml_int64").neg_one)||b("bs_caml").i64_gt(c.l,b("bs_caml_int64").of_float(Date.now())),r=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").ignoreMessages,c)&&!a,s=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").block,c),t=b("gkx")("3846")&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").restrictContact,c),u=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").feedbackAndReport,c),v=b("MWLSCanLeaveGroup.bs").useHook(c),w=k(c),x=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").muteThread,c),y=!(b("cr:12291")==null)&&a?i.jsx(b("cr:12291").make,{thread:c}):null,z,A=0;b("cr:12295")==null||!(a&&q)?A=1:z=i.jsx(b("cr:12295").make,{thread:c});A===1&&(z=i.jsx(b("MWInboxInfoNotifications.bs").make,{thread:c,children:function(a,c,d,e,f){if(!(b("cr:10742")==null))return i.jsx(m.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:f?b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.Off.icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.On.icon}),label:d,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_notifications_section_button"});c={headline:d,addOnPrimary:f?b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.Off.primaryAddOn:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.On.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_notifications_section_button"};d=e!==void 0?b("bs_caml_option").some(e):void 0;d!==void 0&&(c.body=b("bs_caml_option").valFromOption(d));return i.jsx(b("TetraListCell.react"),c)}}));if(o!==void 0){a=o[1];q=a!==void 0&&b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").oneToOne)?b("bs_caml").i64_eq(a.P,b("LSWhatsAppConnectStatus.bs").whatsappAddressable):!1}else q=!1;A=i.jsxs(i.Fragment,{children:[!(b("cr:1275")==null)&&p!==void 0&&q?i.jsx(n.make,{contactId:p}):null,x?z:null,r?i.jsx(b("MWInboxInfoIgnoreMessages.bs").make,{thread:c}):null,y,t&&p!==void 0?i.jsx(b("MWInboxInfoMessengerRestrict.bs").make,{contactId:p,threadKey:c.a,loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,buttonSource:b("MessengerRestrictButtonSource.bs").thread_detail_settings}):null,s&&p!==void 0?i.jsx(b("MWInboxInfoBlockMessages.bs").make,{thread:c,contactId:p,isPage:j(c),children:function(a,c,d){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:d,addOnPrimary:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").BlockMessages.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_block_messages_button"});else return i.jsx(m.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").BlockMessages.icon}),label:d,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_block_messages_button"})},loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,loggingSource:j(c)?b("LsMessengerThreadDamagingActionsSource").PAGE:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD}):null,u?i.jsx(b("MWInboxInfoFRXItem.bs").make,{thread:c,children:function(a,c,d,e){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{body:e,headline:d,addOnPrimary:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").FRXItem.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_info_frx_button",ref:c});else return i.jsx(m.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").FRXItem.icon}),subLabel:g._(/*FBT_CALL*/"\u63d0\u4f9b\u610f\u898b\u56de\u994b\u6216\u6aa2\u8209\u5c0d\u8a71"/*FBT_CALL*/),label:d,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_info_frx_button"})}}):null,w&&v?i.jsx(b("MWInboxInfoLeaveGroupItem.bs").make,{thread:c,children:function(a,c){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:c,addOnPrimary:{alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:!0,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").LeaveChat.icon,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:void 0,ref:void 0,size:void 0,linkProps:void 0,type:"icon"},headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,function(a){})},testid:"mw_leave_group_button"});else return i.jsx(m.make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").LeaveChat.icon}),label:c,onPress:function(c){return b("bs_curry")._1(a,function(a){})},testid:"mw_leave_group_button"})}}):null]});if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._(/*FBT_CALL*/"\u96b1\u79c1\u8a2d\u5b9a\u548c\u652f\u63f4"/*FBT_CALL*/),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:A,open:h,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(f,function(a){return!h})},testid:"mw_privacy_and_support_section_button"});else return i.jsx(l.make,{children:A,onPress:function(a){return b("bs_curry")._1(f,function(a){return!h})},label:g._(/*FBT_CALL*/"\u96b1\u79c1\u8a2d\u5b9a\u548c\u652f\u63f4"/*FBT_CALL*/),isOpen:h,testid:"mw_privacy_and_support_section_button"})}c=a;f.isThreadForPage=j;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.$MAWInboxInfoPrivacyAndSupportSectionCreateSecureConversationMenuItem$requireCondXplat=b("cr:1275");f.$MWCollapsible$requireCond=b("cr:10733");f.$MAWEndToEndEncryptionKeysSection$requireCondXplat=b("cr:12291");f.$MAWInboxInfoPrivacyAndSupportSectionUnmuteThreadButton$requireCondXplat=b("cr:12295");f.make=c}),null);
__d("VideoThumbnailDuration.react",["getFormattedTimestamp","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.videoDuration;return h.jsx("div",{className:"sf5mxxl7 pmk7jnqg pcp91wgn r8blr3vg p8fzw8mz jwdofwj8 r9r71o1u pphx12oy ljqsnud1 eu9nqtd9 qttc61fc ihh4hy1g kdgqqoy6 jk6sbkaj tqsryivl bp9cbjyn",children:c("getFormattedTimestamp")(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoPhotoGallery.bs",["fbt","CometImage.react","CometImageCover.react","CometInfiniteScrollTrigger.react","CometPhotoGrid.react","CometProgressIndicator.react","JSResourceForInteraction","MWMessageListMediaPressableContainer.bs","MWV2UseMediaViewerURL.bs","VideoThumbnailDuration.react","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","react","stylex","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={attachmentContainer:{height:"datstx6m"},progressRingContainer:{display:"j83agx80",justifyContent:"taijpn5t",marginTop:"aov4n071",paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b"},videoThumbnail:{position:"l9j0dhe7",height:"datstx6m",display:"q9uorilb",objectFit:"bixrwtb6",width:"k4urcfbm"},videoThumbnailPlayIcon:{position:"pmk7jnqg",start:"kfkz5moi",top:"rk01pc8j",transform:"py2didcb"},photoGridSpacingNormalizer:{marginTop:"rs0gx3tq",marginEnd:"kady6ibp",marginBottom:"dicw6rsg",marginStart:"dwxx2s2f"}};function l(a){var c=a.attachment,d=a.getPreviewUrl,e=a.onPress,f=a.navigateToRouteForMediaViewer;a=b("bs_curry")._1(d,c);d=b("MWV2UseMediaViewerURL.bs").useHook(c);var h=j.jsx(b("CometImageCover.react"),{alt:b("bs_belt_Option").getWithDefault(c.h,""),src:a}),l=j.jsx(b("CometImage.react"),{src:"/images/video/play_48dp.png",xstyle:[k.videoThumbnailPlayIcon]}),m=c.bd;if(m!==void 0){m=b("bs_caml_int64").to_float(m)/1e3|0;l=j.jsxs("div",{className:(i||(i=b("stylex")))(k.videoThumbnail),children:[h,l,j.jsx(b("VideoThumbnailDuration.react"),{videoDuration:m})]})}else l=h;m=f?{passthroughProps:{origSrc:a},url:d}:void 0;h=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2MediaViewer.react",{name:"MWV2MediaViewer","class":"fluid"}).__setRef("MWInboxInfoPhotoGallery.bs"));var n=h[2],o=h[0];a={attachment:c,onPress:function(a){e!==void 0&&b("bs_curry")._1(e,void 0);if(!f)return o({attachment:c},function(a){})},children:l,xstyle:k.attachmentContainer,overlayDisabled:!0,testid:"mw_gallery_item",ariaLabel:g._(/*FBT_CALL*/"\u958b\u555f\u76f8\u7247"/*FBT_CALL*/),onHoverIn:function(a){if(!f)return b("bs_curry")._1(n,void 0)}};m!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(m));return j.jsx(b("MWMessageListMediaPressableContainer.bs").make,a)}c={make:l};function a(a){var c=a.media,d=a.hasMore,e=a.onLoadMore,f=a.isLoading,g=a.getPreviewUrl,h=a.onPressMedia,m=a.navigateToRouteForMediaViewer;a=a.uniformGrid;var n=m!==void 0?m:!0;m=a!==void 0?a:!1;return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.photoGridSpacingNormalizer),children:j.jsx(b("CometPhotoGrid.react"),{children:c.map(function(a){return j.jsx(l,{attachment:a,getPreviewUrl:g,onPress:h,navigateToRouteForMediaViewer:n},a.e+a.c)}),uniformGrid:m})}),j.jsx(b("CometInfiniteScrollTrigger.react"),{hasMore:d,isLoading:f,onLoadMore:e,xstyle:k.progressRingContainer,children:j.jsx(b("CometProgressIndicator.react"),{size:"default"})})]})}d=a;f.styles=k;f.GalleryItem=c;f.make=d}),null);
__d("MWInboxInfoPhotos.bs",["fbt","MWInboxInfoPhotoGallery.bs","MWInboxPersistedUIState.bs","MWListCell.bs","TetraListCell.react","bs_caml_option","bs_curry","cr:10733","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));c={attachmentContainer:{height:"datstx6m"},progressRingContainer:{display:"j83agx80",justifyContent:"taijpn5t",marginTop:"aov4n071",paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b"}};function a(a){var c=a.media,d=a.hasMore,e=a.onLoadMore,f=a.isLoading,h=a.getPreviewUrl;a=a.navigateToRouteForMediaViewer;a=a!==void 0?a:!0;var k=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoSharedPhotosSection.isOpen__");if(c.length<=0)return null;var l=k[1],m=k[0];if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._(/*FBT_CALL*/"\u5df2\u5206\u4eab\u7684\u5f71\u97f3\u5167\u5bb9"/*FBT_CALL*/),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:i.jsx(b("MWInboxInfoPhotoGallery.bs").make,{media:c,hasMore:d,onLoadMore:e,isLoading:f,getPreviewUrl:h,navigateToRouteForMediaViewer:a}),open:m,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(l,function(a){return!m})},testid:"mw_shared_photos_section_button"});else return i.jsx(j.make,{children:i.jsx(b("MWInboxInfoPhotoGallery.bs").make,{media:c,hasMore:d,onLoadMore:e,isLoading:f,getPreviewUrl:h,navigateToRouteForMediaViewer:a}),onPress:function(a){return b("bs_curry")._1(l,function(a){return!m})},label:g._(/*FBT_CALL*/"\u5df2\u5206\u4eab\u7684\u5f71\u97f3\u5167\u5bb9"/*FBT_CALL*/),isOpen:m,testid:"mw_shared_photos_section_button"})}d=a;f.$MWCollapsible$requireCond=b("cr:10733");f.styles=c;f.make=d}),null);
__d("MWLSLoadMoreThreadSharedAttachments.bs",["LS.bs","LSIssueAttachmentsRangeQuery","LSTransaction.bs","MWThreadKey.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(e){e=b("LSTransaction.bs").run(c,function(c){return b("LSIssueAttachmentsRangeQuery")(d,a,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(e,void 0,void 0)},[c,d,JSON.stringify(a)])}f.useHook=a}),null);
__d("LSThreadMediaGalleryGroup.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.photosAndVideos=a;f.filesOnly=c;f.links=d}),null);
__d("MWSharedAttachmentsSectionHooks.bs",["LSThreadMediaGalleryGroup.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","react","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){var f=h.useState(function(){return!1}),g=f[1],i=f[0],j=a.length,k=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("usePrevious")(j)),0);f=b("usePrevious")(c);var l=f==null?void 0:b("bs_caml_option").some(f);h.useEffect(function(){d===void 0&&b("bs_curry")._1(e,void 0)},[d]);h.useEffect(function(){var a=k!==j,d=l===!0&&!c;i&&(d||a)&&b("bs_curry")._1(g,function(a){return!1})},[j,c,i]);a=h.useCallback(function(a){if(!i){b("bs_curry")._1(e,void 0);return b("bs_curry")._1(g,function(a){return!0})}},[i,e,g]);f=j>0||!i&&!c;return[i,a,f]}function i(a,c,d){var e=b("ReStore.bs").useHook(void 0),f=JSON.stringify(a),g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"attachments_ranges_v2__generated").desc,{hd:a,tl:0}),function(a){return b("bs_caml").i64_eq(a.b,c)})},[e,f,c])),i=b("bs_belt_Option").map(g,function(a){return a.c}),j=b("bs_belt_Option").map(g,function(a){return a.g});f=h.useMemo(function(){if(i!==void 0)return b("ReQL.bs").filter(b("ReQL.bs").bounds(b("ReQLTable").table(e,"attachments").index("fk_messages").desc,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a,tl:{hd:i,tl:0}}},{NAME:"lessThanOrEqual",VAL:{hd:a,tl:{hd:[2328,1316134911],tl:0}}}]}),d);else return b("SortedAsyncIterable.bs").empty(void 0)},[e,f,i,d]);return[f,g,i,j]}function c(a){var c=h.useCallback(function(a){if(b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").xma))return a.q==="xma_web_url";else return!1},[]);a=a.a;a=i(a,b("LSThreadMediaGalleryGroup.bs").links,c);c=b("ReQLSubscription.bs").useArray(a[0]);return[c,b("LSThreadMediaGalleryGroup.bs").links,a[1],a[2],a[3]]}function d(a){var c=h.useCallback(function(a){a=a.f;if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").image))return!0;else return b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").video)},[]);a=a.a;a=i(a,b("LSThreadMediaGalleryGroup.bs").photosAndVideos,c);c=b("ReQLSubscription.bs").useArray(a[0]);return[c,b("LSThreadMediaGalleryGroup.bs").photosAndVideos,a[1],a[2],a[3]]}function e(a){var c=h.useCallback(function(a){return b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").file)},[]);a=a.a;a=i(a,b("LSThreadMediaGalleryGroup.bs").filesOnly,c);c=b("ReQLSubscription.bs").useArray(a[0]);return[c,b("LSThreadMediaGalleryGroup.bs").filesOnly,a[1],a[2],a[3]]}f.useLoader=a;f.useQueryAttachments=i;f.useQueryLinkAttachments=c;f.useQueryMediaAttachments=d;f.useQueryFileAttachments=e}),null);
__d("MWOpenInboxInfoSharedPhotosSection.bs",["MWInboxInfoPhotos.bs","MWLSLoadMoreThreadSharedAttachments.bs","MWSharedAttachmentsSectionHooks.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;var c=b("MWSharedAttachmentsSectionHooks.bs").useQueryMediaAttachments(a),d=c[0],e=b("bs_belt_Option").getWithDefault(c[4],!0),f=b("MWLSLoadMoreThreadSharedAttachments.bs").useHook(c[1]);c=b("MWSharedAttachmentsSectionHooks.bs").useLoader(d,e,c[2],f);f=h.useCallback(function(a){return b("bs_belt_Option").getWithDefault(a.F,"")},[]);return h.jsx(b("MWInboxInfoPhotos.bs").make,{thread:a,media:d,hasMore:e,onLoadMore:c[1],isLoading:c[0],getPreviewUrl:f})}c=a;f.make=c}),null);
__d("MWInboxInfo.bs",["BaseMultiStepContainer.re","CometColumn.react","CometColumnItem.react","CometScrollableArea.react","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWInboxInfoActionsSection.bs","MWInboxInfoDetailsSection.bs","MWInboxInfoGroupOptionsSection.bs","MWInboxInfoMembersSection.bs","MWInboxInfoPendingRequestsSection.bs","MWInboxInfoPrivacyAndSupportSection.bs","MWOpenInboxInfoSharedPhotosSection.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","TetraList.react","bs_caml","bs_caml_option","cr:10879","cr:290","cr:831","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={container:{marginBottom:"sjgh65i0"}};c=b("cr:290")==null?void 0:b("bs_caml_option").some(b("cr:290"));d=b("cr:10879")==null?void 0:b("bs_caml_option").some(b("cr:10879"));e=b("cr:831")==null?void 0:b("bs_caml_option").some(b("cr:831"));function j(a){a=a.thread;var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.c),d=!(b("cr:290")==null),e=b("gkx")("1857541");if(e)if(c)if(b("cr:10879")==null)return null;else return h.jsx(h.Suspense,{children:h.jsx(b("cr:10879").make,{thread:a}),fallback:null});else if(d)return null;else return h.jsx(b("MWOpenInboxInfoSharedPhotosSection.bs").make,{thread:a});else return null}var k={make:j};function l(a){a=a.thread;var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.c),d=b("gkx")("1801841");if(d||c||b("cr:831")==null)return null;else return h.jsx(b("cr:831").make,{thread:a})}var m={make:l};function n(a){var c=a.pushPage;a=a.thread;var d=b("LSMessagingThreadTypeUtil.bs").isSecure(a.c);if(d||b("cr:290")==null)return null;else return h.jsx(b("cr:290").make,{thread:a,pushPage:c,isSecureThread:d})}var o={make:n};function p(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){var d=b("ReQLSuspense.bs").firstExn(b("ReQL.bs").map(b("ReQLTable").table(c,"_user_info").asc,function(a){return a.b}));return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:0}),function(a){return b("bs_caml").i64_eq(a.b,d)})},[c,JSON.stringify(a.a)]))}function q(a){var c=a.thread,d=a.toggleSearch;a=a.pushPage;var e=b("LSMessagingThreadTypeUtil.bs").isGroup(c.c),f=p(c);if(f!==void 0){f=f.f;f=f!==void 0&&f?!0:!1}else f=!1;var g=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,c),i=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c);f=e&&f&&!g&&!i;return h.jsxs(b("CometColumn.react"),{children:[h.jsx(b("MWInboxInfoDetailsSection.bs").make,{thread:c,toggleSearch:d}),h.jsx(b("CometColumnItem.react"),{paddingVertical:16,children:h.jsxs(b("TetraList.react"),{children:[h.jsx(b("MWInboxInfoActionsSection.bs").make,{thread:c,toggleSearch:d}),f?h.jsx(b("MWInboxInfoGroupOptionsSection.bs").make,{thread:c}):null,f?h.jsx(b("MWInboxInfoPendingRequestsSection.bs").make,{thread:c}):null,e?h.jsx(b("MWInboxInfoMembersSection.bs").make,{thread:c}):null,h.jsx(n,{pushPage:a,thread:c}),h.jsx(b("MWInboxInfoPrivacyAndSupportSection.bs").make,{thread:c}),h.jsx(l,{thread:c}),h.jsx(j,{thread:c})]})})]})}var r={make:q};function a(a){var c=a.thread,d=a.toggleSearch;a=a.disableInitialAutoFocus;var e;if(b("cr:290")==null)e=h.jsx(q,{thread:c,toggleSearch:d});else{var f={children:function(a){return h.jsx(q,{thread:c,toggleSearch:d,pushPage:a})},disableFocusContainment:!0};a!==void 0&&(f.disableInitialAutoFocus=a);e=h.jsx(b("BaseMultiStepContainer.re").make,f)}return h.jsx(b("CometScrollableArea.react"),{expanding:!0,xstyle:i.container,children:e})}a=h.memo(a);f.styles=i;f.$MWInboxInfoSharedContentSection$requireCond=b("cr:290");f.mwInboxInfoSharedContentSection=c;f.$MAWSecureInboxInfoSharedPhotosSection$requireCond=b("cr:10879");f.mAWSecureInboxInfoSharedPhotosSection=d;f.$null$OR$MWInboxInfoSharedFilesSection$requireCond=b("cr:831");f.mWInboxInfoSharedFilesSection=e;f.SharedMediaSection=k;f.SharedFileSection=m;f.SharedContentSection=o;f.useViewerParticipant=p;f.MWInboxInfoImplementation=r;f.make=a}),null);
__d("MWInboxSearchHeader.bs",["fbt","ix","BaseTextInput.react","CometPressable.react","CometProgressRingIndeterminate.react","LS.bs","LSClearMessageSearchTable","LSIssueMessageSearchQuery","LSMessageSearchType.bs","LSMessagingThreadTypeUtil.bs","LSSearchRequestStatusType.bs","LSTransaction.bs","MDSText.react","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","ReactStyle.bs","SortedAsyncIterable.bs","TetraButton.react","TetraIcon.react","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_format","bs_caml_obj","bs_curry","bs_int64","cr:11875","fbicon","promiseDone","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l=g._(/*FBT_CALL*/"\u641c\u5c0b"/*FBT_CALL*/),m={root:{display:"j83agx80",alignItems:"bp9cbjyn",borderBottom:"linmgsc8",paddingTop:"cxgpxx05",paddingEnd:"hv4rvrfc",paddingBottom:"sj5x9vvc",paddingStart:"dati1w0a"},searchInputContainer:{alignItems:"bp9cbjyn",display:"j83agx80",flexGrow:"buofh1pr",marginEnd:"oi9244e8",position:"l9j0dhe7",backgroundColor:"b3i9ofy5",borderTopStartRadius:"br7hx15l",borderTopEndRadius:"h2jyy9rg",borderBottomEndRadius:"n3ddgdk9",borderBottomStartRadius:"owxd89k7"},searchInput:{boxSizing:"rq0escxv",display:"a8c37x1j",minWidth:"a5nuqjux",position:"l9j0dhe7",width:"k4urcfbm"},startIcon:{position:"pmk7jnqg",start:"ax37mqq2",top:"c0p38np4"},searchInputText:{flexGrow:"buofh1pr",appearance:"dwo3fsh8",borderTop:"qu0x051f",borderEnd:"esr5mh6w",borderBottom:"e9989ue4",borderStart:"r7d6kgcz",boxSizing:"rq0escxv",color:"oo9gr5id",fontFamily:"ihxqhq3m",fontSize:"jq4qci2q",outline:"lzcic4wl",transitionProperty:"nlq1og4t",width:"k4urcfbm","::-ms-clear":{display:"iu8raji3"},"::placeholder":{color:"b1f16np4"},":focus::placeholder":{color:"hdh3q7d8"},height:"tv7at329",paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"hwnh5xvq",paddingStart:"tw6a2znq",textIndent:"o1lsuvei",backgroundColor:"g5ia77u1"},resultsText:{marginEnd:"r70wmyd8",whiteSpace:"g0qnabr5"},button:{alignItems:"bp9cbjyn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",height:"k7cz35w2",justifyContent:"taijpn5t",width:"bsnbvmp4"},progressIndicator:{marginEnd:"o3lre8g0",paddingTop:"jwdofwj8"}};function a(a){var c=a.thread,d=a.setVisibleMessage,e=a.onClose,f=b("MWLSActor.bs").useActor(void 0),i=b("ReStore.bs").useHook(void 0);a=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(i,"message_search_queries").asc,{hd:b("LSMessageSearchType.bs").thread,tl:0})},[i]));var n=b("bs_belt_Option").map(a,function(a){return a.a});a=k.useState(function(){return b("bs_belt_Option").getWithDefault(n,"")});var o=a[1],p=a[0];a=k.useState(function(){return 0});var q=a[1],r=a[0],s=k.useRef(!0),t=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(i,"message_search_queries").asc,{hd:b("LSMessageSearchType.bs").message,tl:{hd:p,tl:{hd:c.a,tl:0}}})},[i,p,c])),u=b("bs_belt_Option").map(t,function(a){return a.a}),v=b("ReQLSubscription.bs").useArray(k.useMemo(function(){if(u!==void 0)return b("ReQL.bs").getKeyRange(b("ReQLTable").table(i,"message_search_results").asc,{hd:b("LSMessageSearchType.bs").message,tl:{hd:u,tl:{hd:c.a,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[i,u,c]));k.useEffect(function(){b("bs_belt_Option").isNone(t)&&b("bs_curry")._1(q,function(a){return 0})},[t,q]);a=k.useMemo(function(){if(t!==void 0&&b("bs_caml").i64_eq(t.d,b("LSSearchRequestStatusType.bs").complete))return g._(/*FBT_CALL*/"{totalResults}\u500b\u7d50\u679c"/*FBT_CALL*/,[g._param("totalResults",b("bs_int64").to_string(t.g))]);else return null},[t,c]);var w=b("bs_belt_Option").mapWithDefault(t,!0,function(a){return b("bs_caml").i64_eq(a.d,b("LSSearchRequestStatusType.bs").complete)})?null:k.jsx("div",{className:(j||(j=b("stylex")))(m.progressIndicator),children:k.jsx(b("CometProgressRingIndeterminate.react"),{color:"blue",size:16})});k.useEffect(function(){if(v.length>0&&r<v.length){var a=b("bs_caml_array").get(v,r);b("bs_curry")._1(d,function(c){c=a.j;var d=a.k;if(c!==void 0)if(d!==void 0){c=c.split(",");var e=d.split(",");d=c.map(function(a,c){return{matchOffset:b("bs_caml_format").caml_int_of_string(a),matchLength:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(e,c))}})}else d=[];else d=[];return{timestamp:b("bs_belt_Option").getExn(a.g),messageId:b("bs_belt_Option").getExn(a.f),highlights:d,contextLine:b("bs_belt_Option").getWithDefault(a.i,""),source:0}})}},[v,r,d]);var x=k.useRef(void 0);k.useEffect(function(){b("bs_belt_Option").mapWithDefault(x.current,!0,function(a){return p!==a[0]||a[1]!==q?!0:a[2]!==d})&&!s.current&&(b("bs_curry")._1(q,function(a){return 0}),b("promiseDone")(b("LSTransaction.bs").run(i,function(a){var c=b("bs_curry")._1(b("LS.bs").make,a);return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),function(a){return b("bs_curry")._1(d,function(a){})})),x.current=[p,q,d]},[p,q,d]);k.useEffect(function(){s.current&&(s.current=!1)},[p,s]);var y=k.useCallback(function(a){b("bs_curry")._1(d,function(a){});var e=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c),g,h=0;e&&!(b("cr:11875")==null)?g=b("bs_curry")._4(b("cr:11875").searchSecureDatabaseMessages,a,c.a,f,i):h=1;h===1&&(g=b("LSTransaction.bs").run(i,function(d){var e=b("bs_curry")._1(b("LS.bs").make,d);return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,e).then(function(d){return b("LSIssueMessageSearchQuery")(a,b("LSMessageSearchType.bs").message,c.a,void 0,e)})},"readWrite"));b("promiseDone")(g,void 0,void 0)},[i,p,JSON.stringify(c.a),f]),z=k.useRef(n),A=k.useRef(!1);k.useEffect(function(){(b("bs_caml_obj").caml_notequal(z.current,n)||!A.current)&&(n!==void 0&&(s.current=!0,b("bs_curry")._1(o,function(a){return n}),b("bs_curry")._1(y,n)),z.current=n,A.current=!0)},[n,o,s,y,A]);var B=function(a){r===(v.length-1|0)&&b("bs_belt_Option").mapWithDefault(t,!1,function(a){return b("bs_belt_Option").getWithDefault(a.e,!1)})&&b("promiseDone")(b("LSTransaction.bs").run(i,function(a){return b("LSIssueMessageSearchQuery")(p,b("LSMessageSearchType.bs").message,c.a,b("bs_belt_Option").getExn(b("bs_belt_Option").getExn(t).f),b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0);return b("bs_curry")._1(q,function(a){return a+1|0})},C=function(a){return b("bs_curry")._1(q,function(a){return a-1|0})},D=k.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(i,function(a){var c=b("bs_curry")._1(b("LS.bs").make,a);return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),function(a){return b("bs_curry")._1(e,void 0)})},[i,e]);k.useEffect(function(){b("bs_curry")._1(d,function(a){});return function(a){return b("bs_curry")._1(d,function(a){})}},[d]);var E=v.length===0||r===(v.length-1|0)&&!b("bs_belt_Option").mapWithDefault(t,!1,function(a){return b("bs_belt_Option").getWithDefault(a.e,!1)}),F=r===0,G=k.useMemo(function(){var a=b("ReactStyle.bs").unsafeAddProp({},"--divider","rgba(0,0,0,0)");return b("ReactStyle.bs").unsafeAddProp(a,"--card-background","rgba(0,0,0,0)")},[]);return k.jsxs("form",{className:(j||(j=b("stylex")))(m.root),onSubmit:function(a){a.preventDefault();return b("bs_curry")._1(y,p)},children:[k.jsxs("div",{style:G,className:j(m.searchInputContainer),children:[k.jsxs("label",{className:j(m.searchInput),children:[k.jsx("div",{className:j(m.startIcon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("491282"),16),color:"tertiary"})}),k.jsx(b("BaseTextInput.react"),{autoFocus:!0,onChange:function(a){return b("bs_curry")._1(o,function(b){return a.target.value})},placeholder:l,value:p,xstyle:[m.searchInputText],spellCheck:!1,label:l,testid:"mw_thread_search_input"})]}),w,a===null?null:k.jsx("div",{role:"alert",className:(j||(j=b("stylex")))(m.resultsText),children:k.jsx(b("MDSText.react"),{type:"meta3",children:a,testid:"mw_thread_search_results"})})]}),k.jsx(b("CometPressable.react"),{disabled:E,onPress:B,xstyle:function(a){return m.button},children:k.jsx(b("TetraIcon.react"),{alt:g._(/*FBT_CALL*/"\u4e0b\u4e00\u500b"/*FBT_CALL*/),icon:b("fbicon")._(h("505564"),16),color:E?"disabled":"highlight"})}),k.jsx(b("CometPressable.react"),{disabled:F,onPress:C,xstyle:function(a){return m.button},children:k.jsx(b("TetraIcon.react"),{alt:g._(/*FBT_CALL*/"\u4e0a\u4e00\u500b"/*FBT_CALL*/),icon:b("fbicon")._(h("492450"),16),color:F?"disabled":"highlight"})}),k.jsx("div",{children:k.jsx(b("TetraButton.react"),{label:g._(/*FBT_CALL*/"\u95dc\u9589"/*FBT_CALL*/),type:"overlay",onPress:D})})]})}c=b("cr:11875");d=a;f.searchPlaceholder=l;f.styles=m;f.$MWInboxSecureContentSearch$requireCond=b("cr:11875");f.mWInboxSecureContentSearch=c;f.make=d}),null);
__d("MWLSNewMessageAnnouncementForScreenReaders.bs",["fbt","LSAuthorityLevel.bs","LSMessageReplySourceTypeV2.bs","LSMessagingThreadTypeUtil.bs","MWLSActor.bs","MWV2MessageHasAttachment.bs","MWV2OpenForwardedContent.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","ServerTime","SortedAsyncIterable.bs","StylexHelpers.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","clearTimeout","promiseDone","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){var c=a.message;a=a.outgoing;c=b("MWV2OpenForwardedContent.bs").useTitle(c,a);return g._(/*FBT_CALL*/"{forward title}"/*FBT_CALL*/,[g._param("forward title",c)])}c={make:k};function l(a){var c=a.message,d=a.sender;a=a.participant;var e=b("MWLSActor.bs").useActor(void 0);e=b("bs_caml").i64_eq(d.a,e);var f=b("bs_caml_obj").caml_equal(c.t,b("LSMessageReplySourceTypeV2.bs").forward);a=a!==void 0?a.e:void 0;if(a!==void 0)a=a;else{var h=d.p;a=h!==void 0?h:d.h}if(f)return j.jsx(k,{message:c,outgoing:e});h=c.v;if(h!==void 0)return g._(/*FBT_CALL*/"{reply snippet}"/*FBT_CALL*/,[g._param("reply snippet",h)]);else if(e)return g._(/*FBT_CALL*/"\u4f60\u50b3\u9001\u7684\u6642\u9593\uff1a"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"{name of sender}\u5df2\u50b3\u9001\uff1a"/*FBT_CALL*/,[g._param("name of sender",a)])}d={make:l};function m(a){return b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").image)}function n(a){a=a.message;var c=b("ReStore.bs").useHook(void 0),d=a.e,e=a.a;a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachments").asc,{hd:e,tl:{hd:d,tl:0}})},[c,d,JSON.stringify(e)]));if(a.length!==1)if(a.length>1&&a.every(m))return j.jsx("div",{children:g._(/*FBT_CALL*/"\u5df2\u9644\u52a0{count of images, greater than or equal to 2}\u5f35\u5716\u50cf"/*FBT_CALL*/,[g._param("count of images, greater than or equal to 2",String(a.length))])});else return null;a=a[0];var f=a.f;if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").animatedImage)){var h=a.R;h=j.jsxs(j.Fragment,{children:[g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u5f35\u5716\u50cf"/*FBT_CALL*/),h!==void 0?g._(/*FBT_CALL*/"\uff0c\u6a19\u984c\u70ba\u300c{title of image}\u300d"/*FBT_CALL*/,[g._param("title of image",h)]):null]})}else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").video))h=g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u6bb5\u5f71\u7247"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").audio))h=g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u6bb5\u97f3\u8a0a"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").sticker)){var i=a.bj;h=j.jsxs(j.Fragment,{children:[g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u5f35\u8cbc\u5716"/*FBT_CALL*/),i!==void 0&&i!==""?g._(/*FBT_CALL*/"\uff0c\u6a19\u984c\u70ba\u300c{title of sticker}\u300d"/*FBT_CALL*/,[g._param("title of sticker",i)]):null]})}else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").xma))h=g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u500b\u5167\u5bb9\u8c50\u5bcc\u7684\u9644\u4ef6"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").file)){i=a.h;h=j.jsxs(j.Fragment,{children:[g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u500b\u97f3\u8a0a\u6a94\u6848"/*FBT_CALL*/),i!==void 0?g._(/*FBT_CALL*/"\uff0c\u540d\u7a31\u70ba\u300c{name of file}\u300d"/*FBT_CALL*/,[g._param("name of file",i)]):null]})}else h=g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u500b\u4e0d\u53d7\u652f\u63f4\u7684\u9644\u4ef6"/*FBT_CALL*/);return j.jsx("div",{children:h})}e={make:n};function o(a){var c=a.message,d=a.sender,e=a.thread;a=a.participant;var f=j.useState(function(){return!1}),g=f[1];j.useEffect(function(){var a=b("setTimeout")(function(a){return b("bs_curry")._1(g,function(a){return!0})},100);return function(c){b("clearTimeout")(a)}},[g]);if(f[0]){f=c.g;if(b("MWV2MessageHasAttachment.bs").make(c)){var h=b("LSMessagingThreadTypeUtil.bs").isSecure(e.c);h=h?null:j.jsx(n,{message:c,thread:e})}else h=null;d=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:j.jsx(l,{message:c,sender:d,thread:e,participant:a})}),f!==void 0?j.jsx("div",{children:f}):null,h]})}else d=null;return j.jsx("div",{role:"alert","aria-live":"polite","aria-relevant":"additions",className:(i||(i=b("stylex")))(b("StylexHelpers.bs").styles.visuallyHidden),children:d},c.e+"new_message_sr_announcement")}var p={make:o};function q(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0),f=j.useRef(b("ServerTime").getMillis());j.useEffect(function(){return b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"messages").asc,{hd:c.a,tl:0}),function(e,g){if(typeof g==="number")return;if(g.TAG!==0)return;var h=g._0;if(b("bs_caml_int64").to_float(h.b)>f.current){f.current=b("bs_caml_int64").to_float(h.b);b("promiseDone")(window.Promise.all([b("ReQLTable").table(d,"contacts").get({hd:h.h,tl:0}),b("ReQLTable").table(d,"participants").get({hd:h.a,tl:{hd:h.h,tl:0}})]),function(d){var e=d[0];if(e!==void 0)return b("bs_curry")._4(a,h,e,c,d[1])});return}})},[d,JSON.stringify(e),JSON.stringify(c.a)])}function a(a){a=a.thread;var c=j.useState(function(){}),d=c[1];c=c[0];var e=j.useCallback(function(a){return function(c,e,f){if(b("bs_caml").i64_eq(a.V,b("LSAuthorityLevel.bs").authoritative))return b("bs_curry")._1(d,function(d){return b("bs_caml_option").some(j.jsx(j.Fragment,{children:j.jsx(o,{message:a,sender:c,thread:e,participant:f})}))})}},[d]);q(e,a);if(c!==void 0)return b("bs_caml_option").valFromOption(c);else return null}a=a;f.ForwardTitle=c;f.Header=d;f.isImage=m;f.Attachment=e;f.Alert=p;f.useHook=q;f.make=a}),null);
__d("MWUseAriaLabelForThread.bs",["fbt","MWLSActor.bs","MWV2GetThreadTitle.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").leftJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:a.a,tl:0}),b("ReQLTable").table(d,"contacts").asc)},[d,JSON.stringify(a.a)]));return i.useMemo(function(){var d=a.d;if(d!==void 0)return g._(/*FBT_CALL*/"\u6a19\u984c\u70ba\u300c{name of conversation}\u300d\u7684\u5c0d\u8a71"/*FBT_CALL*/,[g._param("name of conversation",d)]).toString();d=b("bs_belt_Option").getWithDefault(b("MWV2GetThreadTitle.bs").computeThreadTitle(void 0,a,e,c),"");return g._(/*FBT_CALL*/"\u8207{participant list}\u7684\u5c0d\u8a71"/*FBT_CALL*/,[g._param("participant list",d)]).toString()},[JSON.stringify(a.a),c])}f.useHook=a}),null);
__d("MWInboxDetail.bs",["CometColumn.react","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MDSRow.react","MDSRowItem.react","MWChatConnectionStatusCard.bs","MWChatEphemeralMediaTemporarySeenState.bs","MWChatFocusComposerContext.bs","MWChatTabFocusHandler.bs","MWInboxHeader.bs","MWInboxInfo.bs","MWInboxPersistedUIState.bs","MWInboxSearchHeader.bs","MWLSInThreadBannerComponent.bs","MWLSNewMessageAnnouncementForScreenReaders.bs","MWTheme.bs","MWUseAriaLabelForThread.bs","MWV2Theme.bs","MWVisibleMessageContext.bs","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:11067","cr:12120","cr:12141","cr:12142","cr:920","react","stylex","useMatchMedia","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:12141")==null?void 0:b("bs_caml_option").some(b("cr:12141")),k=b("cr:12142")==null?void 0:b("bs_caml_option").some(b("cr:12142")),l={root:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",backgroundColor:"nred35xi",maxHeight:"gitj76qy",fontSize:"jq4qci2q"},header:{boxShadow:"t6p9ggj4",zIndex:"tkr6xdv7"},threadContainer:{maxHeight:"gitj76qy"},main:{display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},focusHandler:{display:"j83agx80",flexGrow:"buofh1pr"},info:{flexBasis:"kuivcneq",flexShrink:"g5gj957u",maxWidth:"f4tghd1a",minWidth:"ifue306u",borderStart:"t63ysoy8"},dropzone:{zIndex:"du4w35lb"}};function a(a){var c=a.thread,d=a.isConversationSearchVisible,e=a.setIsConversationSearchVisible;a=b("MWInboxPersistedUIState.bs").useHook(!0,"__MWInboxDetail.info__");var f=a[1];a=a[0];var g=b("usePrevious")(a),m=c.a,n=b("useMatchMedia")("(max-width: 900px)");i.useEffect(function(){b("bs_curry")._1(f,function(a){if(a)return!n;else return!1})},[n]);i.useEffect(function(){!(b("cr:12142")==null)&&!(b("cr:12141")==null)&&(!b("MAWGating.bs").isOccamadillo&&b("bs_curry")._1(k.isThreadId,m)?b("bs_curry")._1(j.setMostRecentSecureThreadKey,b("bs_int64").to_string(m)):b("bs_curry")._1(j.deleteMostRecentSecureThreadKey,void 0))},[JSON.stringify(m)]);var o=b("MWTheme.bs").useTheme(void 0),p=b("MWVisibleMessageContext.bs").useHook(void 0),q=i.useCallback(function(a){return b("bs_curry")._1(e,function(a){return!a})},[e]),r=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c),s=b("MWUseAriaLabelForThread.bs").useHook(c),t=i.useMemo(function(){return o._0.id},[o]);b("MWChatEphemeralMediaTemporarySeenState.bs").useEndSessionOnDismount(b("bs_int64").to_string(c.a));var u=i.jsxs(i.Fragment,{children:[b("cr:11067")==null?null:i.jsx(b("cr:11067").make,{thread:c}),b("cr:920")==null?null:i.jsx(b("cr:920").make,{thread:c})]});return i.jsx(b("MWChatFocusComposerContext.bs").provider,{children:i.jsxs(b("MWV2Theme.bs").make,{themeFbid:t,children:[i.jsx(b("CometColumn.react"),{expanding:!0,testid:"mw_inbox_detail",xstyle:[l.root],children:i.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,expanding:!0,spacing:0,xstyle:[l.threadContainer],children:[i.jsxs(b("MDSRowItem.react"),{expanding:!0,xstyle:[l.main],children:[i.jsxs("div",{className:(h||(h=b("stylex")))(l.header),children:[i.jsx(b("MWInboxHeader.bs").make,{thread:c,info:a,setInfo:f}),r?null:i.jsx(b("MWLSInThreadBannerComponent.bs").make,{})]}),d?i.jsx(b("MWInboxSearchHeader.bs").make,{thread:c,setVisibleMessage:p.setVisibleMessage,onClose:function(a){return b("bs_curry")._1(e,function(a){return!1})}}):null,i.jsx(b("MWChatConnectionStatusCard.bs").make,{}),i.jsx(b("MWChatTabFocusHandler.bs").make,{xstyle:l.focusHandler,children:b("cr:12120")==null?u:i.jsx(b("cr:12120").make,{children:u,isMediaOnly:!b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").filePicker,c),xstyle:l.dropzone})})]}),a?i.jsx(b("MDSRowItem.react"),{xstyle:[l.info],children:i.jsx(b("MWInboxInfo.bs").make,{thread:c,toggleSearch:q,disableInitialAutoFocus:b("bs_caml_obj").caml_notequal(g,!1)})}):null]}),role:"main","aria-label":s}),i.jsx(b("MWLSNewMessageAnnouncementForScreenReaders.bs").make,{thread:c})]})})}c=a;f.$MAWSessionStorage$requireCondXplat=b("cr:12141");f.$MAWThreadId$requireCondXplat=b("cr:12142");f.$MWV2FileDropzone$requireCond=b("cr:12120");f.$MWV2InboxThreadAndComposer$OR$null$requireCond=b("cr:920");f.$null$OR$MWInboxThreadAndComposer$requireCond=b("cr:11067");f.styles=l;f.make=c}),null);
__d("MWInboxDetailContainer.bs",["CometTransientDialogProvider.react","MWChatHotLikeEmitterContext.bs","MWInboxDetail.bs","MWLSTheme.bs","MWTheme.bs","MWV2ReplyContext.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.isConversationSearchVisible;a=a.setIsConversationSearchVisible;var e=b("MWLSTheme.bs").useTheme(c.a),f=h.useState(function(){}),g=f[1];f=f[0];var i=h.useCallback(function(a){return b("bs_curry")._1(g,function(a){})},[g]),j=h.useCallback(function(a){return b("bs_curry")._1(g,function(b){return a})},[g]);return h.jsx(b("MWTheme.bs").provider,{theme:f!==void 0?f:e,setTheme:j,clearTheme:i,children:h.jsx(b("CometTransientDialogProvider.react"),{children:h.jsx(b("MWChatHotLikeEmitterContext.bs").Provider.make,{children:h.jsx(b("MWV2ReplyContext.bs").make,{children:h.jsx(b("MWInboxDetail.bs").make,{thread:c,isConversationSearchVisible:d,setIsConversationSearchVisible:a})})})})})}c=a;f.make=c}),null);
__d("MWInboxDetailNullState.bs",["CometContentArea.react","TetraNullState.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.jsx(b("CometContentArea.react"),{hasNoRole:!0,verticalAlign:"middle",children:h.jsx(b("TetraNullState.react"),{headline:"Select a thread or start a new conversation"})})}c=a;f.make=c}),null);
__d("MWInboxActiveNowTrayContainerGK.bs",["CurrentEnvironment","cr:210","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){if(b("CurrentEnvironment").messengerdotcom&&!(b("cr:210")==null))return h.jsx(b("cr:210").make,{});else return null}c=a;f.$MWInboxActiveNowTrayContainer$requireCond=b("cr:210");f.make=c}),null);
__d("MWInboxLeftRailHeader.bs",["cr:1774123"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1774123").make;f.$MWMDSInboxLeftRailHeader$OR$MWTetraInboxLeftRailHeader$requireCond=b("cr:1774123");f.make=a}),null);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","useCometUniqueID","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a,b){var d=a.autoFocus;d=d===void 0?!1:d;var e=a.isDisabled;e=e===void 0?!1:e;var f=a.errorMessage;f=f===void 0?null:f;var g=a.inputStrategyRenderer,k=a.dataSource,l=a.dataSourceFetchConfigParams,m=a.decorators,n=m===void 0?[]:m;m=a.emptyEntries_DO_NOT_USE;var o=a.id,p=a.label;p=p===void 0?"":p;var q=a.loggingContext,r=a.onBackspace;r=r===void 0?c("emptyFunction"):r;var s=a.onBlur;s=s===void 0?c("emptyFunction"):s;var t=a.onChange,u=a.onClose,v=a.onEnter;v=v===void 0?c("emptyFunction"):v;var w=a.onEscape;w=w===void 0?c("emptyFunction"):w;var x=a.onFetchEntries_DO_NOT_USE,y=a.onFocus;y=y===void 0?c("emptyFunction"):y;var z=a.onOpen,A=a.onPressEntry,B=a.placeholder;B=B===void 0?"":B;var C=a.shouldQueryStringFollowHighlightedEntry,D=C===void 0?!0:C;C=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var E=C===void 0?!0:C;C=a.testid;C=C===void 0?"":C;C=a.traceProvider;var F=a.viewRole;F=F===void 0?"listbox":F;var G=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer"]);var H=c("useCometUniqueID")(),I=j(function(){var a=c("CometInternalTypeahead.react");n.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[n]),J=i(function(a){E&&t(a.getLabel()),A&&A(a)},[t,A,E]),K=j(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(g,{shouldQueryStringFollowHighlightedEntry:D})},[g,D]);p=p||B;return h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:m,onClose:u,onOpen:z,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:k,dataSourceFetchConfigParams:l,loggingContext:q,onFetchEntries_DO_NOT_USE:x,traceProvider:C,children:h.jsx(I,babelHelpers["extends"]({},a,{autoFocus:d,errorMessage:f,id:(m=o)!=null?m:H,inputStrategyRenderer:K,isDisabled:e,label:p,onBackspace:r,onBlur:s,onChange:t,onDownArrow:c("emptyFunction"),onEnter:v,onEscape:w,onFocus:y,onHighlightEntry:c("emptyFunction"),onPressEntry:J,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:B,ref:b,testid:void 0,viewRole:F,viewStrategyRenderer:G}))})})})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("MWInboxLeftRailSearchSubscriptionTypeahead.react",["fbt","BaseSubscriptionTypeahead.react","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","CometTypeaheadLayoutContextualStrategy.react","CurrentEnvironment","MAWGating.re","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes.re","MWLSThreadDisplayContext.re","ReStore.re","createMWJewelSearchTypeaheadViewStrategy.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useState,m={searchInput:{marginTop:"aov4n071",marginEnd:"cxmmr5t8",marginBottom:"bi6gxh9e",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"hv4rvrfc",paddingBottom:"qt6c0cv9",paddingStart:"dati1w0a"},searchView:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"mvk8q8v6",display:"j83agx80"},viewListScrollViewComet:{maxHeight:"myfkfw0p"},viewListScrollViewMessenger:{maxHeight:"jthcvt0l"},viewStrategyXStyleComet:{minHeight:"gv4m6ohy"},viewStrategyXStyleMessenger:{minHeight:"l6zosc7o"}},n=c("createMWJewelSearchTypeaheadViewStrategy.react")(d("CurrentEnvironment").messengerdotcom?m.viewListScrollViewMessenger:m.viewListScrollViewComet);function a(a){var b=a.onBlur,e=a.onChange,f=a.onFocus,g=a.onPressEntry,o=a.testid;o=babelHelpers.objectWithoutPropertiesLoose(a,["onBlur","onChange","onFocus","onPressEntry","testid"]);a=l(!1);var p=a[0],q=a[1],r=d("ReStore.re").useHook(),s=c("MWLSThreadDisplayContext.re").useHook();a=k(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:r,excludedIDs:[],includeRecommendations:!0,includeThreadSearch:s==="Inbox"&&c("gkx")("1902857"),lightspeedSupportedTypes:c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes,source:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal})},[r,s]);var t=j(function(){q(!1),e("")},[e]),u=j(function(){q(!0)},[]);return i.jsx(c("BaseSubscriptionTypeahead.react"),{dataSource:a,dataSourceFetchConfigParams:d("MAWGating.re").isArmadillo()?{requestFlow:"network-upon-approve"}:void 0,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputStartContent:p?i.jsx(c("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:c("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingContext:"messenger_jewel",onBlur:b,onChange:e,onClose:t,onFocus:f,onOpen:u,onPressEntry:g,placeholder:h._(/*FBT_CALL*/"\u641c\u5c0b Messenger"/*FBT_CALL*/),queryString:o.queryString,testid:void 0,viewStrategyRenderer:n,xstyles:{inputXStyle:m.searchInput,viewXStyle_DO_NOT_USE:[m.searchView,d("CurrentEnvironment").messengerdotcom?m.viewStrategyXStyleMessenger:m.viewStrategyXStyleComet]}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxLeftRailSearchSubscriptionTypeahead.bs",["MWInboxLeftRailSearchSubscriptionTypeahead.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWInboxLeftRailSearchSubscriptionTypeahead.react");f.make=a}),null);
__d("MWInboxLeftRailSearch.bs",["FBID.bs","LSThreadAttributionStore.bs","MWInboxLeftRailSearchSubscriptionTypeahead.bs","MWInboxRouteBuilder.bs","MWLSUseSyncRankings.bs","bs_curry","promiseDone","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.searchMessagesClicked;a=a.testid;var d=h.useState(function(){return""}),e=d[1],f=b("useCometRouterDispatcher")(),g=function(a){b("bs_curry")._1(e,function(a){return""});if(f==null)return;a=a.getRawData();var d=a.id;if(a.resultType==="messages")return b("bs_curry")._1(c,d);b("LSThreadAttributionStore.bs").setSource(d,"inboxSearch");a=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("FBID.bs").ofStringExn(d)});f.go(a)},i=b("MWLSUseSyncRankings.bs").useHook(void 0);g={onBlur:function(a){},onChange:function(a){return b("bs_curry")._1(e,function(b){return a})},onFocus:function(a){a=b("bs_curry")._1(i,void 0);b("promiseDone")(a,void 0,void 0)},onPressEntry:g,queryString:d[0]};a!==void 0&&(g.testid=a);return h.jsx(b("MWInboxLeftRailSearchSubscriptionTypeahead.bs").make,g)}c=a;f.make=c}),null);
__d("MWInboxSelectedThread.bs",["MWInboxProvider.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("MWInboxProvider.bs").context);a=a.inboxState;if(typeof a==="number")return;a=a._0;if(a!==void 0&&typeof a!=="number")return a._0}f.useHook=a}),null);
__d("MWQuickPromotionThreadlistBanner.entrypoint",["JSResourceForInteraction","MWQuickPromotionThreadlistBannerQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{bannerQueryRef:{parameters:c("MWQuickPromotionThreadlistBannerQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWQuickPromotionThreadlistBanner.react").__setRef("MWQuickPromotionThreadlistBanner.entrypoint")};b=a;g["default"]=b}),98);
__d("MWQuickPromotionThreadlistBannerContainer.react",["MWQuickPromotionThreadlistBanner.entrypoint","RelayHooks","react","useCometRelayEntrypointContextualEnvironmentProvider","useEffectOnce"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometRelayEntrypointContextualEnvironmentProvider")();a=d("RelayHooks").useEntryPointLoader(a,c("MWQuickPromotionThreadlistBanner.entrypoint"));var b=a[0],e=a[1],f=a[2];c("useEffectOnce")(function(){e({});return function(){return f()}});return b?h.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:b,props:{}}):null}g["default"]=a}),98);
__d("MWInboxMasterView.bs",["MWInboxProvider.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useContext(b("MWInboxProvider.bs").context).inboxState}f.useHook=a}),null);
__d("MWThreadListNewMessageState.bs",["react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");d=[];var i={isActive:!1,entries:d},j=h.createContext(i),k=h.createContext(void 0);function l(a,b){if(typeof b==="number")if(b===0||a.entries.length===0)return i;else return a;else if(b.TAG===0)return{isActive:b._0,entries:a.entries};else return{isActive:a.isActive,entries:b._0}}function a(a){var b=a.children;a=a.defaultState;a=a!==void 0?a:i;a=h.useReducer(l,a);return h.createElement(j.Provider,{value:a[0],children:h.createElement(k.Provider,{value:a[1],children:b})})}e={make:a};function c(a){a=h.useContext(k);if(a!==void 0)return a;else return b("unrecoverableViolation")("Tried to get the dispatch function for MWThreadListNewMessageState but none was found. Missing provider (MWThreadListNewMessageState)","messenger_web_product")}f.empty=i;f.context=j;f.dispatchContext=k;f.reducer=l;f.Provider=e;f.useDispatch=c}),null);
__d("MWThreadListNewMessage.bs",["fbt","ix","CometFacepilePhoto.react","CometTextWithEntities.react","CurrentEnvironment","FBID.bs","FocusWithinHandler.react","LSMessagingThreadTypeUtil.bs","LsSystemFolder.bs","MAWGating.bs","MDSListCell.react","MDSText.react","MWChatTextTransform.bs","MWInboxMasterView.bs","MWInboxRouteBuilder.bs","MWLSThreadIsUnread.bs","MWPThreadsForThreadList.bs","MWThreadListFocusableTable.react","MWThreadListNewMessageState.bs","MWThreadListSupportedThreadTypes.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReStore.bs","TetraCircleButton.react","TetraProfilePhoto.react","bs_caml","bs_caml_option","bs_curry","bs_int64","fbicon","intlList","react","stylex","useCometRouterDispatcher","useMatchMedia"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={container:{paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr",position:"l9j0dhe7"},xButtonContainer:{opacity:"b5wmifdl",position:"pmk7jnqg",end:"ktjju0rq",top:"rk01pc8j",transform:"ke6wolob"},xButtonContainerVisible:{opacity:"pedkr2u6"}};function m(a){if(a.length===0)return g._(/*FBT_CALL*/"\u65b0\u8a0a\u606f"/*FBT_CALL*/).toString();a=b("intlList")(a,b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._(/*FBT_CALL*/"\u7d66{participant list}\u7684\u65b0\u8a0a\u606f"/*FBT_CALL*/,[g._param("participant list",a)]).toString()}var n=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildNewThreadURL,{});function o(a){a=a.images;if(a.length===0)return k.jsx(b("TetraProfilePhoto.react"),{alt:"",size:function(){switch(b("MAWGating.bs").isArmadillo(void 0)&&b("CurrentEnvironment").messengerdotcom?"s_48":"s_56"){case"s_16":return 16;case"s_24":return 24;case"s_28":return 28;case"s_32":return 32;case"s_36":return 36;case"s_40":return 40;case"s_48":return 48;case"s_56":return 56;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80;case"s_88":return 88;case"s_96":return 96;case"s_100":return 100;case"s_132":return 132;case"s_168":return 168}}(),source:{uri:"/images/mercury/clients/messenger/threadlist/NewMessage.png"}});else return k.jsx(b("CometFacepilePhoto.react"),{sources:a.map(function(a){return{alt:"",disabled:!1,source:a}}),size:function(){switch(b("MAWGating.bs").isArmadillo(void 0)&&b("CurrentEnvironment").messengerdotcom?"s_48":"s_56"){case"s_32":return 32;case"s_36":return 36;case"s_40":return 40;case"s_44":return 44;case"s_48":return 48;case"s_56":return 56;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80}}(),totalItems:a.length})}c={make:o};function a(a){var c=a.entries;a=k.useMemo(function(){return m(c.map(function(a){return a.getRawData().displayName}))},[c]);var d=k.useMemo(function(){return c.slice(0,2).map(function(a){return a.getRawData().imageUrl})},[c]),e=b("useMatchMedia")("(min-width: 900px)"),f=b("MWInboxMasterView.bs").useHook(void 0),i;if(typeof f==="number")i=!1;else{f=f._0;i=f!==void 0?f===0:!1}f=k.useMemo(function(){if(i)return;else return{url:n}},[i]);var p=k.useState(function(){return!1}),q=p[1],r=k.useState(function(){return!1}),s=r[1],t=function(a){return b("bs_curry")._1(q,function(a){return!0})},u=function(a){return b("bs_curry")._1(q,function(a){return!1})},v=b("useCometRouterDispatcher")(),w=b("MWThreadListNewMessageState.bs").useDispatch(void 0),x=b("ReStore.bs").useHook(void 0),y=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").filter(b("MWPThreadsForThreadList.bs").createIterable(x,b("LsSystemFolder.bs").inbox),function(a){if(!b("MWLSThreadIsUnread.bs").isThreadUnread(a)&&b("bs_caml").i64_neq(a.c,b("MessagingThreadType.bs").folder)&&!b("LSMessagingThreadTypeUtil.bs").isGroup(a.c))return b("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(c){return b("bs_caml").i64_eq(a.c,c)})!==-1;else return!1})},[x])),z=y!==void 0,A=k.useCallback(function(a){b("bs_curry")._1(w,0);if(!i)return;if(v==null)return;if(y===void 0)return;a=b("FBID.bs").ofStringExn(b("bs_int64").to_string(y.a));a=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:a});v.go(a)},[w,v,i,y]);d={addOnStart:k.jsx(o,{images:d}),content:e?k.jsx(b("MDSText.react"),{color:"primary",type:b("CurrentEnvironment").messengerdotcom?"headline4":"body3",numberOfLines:1,children:k.jsx(b("CometTextWithEntities.react"),{text:a,transforms:b("MWChatTextTransform.bs").epdTextTransforms})}):null,selected:i,size:"large"};f!==void 0&&(d.linkProps_=b("bs_caml_option").valFromOption(f));return k.jsx(b("FocusWithinHandler.react"),{onFocusChange:function(a){return b("bs_curry")._1(s,function(b){return a})},children:k.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.container),role:"row",onMouseEnter:t,onMouseLeave:u,children:[k.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:k.jsx("div",{role:"gridcell",children:k.jsx(b("MDSListCell.react"),d)})}),z?k.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:k.jsx("div",{role:"gridcell",className:(j||(j=b("stylex")))(l.xButtonContainer,r[0]||p[0]?l.xButtonContainerVisible:!1),children:k.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(h("478231"),12),label:g._(/*FBT_CALL*/"\u522a\u9664\u8a0a\u606f\u8349\u7a3f"/*FBT_CALL*/),onPress:A,size:24,focusable:!0})})}):null]})})})}d=a;f.styles=l;f.createTitle=m;f.newThreadUrl=n;f.ThreadProfilePicture=c;f.make=d}),null);
__d("MWThreadSearchResults.bs",["fbt","CometInfiniteScrollTrigger.react","CometScrollView.react","CometTextWithEntities.react","CometTopNavListDropdown.react","FBID.bs","ImmutableArray.bs","LS.bs","LSClearMessageSearchTable","LSIssueMessageSearchQuery","LSMessageSearchType.bs","LSSearchRequestStatusType.bs","LSTransaction.bs","MDSText.react","MWChatTextTransform.bs","MWInboxRouteBuilder.bs","MWThreadAddOnPrimary.bs","MWThreadListFocusableTable.react","MWThreadListGlimmer.bs","MWThreadListLastMessage.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraListCell.react","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.query,d=a.clearSearchResultsAndHidePage,e=a.selectedThreadKey,f=a.setIsConversationSearchVisible,h=b("ReStore.bs").useHook(void 0),j=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"message_search_results").asc,{hd:b("LSMessageSearchType.bs").thread,tl:{hd:c,tl:0}})},[h,c]));a=i.useState(function(){return[]});var k=a[1];i.useEffect(function(){b("bs_curry")._1(k,function(a){return Array.from(new Map(j.map(function(a){return[JSON.stringify(a.c),a]})).values()).sort(function(a,c){if(b("bs_caml").i64_gt(a.b,c.b))return 1;else if(b("bs_caml").i64_lt(a.b,c.b))return-1;else return 0})})},[j,k]);var l=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"message_search_queries").asc,{hd:b("LSMessageSearchType.bs").thread,tl:{hd:c,tl:0}})},[h,c])),m=function(a){b("promiseDone")(b("LSTransaction.bs").run(h,function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),function(a){b("bs_curry")._1(f,function(a){return!1});return b("bs_curry")._1(d,void 0)})};i.useEffect(function(){l===void 0&&b("bs_curry")._1(d,void 0)},[l,d]);var n=i.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(h,function(a){return b("LSIssueMessageSearchQuery")(c,b("LSMessageSearchType.bs").thread,void 0,b("bs_belt_Option").getExn(b("bs_belt_Option").getExn(l).f),b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)},[h,l,c]);return i.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[i.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],onReturn:m,title:g._(/*FBT_CALL*/"\u641c\u5c0b\u7d50\u679c"/*FBT_CALL*/)}),i.jsx("div",{children:i.jsxs(b("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:[i.jsx("div",{role:"grid",children:a[0].map(function(a){var c=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.c))}),d=a.m;d=b("MWThreadAddOnPrimary.bs").get(b("ImmutableArray.bs").fromArray(d!==void 0?[a.l,d]:[a.l]),void 0,!1,56,void 0);var f=i.jsx(b("MDSText.react"),{color:"primary",type:"body3",numberOfLines:1,children:i.jsx(b("CometTextWithEntities.react"),{text:a.h,transforms:b("MWChatTextTransform.bs").epdTextTransforms})});f={body:i.jsx(b("MWThreadListLastMessage.bs").make,{hasOngoingCall:!1,lastMessageTimestamp:b("bs_belt_Option").map(a.g,b("bs_caml_int64").to_float),snippet:b("bs_belt_Option").getWithDefault(a.i,""),isUnread:!1}),headline:f,bodyLineLimit:1,headlineLineLimit:1,level:4,linkProps:{url:c},selected:b("bs_caml_obj").caml_equal(e,a.c)};d!==void 0&&(f.addOnPrimary=b("bs_caml_option").valFromOption(d));return i.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:i.jsx("div",{role:"row",children:i.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:i.jsx("div",{role:"gridcell",children:i.jsx(b("TetraListCell.react"),f)})})})},b("bs_belt_Option").getExn(JSON.stringify(a.c)))})}),i.jsxs(b("CometInfiniteScrollTrigger.react"),{hasMore:b("bs_belt_Option").mapWithDefault(l,!1,function(a){return b("bs_belt_Option").getWithDefault(a.e,!1)}),isLoading:b("bs_belt_Option").mapWithDefault(l,!0,function(a){return b("bs_caml").i64_neq(a.d,b("LSSearchRequestStatusType.bs").complete)}),onLoadMore:n,children:[i.jsx(b("MWThreadListGlimmer.bs").make,{}),i.jsx(b("MWThreadListGlimmer.bs").make,{})]})]})})]})}c=a;f.make=c}),null);
__d("MWInboxLeftRail.bs",["fbt","CometErrorBoundary.re","CometLeftRailComponent.react","CometPlaceholder.react","CometScrollView.react","CometTopNavListDropdown.react","CometTransientDialogProvider.react","LS.bs","LSClearMessageSearchTable","LSClearTables","LSIssueMessageSearchQuery","LSMessageSearchType.bs","LSTransaction.bs","Locale","LsMessageRequestsEntryPoint.bs","LsSystemFolder.bs","MAWGating.bs","MDSText.react","MWChatContactsContainer.react","MWInboxActiveNowTrayContainerGK.bs","MWInboxLeftRailHeader.bs","MWInboxLeftRailSearch.bs","MWInboxSelectedThread.bs","MWLSActor.bs","MWLSJewelLoadMoreThreads.bs","MWQuickPromotionThreadlistBannerContainer.react","MWRestrictedAccountsList.bs","MWThreadList.bs","MWThreadListNewMessage.bs","MWThreadListNewMessageState.bs","MWThreadSearchResults.bs","MessageRequestsLog.bs","MessengerThreadlistFooterDesktopAppLink.bs","MessengerThreadlistFooterOpenInAppLink.bs","MessengerWebEntryPoint","Promise","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:11875","cr:4097","cr:438","gkx","promiseDone","react","recoverableViolation","requestAnimationFrame","stylex","useDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("Locale").isRTL(),l={header:{"@media (max-width: 900px)":{display:"ahb00how"}},page:{position:"pmk7jnqg",opacity:"b5wmifdl",transitionDuration:"ms05siws",transitionProperty:"pnx7fd3z",transitionTimingFunction:"b7h9ocf4",width:"k4urcfbm",height:"datstx6m",display:"j83agx80"},pageHidden:{visibility:"kr9hpln1"},pageVisible:{opacity:"pedkr2u6"},root:{backgroundColor:"hybvsw6c",borderEnd:"hop1g133",outline:"lzcic4wl",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm",height:"datstx6m"},rootWithAnimations:{transform:"h3qk65th",transitionDuration:"ms05siws",transitionProperty:"s48hqc9n",transitionTimingFunction:"b7h9ocf4"},infoBox:{marginTop:"qjjbsfad",marginEnd:"cxmmr5t8",marginBottom:"w0hvl6rk",marginStart:"hcukyx3x",paddingTop:"pybr56ya",paddingEnd:"oj5qckz4",paddingBottom:"f10w8fjw",paddingStart:"lb8aey2d"}},m=b("cr:4097")==null?void 0:b("bs_caml_option").some(b("cr:4097"));function n(a){var c=a.hidePage,d=a.info,e=a.parentThreadKey,f=a.title,g=a.onOpenSpamMessages;a=a.entryPoint;var h=b("MWInboxSelectedThread.bs").useHook(void 0);e={parentThreadKey:e,searchTypeahead:void 0,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,responsive:!0,lsEntryPoint:a,gridLabel:f};g!==void 0&&(e.onOpenSpamMessages=b("bs_caml_option").valFromOption(g));h!==void 0&&(e.selectedThreadKey=h);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],onReturn:c,title:f}),d!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(l.infoBox),children:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:b("bs_caml_option").valFromOption(d)})}):null,j.jsx(b("MWThreadList.bs").make,e)]})}c={make:n};function o(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").other,title:g._(/*FBT_CALL*/"\u5783\u573e\u8a0a\u606f"/*FBT_CALL*/),entryPoint:"inboxSpam"})}d={make:o};function p(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").mplace,title:g._(/*FBT_CALL*/"Marketplace"/*FBT_CALL*/),entryPoint:"inboxFolder"})}e={make:p};function q(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").jobs,title:g._(/*FBT_CALL*/"\u5de5\u4f5c\u6a5f\u6703"/*FBT_CALL*/),entryPoint:"inboxFolder"})}var r={make:q};function s(a){var c=a.hidePage,d=a.pushPage,e=b("MWLSJewelLoadMoreThreads.bs").useLoadSpamThreads(void 0);a=g._(/*FBT_CALL*/"\u958b\u555f\u8981\u6c42\u5373\u53ef\u53d6\u5f97\u6709\u95dc\u8a0a\u606f\u5bc4\u4ef6\u8005\u7684\u8cc7\u6599\u3002\u5728\u4f60\u56de\u8986\u4e4b\u524d\uff0c\u4ed6\u5011\u90fd\u4e0d\u6703\u77e5\u9053\u4f60\u5df2\u770b\u904e\u4ed6\u5011\u7684\u8a0a\u606f\u3002"/*FBT_CALL*/);var f=g._(/*FBT_CALL*/"\u964c\u751f\u8a0a\u606f"/*FBT_CALL*/),h=b("MAWGating.bs").wellBeingFeaturesEnabled(void 0);return!(b("cr:438")==null)&&h?j.jsx(b("cr:438").make,{hidePage:c,info:a,parentThreadKey:b("LsSystemFolder.bs").pending,title:f,entryPoint:"inboxPendingRequests"}):j.jsx(n,{hidePage:c,info:a,parentThreadKey:b("LsSystemFolder.bs").pending,title:f,onOpenSpamMessages:function(a){b("MessageRequestsLog.bs").logMessageRequestsView(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").pendingRequests),b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other));b("bs_curry")._1(e,void 0);return b("bs_curry")._1(d,o)},entryPoint:"inboxPendingRequests"})}var t={make:s};function u(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook(void 0);return j.jsx(b("MWRestrictedAccountsList.bs").make,{hidePage:a,onClose:function(a){},selectedThreadKey:c})}var v={make:u};function w(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").archived,title:g._(/*FBT_CALL*/"\u5c01\u5b58\u7684\u804a\u5929\u5ba4"/*FBT_CALL*/),entryPoint:"inboxArchived"})}var x={make:w};function y(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook(void 0),d={preventLocalNavigation:!1,showCount:!0,entryPoint:"inboxActiveContacts"};c=b("bs_belt_Option").map(c,b("bs_int64").to_string);c!==void 0&&(d.selectedThreadKey=c);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],onReturn:a,title:g._(/*FBT_CALL*/"\u7528\u6236"/*FBT_CALL*/)}),j.jsx(b("MWChatContactsContainer.react"),d)]})}var z={make:y};function A(a){var c=a.hidePage,d=a.query;a=a.setIsConversationSearchVisible;var e=b("ReStore.bs").useHook(void 0),f=b("MWInboxSelectedThread.bs").useHook(void 0),g=j.useRef(!1),h=j.useCallback(function(a){if(!g.current){g.current=!0;b("promiseDone")(b("LSTransaction.bs").run(e,function(a){var c=b("bs_curry")._1(b("LS.bs").make,a);return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),c);return}},[e,c]);return j.jsx(b("MWThreadSearchResults.bs").make,{query:d,clearSearchResultsAndHidePage:h,selectedThreadKey:f,setIsConversationSearchVisible:a})}var B={make:A};function a(a){var c=a.setIsConversationSearchVisible,d=b("MWLSActor.bs").useActor(void 0),e=b("MWLSJewelLoadMoreThreads.bs").useHook(b("LsSystemFolder.bs").archived),f=b("MWInboxSelectedThread.bs").useHook(void 0);a=j.useState(function(){return!1});var h=a[1],n=a[0];a=j.useState(function(){return[]});var o=a[1];a=a[0];var r=j.useState(function(){return 0}),t=r[1],v=r[0];r=j.useCallback(function(a){return b("bs_curry")._1(h,function(a){return!1})},[]);var x=b("ReStore.bs").useHook(void 0),z=b("useDebounced")(j.useCallback(function(a){b("requestAnimationFrame")(function(c){b("bs_curry")._1(h,function(a){return!0});return b("bs_curry")._1(t,function(c){b("bs_curry")._1(o,function(b){return b.slice(0,c).concat([a])});return c+1|0})})},[h,t,o]),350,!0),B=j.useCallback(function(a){b("requestAnimationFrame")(function(a){if(v<1){b("recoverableViolation")("Attempting to close a page that does not exist anymore.","messenger_comet");return}else{b("bs_curry")._1(h,function(a){return!0});return b("bs_curry")._1(t,function(a){return a-1|0})}})},[a,v,h,t]),C=j.useCallback(function(a){return b("bs_curry")._1(z,s)},[z]),D=j.useCallback(function(a){return b("bs_curry")._1(z,u)},[z]),E=j.useCallback(function(a){if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").jobs))return b("bs_curry")._1(z,q);else if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").mplace))return b("bs_curry")._1(z,p);else{b("recoverableViolation")("Attempted to show an unimplemented nested system folder","messenger_web_product");return}},[z]),F=j.useCallback(function(a){e();return b("bs_curry")._1(z,w)},[e,z]),G=j.useCallback(function(a){return b("bs_curry")._1(z,y)},[z]),H=j.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(x,function(c){var d=b("bs_curry")._1(b("LS.bs").make,c);return b("LSClearTables")(d).then(function(c){return b("LSIssueMessageSearchQuery")(a,b("LSMessageSearchType.bs").thread,void 0,void 0,d)})},"readWrite").then(function(c){if(b("cr:11875")==null)return b("Promise").resolve(void 0);else return b("bs_curry")._3(b("cr:11875").searchSecureDatabaseThreads,a,d,x)}),function(d){b("bs_curry")._1(z,function(b){return A({hidePage:b.hidePage,query:a,setIsConversationSearchVisible:c})});return b("bs_curry")._1(c,function(a){return!0})},function(a){b("recoverableViolation")("Error performing search","messenger_web_product",{error:a.Error})})},[x,f,z,c,d]);j.useEffect(function(){return function(a){b("promiseDone")(b("LSTransaction.bs").run(x,function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)}},[x]);var I=j.useContext(b("MWThreadListNewMessageState.bs").context),J=I.isActive?j.jsx(b("MWThreadListNewMessage.bs").make,{entries:I.entries}):null;I=j.useMemo(function(){return j.jsx(b("MWInboxLeftRailHeader.bs").make,{xstyle:l.header,showMessageRequests:C,showHidden:F,showActiveContacts:G,showRestrictedAccounts:D})},[C,F,G,D]);var K=j.useMemo(function(){return j.jsxs(j.Fragment,{children:[j.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:j.jsx(b("MWQuickPromotionThreadlistBannerContainer.react"),{})}),j.jsx(b("MWInboxLeftRailSearch.bs").make,{searchMessagesClicked:H,testid:"mw-search-bar"})]})},[H]),L=j.useMemo(function(){var a={parentThreadKey:b("LsSystemFolder.bs").inbox,searchTypeahead:void 0,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,onClose:function(a){},responsive:!0,preamble:J,lsEntryPoint:"inboxThreadList",onClickNestedFolderThread:E,gridLabel:g._(/*FBT_CALL*/"\u804a\u5929\u5ba4"/*FBT_CALL*/)};f!==void 0&&(a.selectedThreadKey=f);return j.jsxs(b("CometPlaceholder.react"),{children:[j.jsx(b("MWInboxActiveNowTrayContainerGK.bs").make,{}),j.jsx(b("MWThreadList.bs").make,a)],fallback:null})},[J,f,E]);I=j.jsxs(j.Fragment,{children:[j.jsx("div",{style:{transform:"translateX("+(String(Math.imul(k?1:-1,v))+"00%) translateZ(1px)")},className:(i||(i=b("stylex")))(l.page,!n&&v!==0?l.pageHidden:!1,v===0?l.pageVisible:!1),children:j.jsx(b("CometLeftRailComponent.react"),{footer:b("gkx")("1817606")?j.createElement(b("MessengerThreadlistFooterDesktopAppLink.bs").make,{}):b("gkx")("1732")?j.createElement(b("MessengerThreadlistFooterOpenInAppLink.bs").make,{}):null,header:I,primaryNav:L,search:K,isCometLeftRailInDialog:!0})}),a.map(function(a,c){return j.jsx("div",{style:{transform:"translateX("+(String(Math.imul(k?1:-1,(v-c|0)-1|0))+"00%) translateZ(1px)")},className:(i||(i=b("stylex")))(l.page,!n&&v!==(c+1|0)?l.pageHidden:!1,v===(c+1|0)?l.pageVisible:!1),children:j.createElement(a,{hidePage:B,pushPage:z})},String(c))})]});return j.jsx(b("CometTransientDialogProvider.react"),{children:j.jsx("div",{className:i(l.root,n?l.rootWithAnimations:!1),onTransitionEnd:r,children:b("cr:4097")==null?I:j.jsx(m.make,{children:I,activeIndex:v})})})}var C=b("cr:11875");a=a;f.styles=l;f.$MWThreadListKeyCommandContext$OR$null$requireCond=b("cr:4097");f.$MWInboxSecureContentSearch$requireCond=b("cr:11875");f.mWInboxSecureContentSearch=C;f.ThreadListPage=c;f.Spam=d;f.Marketplace=e;f.Jobs=r;f.$MAWRequestAndSpamThreadListPage$requireCond=b("cr:438");f.MessageRequests=t;f.RestrictedAccounts=v;f.Hidden=x;f.ActiveContacts=z;f.ThreadSearchResults=B;f.make=a}),null);
__d("MWInboxLeftRailHeaderIcons.bs",["cr:1734106"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1734106").Settings;c=b("cr:1734106").Compose;f.$MDSInboxLeftRailHeaderIcons$OR$TetraInboxLeftRailHeaderIcons$requireCond=b("cr:1734106");f.Settings=a;f.Compose=c}),null);
__d("MWInboxSettingsMenuButton.bs",["CometDeferredPopoverTrigger.react","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWInboxSettingsMenu.react").__setRef("MWInboxSettingsMenuButton.bs");function a(a){var c=a.children,d=a.showMessageRequests,e=a.showHidden,f=a.showActiveContacts;a=a.showRestrictedAccounts;return h.jsx(b("CometDeferredPopoverTrigger.react"),{popoverResource:i,popoverProps:{showMessageRequests:d,showHidden:e,showActiveContacts:f,showRestrictedAccounts:a},align:"start",position:"below",children:c})}c=a;f.mwInboxSettingsMenu=i;f.make=c}),null);
__d("MeetupExperiments",["RTWebIncomingRingConfiguration","ZenonSignalingProtocol","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!(c("gkx")("1224637")||c("gkx")("1443572"))}function b(){return c("gkx")("1456547")}function e(){return d("RTWebIncomingRingConfiguration").isSupportedClientForProtocol(c("ZenonSignalingProtocol").MW)&&c("gkx")("1545140")}g.sendCreatorNotifications=a;g.supportJoinerWaitingLobby=b;g.supportLinkCreation=e}),98);
__d("MWInboxLeftRailHeaderAuxiliary.bs",["fbt","MWInboxLeftRailHeaderIcons.bs","MWInboxRouteBuilder.bs","MWInboxSettingsMenuButton.bs","MeetupExperiments","MessengerLSCreateVideoCallLink.react","TetraCircleButton.react","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={button:{marginStart:"ozuftl9m"}},l=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildNewThreadURL,{}),m=b("MessengerLSCreateVideoCallLink.react");c={make:m};function a(a){var c=a.showMessageRequests,d=a.showHidden,e=a.showActiveContacts;a=a.showRestrictedAccounts;return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(b("MWInboxSettingsMenuButton.bs").make,{children:function(a,c){return j.jsx(b("TetraCircleButton.react"),{color:"primary",icon:b("MWInboxLeftRailHeaderIcons.bs").Settings.icon,label:g._(/*FBT_CALL*/"\u8a2d\u5b9a\u3001\u4f7f\u7528\u8aaa\u660e\u548c\u5176\u4ed6\u5167\u5bb9"/*FBT_CALL*/),onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a,size:36,testid:"skytale-settings-button"})},showMessageRequests:c,showHidden:d,showActiveContacts:e,showRestrictedAccounts:a})}),b("MeetupExperiments").supportLinkCreation()?j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(m,{})}):null,j.jsx("div",{className:i(k.button),children:j.jsx(b("TetraCircleButton.react"),{color:"primary",icon:b("MWInboxLeftRailHeaderIcons.bs").Compose.icon,label:g._(/*FBT_CALL*/"\u65b0\u8a0a\u606f\uff01"/*FBT_CALL*/),size:36,testid:"skytale-new-thread-button",linkProps:{url:l}})})]})}d=a;f.styles=k;f.newThreadUrl=l;f.MessengerLSCreateVideoCallLink=c;f.make=d}),null);
__d("MWInboxNewMessage.bs",["cr:12127"],(function(a,b,c,d,e,f){"use strict";a=b("cr:12127").make;f.$MWV2InboxNewMessage$OR$MWV1InboxNewMessage$requireCond=b("cr:12127");f.make=a}),null);
__d("MWInboxThreadViewContexts.bs",["FBID.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","MWV2ThreadIsPage.bs","MessagingThreadType.bs","bs_caml","bs_int64","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.children;var d=c.a,e=h.useMemo(function(){var a=b("FBID.bs").ofStringExn(b("bs_int64").to_string(d));if(c.J)return{NAME:"Page",VAL:a};var e=c.c,f=c.L;if(f!==void 0&&b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne)&&b("bs_caml").i64_eq(f,[0,4]))return{NAME:"Page",VAL:a};if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne))return{NAME:"User",VAL:a};else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").marketplace)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").communityGroup)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").communityGroupUnjoined)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").room))return{NAME:"Group",VAL:a};else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").secureMessageOverWaGroup)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").secureMessageOverWaOneToOne))return{NAME:"User",VAL:a};else return b("unrecoverableViolation")("Unknown thread type","comet_messenger")},[JSON.stringify(d),JSON.stringify(c.c),JSON.stringify(c.L),JSON.stringify(c.J)]);return h.jsx(b("MWThread_DEPRECATED.bs").make,{id:e,children:h.jsx(b("MWV2ThreadIsPage.bs").make,{thread:c,children:h.jsx(b("MWThreadKey.bs").make,{id:d,children:h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:{_0:e},children:h.jsx(h.Suspense,{children:a,fallback:null})})})})})}c=a;f.make=c}),null);
__d("MWInboxMaster.bs",["LS.bs","LSTransaction.bs","LSVerifyThreadRowExists","MWInboxDetailContainer.bs","MWInboxDetailNullState.bs","MWInboxMasterView.bs","MWInboxNewMessage.bs","MWInboxThreadViewContexts.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_curry","promiseDone","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.threadKey,d=a.isConversationSearchVisible;a=a.setIsConversationSearchVisible;var e=b("ReStore.bs").useHook(void 0),f=h.useCallback(function(a){return b("LSTransaction.bs").run(e,function(c){return b("LSVerifyThreadRowExists")(a,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite")},[e]);h.useEffect(function(){b("promiseDone")(b("bs_curry")._1(f,c),void 0,void 0)},[JSON.stringify(c)]);var g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"threads").asc,{hd:c,tl:0})},[e,JSON.stringify(c)]));if(g!==void 0)return h.jsx(b("MWInboxThreadViewContexts.bs").make,{thread:g,children:h.jsx(b("MWInboxDetailContainer.bs").make,{thread:g,isConversationSearchVisible:d,setIsConversationSearchVisible:a})});else return null}c={make:i};function a(a){var c=a.isConversationSearchVisible;a=a.setIsConversationSearchVisible;var d=b("MWInboxMasterView.bs").useHook(void 0);if(typeof d==="number")if(d!==0)return b("unrecoverableViolation")("Unimplemented master view","messenger_comet");else return h.jsx(b("MWInboxDetailNullState.bs").make,{});d=d._0;if(d===void 0)return h.jsx(b("MWInboxDetailNullState.bs").make,{});if(typeof d==="number")if(d===0)return h.jsx(b("MWInboxNewMessage.bs").make,{});else return b("unrecoverableViolation")("Unimplemented master view","messenger_comet");if(d.TAG!==0)return b("unrecoverableViolation")("Unimplemented master view","messenger_comet");d=d._0;return h.jsx(i,{threadKey:d,isConversationSearchVisible:c,setIsConversationSearchVisible:a},b("bs_belt_Option").getWithDefault(JSON.stringify(d),""))}d=a;f.ThreadViewContainer=c;f.make=d}),null);
__d("MWInboxRoot.bs",["fbt","BaseHeadingContext","BaseRow.react","BaseRowItem.react","CometLeftRailLayoutContext","CometLeftRailPrimaryContext","CometRouterFocusRegion.react","CurrentEnvironment","LS.bs","LSClearMessageSearchTable","LSMessageSearchType.bs","LSTransaction.bs","MWInboxLeftRail.bs","MWInboxMasterView.bs","MWLSPresenceManager.bs","MWThreadListNewMessageState.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","cr:114","cr:1162","cr:9867","gkx","promiseDone","react","stylex","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={};d={Provider:c};e={};c={Provider:e};var k={container:{display:"j83agx80",flexGrow:"buofh1pr",minHeight:"dp1hu0rb",position:"l9j0dhe7",zIndex:"du4w35lb"},contentArea:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"dp1hu0rb",minWidth:"hpfvmrgz",position:"l9j0dhe7",zIndex:"du4w35lb"},leftRail:{flexShrink:"pfnyh3mw",minHeight:"dp1hu0rb",overflowAnchor:"rek2kq2y",width:"o36gj0jk",zIndex:"tkr6xdv7","@media (max-width: 900px)":{width:"g0mhvs5p"}},leftRailForMessengerDotCom:{"@media (max-width: 900px)":{width:"ezfq3ill"}},mainContent:{display:"j83agx80",minHeight:"dp1hu0rb"}};function a(a){a=j.useState(function(){return!1});var c=a[1],d=j.useState(function(){}),e=d[1],f=d[0];d=j.useMemo(function(){return{setVisibleMessage:e,visibleMessage:f}},[f,e]);b("MWLSPresenceManager.bs").useWatchFocusChanges(void 0);var h=b("MWInboxMasterView.bs").useHook(void 0),l=b("usePrevious")(h),m=l==null?void 0:b("bs_caml_option").some(l),n=b("ReStore.bs").useHook(void 0),o=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(n,"message_search_queries").asc,{hd:b("LSMessageSearchType.bs").thread,tl:0})},[n])));j.useEffect(function(){!o&&b("bs_caml_obj").caml_notequal(h,m)&&(b("bs_curry")._1(c,function(a){return!1}),b("promiseDone")(b("LSTransaction.bs").run(n,function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0))},[h,o,n,c,m]);if(typeof h==="number")l="";else{var p=h._0;l=p===0?g._(/*FBT_CALL*/"\u65b0\u8a0a\u606f\uff01"/*FBT_CALL*/):""}p=j.useContext(b("BaseHeadingContext"));d=j.jsx("div",{className:(i||(i=b("stylex")))(k.contentArea),children:j.jsx(b("CometRouterFocusRegion.react"),{children:j.jsx(b("CometLeftRailLayoutContext").Provider,{value:!0,children:j.jsx(b("MWVisibleMessageContext.bs").Provider.make,{value:d,children:j.createElement(b("BaseHeadingContext").Provider,{value:p+1|0,children:j.jsx(j.Fragment,{children:j.jsx(b("cr:114").make,{isConversationSearchVisible:a[0],setIsConversationSearchVisible:c})})})})})})});p=j.jsx(b("MWThreadListNewMessageState.bs").Provider.make,{children:j.jsx(j.Fragment,{children:j.jsx(b("BaseRow.react"),{align:"start",children:j.jsxs(b("CometLeftRailPrimaryContext").Provider,{value:!1,children:[j.jsx(b("BaseRowItem.react"),{"aria-label":"",children:j.jsx(j.Suspense,{children:j.jsx(b("MWInboxLeftRail.bs").make,{setIsConversationSearchVisible:c}),fallback:null}),role:"navigation",xstyle:[k.leftRail,b("CurrentEnvironment").messengerdotcom&&b("gkx")("571")?k.leftRailForMessengerDotCom:!1]}),j.jsx(b("BaseRowItem.react"),{"aria-label":l,expanding:!0,children:d,role:"main",xstyle:[k.mainContent]})]}),xstyle:[k.container]})})});return j.jsx(j.Fragment,{children:b("cr:9867")==null?b("cr:1162")==null?p:j.jsx(b("cr:1162").make,{children:p}):j.jsx(b("cr:9867").make,{children:p})})}e=a;f.CometLeftRailPrimaryContext=d;f.CometLeftRailLayoutContext=c;f.styles=k;f.$MAWSetup$requireCond=b("cr:1162");f.$MAWSetup$requireCond$1=b("cr:9867");f.$MWV2InboxMaster$OR$MWInboxMaster$requireCond=b("cr:114");f.make=e}),null);
__d("MWInboxRoot.re",["MWInboxRoot.bs"],(function(a,b,c,d,e,f){a=b("MWInboxRoot.bs").make;f.make=a}),null);
__d("MWLSThreadHasLeftGroup.bs",["MWThreadKey.bs","MessengerThreadCannotReplyReason","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml_obj","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:d,tl:0}),function(a){return b("bs_caml_obj").caml_equal(a.v,b("MessengerThreadCannotReplyReason").VIEWER_NOT_SUBSCRIBED)})},[c,d])),!1)}f.useHook=a}),null);
__d("MWV2ErrorComposer.bs",["fbt","MDSText.react","MDSTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"l6v480f0",backgroundColor:"nred35xi",paddingEnd:"s90ymo97",paddingStart:"geeej9ta",paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{meta:j.jsx(b("MDSText.react"),{type:"meta3",numberOfLines:2,children:g._(/*FBT_CALL*/"\u9019\u53ef\u80fd\u662f\u6211\u5011\u6b63\u52aa\u529b\u4fee\u5fa9\u7684\u4e00\u9805\u6280\u8853\u554f\u984c\u6240\u5c0e\u81f4\u3002"/*FBT_CALL*/)}),headline:g._(/*FBT_CALL*/"\u6709\u4e9b\u5730\u65b9\u51fa\u932f\u4e86"/*FBT_CALL*/),level:4,textAlign:"center",reduceEmphasis:!0,headlineColor:"secondary"})})}c=a;f.styles=k;f.make=c}),null);
__d("LSNullstateDescriptionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.default_=a;f.subtext=c;f.titleSmallDefault=d;f.titleSmallSubtext=e}),null);
__d("MWV2ContextBanner.bs",["LSMessagingThreadTypeUtil.bs","LSNullstateDescriptionType.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadTitle.bs","MDSText.react","MWThreadPicture.bs","MessagingThreadType.bs","RecoverableViolation.react","bs_caml","bs_caml_int64","bs_caml_option","cr:11000","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:11000")==null?void 0:b("bs_caml_option").some(b("cr:11000")),k={wrapper:{paddingBottom:"f10w8fjw"}};function l(a){var c=a.kind;a=a.text;if(b("bs_caml").i64_eq(c,b("bs_caml_int64").zero)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").subtext)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallDefault)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallSubtext))return i.jsx("div",{className:(h||(h=b("stylex")))(k.wrapper),children:i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return i.jsx(b("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}c={styles:k,make:l};var m={container:{paddingTop:"aodizinl",paddingBottom:"f10w8fjw",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"},image:{display:"j83agx80",justifyContent:"taijpn5t",marginBottom:"n851cfcs"},title:{marginBottom:"n851cfcs"}};function n(a){var c=a.thread;a=a.showQuickActions;a=a!==void 0?a:!0;var d=c.G,e=c.F,f=c.E,g=c.D,k=c.C,n=c.B;return i.jsxs("div",{className:(h||(h=b("stylex")))(m.container),children:[i.jsx("div",{className:h(m.image),children:i.jsx(b("MWThreadPicture.bs").make,{photoSize:"s_60",badgeSize:14,thread:c})}),i.jsx("div",{className:h(m.title),children:i.jsx(b("MDSText.react"),{align:"center",type:"headlineEmphasized3",children:i.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,b,c){return c}})})}),n!==void 0&&k!==void 0?i.jsx(l,{kind:k,text:n}):null,g!==void 0&&f!==void 0?i.jsx(l,{kind:f,text:g}):null,e!==void 0&&d!==void 0?i.jsx(l,{kind:d,text:e}):null,!(b("cr:11000")==null)&&b("LSMessagingThreadTypeUtil.bs").isGroup(c.c)&&b("bs_caml").i64_neq(c.c,b("MessagingThreadType.bs").communityGroup)&&a?i.jsx(j.make,{thread:c}):null]})}d={styles:m,make:n};function a(a){var c=a.thread;a=a.showQuickActions;a=a!==void 0?a:!0;var d=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").disableContextBanner,c);if(d)return null;else return i.jsx(n,{thread:c,showQuickActions:a})}e=a;f.$MWContextBannerQuickActions$OR$null$requireCond=b("cr:11000");f.NullstateDescription=c;f.Impl=d;f.make=e}),null);
__d("MWV2ConversationScrollerRefs.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useRef(null),c=h.useRef(0);return h.useMemo(function(){return{scrollerRef:b,scrollPositionRef:c}},[])}f.useHook=a}),null);
__d("MWV2JumpToMostRecentMessage.bs",["MWVisibleMessageContext.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWVisibleMessageContext.bs").useHook(void 0),d=c.visibleMessage,e=c.setVisibleMessage,f=h.useCallback(function(b){b=a.current;if(!(b==null))return b.scrollToBottom()},[a]);return h.useCallback(function(a){if(d!==void 0)return b("bs_curry")._1(e,function(a){});else return b("bs_curry")._1(f,void 0)},[f,d,e])}f.useHook=a}),null);
__d("MWV2JumpToMostRecentMessageButton.bs",["fbt","CurrentUser","MWV2ColorUtils.bs","MWV2JumpToMostRecentMessage.bs","MWV2Theme.bs","ODS","TetraCircleButton.react","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{position:"l9j0dhe7",width:"k4urcfbm",height:"do00u71z"},button:{position:"pmk7jnqg",bottom:"i09qtzwb",start:"kfkz5moi",marginStart:"pg7hd1hw",backgroundColor:"nred35xi",transform:"n9g6laej",transitionProperty:"flx89l3n",transitionDuration:"kmdw4o4n",transitionTimingFunction:"heur4gxb",zIndex:"tghn160j",boxShadow:"oyvrxjdn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},visible:{transform:"amx3n8jj"}};function a(a){var c=a.scrollerRefs,d=a.visible,e=a.onPress;a=b("MWV2Theme.bs").useHook(void 0);var f=a.threadTheme,h=b("MWV2JumpToMostRecentMessage.bs").useHook(c.scrollerRef);return j.useMemo(function(){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx("div",{className:i(k.button,d?k.visible:!1),children:j.jsx(b("TetraCircleButton.react"),{color:"white",disabled:!d,icon:function(a){a=b("MWV2ColorUtils.bs").int64ToHex(f.c);return j.jsx("svg",{width:"18",height:"18",viewBox:"7 7 22 22",fill:"none",children:j.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})},label:g._(/*FBT_CALL*/"\u524d\u5f80\u6700\u65b0\u8a0a\u606f"/*FBT_CALL*/),onPress:function(a){b("bs_curry")._1(h,void 0);b("bs_curry")._1(e,void 0);a=b("CurrentUser").getAppID();a=a==null?"unknown":a;b("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},size:40})})})},[h,e,d,f])}c=a;f.styles=k;f.make=c}),null);
__d("MWV2IsTabFocusedContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(!1);function a(a){var b=a.children;a=a.isFocused;return h.createElement(i.Provider,{value:a,children:b})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c}),null);
__d("MWV2MessageScroller.bs",["LSMailboxMessagesRangeQueryDirection.bs","MWChatConversationScroller.bs","MWLSThreadDisplayContext.bs","MWV2IsTabFocusedContext.bs","UserActivity","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10880","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("MWV2IsTabFocusedContext.bs").useContext(void 0),e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=e===0?d:!0,g;if(c!==void 0){e=b("bs_caml").i64_gt(c.b,a.i)?c.b:a.i;g=b("bs_caml").i64_gt(e,a.j)}else g=!1;return h.useCallback(function(a){if(b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&f)return g;else return!1},[f,g])}function j(a,c,d){var e=i(a,c);return h.useCallback(function(a){if(b("bs_curry")._1(e,void 0))return b("bs_curry")._1(d,void 0)},[e,d])}function k(a,c){h.useEffect(function(){var d=function(d){if(a.current===0)return b("bs_curry")._1(c,void 0)},e=b("bs_belt_Option").getExn(b("bs_caml_option").undefined_to_opt(typeof window==="undefined"?void 0:window));e.addEventListener("focus",d);document.hasFocus()&&a.current===0&&b("bs_curry")._1(c,void 0);return function(a){e.removeEventListener("focus",d)}},[c,a])}var l=b("cr:10880")==null?function(a){}:b("cr:10880").useHook;function a(a){var c=a.children,d=a.thread,e=a.fetchMore,f=a.markThreadAsRead,g=a.lastMessageToCalculateIfThreadIsRead,i=a.scrollerRefs,m=a.hasMoreBefore,n=a.hasMoreAfter;a=a.onScroll;a=a!==void 0?a:function(a){};var o=i.scrollPositionRef,p=j(d,g,f);b("bs_curry")._1(l,d);k(o,p);return h.jsx(b("MWChatConversationScroller.bs").make,{children:c,scrollPositionRef:o,dispatch:function(a){switch(a){case 0:if(m)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before);else return;case 1:if(n)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").after);else return b("bs_curry")._1(p,void 0);case 2:return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before)}},hasMoreAfter:n,onScroll:a,ref:i.scrollerRef})}c=a;f.$MAWThreadEvent$OR$null$requireCond=b("cr:10880");f.make=c}),null);
__d("MWV2ThreadNullstate.bs",["fbt","CometLink.react","CometPressable.react","CometScrollableArea.react","FBID.bs","LS.bs","LSMailboxType.bs","LSNullstateCTAType.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSThreadTitle.bs","LSTransaction.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MDSText.react","MWInboxProvider.bs","MWLSActor.bs","MessageSendClickFalcoEvent","ReStore.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","promiseDone","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={old_pill:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",color:"oo9gr5id",display:"pq6dq46d",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",wordBreak:"qv66sw1b"},new_pill:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",color:"pb8n47oa",display:"pq6dq46d",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",wordBreak:"qv66sw1b"}};function l(a){var c=a.onClick;a=a.children;return j.jsx(b("CometPressable.react"),{onPress:c,overlayDisabled:!0,xstyle:function(a){return[b("qex")._("885")===!0?k.new_pill:k.old_pill]},children:a})}c={styles:k,make:l};var m={welcome_text:{paddingBottom:"jfpizvyy",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},privacy_text:{paddingBottom:"ofv0k9yr",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},cta_list:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"aovydwv3",justifyContent:"taijpn5t",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x"},old_cta_list_item:{paddingStart:"c088b7cy",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw"},new_cta_list_item:{alignSelf:"o8rfisnq",paddingStart:"tw6a2znq",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",textAlign:"oqcyycmt"},cta_list_item_center:{alignSelf:"o8rfisnq",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"}};function n(a,c,d){var e=b("ReStore.bs").useHook(void 0),f=b("MWLSActor.bs").useActor(void 0),g=j.useContext(b("MWInboxProvider.bs").context),h=g.refParam;return j.useCallback(function(g){return function(i){var j=b("LSThreadAttributionStore.bs").getSource(c,b("bs_int64").to_string(a.a)),k=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(j);j=g!==void 0?b("bs_caml").i64_eq(g.f,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(g.g,i.a):!1;var l=j?h:void 0;b("promiseDone")(b("LSTransaction.bs").run(e,function(c){return b("LSOptimisticSendMessage")(f,a.a,a.c,b("LSMailboxType.bs").messenger,i.c,void 0,void 0,void 0,void 0,void 0,void 0,k,l!==void 0?b("bs_caml_option").valFromOption(l):void 0,i.e!==void 0?b("bs_caml_option").valFromOption(i.e):void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),void 0,void 0);var m=b("FBID.bs").ofString(b("bs_int64").to_string(a.a)),n=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:c}}})},o=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBotComposerQuickReplyTappedFalcoEvent").log(function(a){return{page:{id:c},quick_reply:{id:"",type:64},display:void 0}})};j?n(void 0):o(void 0);b("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:b("LsFalcoEventEntryPoint.bs").icebreaker}}})}},[e,f,b("bs_int64").to_string(a.a),c,h])}function a(a){var c=a.thread,d=a.nullstate,e=a.nullstateCtas,f=a.lsSource;a=a.initiatingSource;f=f!==void 0?f:"unknown";var h=n(c,f,a);f=g._(/*FBT_CALL*/"\u9ede\u6309\u5373\u53ef\u50b3\u9001"/*FBT_CALL*/);a=g._(/*FBT_CALL*/"\u9078\u64c7\u4e00\u500b\u9078\u9805\u6216\u81ea\u884c\u8f38\u5165\u8a0a\u606f"/*FBT_CALL*/);c=g._(/*FBT_CALL*/"When you send a message, {name} will see your"/*FBT_CALL*/,[g._param("name",j.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,b,c){return c}}))]);var k=g._(/*FBT_CALL*/"\u516c\u958b\u8cc7\u8a0a"/*FBT_CALL*/),o=d.b,p=d.c,q=d.c;o=j.jsxs("div",{children:[o!==void 0?b("qex")._("885")===!0?j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:f})}):j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:a})}):null,p!==void 0&&b("qex")._("885")===!1?j.jsx("div",{className:(i||(i=b("stylex")))(m.privacy_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:p})}):null,j.jsx("ul",{className:(i||(i=b("stylex")))(m.cta_list),children:e.map(function(a){var c=b("bs_caml").i64_eq(d.f,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(d.g,a.a);return j.jsx("li",{className:(i||(i=b("stylex")))(b("qex")._("885")===!0?m.new_cta_list_item:m.old_cta_list_item,c?m.cta_list_item_center:!1),children:j.jsx(l,{onClick:function(c){return b("bs_curry")._2(h,d,a)},children:a.c})},b("bs_int64").to_string(a.a))})}),q!==void 0&&b("qex")._("885")===!0?j.jsx("div",{className:(i||(i=b("stylex")))(m.privacy_text),children:j.jsxs(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:[c," ",j.jsx(b("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/719578818758231",color:"primary",target:"_blank",role:"link",children:k}),"."]})}):null]});if(b("gkx")("366"))return j.jsx(j.Fragment,{children:j.jsx(b("CometScrollableArea.react"),{children:o})});else return j.jsx(j.Fragment,{children:o})}d=a;f.Pill=c;f.styles=m;f.useSendIcebreakerMessage=n;f.make=d}),null);
__d("MWV2PersistentIcebreakers.bs",["MWChatBusinessQuickReplyList.bs","MWTheme.bs","MWV2ThreadNullstate.bs","bs_caml_int64","bs_curry","bs_int64","qex","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a,c,d){var e=b("qex")._("438");e=e==null?999999999:e|0;if(!(c.length!==0&&((d|0)-b("bs_caml_int64").to_int32(a.i)|0)>=e))return!1;c=b("qex")._("278");if(c==null)return!1;else return c}function c(a){var c=a.thread,d=a.nullstateCtas,e=a.lsSource;a=a.initiatingSource;e=e!==void 0?e:"unknown";var f=b("MWV2ThreadNullstate.bs").useSendIcebreakerMessage(c,e,a);c=b("MWTheme.bs").useTheme(void 0);return i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatBusinessQuickReplyList.bs").styles.container,b("MWTheme.bs").isGradient(c)?b("MWChatBusinessQuickReplyList.bs").styles.mask:!1),children:i.jsx("ul",{className:h(b("MWChatBusinessQuickReplyList.bs").styles.pillContainerVertical),children:d.map(function(a){if(a.d==="nullstate_icebreaker")return i.jsx("li",{className:(h||(h=b("stylex")))(b("qex")._("885")===!0?b("MWV2ThreadNullstate.bs").styles.new_cta_list_item:b("MWV2ThreadNullstate.bs").styles.old_cta_list_item),children:i.jsx(b("MWV2ThreadNullstate.bs").Pill.make,{onClick:function(c){return b("bs_curry")._2(f,void 0,a)},children:a.c})},b("bs_int64").to_string(a.a));else return null})})})}d=c;f.shouldShowPersistentIcebreakers=a;f.make=d}),null);
__d("MWV2OpenThreadDetail.bs",["LS.bs","LSAuthorityLevel.bs","LSMessagingInitiatingSourceHook.bs","LSOptimisticMarkThreadReadV2","LSTransaction.bs","MWChatLoadMoreItemsIncrementally.bs","MWChatUnsendNUX.bs","MWInboxThreadMessagesSpinner.bs","MWPMessageListColumn.bs","MWV2ContextBanner.bs","MWV2ConversationScrollerRefs.bs","MWV2CurrentVisibleMessage.bs","MWV2FetchMessagesPage.bs","MWV2JumpToMostRecentMessageButton.bs","MWV2MessageList.bs","MWV2MessageScroller.bs","MWV2PersistentIcebreakers.bs","MWV2QuickReplies.bs","MWV2ThreadNullstate.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","ServerTime","SortedAsyncIterable.bs","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","clearTimeout","cr:11088","promiseDone","qex","react","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("bs_int64").compare(a.c,c.c);if(d!==0)return d;d=a.d;var e=c.d;if(d===void 0)if(e!==void 0)return-1;else return b("bs_int64").compare(a.b,c.b);if(e===void 0)return 1;d=b("bs_int64").compare(d,e);if(d!==0)return d;else return b("bs_int64").compare(a.b,c.b)}function j(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var e=b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"messages").asc,{hd:c.a,tl:0});if(a!==void 0)return b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"messages").asc,{hd:c.a,tl:0}),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a.b,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:a.d,tl:0}}]});else if(b("bs_caml").i64_lt(c.Z,b("LSAuthorityLevel.bs").authoritative))return e;else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(c.a),JSON.stringify(c.Z),JSON.stringify(a)]));return h.useMemo(function(){return e.sort(i)},[e])}function k(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(d){if(b("bs_caml").i64_ge(a.Z,b("LSAuthorityLevel.bs").authoritative)){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticMarkThreadReadV2")(a.a,b("bs_caml_int64").of_float(Date.now()),b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),void 0,void 0);return}},[JSON.stringify(a.Z),JSON.stringify(a.a),c])}function l(a){var c=b("ReStore.bs").useHook(void 0),d=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"thread_nullstate").asc,{hd:a.a,tl:0})},[c,JSON.stringify(a.a)])),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"thread_nullstate_ctas").index("threadKeyCtaId").asc,{hd:a.a,tl:0})},[c,JSON.stringify(a.a)]));return[d,e]}function a(a){var c=a.thread;a=a.showContextBannerQuickActions;var d=h.useState(function(){return b("ServerTime").getMillis()}),e=b("MWV2ConversationScrollerRefs.bs").useHook(void 0),f=h.useState(function(){return!0}),g=f[1],i=b("MWV2CurrentVisibleMessage.bs").useHook(c,e.scrollerRef),m=i.visibleMessage,n=i.messageRange,o=i.messageRange;m=b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(m!==void 0?!0:n!==void 0?n.i:!1,void 0,void 0,j(i.messageRange,c),b("MWV2FetchMessagesPage.bs").useFetchMessagesPage(i.messageRange,c.a),o!==void 0?o.h:!1);n=m[2];o=m[0];var p=i.messageRange;p=p!==void 0?p.i:!1;var q=k(c),r=l(c),s=r[1];r=r[0];var t=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),u=b("cr:11088")==null?null:h.jsx(b("cr:11088").make,{thread:c});d=b("MWV2PersistentIcebreakers.bs").shouldShowPersistentIcebreakers(c,s,d[0]);var v=b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("qex")._("297")),"enabled"),w={contents:void 0},x=v?function(a){a=w.contents;a!==void 0&&b("clearTimeout")(b("bs_caml_option").valFromOption(a));a=e.scrollPositionRef.current;a===0?w.contents=b("bs_caml_option").some(b("setTimeout")(function(a){return b("bs_curry")._1(g,function(a){return!0})},0)):w.contents=b("bs_caml_option").some(b("setTimeout")(function(a){return b("bs_curry")._1(g,function(a){return!1})},200))}:function(a){};if(r!==void 0&&b("bs_caml").i64_eq(c.i,b("bs_caml_int64").zero)){var y={thread:c};a!==void 0&&(y.showQuickActions=a);return h.jsxs(h.Fragment,{children:[u,h.jsx(b("MWV2ContextBanner.bs").make,y),h.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWV2ThreadNullstate.bs").make,{thread:c,nullstate:r,nullstateCtas:s,lsSource:"inboxInThread",initiatingSource:t})]})}if(n)y=h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{});else{r={thread:c};a!==void 0&&(r.showQuickActions=a);y=h.jsx(b("MWV2ContextBanner.bs").make,r)}return h.jsxs(h.Fragment,{children:[u,h.jsx(b("MWChatUnsendNUX.bs").make,{senderUnsendNUXEnabled:!0}),h.jsxs(b("MWV2MessageScroller.bs").make,{children:[h.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:20}),y,h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:10})]}),h.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWV2MessageList.bs").make,{messages:o,thread:c,isSecureThread:!1,messageElementRefs:i.messageElementRefs.current,scrollerRefs:e}),p&&v?h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{})}):null,h.jsx(b("MWV2QuickReplies.bs").make,{threadKey:c.a,message:o[o.length-1|0],scrollerRefs:e}),d?h.jsx(b("MWV2PersistentIcebreakers.bs").make,{thread:c,nullstateCtas:s,lsSource:"inboxInThread",initiatingSource:t}):null],thread:c,fetchMore:m[1],markThreadAsRead:q,lastMessageToCalculateIfThreadIsRead:o.length!==0?b("bs_caml_array").get(o,o.length-1|0):void 0,scrollerRefs:e,hasMoreBefore:n,hasMoreAfter:p,onScroll:x}),v?h.jsx(b("MWV2JumpToMostRecentMessageButton.bs").make,{scrollerRefs:e,hasMoreAfter:p,visible:!f[0]||p,onPress:function(a){return b("bs_curry")._1(g,function(a){return!0})}}):null]})}c=b("cr:11088");d=a;f.$MWV2ArmadilloDogfoodingUpsell$requireCond=b("cr:11088");f.mwv2ArmadilloDogfoodingUpsell=c;f.useMessages=j;f.make=d}),null);
__d("MWV2ThreadGradientBackground.bs",["MWV2ColorUtils.bs","MWV2Theme.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",display:"j83agx80",position:"l9j0dhe7",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",maxHeight:"nwf6jgls"}};function a(a){a=a.children;var c=b("MWV2Theme.bs").useHook(void 0),d=c.gradientColors;c=i.useMemo(function(){if(d.length>1)return{backgroundImage:b("MWV2ColorUtils.bs").gradient(d,void 0,void 0,void 0)};else return{}},[d]);return i.jsx("div",{style:c,className:(h||(h=b("stylex")))(j.container),children:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2OpenAndSecureThreadView.bs",["LSMessagingThreadTypeUtil.bs","MWV2OpenThreadDetail.bs","MWV2ThreadGradientBackground.bs","bs_caml_option","cr:742","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.showContextBannerQuickActions;if(b("cr:742")==null){var d={thread:c};a!==void 0&&(d.showContextBannerQuickActions=b("bs_caml_option").valFromOption(a));d=h.jsx(b("MWV2OpenThreadDetail.bs").make,d)}else if(b("LSMessagingThreadTypeUtil.bs").isSecure(c.c))d=h.jsx(b("cr:742").make,{thread:c});else{c={thread:c};a!==void 0&&(c.showContextBannerQuickActions=b("bs_caml_option").valFromOption(a));d=h.jsx(b("MWV2OpenThreadDetail.bs").make,c)}return h.jsx(b("MWV2ThreadGradientBackground.bs").make,{children:d})}c=b("cr:742");d=a;f.$MAWSecureThreadDetail$requireCondXplat=b("cr:742");f.mawSecureThreadDetail=c;f.make=d}),null);
__d("MWInboxThreadAndComposer.bs",["BootloaderResource","CometErrorBoundary.re","FBID.bs","JSResource","LS.bs","LSAddMessengerContact","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMessageSendStatusV2.bs","LSMessagingThreadTypeUtil.bs","LSNullstateCTAType.bs","LSTransaction.bs","MAWGating.bs","MWChatComposerMessageRequestInfoText.bs","MWChatComposerViewStateStore.bs","MWChatThreadAnimationWrapper.bs","MWChatUserComposer.bs","MWLSActor.bs","MWLSBlockStatus.bs","MWLSDisabledPageComposer.bs","MWLSFeatureLimitedStatus.bs","MWLSRepliedToMessage.bs","MWLSSendTypingIndicator.bs","MWLSThreadHasLeftGroup.bs","MWLSThreadIsMessageRequest.bs","MWLSThreadReportingToken.bs","MWTheme.bs","MWThread_DEPRECATED.bs","MWUseAriaDescribedByForComposer.bs","MWV2ErrorComposer.bs","MWV2OpenAndSecureThreadView.bs","MWV2ReplyContext.bs","MWV2UseAreThreadContactsDualSendEligible.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:10204","cr:1163","cr:12140","cr:715","gkx","promiseDone","qex","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:12140")==null?void 0:b("bs_caml_option").some(b("cr:12140")),k=b("JSResource")("MWChatBlockedComposer.bs").__setRef("MWInboxThreadAndComposer.bs");function l(a,c,d,e,f,g){g={fbid:a,thread:c,reportingToken:d};e!==void 0&&(g.size=b("bs_caml_option").valFromOption(e));f!==void 0&&(g.isReachable=b("bs_caml_option").valFromOption(f));return g}function m(a){return i.createElement(b("BootloaderResource").read(k).make,a)}var n={reasonResource:k,makeProps:l,make:m},o=b("JSResource")("MWChatFeatureLimitsBlockedComposer.bs").__setRef("MWInboxThreadAndComposer.bs");function a(a){return{}}function p(a){return i.createElement(b("BootloaderResource").read(o).make,a)}a={reasonResource:o,makeProps:a,make:p};var q=b("JSResource")("MWChatLeftGroupComposer.bs").__setRef("MWInboxThreadAndComposer.bs");function c(a,c){c={};a!==void 0&&(c.thread=b("bs_caml_option").valFromOption(a));return c}function r(a){return i.createElement(b("BootloaderResource").read(q).make,a)}c={reasonResource:q,makeProps:c,make:r};var s=b("JSResource")("MWChatUnavailableComposer.bs").__setRef("MWInboxThreadAndComposer.bs");function d(a){return{}}function t(a){return i.createElement(b("BootloaderResource").read(s).make,a)}d={reasonResource:s,makeProps:d,make:t};var u={composer:{zIndex:"kavbgo14"}};function e(a){var c=a.thread,d=c.a,e=b("MWThread_DEPRECATED.bs").useId(void 0),f=b("MWTheme.bs").useTheme(void 0);a=b("MWLSThreadHasLeftGroup.bs").useHook(void 0);var g=b("gkx")("408"),j=i.useRef(0),k=i.useRef(null),n=b("MWLSSendTypingIndicator.bs").useHook(void 0),o=b("MWLSThreadReportingToken.bs").useHook(void 0),q=b("MWV2UseAreThreadContactsDualSendEligible.bs").useHook(c.a),s=b("MWLSBlockStatus.bs").useIsThreadBlocked(void 0),v=s!==void 0&&s?!0:!1;s=function(a){if(j.current!==0)return;a=k.current;if(!(a==null))return a.scrollToBottom()};var w=b("MWLSRepliedToMessage.bs").useCurrentlyRepliedToMessage(void 0),x=w[2],y=w[1],z=w[0];w=i.useContext(b("MWV2ReplyContext.bs").context);var A=w.clearReply,B=w.reply,C=i.useCallback(function(a){b("bs_curry")._1(x,void 0);return b("bs_curry")._2(A,d,a)},[x,A,b("bs_int64").to_string(d)]);i.useEffect(function(){if(B!==void 0){var a=B.sendStatusV2;b("bs_curry")._1(y,b("bs_caml").i64_eq(a,b("LSMessageSendStatusV2.bs").serverReceived)||b("bs_caml").i64_eq(a,b("LSMessageSendStatusV2.bs").sentOnly)?{TAG:1,_0:{threadId:d,messageId:B.messageId,timestamp:B.timestampMs}}:{TAG:0,_0:{threadId:d,offlineThreadingId:B.offlineThreadingId}})}},[B,y,C,b("bs_int64").to_string(d)]);var D=b("ReStore.bs").useHook(void 0);w=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(D,"thread_nullstate").asc,{hd:c.a,tl:0})},[D,JSON.stringify(c.a)]));var E=b("bs_caml").i64_neq(c.i,b("bs_caml_int64").zero),F=w!==void 0?b("bs_caml").i64_eq(w.f,b("LSNullstateCTAType.bs").getStarted):!1,G=a&&g,H=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c),I=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!H||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),J=b("MWUseAriaDescribedByForComposer.bs").useHook(c),K=b("MWLSThreadIsMessageRequest.bs").useHook(void 0),L=b("MWLSActor.bs").useActor(void 0),M=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c)){var a;return(a=b("ReQL.bs")).map(a.filter(a.mergeJoin(a.getKeyRange(b("ReQLTable").table(D,"participants").asc,{hd:d,tl:0}),b("ReQLTable").table(D,"contacts").asc),function(a){return b("bs_caml").i64_neq(a[1].a,L)}),function(a){return a[1]})}else return b("SortedAsyncIterable.bs").empty(void 0)},[D,JSON.stringify(d),L])),N=M!==void 0?!b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").message,M),!0)||!b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").replyMessage,M),!0):!1,O=i.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(D,function(a){var d;return(d=b("ReQL.bs")).first(d.filter(d.map(d.getKeyRange(b("ReQLTable").table(D,"participants").asc,{hd:c.a,tl:0}),function(a){return a.b}),function(a){return b("bs_caml").i64_neq(a,L)})).then(function(d){if(d!==void 0&&H&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c))return b("LSAddMessengerContact")(d,b("bs_curry")._1(b("LS.bs").make,a))})},"readWrite"),void 0,void 0)},[D,c,L]);w=b("qex")._("499");return i.jsx(b("MWChatThreadAnimationWrapper.bs").make,{composer:function(d,g,j,k){var a=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c),s,w=0,x=0;v&&M!==void 0?s=i.jsx(i.Suspense,{children:i.jsx(m,l(b("FBID.bs").ofStringExn(b("bs_int64").to_string(M.a)),c,o,"large",void 0,void 0)),fallback:null}):x=2;x===2&&(N?s=i.jsx(i.Suspense,{children:i.jsx(t,{}),fallback:null}):a?G?w=1:s=b("cr:12140")==null?null:i.jsx(b("cr:12140").make,{thread:c,isPreviewThread:!1,afterSendMessage:O}):I?s=i.jsx(i.Suspense,{children:i.jsx(p,{}),fallback:null}):w=1);if(w===1)if(G)s=i.jsx(i.Suspense,{children:i.jsx(r,{}),fallback:null});else{x=0;b("cr:1163")==null||!(q&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c))?x=2:s=i.jsx(b("cr:1163").make,{thread:c,isPreviewThread:!1,afterSendMessage:O});if(x===2)if(b("cr:10204")==null)b("cr:715")==null?(b("recoverableViolation")("Expected one of two composers to be rendereed","messenger_web_product"),s=null):s=i.jsx(b("cr:715").make,{thread:c,isPreviewThread:!1,afterSendMessage:O});else{a={color:b("MWTheme.bs").bottom(f),otherUserFbid:void 0,shouldMinimizeActionsWhenTyping:!1,customLikeEmoji:c.w,isTabFocused:!0,shouldShowMenu:c.J,hasContent:{contents:!0},repliedToMessage:z,actionTrayOpen:k,closeActionTray:g,onContentsChange:function(a){},onFileUploadStart:function(a){},openActionTray:d,fileUploadHandlerRef:j,messageRequestInfoText:i.jsx(b("MWChatComposerMessageRequestInfoText.bs").make,{closeTab:function(a){},size:"large",shouldShowMessageRequestInfoText:K}),onTypingStateChanged:n,closeReplyPreview:C,openTabFromPreview:function(a){},closeTab:function(a){},onSendMessage:function(a){return b("bs_curry")._1(O,void 0)},ariaDescribedByContent:J};w=b("bs_belt_Option").mapWithDefault(e,void 0,b("MWChatComposerViewStateStore.bs").get);w!==void 0&&(a.initialComposerViewState=b("bs_caml_option").valFromOption(w));s=i.jsx(b("cr:10204").make,a)}}x=e!==void 0?i.jsx(b("MWChatUserComposer.bs").make,{threadId:e,chatComposer:function(a){return s}}):s;return i.jsx("div",{className:(h||(h=b("stylex")))(u.composer),children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ErrorComposer.bs").make,{})},children:F&&!E?null:c.K&&c.J?i.jsx(b("MWLSDisabledPageComposer.bs").make,{}):x})})},threadView:function(a){return i.jsx(b("MWV2OpenAndSecureThreadView.bs").make,{thread:c})},animationEnabled:!0,ensureScrolledToBottom:s,mediaDropDisabled:w==null?!1:w,id:{NAME:"User",VAL:b("FBID.bs").ofString("")},contextBannerData:1,welcomePageData:void 0,senderUnsendNUXEnabled:!0})}e=e;f.$MAWSecureComposer$requireCondXplat=b("cr:12140");f.mawSecureComposer=j;f.MWChatBlockedComposerLazy=n;f.MWChatFeatureLimitsBlockedComposerLazy=a;f.MWChatLeftGroupComposerLazy=c;f.MWChatUnavailableComposerLazy=d;f.styles=u;f.$MWV2DualSendComposer$requireCond=b("cr:1163");f.$MWV2OpenComposer$requireCondXplat=b("cr:715");f.$null$OR$MWChatComposer$requireCondXplat=b("cr:10204");f.make=e}),null);
__d("MWLSInbox.react",["CometErrorBoundary.react","CometPlaceholder.react","LSPlatformClientProvider.re","LSPlatformConfig.re","LSPlatformMessengerConfig.re","MWInbox.re","MWInboxRoot.re","cr:2009197","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b;a=a.routeProps;return h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.re").configEagerlyLoaded,children:h.jsx(d("LSPlatformClientProvider.re").make,{children:h.jsx(d("MWInbox.re").make,{refParam:(b=a.ref_param)!=null?b:void 0,threadKey:(b=a.thread_key)!=null?b:void 0,children:h.jsx(d("MWInboxRoot.re").make,{})})})})}i.displayName=i.name+" [from "+f.id+"]";function a(a){a=a.routeProps;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(i,{routeProps:a})}),h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:b("cr:2009197")?h.jsx(b("cr:2009197").make,{}):null})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessengerDesktopFeedbackSurvey.react",["react","useRainbowNativeSurveyDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j="803596357188560";function a(){var a=c("useRainbowNativeSurveyDialog")(j),b=i(!1);h(function(){b.current||(a(),b.current=!0)},[]);return null}g["default"]=a}),98);
__d("MWMessengerDesktopFeedbackSurvey.bs",["MWMessengerDesktopFeedbackSurvey.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWMessengerDesktopFeedbackSurvey.react");f.make=a}),null);
__d("MWTetraInboxLeftRailHeader.bs",["fbt","CometLeftRailHeader.react","MWInboxLeftRailHeaderAuxiliary.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.xstyle,d=a.showMessageRequests,e=a.showHidden,f=a.showActiveContacts;a=a.showRestrictedAccounts;d={auxiliary:i.jsx(b("MWInboxLeftRailHeaderAuxiliary.bs").make,{showMessageRequests:d,showHidden:e,showActiveContacts:f,showRestrictedAccounts:a}),title:g._(/*FBT_CALL*/"\u804a\u5929\u5ba4"/*FBT_CALL*/)};c!==void 0&&(d.xstyle=b("bs_caml_option").valFromOption(c));return i.jsx(b("CometLeftRailHeader.react"),d)}c=a;f.make=c}),null);
__d("TetraInboxLeftRailHeaderIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";a=b("fbicon")._(g("484387"),20);c={icon:a};d=b("fbicon")._(g("507172"),20);e={icon:d};f.Settings=c;f.Compose=e}),null);
__d("TetraInboxInfoActionsSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("fbicon"))._(g("603566"),20);d="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:c,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:d,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};b={icon:c,primaryAddOn:e};d=a._(g("477831"),20);c="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:d,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:c,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};c={icon:d,primaryAddOn:e};d=a._(g("540023"),20);e="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:d,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:e,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};d={icon:d,primaryAddOn:e};e=a._(g("491286"),20);var h="primary";h={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:e,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:h,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};e={icon:e,primaryAddOn:h};h=a._(g("538183"),20);a="primary";g={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:h,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:a,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};a={icon:h,primaryAddOn:g};f.EditNicknames=b;f.ChangeChatName=c;f.ChangePhoto=d;f.Search=e;f.LeaveChat=a}),null);
__d("FDSMembersSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";a=b("fbicon")._(g("483769"),20);c={icon:a};f.Add=c}),null);
__d("MWLSThreadHasMoreSharedAttachments.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachments_ranges_v2__generated").desc,{hd:d,tl:0}),function(c){return b("bs_caml").i64_eq(c.b,a)}),function(a){return a.g})},[c,d,JSON.stringify(a)])),!0)}f.useHook=a}),null);
__d("MWInboxInfoSharedFiles.bs",["CometColumn.react","CometColumnItem.react","CometPressable.react","FBID.bs","LSThreadMediaGalleryGroup.bs","MWChatMessageId.bs","MWFilePressable.bs","MWLSLoadMoreThreadSharedAttachments.bs","MWLSThreadHasMoreSharedAttachments.bs","MessengerFilePreviewGenerationEntryPoint","TetraListCell.react","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:599","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:599")==null?void 0:b("bs_caml_option").some(b("cr:599"));function a(a){a=a.attachments;var c=b("MWLSThreadHasMoreSharedAttachments.bs").useHook(b("LSThreadMediaGalleryGroup.bs").filesOnly),d=b("MWLSLoadMoreThreadSharedAttachments.bs").useHook(b("LSThreadMediaGalleryGroup.bs").filesOnly);return h.jsxs(b("CometColumn.react"),{children:[a.map(function(a){var c=a.h;c=c!==void 0?c:"(Unnamed file)";if(b("cr:599")==null){var d=a.S,e=a.U,f=a.T;d={body:d!==void 0?d:null,headline:c,level:4};e=e!==void 0?b("bs_caml_int64").to_int32(e):void 0;e!==void 0&&(d.bodyLineLimit=e);e=f!==void 0?b("bs_caml_int64").to_int32(f):void 0;e!==void 0&&(d.headlineLineLimit=e);f=h.jsx(b("TetraListCell.react"),d)}else f=h.jsx(i.make,{filename:c});e={messageID:b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(a.a),a.c,b("bs_int64").to_string(a.b)),entryPoint:b("MessengerFilePreviewGenerationEntryPoint").INBOX_INFO_V2,children:f};d=b("FBID.bs").ofString(a.e);d!==void 0&&(e.attachmentID=b("bs_caml_option").valFromOption(d));a.A!==void 0&&(e.url=a.A);return h.jsx(b("CometColumnItem.react"),{children:h.jsx(b("MWFilePressable.bs").make,e)},a.e)}),c?h.jsx(b("CometPressable.react"),{onPress:function(a){return b("bs_curry")._1(d,void 0)},children:"Show More"}):null]})}c=a;f.$MWInboxInfoSharedFileLink$requireCond=b("cr:599");f.make=c}),null);
__d("MWInboxInfoSharedFilesSection.bs",["fbt","LSThreadMediaGalleryGroup.bs","MWInboxInfoSharedFiles.bs","MWInboxPersistedUIState.bs","MWLSLoadMoreThreadSharedAttachments.bs","MWListCell.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","TetraListCell.react","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10733","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){a=a.thread;var c=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoSharedFilesSection.isOpen__"),d=c[1],e=c[0],f=b("ReStore.bs").useHook(void 0),h=a.a;c=JSON.stringify(h);var k=b("MWLSLoadMoreThreadSharedAttachments.bs").useHook(b("LSThreadMediaGalleryGroup.bs").filesOnly);i.useEffect(function(){b("bs_curry")._1(k,void 0)},[k]);var l=b("bs_belt_Option").map(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"attachments_ranges_v2__generated").desc,{hd:h,tl:0}),function(a){return b("bs_caml").i64_eq(a.b,b("LSThreadMediaGalleryGroup.bs").filesOnly)})},[f,c])),function(a){return a.c});a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){if(l!==void 0)return b("ReQL.bs").filter(b("ReQL.bs").bounds(b("ReQLTable").table(f,"attachments").index("fk_messages").desc,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:h,tl:{hd:l,tl:0}}},{NAME:"lessThanOrEqual",VAL:{hd:h,tl:{hd:[2328,1316134911],tl:0}}}]}),function(a){return b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").file)});else return b("SortedAsyncIterable.bs").empty(void 0)},[f,c,l]));c=i.jsx(b("MWInboxInfoSharedFiles.bs").make,{attachments:a});if(a.length>0)if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._(/*FBT_CALL*/"\u5df2\u5206\u4eab\u7684\u6a94\u6848"/*FBT_CALL*/),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:c,open:e,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})}});else return i.jsx(j.make,{children:c,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})},label:g._(/*FBT_CALL*/"\u5df2\u5206\u4eab\u7684\u6a94\u6848"/*FBT_CALL*/),isOpen:e,testid:"mw_privacy_and_support_section_button"});else return null}c=a;f.$MWCollapsible$requireCond=b("cr:10733");f.make=c}),null);
__d("MWXACIntroView.bs",["MWXACIntroView.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWXACIntroView.react");f.make=a}),null);
__d("MWInboxTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:3}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListNewMessageHook.bs",["MWInteropTokenUtils.bs","MWThreadListNewMessageState.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadListNewMessageState.bs").useDispatch(void 0);h.useEffect(function(){b("bs_curry")._1(c,{TAG:0,_0:!0});return function(a){return b("bs_curry")._1(c,1)}},[c]);h.useEffect(function(){b("bs_curry")._1(c,{TAG:1,_0:a.filter(function(a){return!b("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a)})})},[c,a])}f.useHook=a}),null);
__d("MWV1InboxNewMessage.bs",["CometPlaceholder.react","CometProgressRingIndeterminate.react","LSDatabaseType.bs","MWChatLightSpeedSearchTypeahead.bs","MWChatTokenizerLayoutContextualStrategy.react","MWInboxRouteBuilder.bs","MWInboxTokenizerTokenStrategy.react","MWLSDatabaseLazySync.bs","MWSearchTypeaheadViewItemDisabledHook.bs","MWThreadListNewMessageHook.bs","MWThreadListNewMessageState.bs","MWThreadPreview.bs","MWV2ReplyContext.bs","bs_curry","react","stylex","useCometRouterDispatcher","useMWChatSearchTypeaheadCallbacks"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs",flexDirection:"cbu4d94t",display:"j83agx80",backgroundColor:"nred35xi"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"buofh1pr"},searchInputForContactsList:{borderBottom:"s1tcr66n",boxShadow:"mvk8q8v6"},searchInput:{flexShrink:"pfnyh3mw",paddingTop:"cxgpxx05",minHeight:"tgvbjcpo",zIndex:"tkr6xdv7",backgroundColor:"nred35xi",maxHeight:"nwf6jgls",boxShadow:"flhsghwj"}},k={viewXStyle_DO_NOT_USE:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"nwpbqux9",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc"}};function l(a,b){}function m(a){var c=b("useCometRouterDispatcher")();return i.useMemo(function(){return function(d,e){if(c==null)return;b("bs_curry")._1(a,void 0);e=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:d});c.go(e)}},[c,a])}function a(a){var c=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking),d=i.useContext(b("MWThreadListNewMessageState.bs").context);a=i.useState(function(){return d.entries});var e=a[0],f=i.useState(function(){return!1}),g=f[1],n=b("MWThreadListNewMessageState.bs").useDispatch(void 0),o=i.useCallback(function(a){return b("bs_curry")._1(n,0)},[n]),p=m(o);o=b("useMWChatSearchTypeaheadCallbacks").useMWChatSearchTypeaheadCallbacks(a[1],p);a=i.useCallback(function(a){return b("bs_curry")._1(g,function(a){return!0})},[g]);var q=i.useMemo(function(){return function(a,c){b("bs_curry")._1(g,function(a){return!0});return p(a,!1)}},[g,p]);i.useEffect(function(){b("bs_curry")._1(c,void 0)},[c]);b("MWThreadListNewMessageHook.bs").useHook(e);var r=i.useMemo(function(){return b("MWChatTokenizerLayoutContextualStrategy.react").createMWChatTokenizerLayoutContextualStrategy(!0,"input")},[]),s=b("MWSearchTypeaheadViewItemDisabledHook.bs").useIsDisabled(e,!1);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx("div",{className:h(j.searchInput,e.length===0?j.searchInputForContactsList:!1),children:i.jsx(b("MWChatLightSpeedSearchTypeahead.bs").make,{isDisabled:f[0],getIsViewItemDisabled:s,onAddToken:o[1],onChangeTokens:o[0],onSearchAbandon:function(a){},onSearchCompletion:function(a){},tokens:e,xstyles:k,tokenItemRenderer:b("MWInboxTokenizerTokenStrategy.react"),layoutStategyRenderer:r})}),i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("MWV2ReplyContext.bs").make,{children:i.jsx(b("MWThreadPreview.bs").make,{tokens:e,onBeforeOpenTabForGroup:a,openTabForUser:q,openTabForGroup:q,openTabForPage:l})}),fallback:i.jsx("div",{className:h(j.spinner),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})})]})}c=a;f.make=c}),null);
__d("useArmadilloDogfoodingUpsellNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4308568139195592"}),null);
__d("useArmadilloDogfoodingUpsellNUXQuery.graphql",["useArmadilloDogfoodingUpsellNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useArmadilloDogfoodingUpsellNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useArmadilloDogfoodingUpsellNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useArmadilloDogfoodingUpsellNUXQuery_facebookRelayOperation"),metadata:{},name:"useArmadilloDogfoodingUpsellNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometMessengerOutlineEntityTextNode",["Outline","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.getMessengerComposerEntity=function(a){throw c("unrecoverableViolation")("CometMessengerOutlineEntityTextNode does not implement getMessengerComposerEntity","messenger_comet")};return b}(d("Outline").TextNode);g["default"]=a}),98);
__d("CometMessengerOutlineActorNode",["CometMessengerOutlineEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.clone=function(b){return new a({id:b.__contactID,text:b.__text.slice(1)},b.__key)};function a(a,c){var d=a.id;a=a.text;a=b.call(this,"@"+a,c)||this;a.__contactID=h(d);return a}var c=a.prototype;c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="bnpdmtie diy96o5h";a.spellcheck=!1;return a};c.getMessengerComposerEntity=function(a){return{id:this.__contactID,isWeak:!1}};return a}(c("CometMessengerOutlineEntityTextNode"));function a(a){return new i(a).makeSegmented().makeDirectionless()}g.CometMessengerOutlineActorNode=i;g.createCometMessengerOutlineActorNode=a}),98);
__d("useCometOutlineComposition",["react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState;function a(a){var b=h(!1),d=b[0],e=b[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){var b=function(){e(!0)},c=function(){e(!1)};return a.addListener("root",function(a,d){d!==null&&(d.removeEventListener("compositionstart",b),d.removeEventListener("compositionend",c)),a!==null&&(a.addEventListener("compositionstart",b),a.addEventListener("compositionend",c))})},[a]);return d}g["default"]=a}),98);
__d("useCometOutlineIsEmpty",["react","useCometOutlineComposition","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(!0),d=b[0],e=b[1],f=c("useCometOutlineComposition")(a),g=h(function(){var b=a.getCurrentTextContent();return b.trim()===""&&!f},[f,a]),j=h(function(){var a=g();d!==a&&e(a)},[g,d]);c("useLayoutEffect_SAFE_FOR_SSR")(j,[j]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a.addListener("update",j)},[a,j]);return d}g["default"]=a}),98);
__d("MAWComposerUserMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MDSText.react","MWLSActor.bs","MWMessageRequestSharedTexts.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={rootSmall:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i"},rootLarge:{color:"m9osqain",marginTop:"n1l5q3vz",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i",maxWidth:"bl38xub0"},footer:{marginTop:"knvmm38d",textAlign:"oqcyycmt"}};function a(a){var c=a.thread,d=a.size;a=a.onDeleteThread;var e=c.a,f=b("MWLSActor.bs").useActor(void 0),h=b("ReStore.bs").useHook(void 0),l=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"participants").asc,{hd:e,tl:0}),function(a){var c=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"contacts").asc,{hd:a.b,tl:0}));return[a,c]})},[h,JSON.stringify(e)]));l=l.filter(function(a){return b("bs_caml").i64_neq(a[0].b,f)});var m=l.map(function(a){return a[0].b});m=m.find(function(a){return b("bs_caml").i64_neq(a,f)});if(m===void 0)return null;if(l.length===0)return null;var n=g._(/*FBT_CALL*/"Facebook \u7528\u6236"/*FBT_CALL*/);l=l[0];var o=l[1];o=o!==void 0?o.h:n;l=l[1];if(l!==void 0){var p=l.p;p=p!==void 0?p:l.h}else p=n;l=b("MWMessageRequestSharedTexts.bs").getFBUserInfoTextMessage(o);var q=b("MWMessageRequestSharedTexts.bs").getDefaultInfoTextFooter(o);return j.jsxs("div",{className:(i||(i=b("stylex")))(d==="small"?k.rootSmall:k.rootLarge),children:[j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:l}),j.jsx("div",{className:i(k.footer),children:j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MAWDeclineUserMessageRequestDialog",{name:"MAWDeclineUserMessageRequestDialog","class":"fluid"}).__setRef("MAWComposerUserMessageRequestInfoText.bs"),dialogProps:{onClose:function(a){},onDeleteThread:a,name:o,shortName:p,thread:c,contactId:m},children:function(a,c){return j.jsx(b("CometPressable.react"),{ref:c,testid:"maw_user_message_request_info_text_trigger",onPress:function(c){return b("bs_curry")._1(a,void 0)},children:j.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:q})})}})})]})}c=a;f.styles=k;f.make=c}),null);
__d("MAWMessageRequestUtil.bs",["LSMessagingThreadTypeUtil.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==="pending")return!0;else return a==="other"}function a(a){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(a.c))return g(a.e);else return!1}f.isMessageRequest=g;f.isOneOnOneMessageRequest=a}),null);
__d("FileInputAcceptValues.bs",["fileInputAcceptValues"],(function(a,b,c,d,e,f){"use strict";a=[".mp4",".mov"].concat(b("fileInputAcceptValues").PHOTO);f.allowedVideoTypes=a}),null);
__d("MAWSecureComposerUtils.bs",["BootloaderResource","FileInputAcceptValues.bs","JSResource","LSMessagingThreadTypeUtil.bs","MAWAudioUtils","MAWBackendBridge.bs","MAWImagePreProcess","MAWJob.bs","MAWThreadId.bs","MAWVideoPreProcess","MAWVideoUtils","Promise","bs_caml_option","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResource")("MWChatFeatureLimitsBlockedComposer.bs").__setRef("MAWSecureComposerUtils.bs");function a(a){return{}}function c(a){return h.createElement(b("BootloaderResource").read(i).make,a)}a={reasonResource:i,makeProps:a,make:c};function d(a,c){return(c?b("MAWImagePreProcess").imageTranscode(a,"image/webp"):a.type==="image/gif"||a.type==="image/webp"?b("Promise").resolve(a):b("MAWImagePreProcess").imageTranscode(a,"image/jpeg")).then(function(a){return b("Promise").all([b("MAWImagePreProcess").getJpegThumbnailInfo(a,400),b("MAWImagePreProcess").getImageSpec(a),b("Promise").resolve(a)])}).then(function(a){return b("Promise").resolve({TAG:0,_0:a[2],_1:{imageSpec:a[1],thumbnailUrlAndSpec:a[0]}})})}function e(a){return b("MAWVideoPreProcess").processRawVideo(a,!1).then(function(a){return b("Promise").all([b("Promise").resolve(a),b("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a)])}).then(function(a){return b("Promise").resolve({TAG:1,_0:a[0],_1:{thumbnailUrlAndSpec:a[1]}})})}function j(a){return b("MAWAudioUtils").getAudioDurationInSeconds(a).then(function(c){return b("Promise").resolve({TAG:2,_0:a,_1:{durations:c,isPtt:!0}})})}function k(a,c,d,e,f){b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(a,c).then(function(a){if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadJidByChatId({threadId:a._0}).sendAndReceive,void 0).then(function(a){if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);switch(d.TAG|0){case 0:var c=d._1;return b("MAWJob.bs").sendMediaMsg.fireAndForget(a,d._0,b("bs_caml_option").some(c.thumbnailUrlAndSpec.jpegThumbnail),c.imageSpec.width,c.imageSpec.height,c.thumbnailUrlAndSpec.width,c.thumbnailUrlAndSpec.height,void 0,void 0);case 1:c=d._1;return b("MAWJob.bs").sendMediaMsg.fireAndForget(a,d._0,b("bs_caml_option").some(c.thumbnailUrlAndSpec.jpegThumbnail),c.thumbnailUrlAndSpec.width,c.thumbnailUrlAndSpec.height,c.thumbnailUrlAndSpec.width,c.thumbnailUrlAndSpec.height,void 0,void 0);case 2:c=d._1;return b("MAWJob.bs").sendMediaMsg.fireAndForget(a,d._0,void 0,void 0,void 0,void 0,void 0,c.durations,c.isPtt)}});else return b("Promise").resolve(void 0)}),void 0,void 0)}c=["audio/*"].concat(b("FileInputAcceptValues.bs").allowedVideoTypes);function l(a,c,d){if(b("LSMessagingThreadTypeUtil.bs").isSecure(c.c)){b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(a,c.a).then(function(a){if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").deleteThread({threadId:a._0}).fireAndForget,void 0)}),void 0,void 0);return}}f.MWChatFeatureLimitsBlockedComposerLazy=a;f.imagePreprocess=d;f.videoPreprocess=e;f.audioPreprocess=j;f.sendAttachment=k;f.supportedFileTypes=c;f.onDeleteThread=l}),null);
__d("MAWSecureThreadNonAddressableContactBanner.bs",["cssVar","fbt","CometPressable.react","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSWhatsAppConnectStatus.bs","MDSRow.react","MDSRowItem.react","MDSText.react","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{borderTop:"opwvks06",position:"l9j0dhe7",zIndex:"du4w35lb"}},m={button:{position:"pmk7jnqg",end:"b5fwa0m2",top:"plgsh5y4",zIndex:"tkr6xdv7"}},n="#050505";function o(a){a=a.onPress;return k.jsx("div",{className:(j||(j=b("stylex")))(m.button),children:k.jsx(b("CometPressable.react"),{"aria-label":h._(/*FBT_CALL*/"\u95dc\u9589\u804a\u5929\u5ba4"/*FBT_CALL*/),onPress:a,overlayRadius:"50%",children:k.jsxs("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",children:[k.jsx("line",{x1:"6",x2:"18",y1:"6",y2:"18",strokeLinecap:"round",strokeWidth:"2",stroke:n}),k.jsx("line",{x1:"6",x2:"18",y1:"18",y2:"6",strokeLinecap:"round",strokeWidth:"2",stroke:n})]})})})}c={styles:m,color:n,make:o};function p(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){var e;return(e=b("ReQL.bs")).map(e.filter(e.mergeJoin(e.getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a,tl:0}),b("ReQLTable").table(c,"contacts").asc),function(a){a=a[1];if(b("bs_caml").i64_eq(a.P,b("LSWhatsAppConnectStatus.bs").whatsappNotAddressable)&&b("bs_caml").i64_ge(a.J,b("LSAuthorityLevel.bs").authoritativePendingReplacement))return b("bs_caml").i64_neq(a.a,d);else return!1}),function(a){return a[1]})},[c,JSON.stringify(a),JSON.stringify(d)]));return e!==void 0}function a(a){a=a.thread;var c=p(a.a),d=k.useState(function(){return!1}),e=d[1],f=b("LSMessagingThreadTypeUtil.bs").isGroup(a.c);d=f?!d[0]:!0;if(c&&d)return k.jsxs("div",{className:(j||(j=b("stylex")))(l.root),children:[f?k.jsx(o,{onPress:function(a){return b("bs_curry")._1(e,function(a){return!0})}}):null,k.jsx(b("MDSRow.react"),{paddingVertical:12,align:"center",expanding:!0,spacingVertical:0,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MDSText.react"),{color:"primary",type:"headlineEmphasized4",children:b("LSMessagingThreadTypeUtil.bs").isGroup(a.c)?h._(/*FBT_CALL*/"\u67d0\u4e9b\u7528\u6236\u9084\u7121\u6cd5\u67e5\u770b\u6b64\u804a\u5929\u5ba4"/*FBT_CALL*/):h._(/*FBT_CALL*/"\u9019\u4f4d\u7528\u6236\u9084\u7121\u6cd5\u67e5\u770b\u6b64\u804a\u5929\u5ba4"/*FBT_CALL*/)})})}),k.jsx(b("MDSRow.react"),{paddingVertical:4,align:"center",expanding:!0,spacingVertical:4,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:b("LSMessagingThreadTypeUtil.bs").isGroup(a.c)?h._(/*FBT_CALL*/"Pending members have been invited to join this chat. They won't see any messages sent before they join"/*FBT_CALL*/):h._(/*FBT_CALL*/"They have been invited to join this chat. They won't see any messages sent before they join"/*FBT_CALL*/)})})})]});else return null}d=a;f.styles=l;f.CloseButton=c;f.make=d}),null);
__d("MAWSecureTypingState.bs",["LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","MAWBackendBridge.bs","MAWChatState","MAWThreadId.bs","MWChatViewerChatVisibilityHook","MWLSActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c,d,e){if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)){return(d=b("ReQL.bs")).first(d.map(d.filter(d.getKeyRange(b("ReQLTable").table(a,"participants").asc,{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)}),function(c){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"contacts").asc,{hd:c.b,tl:0})),!1,function(a){return b("bs_caml").i64_eq(a.n,b("LSContactBlockedByViewerStatus.bs").unblocked)})})).then(function(a){return b("bs_belt_Option").getWithDefault(a,!1)})}else return b("Promise").resolve(!1)}function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWChatViewerChatVisibilityHook")();return h.useCallback(function(f){if(b("bs_caml").i64_ge(a.Z,b("LSAuthorityLevel.bs").authoritative)&&b("LSMessagingThreadTypeUtil.bs").isSecure(a.c)&&e){b("promiseDone")(i(c,a.a,a.c,d).then(function(d){if(d)return b("MAWThreadId.bs").ofThreadKey(c,a.a).then(function(a){if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").sendChatStateFromComposer({threadId:a._0,state:f?b("MAWChatState").TYPING:b("MAWChatState").IDLE}).fireAndForget,void 0)});else return b("Promise").resolve(void 0)}),void 0,void 0);return}},[c,JSON.stringify(a.Z),JSON.stringify(a.a),JSON.stringify(a.c),e,d])}f.useOnTypingStateChanged=a}),null);
__d("MAWSendMessage.bs",["CometHeroLogging","LSAuthorityLevel.bs","LSMessageContentType.bs","LSMessageSendStatus.bs","LSMessageSendStatusV2.bs","LSMessageViewFlag.bs","LSQuickReplyType.bs","LSTransaction.bs","MAWAdminMsg.bs","MAWBackendBridge.bs","MAWBumpThread.bs","MAWJob.bs","MAWLocalizationType","MAWThreadId.bs","MWChatInteraction.bs","MWLSActor.bs","MWLSThreadDisplayContext.bs","OfflineThreadingId.bs","Promise","ReQLTable","ReStore.bs","bs_caml_int64","bs_caml_option","bs_curry","promiseDone","qpl","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=b("useCometInteractionTracing")(b("qpl")._(30605384,"573"),"fast","INTERACTION");return function(a,g){return f(function(f){var h=b("bs_caml_int64").of_float(Date.now()),i=b("OfflineThreadingId.bs").make(void 0),j=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(f.getTraceId,void 0),null);b("MWChatInteraction.bs").set(i,j);e!==void 0&&(e?f.addMetadata("entrypoint","inbox"):f.addMetadata("entrypoint","chat"));f.addMetadata("isSecure","true");b("promiseDone")(b("MAWThreadId.bs").toThreadKey(c,a).then(function(a){return b("LSTransaction.bs").run(c,function(c){return b("ReQLTable").table(c,"messages").add({a:a,b:h,c:h,d:void 0,e:i,f:i,g:g,h:d,i:void 0,j:!1,k:b("LSMessageSendStatus.bs").sendingToServer,l:b("LSMessageSendStatusV2.bs").sendingToServer,m:!1,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0,A:void 0,B:void 0,C:void 0,D:void 0,E:void 0,F:void 0,G:void 0,H:void 0,I:void 0,J:!1,K:void 0,L:void 0,M:void 0,N:void 0,O:!1,P:b("LSMessageViewFlag.bs").uncalculated,Q:b("LSMessageContentType.bs").text,R:void 0,S:void 0,T:b("LSQuickReplyType.bs").none,U:void 0,V:b("LSAuthorityLevel.bs").optimistic,W:void 0,X:void 0,Y:void 0,Z:void 0}).then(function(e){return b("MAWBumpThread.bs").threadMutation(c,a,h,h,b("MAWAdminMsg.bs").buildLocalizedString([g],b("MAWLocalizationType").CURRENT_USER_SEND_TEXT),d)})},"readWrite")}),function(c){c=b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadJidByChatId({threadId:a}).sendAndReceive,void 0).then(function(a){if(a!==void 0)return b("MAWJob.bs").sendMsg.waitUntilPersisted(b("bs_caml_option").valFromOption(a),{content:g,offlineMsg:{msgId:i,ts:h}},void 0);else return b("Promise").resolve(void 0)});b("promiseDone")(c,void 0,void 0)})})}}f.use=a}),null);
__d("MAWSendSecureMessage.bs",["fbt","FBID.bs","LS.bs","LSAuthorityLevel.bs","LSIssueNewError","LSTransaction.bs","MAWJob.bs","MAWSecureComposerUtils.bs","MAWSendMessage.bs","MAWThreadId.bs","MAWVault","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","bs_int64","promiseDone","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a,c,d,e){var f=b("ReStore.bs").useHook(void 0),h=b("MAWSendMessage.bs").use(void 0),j=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQLTable").table(f,"participants").asc,function(c){return b("bs_caml").i64_eq(c.a,a.a)}),function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.b))})},[a,f])),k=b("bs_caml").i64_eq(a.Z,b("LSAuthorityLevel.bs").optimistic)&&b("bs_caml").i64_eq(a.c,b("MessagingThreadType.bs").secureMessageOverWaGroup);return function(i,l,m,n,o,p,q,r,s,t){l=d!==void 0?d.length!==0||r!==void 0?!0:p!==void 0:r!==void 0?!0:p!==void 0;var u=i!==void 0?i.trim():l?"":"\ud83d\udc4d";m=function(c){if(k)return b("MAWJob.bs").createGroup.waitUntilCompleted(void 0,j,b("bs_int64").to_string(a.a)).then(function(a){var c=a.error;a=a.value;if(c===void 0&&a!==void 0)return b("MAWThreadId.bs").toThreadKey(f,a.threadId);var d=g._(/*FBT_CALL*/"\u7121\u6cd5\u5efa\u7acb\u7fa4\u7d44"/*FBT_CALL*/).toString();c=b("LSTransaction.bs").run(f,function(a){return b("LSIssueNewError")(void 0,void 0,d,d,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite");b("promiseDone")(c,void 0,void 0);return b("unrecoverableViolation")("Unable to create group","messenger_e2ee_web")});else return b("Promise").resolve(a.a)};var v=function(a){if(u==="")return;var c=b("MAWVault").vault(u);b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(f,a).then(function(a){if(a)return b("bs_curry")._2(h,a._0,c)}),void 0,void 0)},w=function(a){var c=r!==void 0?[[{TAG:2,_0:r.file,_1:{durations:r.duration|0,isPtt:!0}},""]]:[],e=d!==void 0?d:[],g=p!==void 0?window.fetch(p).then(function(a){return a.blob()}).then(function(a){var c=p.includes(".webp?");return b("MAWSecureComposerUtils.bs").imagePreprocess(new File([a],"stickerFromPicker",{type:c?"image/webp":"image/png"}),!c)}).then(function(a){return b("Promise").resolve([[a,""]])}):b("Promise").resolve([]);g=g.then(function(d){d=e.concat(c,d);d.forEach(function(c){return b("MAWSecureComposerUtils.bs").sendAttachment(f,a,c[0],k,j)});return b("Promise").resolve(void 0)});b("promiseDone")(g,void 0,void 0)};n=m(void 0).then(function(a){v(a);return b("Promise").resolve(a)}).then(function(a){w(a);b("bs_curry")._1(c,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(n,void 0,void 0);return b("bs_curry")._1(e,void 0)}}f.useOnSendSecureMessage=a}),null);
__d("MAWSecureFileUploadErrorDialog.bs",["fbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{body:g._(/*FBT_CALL*/"\u4f60\u9078\u64c7\u7684\u6a94\u6848\u592a\u5927\u3002\u6a94\u6848\u5927\u5c0f\u4e0a\u9650\u662f{=size}MB"/*FBT_CALL*/,[g._param("=size",String(a))]),title:g._(/*FBT_CALL*/"\u7121\u6cd5\u4e0a\u50b3\u6a94\u6848"/*FBT_CALL*/)}}f.maxFileSizeExceeded=a}),null);
__d("MWV2ComposerMediaUploadUtil.bs",["MessagingAttachmentType.bs","URI","XComposerPhotoUploader","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_option","bs_curry","cometIsMimeTypeForMedia","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e,f,h){a=a!==void 0?a:function(a,b){};var i=d!==void 0?d:function(a,b){};d=e!==void 0?e:!1;e=new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,c){b("bs_curry")._2(i,a,c);return!0},onUploadProgress:b("bs_curry").__2(a),onUploadStart:function(a){},onUploadSuccess:function(a,d){d=b("bs_caml_array").get(d.response.payload.metadata,0);var e=d.fbid,f=d.video_id,g=d.audio_id,h=d.gif_id;d=d.file_id;e=e!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(e)):f!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(f)):g!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(g)):h!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(h)):d!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(d)):void 0;e!==void 0?b("bs_curry")._2(c,a,e):b("unrecoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:new(g||(g=b("URI")))("/ajax/mercury/upload.php")});a=d?{data:{voice_clip:!0}}:void 0;e.getAsyncFileUploadRequest(f,h,a).send()}function c(a){a=a.type;if(b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return b("MessagingAttachmentType.bs").image;else if(a==="audio/wav")return b("MessagingAttachmentType.bs").audio;else if(a==="image/gif")return b("MessagingAttachmentType.bs").animatedImage;else if(b("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return b("MessagingAttachmentType.bs").video;else return b("MessagingAttachmentType.bs").file}function d(a,c){return{attachment_fbid:a.a,offline_attachment_id:a.a,attachment_type:a.c,attachment_index:b("bs_caml_int64").of_int32(c),filename:a.e,filesize:void 0,has_media:!0,has_xma:!1,playable_url:a.j,playable_url_mime_type:a.d,playable_duration_ms:void 0,preview_url:a.j,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:[0,200],preview_height:[0,200],xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0}}function e(a,c,d){return{attachment_fbid:a,offline_attachment_id:a,attachment_type:b("MessagingAttachmentType.bs").audio,attachment_index:b("bs_caml_int64").zero,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,playable_url:URL.createObjectURL(c),playable_url_mime_type:c.type,playable_duration_ms:b("bs_caml_int64").of_float(d*1e3),preview_url:void 0,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0}}function h(a){var c=[],d=[];a.forEach(function(a){b("bs_caml").i64_eq(a.attachment_type,b("MessagingAttachmentType.bs").image)?d.push(a):c.push([a])});d.length>0&&c.unshift(d);return c}f.startUpload=a;f.getAttachmentType=c;f.getAttachment=d;f.getAudioAttachment=e;f.partition=h}),null);
__d("MAWUseMediaManager.bs",["LSMailboxType.bs","MAWBackendBridge.bs","MAWSecureComposerUtils.bs","MAWSecureFileUploadErrorDialog.bs","MWV2ComposerMediaUploadUtil.bs","OfflineThreadingId.bs","Promise","bs_belt_Option","bs_caml_int64","bs_curry","cometIsMimeTypeForMedia","promiseDone","react","useCometAlertDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=h.useState(function(){}),d=c[1],e=c[0];c=b("useCometAlertDialog")();var f=c[0],g=104857600;c=function(a){var c=a.some(function(a){return a.size>g});if(c)return b("bs_curry")._2(f,b("MAWSecureFileUploadErrorDialog.bs").maxFileSizeExceeded(100),function(a){});c=b("Promise").all(a.map(function(a){if(a.type==="image/gif"||a.type==="image/webp"||b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return b("MAWSecureComposerUtils.bs").imagePreprocess(a,!1);else if(b("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return b("MAWSecureComposerUtils.bs").videoPreprocess(a);else return b("MAWSecureComposerUtils.bs").audioPreprocess(a)})).then(function(a){var c=a.map(function(a){return[a,b("OfflineThreadingId.bs").make(void 0)]});b("bs_curry")._1(d,function(a){return c});a.forEach(function(a){switch(a.TAG|0){case 0:case 1:case 2:return b("bs_curry")._1(b("MAWBackendBridge.bs").optimisticUploadMedia({file:a._0}).fireAndForget,void 0)}});return b("Promise").resolve(void 0)});b("promiseDone")(c,void 0,void 0)};var i=function(a){return b("bs_curry")._1(d,function(b){if(b!==void 0)return b.filter(function(b){return b[1]!==a})})},j=function(a){return b("bs_curry")._1(d,function(a){})},k=h.useMemo(function(){return b("bs_belt_Option").getWithDefault(e,[]).map(function(c){var d=c[0]._0;return{a:c[1],b:b("LSMailboxType.bs").messenger,c:b("MWV2ComposerMediaUploadUtil.bs").getAttachmentType(d),d:d.type,e:d.name,f:b("bs_caml_int64").of_int32(d.size),g:void 0,h:a.a,i:void 0,j:URL.createObjectURL(d),k:void 0,l:void 0,m:void 0,n:0,o:!1,p:!1}})},[e]);return[e,c,i,j,k]}f.useMediaManager=a}),null);
__d("MWV2ChatComposerGetViewContent",["CometMessengerOutlineEntityTextNode","Outline"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var b=[],e=0;a.getViewModel().read(function(f){f=f.getRoot().getFirstChild();f instanceof d("Outline").BlockNode&&f.getChildren().forEach(function(d){if(d instanceof c("CometMessengerOutlineEntityTextNode")){var f=d.getMessengerComposerEntity(a);b.push({id:f.id,length:d.getTextContent().length,offset:e,type:"p"})}e+=d.getTextContent().length})});return b}};b=a;g["default"]=b}),98);
__d("MWPComposerEditor.bs",["LS.bs","LSTransaction.bs","LSUpdateDraftMessage","MWChatFocusComposerContext.bs","MWChatUseLatch.bs","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.bs","MWV2IsTabFocusedContext.bs","MWV2ReplyContext.bs","Outline","OutlineParagraphNode","ReStore.bs","bs_caml_obj","bs_caml_option","bs_curry","cr:11463","promiseDone","react","requireDeferred","useCometOutlineComposition","useCometOutlineIsEmpty","useCometOutlineKeyBindings","useDebounced","useDeferredModuleOnReady","useOutlinePlainText","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("getUpgradedCometUFIEmojiComposerHandler").__setRef("MWPComposerEditor.bs");function j(a){return h.useMemo(function(){return b("Outline").createEditor({theme:{paragraph:"kvgmc6g5 oygrvhab"}})},[])}function k(a,c){h.useEffect(function(){b("bs_curry")._1(c,a.getViewModel())},[a,c]),h.useEffect(function(){return a.addListener("update",c)},[c,a])}function l(a,c){c=b("bs_curry")._3(b("MWChatUseLatch.bs").useLatch,c,!0,5e3);var d=c[1],e=c[0],f=h.useRef("");h.useEffect(function(){var c=function(c){c=a.getCurrentTextContent();if(c!==f.current){f.current=c;if(c==="")return b("bs_curry")._1(d,void 0);else return b("bs_curry")._1(e,void 0)}};return a.addListener("update",c)},[e,d,a])}function m(a,c){var d=b("ReStore.bs").useHook(void 0);return h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(d,function(d){return b("LSUpdateDraftMessage")(c.a,a,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite"),void 0,void 0)},[d,JSON.stringify(c.a)])}function n(a,c,d){h.useLayoutEffect(function(){return d(function(d){if(!c&&d.keyCode===13&&!d.ctrlKey&&!d.metaKey&&!d.shiftKey&&!d.altKey){d.preventDefault();d.stopImmediatePropagation();b("bs_curry")._1(a,void 0);return"handled"}else return"not-handled"},"EDITOR")},[a,c,d])}function o(a){var c=b("useDeferredModuleOnReady")(i);h.useEffect(function(){if(!(c==null))return b("bs_curry")._1(c,a)},[a,c])}function p(a){var c=b("MWV2ReplyContext.bs").useContext(void 0),d=c.reply,e=b("usePrevious")(d);h.useEffect(function(){var c=e==null?d!==void 0:b("bs_caml_obj").caml_notequal(e,d)?!0:!1;c&&a.focus(function(a){})},[a,d,e==null?void 0:b("bs_caml_option").some(e)])}function q(a,b){return function(a,b){return a instanceof b}(a,b)}function r(a,c){h.useLayoutEffect(function(){a.update(function(a){var d=c.current;if(d===void 0)return;var e=b("bs_curry")._1(a.getRoot,void 0).getFirstChild();if(e!==null){if(!q(e,b("Outline").BlockNode))return;e.clear();var f=b("Outline").createTextNode(d);e.append(f);f.select(void 0,void 0);return}e=b("OutlineParagraphNode").createParagraphNode();f=b("Outline").createTextNode(d);e.append(f);b("bs_curry")._1(a.getRoot,void 0).append(e);f.select(void 0,void 0)},"MWV2ComposerEditor.prepopulate",function(a){})},[a,c])}var s=b("cr:11463")==null?function(a){}:b("cr:11463").useHook;function a(a){var c=a.thread,d=a.isPreviewThread,e=a.mediaStaging,f=a.onSendMessage,g=a.onSendEmptyMessage,i=a.onTypingStateChanged;a=a.children;var q=c.H,t=h.useRef(null);q=h.useRef(q);b("bs_curry")._1(s,t);var u=j(t),v={contents:function(a){}},w=m(u,c),x=b("useDebounced")(w,2e3,void 0),y=h.useRef(void 0);c=b("MWV2ComposerHasContentContext.bs").useContext(void 0);var z=c.shouldClearDraftMessageRef,A=c.hasContentRef;h.useEffect(function(){return function(a){if(z!==void 0&&z.current)return b("bs_curry")._1(w,"");a=y.current;if(a!==void 0)return b("bs_curry")._1(w,a)}},[]);c=h.useCallback(function(a){a=u.getCurrentTextContent();y.current=a;A!==void 0&&(A.current=a!=="");return x(a)},[u,w]);k(u,c);l(u,i);c=b("useCometOutlineKeyBindings")(u);i=b("useCometOutlineComposition")(u);var B=b("useCometOutlineIsEmpty")(u,i);e=e.length>0;var C=!B||e;B=h.useContext(b("MWChatFocusComposerContext.bs").context);var D=B.setFocusComposer;h.useEffect(function(){b("bs_curry")._1(D,function(a){return u.focus(function(a){})})},[u]);var E=b("MWV2IsTabFocusedContext.bs").useContext(void 0);h.useEffect(function(){E&&!d&&u.focus(function(a){})},[u,E,d]);p(u);r(u,q);var F=function(a,c,d,e,g,h,i,j,k,l){b("bs_curry").app(f,[a,c,d,e,g,h,i,j,k,void 0]);return u.focus(function(a){})};e=h.useCallback(function(a){if(C){a=b("MWV2ChatComposerGetViewContent").getRanges(u);F(u.getCurrentTextContent(),a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}else b("bs_curry")._1(g,void 0);return b("bs_curry")._1(v.contents,void 0)},[u,F,C]);n(e,i,c);v.contents=b("useOutlinePlainText")(u,!1);o(u);return b("bs_curry")._5(a,u,C,t,c,e)}c=a;f.$MWUseKeyCommandsForComposer$OR$null$requireCond=b("cr:11463");f.make=c}),null);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForOutline.react",["CometMentionsForOutline.react","CometMessengerOutlineActorNode","CometOutlineEventPriority","MWChatComposerMentionsTypeaheadListItem.react","react","useCometOutlineHasFocus","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.addFocusListener,e=a.addKeyBinding,f=a.editor,g=a.participants,k=a.setAriaActiveDescendantID,l=a.setAriaControls,m=a.threadFBID;a=c("useCometOutlineHasFocus")(b);b=j(function(){return{participants:g,threadFBID:m}},[g,m]);b=c("useMWChatMentionsDataSourceResolverConfig")(b);b=b.resolver;var n=i(function(a){return e(a,d("CometOutlineEventPriority").CometOutlineEventPriority.CRITICAL)},[e]),o=i(function(a){var b=a.id;a=a.text;return d("CometMessengerOutlineActorNode").createCometMessengerOutlineActorNode({id:b,text:a})},[]),p=i(function(a,b){k(a),l(b)},[k,l]);return h.jsx(c("CometMentionsForOutline.react"),{addKeyBinding:n,createMentionNode:o,dataSourceResolver:b,editor:f,hasFocus:a,onAriaChange:p,position:"above",viewItemStrategyRenderer:c("MWChatComposerMentionsTypeaheadListItem.react")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometOutlineContentEditable.react","CometOutlinePlaceholder.react","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForOutline.react","cr:2012305","react","requireDeferred","stylex","useCometOutlineFocusListeners","useCometOutlinePlaceholder","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useState,l=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),m={container:{flexGrow:"buofh1pr",minWidth:"hpfvmrgz",backgroundColor:"b3i9ofy5",borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"czkt41v7",borderBottomEndRadius:"fmqxjp7s",borderBottomStartRadius:"emzo65vh",boxSizing:"rq0escxv"},editor:{flexGrow:"buofh1pr",maxHeight:"tw4czcav",minHeight:"cehpxlet",minWidth:"hpfvmrgz",overflowY:"eg9m0zos"},editorWrapper:{position:"l9j0dhe7",minWidth:"hpfvmrgz",display:"j83agx80",flexGrow:"buofh1pr",marginTop:"aov4n071",marginBottom:"bi6gxh9e",marginStart:"ozuftl9m",marginEnd:"nhadk0th"},inputRow:{display:"j83agx80",flexWrap:"lhclo0ds",justifyContent:"bkfpd7mw"}};function n(a,c){b("cr:2012305")!==null&&a!=null&&b("cr:2012305").trackTypingPerf(a,"MWChatComposer",c,{editor:"OutlineEditor"})}var o=h._(/*FBT_CALL*/"\u8a0a\u606f"/*FBT_CALL*/).toString();function a(a){var b=a.addKeyBinding,e=a.ariaDescribedBy,f=a.contentEditableRef,g=a.editor,h=a.endContent,p=a.handlePastedFiles,q=a.participants,r=a.startContent,s=a.testId,t=a.threadID,u=a.topContent;a=a.useMentionsPlugin;var v=k(),w=v[0];v=v[1];var x=k(),y=x[0];x=x[1];var z=j(function(a){var b=f.current;if(a==null||b===a)return;f.current=a;g.setRootElement(a);n(a,b)},[f,g]),A=c("useCometOutlinePlaceholder")(g),B=c("useDeferredModuleOnReady")(l),C=d("useCometOutlineFocusListeners").useCometOutlineFocusListeners(g);return i.jsxs("div",{className:c("stylex")(m.container),children:[u,i.jsxs("div",{className:c("stylex")(m.inputRow),children:[r,i.jsxs("div",{className:c("stylex")(m.editorWrapper),children:[i.jsx(c("CometOutlineContentEditable.react"),{ariaActiveDescendantID:w,ariaControls:y,ariaDescribedBy:e,ariaLabel:o,contentEditableRef:z,tabIndex:0,webDriverTestID:s,xstyle:m.editor}),A&&i.jsx(c("CometOutlinePlaceholder.react"),{children:"Aa"})]}),h]}),a&&i.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForOutline.react"),{addFocusListener:C,addKeyBinding:b,editor:g,participants:q,setAriaActiveDescendantID:v,setAriaControls:x,threadFBID:t}),B==null?null:i.jsx(B,{editor:g,handlePastedFiles:p})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatGrowingHotlikeButton.bs",["fbt","CometEmoji.bs","CometPressable.react","EmojiRenderer","LSHotEmojiSize.bs","MWChatChatButtonColorConstants.bs","MWChatHotLikeEmitterContext.bs","MWLikeSvgIcon.bs","MWPTooltip.react","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","bs_caml_format","bs_caml_option","bs_curry","clearTimeout","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={hotlike_button:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"cgat1ltu",marginStart:"kkf49tns"},custom_emoji_button:{paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",paddingEnd:"s5rnanwd",paddingStart:"gxklfzlk",marginEnd:"cgat1ltu",marginStart:"kkf49tns"}};function a(a){var c=a.onSendMessage,d=a.color;a=a.thread;var e=a.w,f=b("MWChatHotLikeEmitterContext.bs").useHook(void 0);a=j.useState(function(){return 0});var h=a[1],l=a[0],m=j.useRef(void 0);a=j.useState(function(){return!0});var n=a[1];a=a[0];var o=function(a){return b("bs_curry")._1(f.notify,3)},p=function(a){a=m.current;if(a!==void 0){b("clearTimeout")(b("bs_caml_option").valFromOption(a));return}},q=function(a){p(void 0);a=b("setTimeout")(o,3e3);m.current=b("bs_caml_option").some(a)},r=function(a){if(l!==0){b("bs_curry")._1(h,function(a){return 0});p(void 0);return b("bs_curry")._1(f.notify,3)}},s=function(a){l!==0&&(a.stopPropagation(),a.preventDefault());a.button!==0&&(b("bs_curry")._1(h,function(a){return Date.now()}),b("bs_curry")._1(f.notify,0),q(void 0));return b("bs_curry")._1(n,function(a){return!1})},t=function(a){if(a<b("MessengerHotLikeUtils").SizeTimes.small)return b("LSHotEmojiSize.bs").small;else if(a<b("MessengerHotLikeUtils").SizeTimes.medium)return b("LSHotEmojiSize.bs").medium;else if(a<b("MessengerHotLikeUtils").SizeTimes.large)return b("LSHotEmojiSize.bs").large;else return b("LSHotEmojiSize.bs").small},u=function(a){a=Date.now()-l;var d=0;if(e!==void 0&&e!==""){var g=b("MessengerSupportedEmojiUtils").getNewEmojiData(e,"large");g==null?void 0:g.url;g=t(a);b("bs_curry").app(c,[e,void 0,void 0,g,void 0,void 0,void 0,void 0,void 0,void 0])}else d=1;if(d===1){g=b("bs_caml_format").caml_int64_of_string(b("MessengerHotLikeUtils").getStickerIDForTime(a));b("bs_curry").app(c,[void 0,void 0,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}l!==0&&(b("bs_curry")._1(h,function(a){return 0}),p(void 0),b("bs_curry")._1(f.notify,1));return b("bs_curry")._1(n,function(a){return!0})};if(e!==void 0&&e!==""){var v=g._(/*FBT_CALL*/"\u50b3\u9001{emoji}"/*FBT_CALL*/,[g._param("emoji",e)]),w=function(a){var c=b("EmojiRenderer").parse(e).map(function(a){return a.emoji});if(c.length!==1)return j.jsx("span",{children:e});c=c[0];return j.jsx(b("CometEmoji.bs").make,{emoji:c,size:a})},x=g._(/*FBT_CALL*/"\u50b3\u9001"/*FBT_CALL*/);x=a?j.jsxs(j.Fragment,{children:[j.jsxs("span",{children:[x," "]}),w(16)]}):null;return j.jsx(b("MWPTooltip.react"),{tooltip:x,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":v,testid:"messenger_hotlike_emoji_button",onHoverOut:r,onPressIn:s,onPress:u,overlayRadius:"50%",xstyle:function(a){return[k.custom_emoji_button]},children:w(20)})})}x=g._(/*FBT_CALL*/"\u9001 1 \u500b\u8b9a"/*FBT_CALL*/);v=a?x:null;w={className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),size:"20"};d!==void 0&&(w.color=d);return j.jsx(b("MWPTooltip.react"),{tooltip:v,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":x,testid:"messenger_hotlike_button",onHoverOut:r,onPressIn:s,onPress:u,overlayRadius:"50%",xstyle:function(a){return[k.hotlike_button]},children:j.jsx(b("MWLikeSvgIcon.bs").make,w)})})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2ComposerAttachmentButton.bs",["fbt","CometFileSelector.re","CometPressable.react","MWChatComposerIcons.bs","MWPTooltip.react","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={button:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"}},k=g._(/*FBT_CALL*/"\u9644\u52a0\u76f8\u7247\u6216\u5f71\u7247"/*FBT_CALL*/);function l(a){return i.useCallback(function(c){c=Array.from(c);if(c.length>0)return b("bs_curry")._1(a,c)},[a])}function a(a){var c=a.color,d=a.onAttachmentsAdded,e=a.supportedFileTypes,f=a.disabled;a=l(d);d={children:function(a){return i.jsx(b("MWPTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,disabled:f,testid:"composer_file_uploader",onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayRadius:"50%",xstyle:function(a){return[j.button]},children:i.jsx(b("MWChatComposerIcons.bs").Photo.make,{size:20,fill:f?void 0:c})}),forceInlineDisplay:!0})},multiple:!0,onFilesSelected:a};e!==void 0&&(d.accept=b("bs_caml_option").valFromOption(e));return i.jsx(b("CometFileSelector.re").make,d)}c=a;f.label=k;f.useOnFilesSelected=l;f.make=c}),null);
__d("MWV2ComposerEmojiButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResourceForInteraction","MWChatComposerIcons.bs","MWPTooltip.react","bs_curry","cometUFIAddEmojiToComposerForOutline","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u9078\u64c7\u8868\u60c5\u7b26\u865f"/*FBT_CALL*/),k={button:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"}};function a(a){var c=a.editor,d=a.color;a=function(a){b("cometUFIAddEmojiToComposerForOutline")(a,c)};return i.jsx(b("CometLazyPopoverTrigger.react"),{fallback:i.jsx(b("CometPopoverLoadingState.react"),{withArrow:!0}),onVisibilityChange:function(a){},popoverResource:b("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource",{name:"MWV2ComposerEmojiPicker","class":"fluid"}).__setRef("MWV2ComposerEmojiButton.bs"),popoverProps:{onSelect:a},align:"end",children:function(a,c,e,f,g,h,l){return i.jsx(b("MWPTooltip.react"),{tooltip:j,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":j,ref:a,testid:"composer_emoji_picker",onHoverIn:b("bs_curry").__1(f),onHoverOut:function(a){return b("bs_curry")._1(g,void 0)},onPressIn:b("bs_curry").__1(h),onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayRadius:"50%",xstyle:function(a){return[k.button]},children:i.jsx(b("MWChatComposerIcons.bs").Emoji.make,{size:20,fill:d})})})}})}c=a;f.label=j;f.styles=k;f.make=c}),null);
__d("MWV2ComposerGifButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWPTooltip.react","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={button:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"}},k=g._(/*FBT_CALL*/"\u9078\u64c7 GIF"/*FBT_CALL*/);function l(a,c,d,e){return b("LSDict").fromObject({playable_url:void 0,playable_url_fallback:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_mime_type:void 0,preview_url:a,preview_url_fallback:void 0,preview_url_expiration_timestamp_ms:void 0,preview_url_mime_type:void 0,preview_width:d,preview_height:c})}function m(a){return i.useCallback(function(c){var d=b("bs_caml_format").caml_int64_of_string(c.platformFBID),e=c.source.url;return b("bs_curry").app(a,[void 0,void 0,void 0,void 0,d,e,b("bs_caml_option").some(l(e,b("bs_caml_int64").of_int32(c.source.height),b("bs_caml_int64").of_int32(c.source.width),void 0)),void 0,void 0,void 0])},[a])}function a(a){var c=a.color,d=a.onSendMessage,e=a.disabled;a=m(d);return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWChatAnimatedImageFlyout.react").__setRef("MWV2ComposerGifButton.bs"),disableAutoFlip:!0,popoverProps:{onSelect:b("bs_curry").__1(a),testid:"mw_gif_picker"},align:"middle",position:"above",children:function(a,d,f,g,h,l,m){return i.jsx(b("MWPTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,disabled:e,ref:a,onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(h,void 0)},onPressIn:b("bs_curry").__1(l),onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[j.button]},children:i.jsx(b("MWChatComposerIcons.bs").Gif.make,{size:20,fill:e?void 0:c})}),forceInlineDisplay:!0})}})}c=a;f.label=k;f.useOnGifSelect=m;f.make=c}),null);
__d("MWV2ComposerMediaStaging.bs",["fbt","ix","CometFileSelector.re","CometImage.react","CometImageCover.react","CometPressable.react","MDSText.react","MWChatFileIcon.bs","MWV2ComposerAttachmentButton.bs","MWV2ComposerMediaProgressBar.bs","MessagingAttachmentType.bs","TetraCircleButton.react","TetraIcon.react","bs_caml","bs_caml_option","bs_curry","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",width:"tmrshh9y",marginEnd:"tvfksri0",position:"l9j0dhe7",backgroundColor:"n1jkxfxr",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem"}};function m(a){var c=a.supportedFileTypes;a=a.onAttachmentsAdded;a=b("MWV2ComposerAttachmentButton.bs").useOnFilesSelected(a);a={children:function(a){return k.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u4e0a\u50b3\u5176\u4ed6\u76f8\u7247\uff0f\u5f71\u7247"/*FBT_CALL*/),onPress:function(c){return b("bs_curry")._1(a,void 0)},xstyle:function(a){return[l.root]},children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("481777"),24),testid:"composer_attachment_area_photo_uploader",color:"primary"})})},multiple:!0,onFilesSelected:a};c!==void 0&&(a.accept=b("bs_caml_option").valFromOption(c));return k.jsx(b("CometFileSelector.re").make,a)}c={styles:l,make:m};var n={button:{position:"pmk7jnqg",top:"nezaghv5",end:"e712q9ov"}};function o(a){var c=a.onPress;return k.jsx("div",{className:(j||(j=b("stylex")))(n.button),children:k.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(h("478231"),12),label:g._(/*FBT_CALL*/"\u79fb\u9664\u9644\u4ef6"/*FBT_CALL*/),onPress:function(a){return b("bs_curry")._1(c,void 0)},size:24,type:"overlay"})})}d={styles:n,make:o};var p={video:{objectFit:"bixrwtb6"},playIcon:{position:"pmk7jnqg",start:"kfkz5moi",top:"rk01pc8j",marginStart:"fnu23jab",marginTop:"gy6hb44f"},file:{display:"j83agx80",alignItems:"bp9cbjyn",userSelect:"abiwlrkh",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},fileContent:{flexGrow:"buofh1pr"}};function q(a){a=a.mediaStaging;var c=a.c;if(b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").video)){var d=a.j;if(d!==void 0)return k.jsxs(k.Fragment,{children:[k.jsx("video",{src:d,width:"48",height:"48",className:(j||(j=b("stylex")))(p.video)}),k.jsx("div",{className:j(p.playIcon),children:k.jsx(b("CometImage.react"),{src:h("354763")})})]});else return null}if(!b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").image))return k.jsxs("div",{className:(j||(j=b("stylex")))(p.file),children:[k.jsx(b("MWChatFileIcon.bs").make,{}),k.jsx("div",{className:j(p.fileContent),children:k.jsx(b("MDSText.react"),{type:"headline4",numberOfLines:2,children:a.e})})]});d=a.j;if(d!==void 0)return k.jsx(b("CometImageCover.react"),{alt:"",src:d});else return null}e={styles:p,make:q};var r={itemContainer:{flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",width:"tmrshh9y",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"w0hvl6rk",marginStart:"hcukyx3x",position:"l9j0dhe7"},previewContainer:{position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"m7zwrmfr",width:"tmrshh9y",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem"},fileContainer:{width:"k5ud4834"},filePreviewContainer:{width:"k5ud4834",backgroundColor:"acsorfik"}};function s(a){var c=a.mediaStaging,d=a.onAttachmentRemoved;a=k.useCallback(function(a){return b("bs_curry")._1(d,c.a)},[]);var e=b("bs_caml").i64_neq(c.c,b("MessagingAttachmentType.bs").video)&&b("bs_caml").i64_neq(c.c,b("MessagingAttachmentType.bs").image);return k.jsxs("div",{className:(j||(j=b("stylex")))(r.itemContainer,e?r.fileContainer:!1),children:[k.jsxs("div",{className:j(r.previewContainer,e?r.filePreviewContainer:!1),children:[k.jsx(q,{mediaStaging:c}),k.jsx(b("MWV2ComposerMediaProgressBar.bs").make,{mediaStaging:c,height:4})]}),k.jsx(o,{onPress:a})]})}var t={styles:r,make:s},u={container:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"jifvfom9",flexWrap:"owycx6da",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq",overflowX:"d76ob5m9",width:"k4urcfbm",boxSizing:"rq0escxv"}};function a(a){var c=a.mediaStaging,d=a.onAttachmentRemoved,e=a.onAttachmentsAdded;a=a.supportedFileTypes;if(c.length===0)return null;else return k.jsxs("div",{className:(j||(j=b("stylex")))(u.container),children:[c.map(function(a){return k.jsx(s,{mediaStaging:a,onAttachmentRemoved:d},a.a)}),k.jsx(m,{supportedFileTypes:a,onAttachmentsAdded:e})]})}a=a;f.UploadPlaceholder=c;f.CloseButton=d;f.Preview=e;f.StagingItem=t;f.styles=u;f.make=a}),null);
__d("MWV2ComposerPersistentMenuButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","FBID.bs","JSResource","MWChatChatButtonColorConstants.bs","MWPTooltip.react","bs_curry","bs_int64","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=g._(/*FBT_CALL*/"\u67e5\u770b\u529f\u80fd\u8868\u9078\u9805"/*FBT_CALL*/),l={button:{flexShrink:"pfnyh3mw",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"cgat1ltu",marginStart:"kkf49tns"}};function a(a){var c=a.thread,d=a.color,e=a.onSendMessage;a=function(a){var c=a.title;a=a.id;return b("bs_curry").app(e,[c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0])};return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.bs"),popoverProps:{onClose:function(a){},onSelect:a,pageId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.a))},align:"end",children:function(a,c,e,f,g,h,m){return j.jsx(b("MWPTooltip.react"),{tooltip:k,position:"above",children:j.jsx(b("CometPressable.react"),{label:k,ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayRadius:"50%",xstyle:function(a){return[l.button]},children:j.jsx("svg",{className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey),width:"20",height:"20",viewBox:"0 0 24 18",children:j.jsxs("g",{stroke:d,strokeWidth:"2.5",strokeLinecap:"round",children:[j.jsx("path",{d:"M1.5,1.5 H22.5"}),j.jsx("path",{d:"M1.5,9 H22.5"}),j.jsx("path",{d:"M1.5,16.5 H22.5"})]})})}),forceInlineDisplay:!0})}})}c=a;f.make=c}),null);
__d("MWV2ComposerPlusButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MWChatAudioLog.bs","MWChatComposerIcons.bs","MWPTooltip.react","Navigator.bs","Promise","bs_caml_option","bs_curry","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var c=i.useState(function(){return 0}),d=c[1],e=c[0];c=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog").__setRef("MWV2ComposerPlusButton.bs"));var f=c[0],g=function(a){return f({onClose:function(a){},onAllow:function(a){},showNoPermissionsContent:!0},function(a){})},h=function(c){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(c){d(function(a){return 1});b("bs_curry")._1(a.start,c);return b("Promise").resolve(void 0)})["catch"](function(a){a.name==="NotAllowedError"?(d(function(a){return 2}),g(void 0)):d(function(a){return 3});b("MWChatAudioLog.bs").logBrowserDenyAccess(void 0);return b("Promise").resolve(void 0)})},j=function(a){return f({onClose:function(a){},onAllow:function(a){return h(void 0)},showNoPermissionsContent:!1},function(a){})};return function(a){if(e>=3)return h(void 0);switch(e){case 0:a=b("Navigator.bs").query({name:"microphone"});if(a!==void 0){b("bs_caml_option").valFromOption(a).then(function(a){a=a.state;switch(a){case"denied":d(function(a){return 2});g(void 0);break;case"granted":h(void 0);break;case"prompt":j(void 0);break;default:j(void 0)}return b("Promise").resolve(void 0)})["catch"](function(a){j(void 0);return b("Promise").resolve(void 0)});return}else{h(void 0);return b("MWChatAudioLog.bs").logMicAccessCheckFailed(void 0)}case 1:return h(void 0);case 2:return g(void 0)}}}var k={plusButton:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginTop:"aahdfvyu",marginBottom:"tvmbv18p",marginEnd:"cgat1ltu",marginStart:"kkf49tns"}};function a(a){var c=a.thread,d=a.color,e=a.onSendMessage,f=a.onAttachmentsAdded,h=a.voiceRecorder,l=a.supportedFileTypes;a=a.isInputExpanded;var m=i.useState(function(){return!1}),n=m[1],o=function(a){return b("bs_curry")._1(n,function(b){return a})},p=j(h),q=h.state!==0,r=q?g._(/*FBT_CALL*/"\u95dc\u9589"/*FBT_CALL*/):m[0]?g._(/*FBT_CALL*/"\u95dc\u9589\u66f4\u591a\u52d5\u4f5c"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u958b\u555f\u66f4\u591a\u52d5\u4f5c"/*FBT_CALL*/);return i.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:o,popoverResource:b("JSResourceForInteraction")("MWV2ComposerOverflowMenu").__setRef("MWV2ComposerPlusButton.bs"),popoverProps:{threadKey:c.a,color:d,onSendMessage:e,onAttachmentsAdded:f,onPressVoiceClip:p,supportedFileTypes:l,isInputExpanded:a,onClose:function(a){}},align:"start",position:"above",preloadTrigger:"button",children:function(a,c,e,f,g,j,l){return i.jsx(b("MWPTooltip.react"),{tooltip:r,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":r,ref:a,testid:"composer_actions_button",onHoverIn:b("bs_curry").__1(f),onHoverOut:function(a){return b("bs_curry")._1(g,void 0)},onPressIn:b("bs_curry").__1(j),onPress:function(a){if(q){b("bs_curry")._1(h.reset,void 0);return b("MWChatAudioLog.bs").logDeleteRecording(void 0)}else return b("bs_curry")._1(c,void 0)},overlayRadius:"50%",xstyle:function(a){return[k.plusButton]},children:i.jsx(b("MWChatComposerIcons.bs").MoreActions.make,{size:20,fill:d,isRotated:q})})})}})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2ComposerRoundedCorners.bs",["Locale","react","stylex","useUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={roundedCornerTopRight:{fill:"qbubdy2e",position:"pmk7jnqg",top:"kr520xx4",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerBottomRight:{fill:"qbubdy2e",position:"pmk7jnqg",bottom:"i09qtzwb",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerRtl:{transform:"c3knoul3"},svg:{display:"a8c37x1j"}};function a(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerTopRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"18px",height:"18px",className:h(j.svg),children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-18",y:"0",width:"36",height:"36"}),i.jsx("circle",{fill:"black",cx:"0",cy:"18",r:"18"})]})}),i.jsx("rect",{x:"0",y:"0",width:"18",height:"18",mask:"url(#"+(a+")")})]})})}d={make:a};function c(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerBottomRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"18px",height:"18px",className:h(j.svg),children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-18",y:"0",width:"36",height:"36"}),i.jsx("circle",{fill:"black",cx:"0",cy:"0",r:"18"})]})}),i.jsx("rect",{x:"0",y:"0",width:"18",height:"18",mask:"url(#"+(a+")")})]})})}e={make:c};f.styles=j;f.TopRight=d;f.BottomRight=e}),null);
__d("MWV2ComposerSendButton.bs",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","MWPTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=g._(/*FBT_CALL*/"\u6309 Enter \u5373\u53ef\u50b3\u9001"/*FBT_CALL*/),l={button:{flexShrink:"pfnyh3mw",flexGrow:"kb5gq1qc",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"cgat1ltu",marginStart:"kkf49tns"}};function a(a){var c=a.color;a=a.onPress;return j.jsx(b("MWPTooltip.react"),{tooltip:k,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{label:k,testid:"chat_send_button",onPress:a,overlayRadius:"50%",xstyle:function(a){return[l.button]},children:j.jsx("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),children:j.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:c})})}),forceInlineDisplay:!0})}c=a;f.make=c}),null);
__d("MWV2ComposerStickerButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWPTooltip.react","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={button:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"},flyoutRoot:{width:"tjny6qan"}},l=g._(/*FBT_CALL*/"\u9078\u64c7\u8cbc\u5716"/*FBT_CALL*/);function m(a,c,d,e){return b("LSDict").fromObject({playable_url:void 0,playable_url_fallback:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_mime_type:void 0,preview_url:a,preview_url_fallback:void 0,preview_url_expiration_timestamp_ms:void 0,preview_url_mime_type:void 0,preview_width:d,preview_height:c})}function n(a,c){return j.useCallback(function(d){return function(e,f){e=f.animated_uri;e=b("bs_belt_Option").isSome(e)?e:f.uri;if(c)return b("bs_curry").app(a,[void 0,void 0,void 0,void 0,void 0,b("bs_belt_Option").getExn(e),void 0,void 0,void 0,void 0]);else return b("bs_curry").app(a,[void 0,void 0,b("bs_caml_format").caml_int64_of_string(d),void 0,void 0,void 0,b("bs_caml_option").some(m(e,[0,128],[0,128],void 0)),void 0,void 0,void 0])}},[a,c])}function a(a){var c=a.color,d=a.onSendMessage,e=a.disabled;a=a.useSecureSend;d=n(d,a);return j.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){},popoverResource:b("JSResource")("MWChatStickersFlyoutForJSResource.react").__setRef("MWV2ComposerStickerButton.bs"),disableAutoFlip:!0,popoverProps:{className:(i||(i=b("stylex")))(k.flyoutRoot),onClose:function(a){},onStickerSelect:d,shouldHideDefaultPacks:a},align:"middle",position:"above",children:function(a,d,f,g,h,i,m){return j.jsx(b("MWPTooltip.react"),{tooltip:l,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":l,disabled:e,ref:a,testid:"chat_sticker_button",onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(h,void 0)},onPressIn:b("bs_curry").__1(i),onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[k.button]},children:j.jsx(b("MWChatComposerIcons.bs").Sticker.make,{size:20,fill:e?void 0:c})}),forceInlineDisplay:!0})}})}c=a;f.styles=k;f.label=l;f.useOnStickerSelect=n;f.make=c}),null);
__d("MWV2UseVoiceRecorder.bs",["MWChatAudioLog.bs","MWChatRecorderUtilsWorkerResource","MWConsole","Promise","WebWorker","bs_caml_option","bs_curry","clearTimeout","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,b){if(typeof b==="number")switch(b){case 0:if(typeof a==="number")return a;switch(a.TAG|0){case 0:return{TAG:1,_0:a._1,_1:0};case 1:return{TAG:2,_0:a._0,_1:a._1};case 2:return{TAG:1,_0:a._0,_1:a._1}}case 1:return{TAG:1,_0:60,_1:0};case 2:return 0}else switch(b.TAG|0){case 0:return{TAG:0,_0:b._0,_1:0};case 1:var c=b._0;if(typeof a==="number")return a;switch(a.TAG|0){case 0:return{TAG:0,_0:a._0,_1:c};case 1:return{TAG:1,_0:c,_1:a._1};case 2:return{TAG:2,_0:c,_1:a._1}}case 2:c=b._0;if(typeof a==="number")return a;switch(a.TAG|0){case 0:return a;case 1:b=a._0;if(c===b)return{TAG:1,_0:b,_1:0};else return{TAG:1,_0:b,_1:c};case 2:b=a._0;if(c===b)return{TAG:1,_0:b,_1:0};else return{TAG:2,_0:b,_1:c}}}}function j(a){if(window.AudioContext!==void 0)return b("bs_caml_option").some(new window.AudioContext());else if(window.webkitAudioContext!==void 0)return b("bs_caml_option").some(new window.webkitAudioContext());else return}function a(a){a=h.useReducer(i,0);var c=a[1],d=a[0],e=b("useIsMountedRef")(),f=h.useRef(void 0),g=h.useRef([]),k=h.useRef([]),l=h.useRef(void 0),m=h.useRef(void 0),n=h.useRef(void 0),o=h.useRef(void 0),p=h.useRef(void 0),q=h.useCallback(function(a){if(!e.current)return;var d=URL.createObjectURL(a);n.current=d;var f=new Audio(d);f.addEventListener("canplay",function(d){m.current=b("bs_caml_option").some(f);d=f.duration;c({TAG:1,_0:d});d={file:a,duration:d};o.current=d;var e=p.current;if(e!==void 0)return b("bs_curry")._1(e,d)});f.addEventListener("timeupdate",function(a){a=m.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).currentTime;return c({TAG:2,_0:a})});f.addEventListener("durationchange",function(a){a=m.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).duration;if(!Number.isNaN(a))return c({TAG:1,_0:a})})},[]),r=h.useCallback(function(a){a=f.current;var c=l.current;if(a===void 0)return;if(c===void 0)return;var d=g.current,e=k.current;d={buffersL:d,buffersR:e,sampleRate:a};b("bs_caml_option").valFromOption(c).postMessage(d)},[]),s;s=typeof d==="number"||d.TAG!==0?!1:!0;var t=h.useCallback(function(a){if(!s)return;a=a.inputBuffer;var b=a.getChannelData(0).slice();a=a.getChannelData(1).slice();g.current.push(b);k.current.push(a)},[s]);h.useEffect(function(){if(typeof d==="number")return;if(d.TAG!==0)return;var a=d._0;g.current=[];k.current=[];var c={contents:void 0},e={contents:void 0};e.contents=j(void 0);var h=e.contents;if(h!==void 0){h=b("bs_caml_option").valFromOption(h);var i=h.destination;f.current=h.sampleRate;var m=h.createScriptProcessor(4096,2,2);c.contents=b("bs_caml_option").some(m);h=h.createMediaStreamSource(a);l.current=b("bs_caml_option").some(new(b("WebWorker"))(b("MWChatRecorderUtilsWorkerResource")).setMessageHandler(b("bs_curry").__1(q)).setAllowCrossPageTransition(!0).execute());m.addEventListener("audioprocess",t);h.connect(m);m.connect(i)}b("MWChatAudioLog.bs").logClickStartRecording(void 0);return function(d){a.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}});d=e.contents;d!==void 0&&b("bs_caml_option").valFromOption(d).close();d=c.contents;if(d!==void 0){b("bs_caml_option").valFromOption(d).removeEventListener("audioprocess",t);return}}},[s]);var u=b("usePrevious")(d);h.useEffect(function(){!(u==null)&&typeof u!=="number"&&u.TAG===0&&typeof d!=="number"&&d.TAG===1&&b("bs_curry")._1(r,void 0)},[u,d]);h.useEffect(function(){if(!s)return;var a=Date.now(),d={contents:void 0},e=function e(f){f=(Date.now()-a)/1e3;if(f>=60)return c(1);else{c({TAG:1,_0:f});d.contents=b("bs_caml_option").some(b("setTimeout")(e,1e3));return}};d.contents=b("bs_caml_option").some(b("setTimeout")(e,1e3));return function(a){a=d.contents;if(a!==void 0){b("clearTimeout")(b("bs_caml_option").valFromOption(a));return}}},[s]);a=h.useCallback(function(a){return c({TAG:0,_0:a})},[]);var v=h.useCallback(function(a){c(2);m.current=void 0;o.current=void 0;f.current=void 0;a=n.current;if(a!==void 0){URL.revokeObjectURL(a);n.current=void 0;return}},[]),w=h.useCallback(function(a){var d=m.current;if(d===void 0)return c(0);d=b("bs_caml_option").valFromOption(d);if(typeof a==="number")return c(0);switch(a.TAG|0){case 0:return c(0);case 1:d.play().then(function(a){c(0);return b("Promise").resolve(void 0)})["catch"](function(a){b("MWChatAudioLog.bs").logBrowserDenyAccess(void 0);return b("Promise").resolve(void 0)});return;case 2:d.pause();return c(0)}},[m]),x=h.useCallback(function(a){return new(b("Promise"))(function(d,c){c=o.current;if(c!==void 0)return d(c);p.current=function(a){return d(a)};if(typeof a==="number"||a.TAG!==0)return;else return b("bs_curry")._1(w,a)})},[]);return{state:d,start:a,reset:v,toggle:w,audioEl:m,getVoiceClip:x}}f.useVoiceRecorder=a}),null);
__d("MWV2ComposerView.bs",["CometMessengerComposerInner.react","FBID.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","Locale","MAWGating.bs","MWLSActor.bs","MWPTooltipGroup.react","MWUseAriaDescribedByForComposer.bs","MWV2ChatGrowingHotlikeButton.bs","MWV2ComposerAttachmentButton.bs","MWV2ComposerEmojiButton.bs","MWV2ComposerGifButton.bs","MWV2ComposerMediaStaging.bs","MWV2ComposerPersistentMenuButton.bs","MWV2ComposerPlusButton.bs","MWV2ComposerRoundedCorners.bs","MWV2ComposerSendButton.bs","MWV2ComposerStickerButton.bs","MWV2ComposerVoiceRecorder.bs","MWV2IsTabFocusedContext.bs","MWV2Theme.bs","MWV2UseVoiceRecorder.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","StylexHelpers.bs","bs_caml","bs_curry","bs_int64","gkx","killswitch","react","stylex","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",alignItems:"aovydwv3",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"},hidden:{display:"mkhogb32"},container:{position:"l9j0dhe7",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},button:{position:"pmk7jnqg",marginEnd:"cgat1ltu",marginStart:"hcukyx3x",marginBottom:"tvmbv18p",bottom:"i09qtzwb",display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn"},buttonHidden:{transform:"qpbg1qsm",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},buttonShown:{transform:"g3zh7qmp",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},fileButtonHidden:{transitionDelay:"lbhrjshz"},stickerButtonHidden:{transitionDelay:"awe8hfj4"},gifButtonHidden:{transitionDelay:"lxbcnve3"},fileButtonShown:{transitionDelay:"lbhrjshz"},stickerButtonShown:{transitionDelay:"tntlmw5q"},gifButtonShown:{transitionDelay:"chkx7lpg"},composer:{flexGrow:"buofh1pr",display:"j83agx80",transitionProperty:"flx89l3n",transitionDuration:"dpja2al7"},emojiButton:{end:"n7fi1qx3"}};function k(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:a.a,tl:0}),function(a){return[b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:a.b,tl:0})),a]})},[d,JSON.stringify(a.a)])),f=i.useMemo(function(){return e.reduce(function(a,d){var e=d[0];if(e!==void 0&&b("bs_caml").i64_neq(e.a,c))return a.concat([[e,d[1]]]);else return a},[])},[e,c]);return i.useMemo(function(){return new Map(f.map(function(a){var c=a[1];a=a[0];var d=c.f,e=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a)),f=a.h,g=a.h;c=c.e;var h=a.b;d=d!==void 0?d:!1;var i=a.C,j=a.K;e={contactId:e,name:f,actualName:g,nickname:c,profileUrl:void 0,profilePictureUrl:h,isContact:!0,isAdmin:d,jobTitle:i,secondaryName:j};return[b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a)),e]}))},[f])}function a(a){var c=a.thread,d=a.editor,e=a.mediaStaging,f=a.onSendMessage,g=a.onAttachmentsAdded,l=a.onAttachmentRemoved,m=a.supportedFileTypes,n=a.canSend,o=a.editorElementRef,p=a.addKeyBinding,q=a.sendMessage;a=b("MWV2IsTabFocusedContext.bs").useContext(void 0);var r=b("MWV2Theme.bs").useBottom(void 0);a=a?r:void 0;var s=b("MWV2UseVoiceRecorder.bs").useVoiceRecorder(void 0);r=s.state!==0;var t=function(a){b("bs_curry")._1(s.getVoiceClip,s.state).then(function(a){b("bs_curry")._1(s.reset,void 0);b("bs_curry").app(f,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0]);return b("Promise").resolve(void 0)})},u=k(c),v=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").mentions,c),w=b("Locale").isRTL(),x=b("MAWGating.bs").isStickerEnabled(void 0)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c.c),y=!b("gkx")("1787596")&&(b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").sticker,c)||x),z=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").gif,c)&&!b("gkx")("1787594"),A=!b("gkx")("1787595"),B=32,C=B+32|0,D=w?{right:0..toString()+"px"}:{left:0..toString()+"px"};B=w?{right:B.toString()+"px"}:{left:B.toString()+"px"};C=w?{right:C.toString()+"px"}:{left:C.toString()+"px"};var E=b("MWUseAriaDescribedByForComposer.bs").useHook(c),F=b("useCometUniqueID")();return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx(b("MWV2ComposerPlusButton.bs").make,{thread:c,color:a,onSendMessage:f,onAttachmentsAdded:g,voiceRecorder:s,supportedFileTypes:m,isInputExpanded:n}),r?i.jsxs(i.Fragment,{children:[i.jsx(b("MWV2ComposerVoiceRecorder.bs").make,{voiceRecorder:s}),i.jsx(b("MWV2ComposerSendButton.bs").make,{color:a,onPress:t})]}):null,i.jsxs("div",{className:h(r?j.hidden:!1,j.container),children:[i.jsxs(b("MWPTooltipGroup.react"),{children:[i.jsx("div",{className:h(j.button,n?j.buttonHidden:j.buttonShown,n?j.fileButtonHidden:j.fileButtonShown),style:D,children:i.jsx(b("MWV2ComposerAttachmentButton.bs").make,{color:a,onAttachmentsAdded:g,supportedFileTypes:m,disabled:!A})}),i.jsx("div",{className:h(j.button,n?j.buttonHidden:j.buttonShown,n?j.stickerButtonHidden:j.stickerButtonShown),style:B,children:i.jsx(b("MWV2ComposerStickerButton.bs").make,{color:a,onSendMessage:f,disabled:!y,useSecureSend:x})}),i.jsx("div",{className:h(j.button,n?j.buttonHidden:j.buttonShown,n?j.gifButtonHidden:j.gifButtonShown),style:C,children:i.jsx(b("MWV2ComposerGifButton.bs").make,{color:a,onSendMessage:f,disabled:!z})})]}),i.jsxs("div",{className:h(j.composer),style:{transform:"translateX("+(n?"0":(w?"-":"")+"100px")+")"},children:[i.jsx("div",{id:F,className:h(b("StylexHelpers.bs").styles.visuallyHidden),children:E}),i.jsx(b("CometMessengerComposerInner.react"),{contentEditableRef:o,editor:d,testId:"chat_input:rich-input",topContent:i.jsx(b("MWV2ComposerMediaStaging.bs").make,{thread:c,mediaStaging:e,onAttachmentRemoved:l,onAttachmentsAdded:g,supportedFileTypes:m}),addKeyBinding:p,threadID:b("bs_int64").to_string(c.a),participants:u,handlePastedFiles:g,useMentionsPlugin:v&&b("LSMessagingThreadTypeUtil.bs").isGroup(c.c),ariaDescribedBy:F})]}),i.jsx("div",{className:h(r?j.hidden:!1,j.button,j.emojiButton),children:i.jsx(b("MWV2ComposerEmojiButton.bs").make,{editor:d,color:a})}),r?null:i.jsx(b("MWV2ComposerRoundedCorners.bs").TopRight.make,{}),r?null:i.jsx(b("MWV2ComposerRoundedCorners.bs").BottomRight.make,{})]}),r?null:n?i.jsx(b("MWV2ComposerSendButton.bs").make,{color:a,onPress:function(a){return b("bs_curry")._1(q,void 0)}}):c.J&&!b("killswitch")("MESSENGER_WEB_PERSISTENT_MENU")?i.jsx(b("MWV2ComposerPersistentMenuButton.bs").make,{thread:c,color:a,onSendMessage:f}):i.jsx(b("MWV2ChatGrowingHotlikeButton.bs").make,{onSendMessage:f,color:a,thread:c})]})}c=a;f.make=c}),null);
__d("MWV2FileDropzone.bs",["fbt","LS.bs","LSIssueNewError","LSTransaction.bs","MDSText.react","ReStore.bs","bs_caml_option","bs_curry","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=j.createContext(null);function l(a){var b=a.fileUploadHandlerRef;a=a.children;return j.createElement(k.Provider,{value:b,children:a})}c={make:l};var m={root:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"d2edcug0",position:"l9j0dhe7",minHeight:"tgvbjcpo"},dropzone:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",position:"pmk7jnqg",bottom:"i09qtzwb",end:"n7fi1qx3",start:"j9ispegn",top:"kr520xx4",backgroundColor:"ms7hmo2b",zIndex:"tkr6xdv7"}};function n(a){if(a==null)return[];a=a.dataTransfer;if(a==null)return[];else return a.types}function o(a,c){var d=c!==0?c!==1?g._(/*FBT_CALL*/"\u90e8\u5206\u6a94\u6848\u4e0d\u53d7\u652f\u63f4\uff0c\u7121\u6cd5\u5206\u4eab\u5230\u9019\u500b\u804a\u5929\u5ba4"/*FBT_CALL*/).toString():g._(/*FBT_CALL*/"\u9019\u500b\u804a\u5929\u5ba4\u4e0d\u652f\u63f4\u7279\u5b9a\u6a94\u6848\u985e\u578b\u3002"/*FBT_CALL*/).toString():void 0;if(d===void 0)return;c=b("LSTransaction.bs").run(a,function(a){return b("LSIssueNewError")(void 0,void 0,d,d,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite");b("promiseDone")(c,void 0,void 0)}function p(a){if(b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return!0;else return b("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type)}d=["text/plain","text/html","text/uri-list"];var q=new Set(d);function a(a){var c=a.children,d=a.isMediaOnly;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=j.useRef(null),f=b("ReStore.bs").useHook(void 0),h=!b("gkx")("1835569"),k=h||e.current==null;h=function(a){var b=e.current;if(b==null)return!1;else return!n(a).some(function(a){return q.has(a)})};h=b("useFileDragEvents")(function(a){return!1},void 0,h);var r=j.useCallback(function(a){var c=e.current;if(c==null)b("recoverableViolation")("Could not find fileUploadHandlerRef to handle dropped file!","messenger_comet");else{a=Array.from(a);var g=d?a.filter(p):a;a.length!==g.length&&o(f,a.length);!k&&g.length!==0&&b("bs_curry")._1(c,g)}},[k,d]),s=j.useRef(null);b("useFileDragEvents")(r,s.current,function(a){return!0});return j.jsxs("div",{className:(i||(i=b("stylex")))(m.root,a),ref:s,children:[j.jsx(l,{fileUploadHandlerRef:e,children:c}),!k&&h?j.jsx("div",{className:(i||(i=b("stylex")))(m.dropzone),children:j.jsx(b("MDSText.react"),{type:"body1",children:g._(/*FBT_CALL*/"\u5728\u6b64\u62d6\u653e\u6a94\u6848"/*FBT_CALL*/)})}):null]})}e=a;f.context=k;f.ContextProvider=c;f.styles=m;f.getMediaTypes=n;f.ignoredMediaTypes=d;f.ignoredMediaTypesSet=q;f.make=e}),null);
__d("MAWSecureComposer.bs",["MAWComposerUserMessageRequestInfoText.bs","MAWMessageRequestUtil.bs","MAWSecureComposerUtils.bs","MAWSecureThreadNonAddressableContactBanner.bs","MAWSecureTypingState.bs","MAWSendSecureMessage.bs","MAWUseMediaManager.bs","MWPComposerEditor.bs","MWV2ComposerView.bs","MWV2FileDropzone.bs","ReStore.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;e=e!==void 0?e:i;a=a!==void 0?a:i;var f=b("ReStore.bs").useHook(void 0),g=b("MAWUseMediaManager.bs").useMediaManager(c),j=g[4],k=g[2],l=g[1],m=b("MAWSendSecureMessage.bs").useOnSendSecureMessage(c,e,g[0],g[3]);e=b("MAWSecureTypingState.bs").useOnTypingStateChanged(c);g=b("MAWMessageRequestUtil.bs").isOneOnOneMessageRequest(c);var n=function(a){return b("MAWSecureComposerUtils.bs").onDeleteThread(f,c,a)},o=h.useContext(b("MWV2FileDropzone.bs").context);h.useImperativeHandle(o,function(){return b("bs_curry").__1(l)},[l]);return h.jsxs("div",{children:[h.jsx(b("MAWSecureThreadNonAddressableContactBanner.bs").make,{thread:c}),g?h.jsx(b("MAWComposerUserMessageRequestInfoText.bs").make,{thread:c,size:"large",onDeleteThread:n}):null,h.jsx(b("MWPComposerEditor.bs").make,{thread:c,isPreviewThread:d,mediaStaging:j,onSendMessage:m,onSendEmptyMessage:a,onAttachmentsAdded:l,onAttachmentRemoved:k,onTypingStateChanged:e,children:function(a,d,e,f,g){return h.jsx(b("MWV2ComposerView.bs").make,{thread:c,editor:a,mediaStaging:j,onSendMessage:m,onAttachmentsAdded:l,onAttachmentRemoved:k,supportedFileTypes:b("MAWSecureComposerUtils.bs").supportedFileTypes,canSend:d,editorElementRef:e,addKeyBinding:f,sendMessage:g})}})]})}c=a;f.make=c}),null);
__d("useArmadilloDogfoodingUpsellNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useArmadilloDogfoodingUpsellNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=9564,k=h!==void 0?h:h=b("useArmadilloDogfoodingUpsellNUXQuery.graphql");function a(){var a=d("RelayHooks").useRelayEnvironment(),b=i(function(b){c("promiseDone")(d("CometRelay").fetchQuery(a,k,{id:j}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;b(a)},null)},[a]),e=i(function(){d("CometDismissFBNuxMutation").commit(a,j)},[a]),f=i(function(){d("CometLogImpressionFBNuxMutation").commit(a,j)},[a]);return[b,e,f]}g["default"]=a}),98);
__d("MWV2ArmadilloDogfoodingUpsell.bs",["fbt","LSWhatsAppConnectStatus.bs","MAWCreateOneToOneThread.bs","MAWThreadId.bs","MDSRow.react","MDSRowItem.react","MDSText.react","MWV2OpenTabOrThread.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraButton.react","bs_caml","bs_curry","promiseDone","react","stylex","useArmadilloDogfoodingUpsellNUX"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{backgroundColor:"nred35xi",boxShadow:"rlauoc8d"},button:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},imageRow:{paddingTop:"jwdofwj8"}};function l(a){var c=a.thread,d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:c.a,tl:0})},[d,JSON.stringify(c.a)]));a=j.useState(function(){return!1});var f=a[1],h=b("useArmadilloDogfoodingUpsellNUX")(),l=h[2],m=h[1],n=h[0];j.useEffect(function(){b("bs_curry")._1(n,function(a){if(a&&e!==void 0&&b("bs_caml").i64_eq(e.P,b("LSWhatsAppConnectStatus.bs").whatsappAddressable)){b("bs_curry")._1(f,function(a){return!0});return b("bs_curry")._1(l,void 0)}})},[]);h=b("MWV2OpenTabOrThread.bs").useHook(void 0);var o=h.openTabOrInbox;if(e!==void 0){h=e.p;h=h!==void 0?h:e.h;h=" with "+h+"."}else h=".";h="You can now create chats secured with end-to-end encryption. Create a chat"+h;if(a[0])return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[j.jsx(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:j.jsxs(b("MDSRowItem.react"),{expanding:!0,children:[j.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:j.jsx(b("MDSRowItem.react"),{children:j.jsx(b("MDSText.react"),{color:"primary",type:"headline4",children:"Try End-to-End Encrypted Chats"})})}),j.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:j.jsx(b("MDSRowItem.react"),{children:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:h})})})]})}),j.jsxs(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[j.jsx(b("MDSRowItem.react"),{xstyle:[k.button],children:j.jsx(b("TetraButton.react"),{label:"Not Now",type:"secondary",onPress:function(a){b("bs_curry")._1(m,void 0);return b("bs_curry")._1(f,function(a){return!1})}})}),j.jsx(b("MDSRowItem.react"),{xstyle:[k.button],children:j.jsx(b("TetraButton.react"),{label:g._(/*FBT_CALL*/"\u958b\u59cb\u804a\u5929"/*FBT_CALL*/),type:"primary",onPress:function(a){b("bs_curry")._1(m,void 0),b("bs_curry")._1(f,function(a){return!1}),b("promiseDone")(b("MAWCreateOneToOneThread.bs").call(d,c.a).then(function(a){return b("MAWThreadId.bs").toThreadKey(d,a)}),function(a){return b("bs_curry")._3(o,void 0,{threadKey:a,clientThreadKey:void 0,threadType:b("MessagingThreadType.bs").secureMessageOverWaOneToOne},"chatInThread")},void 0)}})})]})]});else return null}c={styles:k,make:l};function a(a){a=a.thread;var c=a.c;if(b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").oneToOne))return j.jsx(l,{thread:a});else return null}d=a;f.Impl=c;f.make=d}),null);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","FBID.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactType.bs","LSMessagingThreadTypeUtil.bs","LSRtcCallState.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LsThreadType.bs","MAWGating.bs","MWChatContactPresenceHook.bs","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MWPTooltip.react","Promise","RTCCallState.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_null_undefined","gkx","promiseDone","react","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j="startVideoCall",k="startVoiceCall";function l(a,c,d,e){var f=b("ReStore.bs").useHook(void 0),g=b("useRTWebCometStartCallCallback")();return i.useCallback(function(h){h=b("ReQL.bs").first(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"rtc_ongoing_calls_on_threads_v2").asc,{hd:a.a,tl:0}),function(a){return a.b}));h=h.then(function(f){b("bs_curry")._1(c,void 0);g({existingCall:f!==void 0?{initiator_fbid:null,call_state:b("RTCCallState.bs").ofLsRtcCallState(a.u,a.c),server_info_data:b("bs_js_null_undefined").fromOption(b("bs_caml_option").valFromOption(f))}:null,mediaType:d,thread:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a)),type:b("bs_caml_int64").to_int32(a.c)},trigger:e});return b("Promise").resolve(void 0)});b("promiseDone")(h,void 0,void 0)},[f,g,JSON.stringify(a.a),a.u,e,c])}function m(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=i.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,d)}),1)},[c,a.a,JSON.stringify(d)]);e=b("ReQLSubscription.bs").useArray(e);return b("MWChatContactPresenceHook.bs").useHasActiveContact(e.map(function(a){return a.b}))}function n(a){var c=a.a,d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.take(a.getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c,tl:0}),2),function(a){return b("bs_caml").i64_neq(a.b,e)}),function(a){return b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:a.b,tl:0}))})},[d,JSON.stringify(c),JSON.stringify(e)]));var f=a.every(function(a){if(a!==void 0)if(b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVideoCall,a),!0))return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVoiceCall,a),!0);else return!1;else return!0}),g;if(a.length!==1)g=!1;else{a=a[0];g=a!==void 0?b("bs_caml").i64_eq(a.q,b("LSContactType.bs").page):!1}if(g)if(b("gkx")("1710932"))return f;else return!1;else return!0}function o(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"messages_ranges_v2__generated").desc,{hd:a.a,tl:0})},[c,JSON.stringify(a.a)]))),f=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:{hd:d,tl:0}})},[c,JSON.stringify(a.a),JSON.stringify(d)]))),g=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,a),h=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVideoCall,a),j=b("LSMessagingThreadTypeUtil.bs").isSecure(a.c);j=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!j||b("MAWGating.bs").isFeatureLimitEnabled(void 0));var k=n(a),l=a.c;f=b("bs_caml").i64_eq(l,b("LsThreadType.bs").group)&&f?!0:b("bs_caml").i64_eq(l,b("LsThreadType.bs").oneToOne)&&k;l=b("MWChatIsMessageRequest.bs").fn(a.e);if(!l&&g&&h&&e&&!j)return f;else return!1}function p(a){}function q(a){var c=a.onPress,d=a.label,e=a.icon,f=a.overlayDisabled,g=a.xstyle;a=a.testid;var h=g!==void 0?g:[];g={"aria-label":d,onPress:c,overlayDisabled:f,overlayRadius:"50%",xstyle:function(a){return h},children:e};a!==void 0&&(g.testid=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWPTooltip.react"),{tooltip:d,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),g)})}c={make:q};function r(a){var c=a.startAudioCall,d=a.fill,e=a.size;a=a.overlayDisabled;return i.jsx(q,{onPress:c,label:g._(/*FBT_CALL*/"\u958b\u59cb\u8a9e\u97f3\u901a\u8a71"/*FBT_CALL*/),icon:b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,d,e),overlayDisabled:a,testid:k})}d={make:r};function s(a){var c=a.startVideoCall,d=a.fill,e=a.size,f=a.isActive;a=a.overlayDisabled;return i.jsx(q,{onPress:c,label:g._(/*FBT_CALL*/"\u958b\u59cb\u8996\u8a0a\u901a\u8a71"/*FBT_CALL*/),icon:b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,d,e,f),overlayDisabled:a,testid:j})}e={make:s};function t(a){var c=a.startVideoCall,d=a.startAudioCall,e=a.ongoingCallState,f=a.fill,h=a.size;a=a.overlayDisabled;if(b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").noOngoingCall))return null;else return i.jsx(q,{onPress:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?d:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?c:function(a){},label:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?g._(/*FBT_CALL*/"\u52a0\u5165\u8a9e\u97f3\u804a\u5929"/*FBT_CALL*/):b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?g._(/*FBT_CALL*/"\u52a0\u5165\u8996\u8a0a\u804a\u5929"/*FBT_CALL*/):"",icon:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,f,h):b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,f,h,void 0):null,overlayDisabled:a})}var u={make:t};function a(a){var c=a.thread,d=a.fill,e=a.size,f=a.disableOverlayOnHover,g=a.audioCallingSurface,h=a.videoCallingSurface,j=a.logAudio;a=a.logVideo;e=e!==void 0?e:"26px";f=f!==void 0?f:!1;j=j!==void 0?j:p;a=a!==void 0?a:p;var k=m(c),n=o(c);a=l(c,a,"video",h);h=l(c,j,"audio",g);if(!n)return null;j=c.u;if(b("bs_caml").i64_neq(j,b("LSRtcCallState.bs").noOngoingCall))return i.jsx(t,{startVideoCall:a,startAudioCall:h,ongoingCallState:j,fill:d,size:e,overlayDisabled:f});else return i.jsxs(i.Fragment,{children:[i.jsx(s,{startVideoCall:a,fill:d,size:e,isActive:k,overlayDisabled:f}),i.jsx(r,{startAudioCall:h,fill:d,size:e,overlayDisabled:f})]})}a=a;f.startVideoCallTestid=j;f.startVoiceCallTestid=k;f.BaseButton=c;f.$$Audio=d;f.Video=e;f.JoinExistingChat=u;f.make=a}),null);
__d("MWV2HeaderMinimizeButton.bs",["fbt","CometPressable.react","MWPTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.onPress;a=a.color;var d=b("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=g._(/*FBT_CALL*/"\u7e2e\u5c0f\u804a\u5929\u756b\u9762"/*FBT_CALL*/);return i.jsx(b("MWPTooltip.react"),{tooltip:e,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":e,ref:d,onPress:c,overlayRadius:"50%",children:i.jsx("svg",{width:"26px",height:"26px",viewBox:"-4 -4 24 24",children:i.jsx("line",{x1:"2",x2:"14",y1:"8",y2:"8",strokeLinecap:"round",strokeWidth:"2",stroke:a})})})})}c=a;f.make=c}),null);
__d("MWV2HeaderSettingsButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MDSRow.react","MWPTooltip.react","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{marginStart:"hnxzwevs"}};function l(a){var c=a.size;a=a.color;c=c!==void 0?c:"10px";return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon),width:c,height:c,viewBox:"0 0 18 10",children:j.jsx("path",{fill:a,fillRule:"evenodd",clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z"})})}c={styles:k,make:l};var m={settingsButton:{flexShrink:"g5gj957u",minWidth:"hpfvmrgz",marginEnd:"oi9244e8"}};function a(a){var c=a.children,d=a.thread,e=a.tab,f=a.iconColor,h=g._(/*FBT_CALL*/"\u804a\u5929\u5ba4\u8a2d\u5b9a"/*FBT_CALL*/);return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResourceForInteraction")("MWV2HeaderSettingsMenuForJSResource.react").__setRef("MWV2HeaderSettingsButton.bs"),popoverProps:{thread:d,tab:e,onClose:function(a){}},position:"start",preloadTrigger:"button",children:function(a,d,e,g,i,k,n){return j.jsx(b("MWPTooltip.react"),{tooltip:h,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":h,ref:a,testid:"messenger-chat-title-text",onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(i,void 0)},onPressIn:b("bs_curry").__1(k),onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:5,xstyle:function(a){return[m.settingsButton]},children:j.jsxs(b("MDSRow.react"),{paddingHorizontal:4,paddingVertical:0,verticalAlign:"center",spacingHorizontal:0,children:[c,j.jsx(l,{color:f})]})})})}})}d=a;f.Chevron=c;f.styles=m;f.make=d}),null);
__d("MWV2ChatTabHeader.bs",["MWChatStateActions.bs","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.bs","MWPTooltipGroup.react","MWV2ChatRTCButtons.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2HeaderMinimizeButton.bs","MWV2HeaderSettingsButton.bs","MWV2IsTabFocusedContext.bs","MWV2Theme.bs","ODS","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","UseMWV2CloseTab.bs","ZenonUserActionLoggerCommon.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.thread;a=a.color;var d=h.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio");return b("bs_curry")._1(b("ZenonUserActionLoggerCommon.bs").logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"audio_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"messenger_header")})},[]),e=h.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video");return b("bs_curry")._1(b("ZenonUserActionLoggerCommon.bs").logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"video_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"messenger_header")})},[]);return h.jsx(b("MWV2ChatRTCButtons.bs").make,{thread:c,fill:a,audioCallingSurface:"comet_chattab_audio_button",videoCallingSurface:"comet_chattab_video_button",logAudio:d,logVideo:e})}c={make:i};var j="var(--primary-text)";function k(a){var c=b("MWV2IsTabFocusedContext.bs").useContext(void 0),d=b("MWV2Theme.bs").useTop(void 0);a=b("bs_caml").i64_gt(a.i,a.j);a=a&&!c;c=a?j:c?d:"var(--wash)";d=a?d:void 0;a=a?"primary":void 0;return[c,a,j,d]}function a(a){var c=a.tab;a=a.thread;var d=b("MWChatStateV2.bs").useDispatch(void 0),e=b("UseMWV2CloseTab.bs").useHook(a,c),f=k(a),g=f[0],j={thread:a,photoSize:"s_32",threadNameSize:"headlineEmphasized4",isTitleALink:!1},l=f[1];l!==void 0&&(j.color=b("bs_caml_option").valFromOption(l));l={startContent:h.jsx(b("MWV2HeaderSettingsButton.bs").make,{children:h.jsx(b("MWInboxHeaderDetailsContainer.bs").make,j),thread:a,tab:c,iconColor:f[2]}),endContent:h.jsxs(b("MWPTooltipGroup.react"),{children:[h.jsx(i,{thread:a,color:g}),h.jsx(b("MWV2HeaderMinimizeButton.bs").make,{onPress:function(a){return b("bs_curry")._1(d,b("MWChatStateActions.bs").minimizeTab(Date.now(),c.tabId))},color:g}),h.jsx(b("MWV2HeaderCloseButton.bs").make,{onPress:function(a){return b("bs_curry")._1(e,void 0)},color:g,testid:"mwchattab-closebutton-"+b("bs_int64").to_string(a.a)})]})};j=f[3];j!==void 0&&(l.backgroundColor=b("bs_caml_option").valFromOption(j));return h.jsx(b("MWV2HeaderContainer.bs").make,l)}d=a;f.RTCButtons=c;f.make=d}),null);
__d("MWV2ComposerDisclosure.bs",["CometErrorBoundary.re","CometPlaceholder.react","FBID.bs","LS.bs","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveParticipantsFromGroupThread","LSOptimisticRemoveThread","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSTransaction.bs","LSVec.bs","LsMessageRequestsActions.bs","LsSystemFolder.bs","MWChatComposerGroupMessageRequestInfoText.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerXacDisclosureRelay.react","MWLSActor.bs","MWLSChatComposerUserMessageRequestInfoText.bs","MWLSContactTypeExactUtils.bs","MWLSThreadDisplayContext.bs","MWLSThreadFolder.bs","MessageRequestsLog.bs","MessagingThreadType.bs","ReStore.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","cr:958","gkx","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(e){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticRemoveParticipantsFromGroupThread")(a.a,b("LSVec.bs").make([d]),b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),void 0,void 0)},[JSON.stringify(a.a)])}function j(a){var c=a.thread,d=a.participantsAndContacts;a=a.forceVoiceIndicatorShown_TEST_ONLY;var e=b("ReStore.bs").useHook(void 0),f=b("MWChatStateV2.bs").useDispatch(void 0),g=b("MWLSThreadDisplayContext.bs").useHook(void 0);g=g!==void 0&&g?"large":"small";var j=i(c),k=b("MWLSThreadFolder.bs").useHook(void 0),l=k==="pending"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other),m=c.c,n=c.a,o=h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSOptimisticRemoveThread")(n,b("LSThreadRemoveType.bs").deleteThread,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),function(a){return b("bs_curry")._1(f,b("MWChatStateActions.bs").closeTabByThreadKey(Date.now(),n))},void 0)},[b("bs_int64").to_string(n),e]);k=h.useCallback(function(a){b("MessageRequestsLog.bs").logActionConfirmed(b("bs_int64").to_string(n),b("bs_caml_int64").to_int32(m),l,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").$$delete));return b("bs_curry")._1(o,void 0)},[o,b("bs_int64").to_string(n),b("bs_int64").to_string(m),l]);var p=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,c),q=b("LSMessagingThreadTypeUtil.bs").isGroup(m),r=h.useMemo(function(){return d.some(function(a){return b("MWLSContactTypeExactUtils.bs").isIgContact(a[1])})},[d]);if(p)if(q)p=h.jsx(b("MWChatComposerGroupMessageRequestInfoText.bs").make,{onDeleteConversation:k,onLeaveGroup:function(a){b("MessageRequestsLog.bs").logActionConfirmed(b("bs_int64").to_string(n),b("bs_caml_int64").to_int32(b("MessagingThreadType.bs").group),l,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").leaveGroup));return b("bs_curry")._1(j,void 0)},isGXAC:r});else{q=b("FBID.bs").ofStringExn(b("bs_int64").to_string(n));p=h.jsx(b("MWLSChatComposerUserMessageRequestInfoText.bs").make,{fbid:q,onDeleteConversation:k})}else p=r&&b("gkx")("1839788")?h.jsx(b("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:b("bs_caml").i64_lt(c.Z,b("LSAuthorityLevel.bs").authoritative),size:g}):null;return h.jsxs(h.Fragment,{children:[b("cr:958")==null?null:h.jsx(b("cr:958").make,{forceShown_TEST_ONLY:a}),p]})}c={make:j};function a(a){var c=a.thread,d=a.participantsAndContacts;a=a.forceVoiceIndicatorShown_TEST_ONLY;a=a!==void 0?a:!1;return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("CometPlaceholder.react"),{children:h.jsx(j,{thread:c,participantsAndContacts:d,forceVoiceIndicatorShown_TEST_ONLY:a}),fallback:null})})}d=a;f.useLeaveGroup=i;f.$MWChatComposerVoiceIndicator$requireCond=b("cr:958");f.Impl=c;f.make=d}),null);
__d("MWV2DisabledPageComposer.bs",["fbt","ix","CometLazyPopoverTrigger.react","FBID.bs","JSResource","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWLSThreadDisplayContext.bs","MessagingThreadType.bs","ReStore.bs","TetraButton.react","bs_curry","bs_int64","fbicon","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0);a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var e=a!==void 0?a===1?"inboxInThread":a===0?"chatInThread":"unknown":"unknown";return j.useCallback(function(a){return function(f,g){var h=b("LSTransaction.bs").run(c,function(c){var h=b("LSThreadAttributionStore.bs").getSource(e,b("bs_int64").to_string(a));h=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(h);return b("LSOptimisticSendMessage")(d,a,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,f,f,!1,void 0,void 0,void 0,void 0,h,void 0,g,void 0,b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,!0,!0,void 0,void 0,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[c,d])}function a(a){a=a.thread;var c=k(void 0),d=a.a,e=function(a){var e=a.title;a=a.id;return b("bs_curry")._3(c,d,e,a)};return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.bs"),popoverProps:{onClose:function(a){},onSelect:e,pageId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a))},align:"middle",children:function(a,c,d,e,f,i,k){return j.jsx("div",{className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya pcgkmkmd qzhwtbm6 j83agx80",ref:a,children:j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("512878"),20),label:g._(/*FBT_CALL*/"\u529f\u80fd\u8868"/*FBT_CALL*/),onPress:function(a){return b("bs_curry")._1(c,void 0)},reduceEmphasis:!0})})}})}c=a;f.make=c}),null);
__d("MWV2ComposerReplyView.bs",["fbt","ix","CometErrorBoundary.re","LSContactGenderToGenderConst.bs","LsFalcoEventEntryPoint.bs","LsReplyRenderedFalcoEvent","MDSText.react","MDSTextPairing.react","MWChatReplyText.bs","MWLSActor.bs","MWV2ReplyContext.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","TetraIcon.react","bs_belt_Option","bs_caml","bs_caml_obj","bs_curry","bs_int64","fbicon","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={container:{borderTop:"l6v480f0",backgroundColor:"nred35xi",paddingEnd:"oj5qckz4",paddingStart:"lb8aey2d",paddingTop:"jktsbyx5",paddingBottom:"pby63qed",display:"j83agx80",justifyContent:"i1fnvgqd",alignItems:"ll8tlv6m"},message:{marginEnd:"o3lre8g0"}};function m(a){var c=a.message,d=b("ReStore.bs").useHook(void 0);a=b("MWLSActor.bs").useActor(void 0);a=b("bs_caml").i64_eq(c.h,a);var e=b("ReQLSuspense.bs").first(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:c.h,tl:0})},[d,JSON.stringify(c.h)])),f=b("ReQLSuspense.bs").first(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"attachments").asc,{hd:c.a,tl:{hd:c.e,tl:0}})},[d,c.e,JSON.stringify(c.a)]));k.useEffect(function(){b("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);f=c.m?g._(/*FBT_CALL*/"\u5df2\u79fb\u9664\u7684\u8a0a\u606f"/*FBT_CALL*/):c.g!==void 0&&b("bs_caml_obj").caml_notequal(c.g,"")?k.jsx(b("MWChatReplyText.bs").make,{text:b("bs_belt_Option").getWithDefault(c.g,g._(/*FBT_CALL*/"\u8a0a\u606f"/*FBT_CALL*/))}):f!==void 0?b("bs_caml").i64_eq(f.f,b("MessagingAttachmentType.bs").image)?g._(/*FBT_CALL*/"\u5716\u50cf"/*FBT_CALL*/):b("bs_caml").i64_eq(f.f,b("MessagingAttachmentType.bs").sticker)?g._(/*FBT_CALL*/"\u8cbc\u5716"/*FBT_CALL*/):b("bs_caml").i64_eq(f.f,b("MessagingAttachmentType.bs").video)?g._(/*FBT_CALL*/"\u5f71\u7247"/*FBT_CALL*/):b("bs_caml").i64_eq(f.f,b("MessagingAttachmentType.bs").animatedImage)?g._(/*FBT_CALL*/"GIF"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u9644\u4ef6"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u8a0a\u606f"/*FBT_CALL*/);if(a)a=g._(/*FBT_CALL*/"\u56de\u8986\u7d66\u81ea\u5df1"/*FBT_CALL*/);else if(e!==void 0){var h=e.p;a=g._(/*FBT_CALL*/{"*":"\u56de\u8986{name}"}/*FBT_CALL*/,[g._name("name","{name}",b("getFBTSafeGenderFromGenderConst")(b("LSContactGenderToGenderConst.bs").make(e.I))),g._param("name",k.jsx(b("MDSText.react"),{type:"bodyLink4",children:h!==void 0?h:e.h}))])}else a=g._(/*FBT_CALL*/"\u56de\u8986{Placeholder for an unknown user}"/*FBT_CALL*/,[g._param("Placeholder for an unknown user","Facebook User")]);return k.jsx("div",{className:(j||(j=b("stylex")))(l.message),children:k.jsx(b("MDSTextPairing.react"),{body:k.jsx(k.Fragment,{children:k.jsx(b("MDSText.react"),{type:"body4",children:a})}),meta:f,level:3})})}d={make:m};function a(a){var c=a.message;a=k.useContext(b("MWV2ReplyContext.bs").context);var d=a.clearReply;return k.jsxs("div",{className:(j||(j=b("stylex")))(l.container),children:[k.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return k.jsx(b("MDSText.react"),{type:"body4",children:g._(/*FBT_CALL*/"\u56de\u8986\u8a0a\u606f"/*FBT_CALL*/)})},children:k.jsx(m,{message:c})}),k.jsx(b("TetraIcon.react"),{"aria-label":g._(/*FBT_CALL*/"\u79fb\u9664"/*FBT_CALL*/),icon:b("fbicon")._(h("478231"),12),onPress:function(a){return b("bs_curry")._2(d,c.a,!0)},color:"primary"})]})}var n=k.memo(a);e={make:n};function c(a){var c=a.thread,d=a.messageId,e=a.messageTimestamp,f=b("ReStore.bs").useHook(void 0);a=b("ReQLSuspense.bs").first(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"messages").asc,{hd:c.a,tl:{hd:e,tl:{hd:d,tl:0}}})},[f,b("bs_int64").to_string(c.a),d,JSON.stringify(e)]));if(a!==void 0)return k.jsx(n,{message:a});else return null}a=c;f.styles=l;f.Inner=d;f.Container=e;f.make=a}),null);
__d("MWV2OpenMediaStaging.bs",["ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQLTable").table(c,"media_staging").asc,function(c){if(c.o)return!1;else return b("bs_caml").i64_eq(c.h,a.a)})},[c,JSON.stringify(a.a)]))}f.useMediaStaging=a}),null);
__d("MWV2OpenTypingState.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSSendTypingIndicator","LSTransaction.bs","MWChatViewerChatVisibilityHook","MWLSActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c,d,e){if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").oneToOne)&&b("bs_caml").i64_neq(c,e)){return(d=b("ReQL.bs")).first(d.map(d.filter(d.getKeyRange(b("ReQLTable").table(a,"participants").asc,{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)}),function(c){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"contacts").asc,{hd:c.b,tl:0})),!1,function(a){return b("bs_caml").i64_eq(a.n,b("LSContactBlockedByViewerStatus.bs").unblocked)})})).then(function(a){return b("Promise").resolve(b("bs_belt_Option").getWithDefault(a,!1))})}else return b("Promise").resolve(!0)}function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWChatViewerChatVisibilityHook")();return h.useCallback(function(f){if(!(b("bs_caml").i64_ge(a.Z,b("LSAuthorityLevel.bs").authoritative)&&e))return;var g=i(c,a.a,a.c,d).then(function(d){if(d)return b("LSTransaction.bs").run(c,function(c){return b("LSSendTypingIndicator")(a.a,b("bs_caml").i64_eq(a.c,b("MessagingThreadType.bs").group),f,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");else return b("Promise").resolve(void 0)});b("promiseDone")(g,void 0,void 0)},[c,JSON.stringify(a.Z),JSON.stringify(a.a),JSON.stringify(a.c),e,d])}f.useOnTypingStateChanged=a}),null);
__d("MWV2OpenComposerUtils.bs",["LSMailboxType.bs","LSRemoveMediaSendJobs","LSResumeMediaSendJob","LSTransaction.bs","MWConsole","MWV2ComposerMediaUploadUtil.bs","Promise","ReQLTable","bs_caml_int64","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("LSTransaction.bs").run(a,function(a){return b("Promise").all(c.map(function(c){var e=c[0];return b("ReQLTable").table(a,"media_staging").add({a:c[1],b:b("LSMailboxType.bs").messenger,c:b("MWV2ComposerMediaUploadUtil.bs").getAttachmentType(e),d:e.type,e:e.name,f:b("bs_caml_int64").of_int32(e.size),g:void 0,h:d,i:void 0,j:URL.createObjectURL(e),k:void 0,l:void 0,m:void 0,n:0,o:!1,p:!1})}))},"readWrite")}function c(a,c){return b("ReQLTable").table(a,"media_staging").get({hd:c,tl:0}).then(function(d){if(d===void 0)return b("Promise").resolve(void 0);d=d.j;d!==void 0&&URL.revokeObjectURL(d);return b("ReQLTable").table(a,"media_staging")["delete"]({hd:c,tl:0})})}function d(a,c,d){return b("ReQLTable").table(a,"media_staging").get({hd:c,tl:0}).then(function(c){if(c!==void 0)return b("ReQLTable").table(a,"media_staging").put(b("bs_curry")._1(d,c));else return b("Promise").resolve(void 0)})}function e(a,c,d,e,f){return b("ReQLTable").table(a,"attachments").get({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}}).then(function(g){if(g!==void 0)return b("ReQLTable").table(a,"attachments").upsert({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}},b("bs_curry")._1(f,g));else return b("Promise").resolve(void 0)})}function g(a,c){return b("LSResumeMediaSendJob")(c,b("bs_caml_int64").zero,a).then(function(d){d=d[0];if(d)return b("LSRemoveMediaSendJobs")(c,a);else return b("Promise").resolve(void 0)})}f.insertMediaStaging=a;f.deleteMediaStaging=c;f.updateMediaStaging=d;f.updateAttachment=e;f.resumeSendJob=g}),null);
__d("MWV2SendOpenMessage.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSDict","LSInsertNewMediaSend","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","LSVec.bs","MAWGating.bs","MWConsole","MWLSActor.bs","MWLSLogSend.bs","MWLSThreadDisplayContext.bs","MWV2ComposerMediaUploadUtil.bs","MWV2OpenComposerUtils.bs","MWV2ReplyContext.bs","MWV2UseAreThreadContactsDualSendEligible.bs","MWVersion.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","OfflineThreadingId.bs","Promise","ReQL.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0),f=h.useContext(b("MWV2ReplyContext.bs").context),g=f.clearReply,i=f.reply,j=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),k=b("MWV2UseAreThreadContactsDualSendEligible.bs").useHook(a.a),l=b("useCometInteractionTracing")(b("qpl")._(30605384,"573"),"fast","INTERACTION");f=b("MWLSThreadDisplayContext.bs").useHook(void 0);var m=f!==void 0?f===1?"inboxInThread":f===0?"chatInThread":"unknown":"unknown";return h.useMemo(function(){return function(f,h,n,o,p,q,r,s,t,u){return l(function(l){var v=b("LSThreadAttributionStore.bs").getSource(m,b("bs_int64").to_string(a.a)),w=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(v),x={contents:!0};v=b("LSTransaction.bs").run(d,function(c){var g=b("bs_curry")._1(b("LS.bs").make,c);if(s===void 0)return b("ReQL.bs").toArray(b("ReQL.bs").filter(b("ReQLTable").table(c,"media_staging").asc,function(c){if(c.o)return!1;else return b("bs_caml").i64_eq(c.h,a.a)})).then(function(d){var m=h!==void 0?b("bs_caml_option").some(b("LSDict").fromObject({mention_offsets:h.map(function(a){return String(a.offset)}).join(","),mention_lengths:h.map(function(a){return String(a.length)}).join(","),mention_ids:h.map(function(a){return a.id}).join(","),mention_types:h.length!==0?h.map(function(a){return a.type}).join(","):void 0})):void 0,s=f!==void 0?f.trim()!=="":!1,v=n!==void 0,y=q!==void 0;s=s||v||y?b("LSOptimisticSendMessage")(e,a.a,a.c,b("LSMailboxType.bs").messenger,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,void 0,n!==void 0?b("bs_caml_option").valFromOption(n):void 0,o!==void 0?b("bs_caml_option").valFromOption(o):void 0,q!==void 0?b("bs_caml_option").valFromOption(q):void 0,p!==void 0?b("bs_caml_option").valFromOption(p):void 0,w,void 0,t!==void 0?b("bs_caml_option").valFromOption(t):void 0,b("bs_caml_option").option_get(i!==void 0?i.messageId:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceType.bs").message:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0),m!==void 0?b("bs_caml_option").valFromOption(m):void 0,b("bs_caml").i64_ge(a.Z,b("LSAuthorityLevel.bs").authoritative),!1,r!==void 0?b("bs_caml_option").valFromOption(r):void 0,j!==void 0?b("bs_caml_option").valFromOption(j):void 0,void 0,g).then(function(c){b("MWLSLogSend.bs").logSentWithHeroInteraction(l,c[0],j,i!==void 0,b("MWVersion.bs").v2)(b("MAWGating.bs").isDualSend(void 0)&&k&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(a.c));return b("Promise").resolve(void 0)}):b("Promise").resolve(void 0);if(d.length===0)return s.then(function(a){return b("Promise").resolve(void 0)});else return s.then(function(f){return b("Promise").all(b("MWV2ComposerMediaUploadUtil.bs").partition(d.map(b("MWV2ComposerMediaUploadUtil.bs").getAttachment)).map(function(f,h){return b("LSLocalApplyOptimisticMessageWithAttachments")(e,a.a,a.c,void 0,void 0,void 0,void 0,b("bs_caml_option").option_get(i!==void 0?i.messageId:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceType.bs").message:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0),b("LSVec.bs").make(f.map(function(a){return b("LSDict").fromObject(a)})),g).then(function(d){var e=d[0],f=b("ReQLTable").table(c,"messages_optimistic_context").add({a:b("bs_caml_format").caml_int64_of_string(e),b:a.a,c:e,d:void 0,e:w,f:void 0,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:!1,m:j});b("promiseDone")(f,void 0,void 0);return[e,d[1]]}).then(function(e){var h=e[0];return b("Promise").all(f.map(function(e,f){return b("LSInsertNewMediaSend")(e.attachment_fbid,h,b("bs_caml_int64").of_int32(f),e.attachment_type,!1,!1,!1,!1,g).then(function(f){f=d.find(function(a){return b("bs_caml_obj").caml_equal(a.a,e.offline_attachment_id)});if(f!==void 0){var i=f.g;if(i!==void 0)return b("LSMarkSubJobCompletedV2")(e.attachment_fbid,i,void 0,void 0,void 0,g).then(function(a){return b("MWV2OpenComposerUtils.bs").deleteMediaStaging(c,e.attachment_fbid)}).then(function(d){return b("MWV2OpenComposerUtils.bs").updateAttachment(c,a.a,h,e.attachment_fbid,function(a){a=b("bs_caml_obj").caml_obj_dup(a);a.e=b("bs_int64").to_string(i);return a})})}x.contents=!1;return b("MWV2OpenComposerUtils.bs").updateMediaStaging(c,e.attachment_fbid,function(a){return{a:a.a,b:a.b,c:a.c,d:a.d,e:a.e,f:a.f,g:a.g,h:a.h,i:a.i,j:a.j,k:a.k,l:a.l,m:a.m,n:a.n,o:!0,p:a.p}})})})).then(function(a){return b("MWV2OpenComposerUtils.bs").resumeSendJob(g,h)})})})).then(function(c){c=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a));c=b("LSMessagingThreadTypeUtil.bs").isGroup(a.c)?[c,null]:[null,c];var d=c[1],e=c[0];b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:x.contents?b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_ALL_FILES_UPLOADED:b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_FILES_PENDING,other_user_fbid:d,thread_fbid:e,extra_data:null}});return b("Promise").resolve(void 0)})})});var m=b("OfflineThreadingId.bs").make(void 0),v=b("MWV2ComposerMediaUploadUtil.bs").getAudioAttachment(m,s.file,s.duration);return b("LSLocalApplyOptimisticMessageWithAttachments")(e,a.a,a.c,void 0,void 0,void 0,void 0,b("bs_caml_option").option_get(i!==void 0?i.messageId:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceType.bs").message:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0),b("LSVec.bs").make([b("LSDict").fromObject(v)]),g).then(function(d){var e=d[0],f=b("ReQLTable").table(c,"messages_optimistic_context").add({a:b("bs_caml_format").caml_int64_of_string(e),b:a.a,c:e,d:void 0,e:w,f:void 0,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:!1,m:j});b("promiseDone")(f,void 0,void 0);return[e,d[1]]}).then(function(a){var d=a[0],c=v.attachment_fbid;return b("LSInsertNewMediaSend")(c,d,b("bs_caml_int64").zero,v.attachment_type,!1,!1,!1,!1,g).then(function(a){return b("Promise").resolve([d,c])})}).then(function(a){var c=a[1],e=a[0];a=function(a,f){b("LSTransaction.bs").run(d,function(a){var d=b("bs_curry")._1(b("LS.bs").make,a);return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_int64").of_float(f),void 0,void 0,void 0,d).then(function(a){return b("MWV2OpenComposerUtils.bs").resumeSendJob(d,e)})},"readWrite")};b("MWV2ComposerMediaUploadUtil.bs").startUpload(void 0,a,void 0,!0,[s.file],[c]);return b("Promise").resolve(void 0)})},"readWrite").then(function(d){b("bs_curry")._1(c,void 0);b("bs_curry")._2(g,a.a,!1);return b("Promise").resolve(void 0)});b("promiseDone")(v,void 0,void 0)})}},[b("bs_int64").to_string(a.a),i,g,c,JSON.stringify(a.Z),j,l])}f.useOnSendOpenMessage=a}),null);
__d("MWV2UseOnAttachmentsAddedOpen.bs",["LS.bs","LSMarkSubJobCompletedV2","LSTransaction.bs","MWConsole","MWV2ComposerMediaUploadUtil.bs","MWV2OpenComposerUtils.bs","OfflineThreadingId.bs","Promise","ReQLTable","ReStore.bs","bs_caml_int64","bs_caml_obj","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("ReStore.bs").useHook(void 0);return function(d){var e=d.map(function(a){return[a,b("OfflineThreadingId.bs").make(void 0)]});b("promiseDone")(b("MWV2OpenComposerUtils.bs").insertMediaStaging(c,e,a.a),void 0,void 0);var f=function(a,d){d=d.event;if(!d.lengthComputable)return;var e=d.loaded/d.total;b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("MWV2OpenComposerUtils.bs").updateMediaStaging(c,a,function(a){return{a:a.a,b:a.b,c:a.c,d:a.d,e:a.e,f:a.f,g:a.g,h:a.h,i:a.i,j:a.j,k:a.k,l:a.l,m:a.m,n:e,o:a.o,p:a.p}})},"readWrite"),void 0,void 0)},g=function(d,e){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){var f=b("MWV2OpenComposerUtils.bs").updateMediaStaging(c,d,function(a){return{a:a.a,b:a.b,c:a.c,d:a.d,e:a.e,f:a.f,g:b("bs_caml_int64").of_float(e),h:a.h,i:a.i,j:a.j,k:a.k,l:a.l,m:a.m,n:1,o:a.o,p:a.p}}),g=b("ReQLTable").table(c,"media_send_jobs").get({hd:d,tl:0}).then(function(f){if(f===void 0)return b("Promise").resolve(void 0);var g=b("bs_curry")._1(b("LS.bs").make,c),h=f.b,i=f.a;return b("LSMarkSubJobCompletedV2")(d,b("bs_caml_int64").of_float(e),void 0,void 0,void 0,g).then(function(a){return b("MWV2OpenComposerUtils.bs").deleteMediaStaging(c,d)}).then(function(d){return b("MWV2OpenComposerUtils.bs").updateAttachment(c,a.a,h,i,function(a){a=b("bs_caml_obj").caml_obj_dup(a);a.e=e.toString();return a})}).then(function(a){return b("MWV2OpenComposerUtils.bs").resumeSendJob(g,h)})});return b("Promise").all([f,g])},"readWrite"),void 0,void 0)},h=function(a,d){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("MWV2OpenComposerUtils.bs").updateMediaStaging(c,a,function(a){return{a:a.a,b:a.b,c:a.c,d:a.d,e:a.e,f:a.f,g:a.g,h:a.h,i:a.i,j:a.j,k:a.k,l:a.l,m:a.m,n:a.n,o:a.o,p:!0}})},"readWrite"),void 0,void 0)};e=e.map(function(a){return a[1]});return b("MWV2ComposerMediaUploadUtil.bs").startUpload(f,g,h,void 0,d,e)}}f.useOnAttachmentsAdded=a}),null);
__d("MWV2UseOnAttachmentsRemovedOpen.bs",["LSTransaction.bs","MWV2OpenComposerUtils.bs","ReStore.bs","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("MWV2OpenComposerUtils.bs").deleteMediaStaging(c,a)},"readWrite"),void 0,void 0)},[c])}f.useOnAttachmentsRemoved=a}),null);
__d("MWV2OpenComposer.bs",["MWPComposerEditor.bs","MWV2ComposerReplyView.bs","MWV2ComposerView.bs","MWV2FileDropzone.bs","MWV2OpenMediaStaging.bs","MWV2OpenTypingState.bs","MWV2ReplyContext.bs","MWV2SendOpenMessage.bs","MWV2UseOnAttachmentsAddedOpen.bs","MWV2UseOnAttachmentsRemovedOpen.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.forwardRef(function(a,c){var d=a.thread,e=a.isPreviewThread,f=a.afterSendMessage;a=a.onSendEmptyMessage;var g=h.useContext(b("MWV2ReplyContext.bs").context);g=g.reply;var i=b("MWV2UseOnAttachmentsAddedOpen.bs").useOnAttachmentsAdded(d),j=b("MWV2UseOnAttachmentsRemovedOpen.bs").useOnAttachmentsRemoved(void 0),k=b("MWV2SendOpenMessage.bs").useOnSendOpenMessage(d,f);f=b("MWV2OpenTypingState.bs").useOnTypingStateChanged(d);h.useImperativeHandle(c,function(){return b("bs_curry").__1(i)},[i]);var l=b("MWV2OpenMediaStaging.bs").useMediaStaging(d);return h.jsxs("div",{children:[g!==void 0?h.jsx(b("MWV2ComposerReplyView.bs").make,{thread:d,messageId:g.messageId,messageTimestamp:g.timestampMs}):null,h.jsx(b("MWPComposerEditor.bs").make,{thread:d,isPreviewThread:e,mediaStaging:l,onSendMessage:k,onSendEmptyMessage:a,onAttachmentsAdded:i,onAttachmentRemoved:j,onTypingStateChanged:f,children:function(a,c,e,f,g){return h.jsx(b("MWV2ComposerView.bs").make,{thread:d,editor:a,mediaStaging:l,onSendMessage:k,onAttachmentsAdded:i,onAttachmentRemoved:j,supportedFileTypes:void 0,canSend:c,editorElementRef:e,addKeyBinding:f,sendMessage:g})}})]})});c={make:i};function j(a){}function a(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;e=e!==void 0?e:j;a=a!==void 0?a:j;var f=h.useContext(b("MWV2FileDropzone.bs").context);return h.jsx(i,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a,ref:f})}d=a;f.Inner=c;f.make=d}),null);
__d("MWV2ComposerCommon.bs",["BootloaderResource","CometErrorBoundary.re","CometPlaceholder.react","FBID.bs","JSResource","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSContactReachabilityStatusType.bs","LSMessagingThreadTypeUtil.bs","LSNullstateCTAType.bs","MAWGating.bs","MWChatBlockedComposer.bs","MWChatRestrictedComposer.bs","MWChatUnavailableComposer.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MWLSThreadReportingToken.bs","MWPParticipantsAndContactsForThread.bs","MWV2ComposerDisclosure.bs","MWV2DisabledPageComposer.bs","MWV2ErrorComposer.bs","MWV2OpenComposer.bs","MWV2ThreadIsPage.bs","MWV2UseAreThreadContactsDualSendEligible.bs","MessengerThreadCannotReplyReason","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_int64","cr:1163","cr:12140","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResource")("MWChatFeatureLimitsBlockedComposer.bs").__setRef("MWV2ComposerCommon.bs");function a(a){return{}}function j(a){return h.createElement(b("BootloaderResource").read(i).make,a)}e={reasonResource:i,makeProps:a,make:j};var k=b("JSResource")("MWChatLeftGroupComposer.bs").__setRef("MWV2ComposerCommon.bs");function c(a,c){c={};a!==void 0&&(c.thread=b("bs_caml_option").valFromOption(a));return c}function l(a){return h.createElement(b("BootloaderResource").read(k).make,a)}a={reasonResource:k,makeProps:c,make:l};function m(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;var f=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c),g=b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c),i=b("MWV2UseAreThreadContactsDualSendEligible.bs").useHook(c.a),j;if(b("cr:12140")==null)j=2;else{if(f)return h.jsx(b("cr:12140").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a});j=2}return j===2&&!(b("cr:1163")==null)&&i&&g?h.jsx(b("cr:1163").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a}):h.jsx(b("MWV2OpenComposer.bs").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a})}c={make:m};function n(a){var c=a.thread,d=a.afterSendMessage,e=a.onSendEmptyMessage;a=a.isPreviewThread;var f=b("bs_caml_obj").caml_equal(c.v,b("MessengerThreadCannotReplyReason").VIEWER_NOT_SUBSCRIBED);if(f&&b("gkx")("408"))return h.jsx(l,{});else return h.jsx(m,{thread:c,isPreviewThread:a,afterSendMessage:d,onSendEmptyMessage:e})}var o={make:n};function p(a){var c=a.thread,d=a.otherUser,e=a.afterSendMessage,f=a.onSendEmptyMessage;a=a.isPreviewThread;var g=b("MWLSThreadReportingToken.bs").fromThread(c),i=b("bs_caml").i64_neq(d.n,b("LSContactBlockedByViewerStatus.bs").unblocked),j=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").message,d),!0),k=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").replyMessage,d),!0),l=b("MWV2ThreadIsPage.bs").useIsPage(void 0);l=!l&&(!j||!k);j=d.N;k=j!==void 0?b("bs_caml").i64_eq(b("LSContactReachabilityStatusType.bs").reachable,j):!0;j=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,d),!1);if(i)return h.jsx(b("MWChatBlockedComposer.bs").make,{fbid:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.a)),thread:c,reportingToken:g});else if(j)return h.jsx(b("MWChatRestrictedComposer.bs").make,{fbid:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.a)),threadKey:c.a});else if(l)return h.jsx(b("MWChatUnavailableComposer.bs").make,{});else if(k)return h.jsx(m,{thread:c,isPreviewThread:a,afterSendMessage:e,onSendEmptyMessage:f});else return h.jsx(b("MWChatBlockedComposer.bs").make,{fbid:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.a)),thread:c,reportingToken:void 0,isReachable:!1})}var q={make:p};function r(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;var f=b("ReStore.bs").useHook(void 0),g=b("MWLSActor.bs").useActor(void 0),i=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"thread_nullstate").asc,{hd:c.a,tl:0})},[f,JSON.stringify(c.a)]));i=i!==void 0?b("bs_caml").i64_eq(i.f,b("LSNullstateCTAType.bs").getStarted):!1;var k=b("bs_caml").i64_neq(c.i,b("bs_caml_int64").zero),l=b("MWPParticipantsAndContactsForThread.bs").useValue(c),m=h.useMemo(function(){var a=b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c);if(a)return b("bs_caml_option").undefined_to_opt(l.find(function(a){return b("bs_caml").i64_neq(a[1].a,g)}))},[JSON.stringify(g),l]),o=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c),q=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!o||b("MAWGating.bs").isFeatureLimitEnabled(void 0));return h.jsxs(h.Fragment,{children:[h.jsx(b("MWV2ComposerDisclosure.bs").make,{thread:c,participantsAndContacts:l}),i&&!k?null:c.K&&c.J?h.jsx(b("MWV2DisabledPageComposer.bs").make,{thread:c}):q&&!o?h.jsx(j,{}):m!==void 0?h.jsx(p,{thread:c,otherUser:m[1],afterSendMessage:e,onSendEmptyMessage:a,isPreviewThread:d}):h.jsx(n,{thread:c,afterSendMessage:e,onSendEmptyMessage:a,isPreviewThread:d})]})}var s={make:r};function d(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return h.jsx(b("MWV2ErrorComposer.bs").make,{})},children:h.jsx(b("CometPlaceholder.react"),{children:h.jsx(r,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a}),fallback:null})})}d=d;f.MWChatFeatureLimitsBlockedComposerLazy=e;f.MWChatLeftGroupComposerLazy=a;f.$MAWSecureComposer$requireCondXplat=b("cr:12140");f.$MWV2DualSendComposer$requireCond=b("cr:1163");f.ActualComposer=c;f.GroupComposer=o;f.OneToOneComposer=q;f.Impl=s;f.make=d}),null);
__d("MWV2ChatTabComposer.bs",["LS.bs","LSAddMessengerContact","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWLSActor.bs","MWV2ComposerCommon.bs","ReQL.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.thread,d=a.tab,e=a.isPreviewThread,f=a.secureThreadToggle;a=a.afterSendMessage;var g=f!==void 0?f:!1,j=a!==void 0?a:i,k=b("ReStore.bs").useHook(void 0),l=b("MWChatStateV2.bs").useDispatch(void 0);f=d.tabType;var m;m=f.TAG===0?c.O:f._0.clientThreadKey;var n=b("MWLSActor.bs").useActor(void 0),o=h.useCallback(function(a){a=d.tabType;if(a.TAG===0)return b("bs_curry")._1(l,b("MWChatStateActions.bs").lockInTab(Date.now(),d.tabId,{threadKey:c.a,clientThreadKey:c.O,threadType:c.c}))},[d,c]);a=h.useCallback(function(a){if(!b("LSMessagingThreadTypeUtil.bs").isGroup(c.c))return b("bs_curry")._1(o,void 0)},[o,c]);f=h.useCallback(function(a){b("bs_curry")._1(j,void 0);b("bs_curry")._1(o,void 0);if(m!==void 0&&b("bs_caml").i64_neq(c.Z,b("LSAuthorityLevel.bs").authoritative)){var e={contents:function(a){}};e.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQLTable").table(k,"threads").index("clientThreadKey").asc,{hd:m,tl:0}),function(a,c){if(typeof c==="number")return;a=c._0;if(b("bs_caml").i64_eq(a.Z,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(e.contents,void 0);return b("bs_curry")._1(l,b("MWChatStateActions.bs").updateThreadKeyDescriptor(d.tabId,a.a,a.O))}})}if((b("LSMessagingThreadTypeUtil.bs").isSecure(c.c)||g)&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c)){b("promiseDone")(b("LSTransaction.bs").run(k,function(a){var d;return(d=b("ReQL.bs")).first(d.filter(d.map(d.getKeyRange(b("ReQLTable").table(k,"participants").asc,{hd:c.a,tl:0}),function(a){return a.b}),function(a){return b("bs_caml").i64_neq(a,n)})).then(function(c){if(c!==void 0)return b("LSAddMessengerContact")(c,b("bs_curry")._1(b("LS.bs").make,a))})},"readWrite"),void 0,void 0);return}},[c,d,l,JSON.stringify(m),j,k,n]);return h.jsx(b("MWV2ComposerCommon.bs").make,{thread:c,isPreviewThread:e,afterSendMessage:f,onSendEmptyMessage:a})}c=a;f.noop=i;f.make=c}),null);
__d("MWV2InThreadBanner.bs",["CometErrorBoundary.re","LSMessagingThreadTypeUtil.bs","MWLSInThreadBannerComponent.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;if(b("LSMessagingThreadTypeUtil.bs").isSecure(a.c))return null;else return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("MWLSInThreadBannerComponent.bs").make,{})})}c=a;f.make=c}),null);
__d("MWV2ChatTab.bs",["CometErrorBoundary.re","CometTransientDialogProvider.react","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWChatConnectionStatusCard.bs","MWSelectedThreadOptionsIdContext.bs","MWThreadKey.bs","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2EnsureThatChatTabExists.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.bs","MWV2InThreadBanner.bs","MWV2OpenAndSecureThreadView.bs","MWV2TabContainer.bs","MWV2Theme.bs","MWV2ThreadIsPage.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.tab;a=a.thread;var d=h.useState(function(){}),e=d[1],f=d[0];d=h.useMemo(function(){return{setVisibleMessage:e,visibleMessage:f}},[f,e]);var g=!b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").filePicker,a);return h.jsx(b("MWV2Theme.bs").make,{themeFbid:a.z,children:h.jsx(b("MWV2ThreadIsPage.bs").make,{thread:a,children:h.jsx(b("MWThreadKey.bs").make,{id:a.a,children:h.jsx(b("MWSelectedThreadOptionsIdContext.bs").make,{children:h.jsx(b("CometTransientDialogProvider.react"),{children:h.jsx(b("MWV2ComposerHasContentContext.bs").make,{children:h.jsxs(b("MWV2TabContainer.bs").make,{tab:c,thread:a,children:[h.jsx(b("MWV2ChatTabHeader.bs").make,{tab:c,thread:a}),h.jsx(b("MWChatConnectionStatusCard.bs").make,{}),h.jsx(b("MWV2InThreadBanner.bs").make,{thread:a}),h.jsxs(b("MWV2FileDropzone.bs").make,{children:[h.jsx(b("MWVisibleMessageContext.bs").Provider.make,{value:d,children:h.jsx(b("MWV2OpenAndSecureThreadView.bs").make,{thread:a})}),h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return h.jsx(b("MWV2ErrorComposer.bs").make,{})},children:h.jsx(b("MWV2ChatTabComposer.bs").make,{thread:a,tab:c,isPreviewThread:!1})})],isMediaOnly:g})]})})}),threadId:a.a})})})})}c={make:i};function a(a){var c=a.tab;a=a.threadKeyDescriptor;var d=b("ReStore.bs").useHook(void 0),e=a.clientThreadKey,f=a.threadKey;b("MWV2EnsureThatChatTabExists.bs").useHook(f,a.threadType);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").asc,{hd:f,tl:0})},[d,JSON.stringify(f)]));var g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(e!==void 0)return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").index("clientThreadKey").asc,{hd:e,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(e)]));a=a!==void 0?a:g!==void 0?g:void 0;if(a!==void 0)return h.jsx(i,{tab:c,thread:a});else return null}d=a;f.Impl=c;f.make=d}),null);
__d("MAWAttachmentBlob.bs",["LSSuspense.bs","MAWBackendBridge.bs","Promise","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){if(a===void 0)return b("LSSuspense.bs").$$throw(b("Promise").resolve(void 0));if(a.j===!1)return b("LSSuspense.bs").$$throw(b("Promise").resolve(void 0));var c=g.get(a.e);if(!(c==null))if(c.TAG===0)return b("LSSuspense.bs").$$throw(c._0);else return c._0;c=b("bs_curry")._1(b("MAWBackendBridge.bs").getBlobDataUrlByMediaId({mediaId:b("bs_caml_format").caml_int32_of_string(a.e)}).sendAndReceive,void 0).then(function(c){g.set(a.e,{TAG:1,_0:b("bs_belt_Option").getExn(c)});return b("Promise").resolve(void 0)})["catch"](function(a){b("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_e2ee_web",{error:b("bs_caml_option").some(a)});return b("Promise").resolve(void 0)});g.set(a.e,{TAG:0,_0:c});return b("LSSuspense.bs").$$throw(c)}function a(a,b){return h(b)}f.getAttachmentBlob=h;f.useGetAttachmentBlob=a}),null);
__d("MAWAttachmentThumbnail.bs",["LSSuspense.bs","MAWBackendBridge.bs","Promise","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){if(a===void 0)return b("LSSuspense.bs").$$throw(b("Promise").resolve(void 0));if(a.j===!1)return b("LSSuspense.bs").$$throw(b("Promise").resolve(void 0));var c=g.get(a.e);if(!(c==null))if(c.TAG===0)return b("LSSuspense.bs").$$throw(c._0);else return c._0;c=b("bs_curry")._1(b("MAWBackendBridge.bs").getThumbnailBlobDataUrlByMediaId({mediaId:b("bs_caml_format").caml_int32_of_string(a.e)}).sendAndReceive,void 0).then(function(c){g.set(a.e,{TAG:1,_0:b("bs_belt_Option").getExn(c)});return b("Promise").resolve(void 0)})["catch"](function(a){b("recoverableViolation")("Unable to getThumbnailBlobDataUrlByMediaId","messenger_e2ee_web",{error:b("bs_caml_option").some(a)});return b("Promise").resolve(void 0)});g.set(a.e,{TAG:0,_0:c});return b("LSSuspense.bs").$$throw(c)}f.getThumbnailBlob=a}),null);
__d("MWV2ChatImagePlaceholder.bs",["BaseGlimmer.react","CometObjectFitContainer.react","MWStableImage.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={glimmer:{display:"a8c37x1j",height:"datstx6m",width:"k4urcfbm"}};function a(a){var c=a.width;a=a.height;if(c===void 0)return null;if(a===void 0)return null;var d=c/a;return i.jsx(b("MWStableImage.bs").Container.make,{width:c,height:a,maxHeight:200,maxWidth:480,className:(h||(h=b("stylex")))(!1),children:i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:d,children:i.jsx(b("BaseGlimmer.react"),{index:1,xstyle:j.glimmer}),objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO"}),aspectRatio:d})}c=a;f.styles=j;f.make=c}),null);
__d("MAWSecureAttachment.bs",["CometPlaceholder.react","MAWAttachmentBlob.bs","MAWAttachmentThumbnail.bs","MWV2Attachments.bs","MWV2ChatAudio.bs","MWV2ChatImage.bs","MWV2ChatImagePlaceholder.bs","MWV2ChatVideo.bs","MWV2Sticker.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachments").asc,{hd:a.a,tl:{hd:a.e,tl:0}})},[c,a.e])}function a(a){var c=a.message,d=a.connectTop;a=a.outgoing;var e=b("ReQLSubscription.bs").useFirst(i(c));if(e===void 0)return null;var f=e.f;return h.jsx(b("MWV2Attachments.bs").Container.make,{children:b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").image)?h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("MWV2ChatImage.bs").make,{message:c,attachment:e,getPreviewUrl:function(a){return b("MAWAttachmentThumbnail.bs").getThumbnailBlob(a)},getPlayableUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},connectTop:d,outgoing:a,navigateToRouteForMediaViewer:!1}),fallback:h.jsx(b("MWV2ChatImagePlaceholder.bs").make,{width:b("bs_belt_Option").map(e.K,b("bs_caml_int64").to_float),height:b("bs_belt_Option").map(e.L,b("bs_caml_int64").to_float)})}):b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").video)?h.jsx(b("MWV2ChatVideo.bs").make,{message:c,attachment:e,getPreviewUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},connectTop:d,outgoing:a,navigateToRouteForMediaViewer:!1}):b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").audio)?h.jsx(b("MWV2ChatAudio.bs").make,{attachment:e,getPlayableUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},outgoing:a}):b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").animatedImage)?h.jsx(b("MWV2ChatImage.bs").make,{message:c,attachment:e,getPreviewUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},getPlayableUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)},connectTop:d,outgoing:a,navigateToRouteForMediaViewer:!1}):b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").sticker)?h.jsx(b("MWV2Sticker.bs").make,{attachment:e,getPreviewUrl:function(a){return b("MAWAttachmentBlob.bs").getAttachmentBlob(a)}}):"Unsupported attachment type",message:c,connectTop:d})}c=a;f.useAttachments=i;f.make=c}),null);
__d("MAWEncryptionPlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._(/*FBT_CALL*/"\u7121\u6cd5\u986f\u793a\u8a0a\u606f"/*FBT_CALL*/)})}c=a;f.make=c}),null);
__d("MAWFutureproofPlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c={refresh:{marginStart:"hnxzwevs",color:"oo9gr5id"}};function a(a){return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:i.jsx(i.Fragment,{children:g._(/*FBT_CALL*/"You received a message but this browser can't show it."/*FBT_CALL*/)})})}d=a;f.styles=c;f.make=d}),null);
__d("MAWUnavailablePlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._(/*FBT_CALL*/"\u8a0a\u606f\u50b3\u9001\u5931\u6557"/*FBT_CALL*/)})}c=a;f.make=c}),null);
__d("MAWSecurePlaceholder.bs",["LSMessageContentType.bs","MAWEncryptionPlaceholder.bs","MAWFutureproofPlaceholder.bs","MAWUnavailablePlaceholder.bs","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.message;a=a.Q;if(b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").encryptionPlaceholder))return h.jsx(h.Suspense,{children:h.jsx(b("MAWEncryptionPlaceholder.bs").make,{}),fallback:null});else if(b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").futureproofPlaceholder))return h.jsx(h.Suspense,{children:h.jsx(b("MAWFutureproofPlaceholder.bs").make,{}),fallback:null});else if(b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").unavailablePlaceholder))return h.jsx(h.Suspense,{children:h.jsx(b("MAWUnavailablePlaceholder.bs").make,{}),fallback:null});else return null}c=a;f.make=c}),null);
__d("MAWSecureAttachmentRenderer.bs",["MAWMsg.bs","MAWSecureAttachment.bs","MAWSecurePlaceholder.bs","MWV2MessageParsingUtils.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){c=b("MWV2MessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(a,c);d=b("MWV2MessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(a,d);return h.jsx(h.Suspense,{children:b("MAWMsg.bs").isMediaMsg(a)?h.jsx(b("MAWSecureAttachment.bs").make,{message:a,connectTop:c,connectBottom:d,outgoing:e}):h.jsx(b("MAWSecurePlaceholder.bs").make,{message:a}),fallback:null})}f.render=a}),null);
__d("MAWFetchMoreMessages.bs",["MAWBackendBridge.bs","MAWThreadId.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"messages_ranges_v2__generated").asc,{hd:a,tl:0})},[c,a]));return h.useCallback(function(e){if(d===void 0)return;var f=d.c;b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(c,a).then(function(a){if(a){b("promiseDone")(b("bs_curry")._1(b("MAWBackendBridge.bs").loadMoreMsgs({threadId:a._0,offsetMsgId:f,numMsgs:10}).sendAndReceive,void 0),function(a){},void 0);return}}),void 0,void 0)},[a,d])}f.useHook=a}),null);
__d("MAWSecureThreadDetail.bs",["FBID.bs","MAWFetchMoreMessages.bs","MAWJids","MAWJob.bs","MAWMarkThreadAsRead.bs","MAWSecureAttachmentRenderer.bs","MWChatLoadMoreItemsIncrementally.bs","MWInboxThreadMessagesSpinner.bs","MWV2ContextBanner.bs","MWV2ConversationScrollerRefs.bs","MWV2CurrentVisibleMessage.bs","MWV2MessageList.bs","MWV2MessageScroller.bs","MWV2OpenThreadDetail.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml_array","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("ReStore.bs").useHook(void 0),d=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:0}),function(a){return b("MAWJids").toUserJid(b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.b)))})},[c,b("bs_int64").to_string(a.a)]));h.useEffect(function(){b("MAWJob.bs").getDevices(new Set(d)).fireAndForget()},[d])}function a(a){a=a.thread;var c=b("MAWFetchMoreMessages.bs").useHook(a.a),d=b("MWV2ConversationScrollerRefs.bs").useHook(void 0),e=b("MWV2CurrentVisibleMessage.bs").useHook(a,d.scrollerRef),f=e.messageRange,g=e.messageRange;f=b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(f!==void 0?f.i:!1,void 0,void 0,b("MWV2OpenThreadDetail.bs").useMessages(e.messageRange,a),c,g!==void 0?g.h:!1);c=f[2];g=f[0];i(a);var j=e.messageRange;j=j!==void 0?j.i:!1;return h.jsx(h.Fragment,{children:h.jsxs(b("MWV2MessageScroller.bs").make,{children:[c?h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{}):h.jsx(b("MWV2ContextBanner.bs").make,{thread:a}),h.jsx(b("MWV2MessageList.bs").make,{messages:g,thread:a,isSecureThread:!0,messageElementRefs:e.messageElementRefs.current,scrollerRefs:d,renderAttachment:b("MAWSecureAttachmentRenderer.bs").render}),j?h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{}):null],thread:a,fetchMore:f[1],markThreadAsRead:b("MAWMarkThreadAsRead.bs").useHook(a),lastMessageToCalculateIfThreadIsRead:g.length!==0?b("bs_caml_array").get(g,g.length-1|0):void 0,scrollerRefs:d,hasMoreBefore:c,hasMoreAfter:j})})}c=b("MAWSecureAttachmentRenderer.bs").render;d=a;f.renderAttachment=c;f.make=d}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters.facebook",["FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"),metadata:{},name:"FBPayHubTransactionDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1932967")}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4252207364789784",metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3372974126058277",metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMWFilePDFDataQuery$Parameters",["useMWFilePDFDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("useMWFilePDFDataQuery_facebookRelayOperation"),metadata:{},name:"useMWFilePDFDataQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:"2353962864732251",metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometProfilePhoto_EXPERIMENTAL.react",["CometBadgeContainer.react","CometImage.react","CometImageContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={photo:{display:"a8c37x1j",maxWidth:"d2edcug0",minHeight:"sn7ne77z",objectFit:"bixrwtb6"}};function a(a){var b=a.alt,d=a.badge,e=a.badgeAlign,f=a.disabled;f=f===void 0?!1:f;var g=a.shape;g=g===void 0?"square":g;var j=a.size;a=a.source;j=h.jsx(c("CometImageContainer.react"),babelHelpers["extends"]({},j==="fill"?{aspectRatio:1}:{size:j},{disabled:f,shape:g,children:h.jsx(c("CometImage.react"),{alt:b,src:a,xstyle:i.photo})}));return d!=null?h.jsx(c("CometBadgeContainer.react"),{badge:d,badgeAlign:e,children:j}):j}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFacepilePhoto.react",["BaseView.react","CometBadgeContainer.react","CometProfilePhoto_EXPERIMENTAL.react","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={item:{position:"pmk7jnqg"},moreItem:{alignItems:"bp9cbjyn",backgroundColor:"tdjehn4e",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m",justifyContent:"taijpn5t"},moreItemFontWeight:{fontWeight:"lrazzd5p"},moreItemInsetBorder:{borderTopStartRadius:"n00je7tq",borderTopEndRadius:"arfg74bv",borderBottomEndRadius:"qs9ysxi8",borderBottomStartRadius:"k77z8yql",bottom:"i09qtzwb",boxShadow:"oaz4zybt",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},smallBadgeFontSize:{fontSize:"j1meafb1"}},j=48,k={32:{height:"k7cz35w2",width:"bsnbvmp4"},36:{height:"tv7at329",width:"thwo4zme"},40:{height:"qypqp5cg",width:"q676j6op"},44:{height:"qu8okrzs",width:"eim337gk"},48:{height:"m7zwrmfr",width:"tmrshh9y"},56:{height:"e5d9fub0",width:"oeao4gh3"},60:{height:"cb02d2ww",width:"ljni7pan"},72:{height:"rdkrh8wx",width:"orwu60u2"},80:{height:"pioscnbf",width:"etr7akla"}},l={1:{height:"datstx6m",width:"k4urcfbm"},2:{height:"fbtcaa4l",width:"obxclzj5"},3:{height:"h8rzmyi8",width:"aunhd4fo"},4:{height:"h8rzmyi8",width:"aunhd4fo"}},m={0:{borderTopColor:"np69z8it",borderEndColor:"et4y5ytx",borderBottomColor:"j7g94pet",borderStartColor:"b74d5cxt",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"qxh1up0x",borderEndWidth:"qtyiw8t4",borderBottomWidth:"tpcyxxvw",borderStartWidth:"k0bpgpbk",bottom:"i09qtzwb",boxSizing:"cjfnh4rs",marginTop:"hop8lmos",marginEnd:"nkwizq5d",marginBottom:"scwd0bx6",marginStart:"roh60bw9",start:"j9ispegn",zIndex:"tkr6xdv7"},1:{end:"n7fi1qx3",top:"kr520xx4"}},n={0:{left:"pzli0o6b",top:"hmalg0qr",transform:"cj5g2342"},1:{bottom:"rwy7c4ue",start:"mmfdhihy"},2:{bottom:"rwy7c4ue",end:"tdcub1r8"}},o={0:{start:"mmfdhihy",top:"hmalg0qr"},1:{bottom:"rwy7c4ue",start:"mmfdhihy"},2:{end:"tdcub1r8",top:"hmalg0qr"},3:{bottom:"rwy7c4ue",end:"tdcub1r8"}};function a(a){var b=a.badge,d=a.badgeAlign,e=a.expanding;e=e===void 0?!1:e;var f=a.label,g=a.size,p=a.sources;a=a.totalItems;var q=a>p.length||p.length>4,r=Math.min(p.length+(q?1:0),4);p=p.slice(0,q?r-1:r).map(function(a){return h.jsx(c("CometProfilePhoto_EXPERIMENTAL.react"),babelHelpers["extends"]({},typeof a==="object"?a:{source:a},{shape:"circle",size:"fill"}))});if(q){q=h.jsxs(c("BaseView.react"),{xstyle:i.moreItem,children:[h.jsx(c("TetraText.react"),{color:"secondary",type:"meta4",children:h.jsxs("span",{className:c("stylex")(i.moreItemFontWeight,g<=j&&i.smallBadgeFontSize),children:["+",a-r+1]})}),h.jsx(c("BaseView.react"),{xstyle:i.moreItemInsetBorder})]},"more");r===4?p.splice(-1,0,q):p.push(q)}a=h.jsx(c("BaseView.react"),{"aria-label":f,role:"img",xstyle:k[g],children:p.map(function(a,b){return h.jsx(c("BaseView.react"),{xstyle:[i.item,l[r],r===4&&o[b]||r===3&&n[b]||r===2&&m[b]],children:a},b)})});return b!=null?h.jsx(c("CometBadgeContainer.react"),{badge:b,badgeAlign:d,expanding:e,children:a}):a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoThumbnail",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a}var b=a.prototype;b.getURL=function(){return this.$1};b.getData=function(){g(0,4844)};a.addTextToCanvasContext=function(a,b,c,d,e,f,g,h,i){a.fillStyle=h;a.textAlign=i;a.font=f+"px "+g;h=i==="center"?d+e/2:d;g=1;i=b.split("\n");for(var d=i,b=Array.isArray(d),i=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k="",l="";j=j.split(" ");for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;l+=o;var p=a.measureText(l).width,q=a.measureText(o).width;if(q>e){k.length>0&&(a.fillText(k,h,c+f*g),g++);q="";var r="";for(var s=o,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;r+=v;var w=a.measureText(r).width;w>e?(a.fillText(q,h,c+f*g),q=v,r=v,g++):q=r}k=q+" ";l=q+" "}else p>e?(a.fillText(k,h,c+f*g),k=o+" ",l=o+" ",g++):(l+=" ",k=l)}a.fillText(k,h,c+f*g);g++}return a};return a}();e.exports=a}),null);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("dataURLToBlob",["BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","Promise","WebWorker"],(function(a,b,c,d,e,f,g){var h=a.URL||a.webkitURL||{};function e(a,e){if(!h.createObjectURL||!c("BlobFactory").isSupported)return b("Promise").reject("Browser doesn't support this feature");if(c("WebWorker").isSupported())return new(b("Promise"))(function(b,d){var f=new(c("WebWorker"))(c("CanvasToBlobResource")).setMessageHandler(function(a){b(a),f.terminate()}).setErrorHandler(function(a){d(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:e})});else return b("Promise").resolve(d("CanvasToBlobImpl").getBlob(a,e))}g["default"]=e}),98);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f,g){function a(a,d,e){return new(b("Promise"))(function(b,f){if(a.toBlob)a.toBlob(b,d,e);else{var g=a.toDataURL(d,e);c("promiseDone")(c("dataURLToBlob")(g,d).then(function(a){b(a)},f))}})}g["default"]=a}),98);
__d("CanvasVideoThumbnail",["EventListener","Promise","VideoThumbnail","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(d,a);function d(b,c,d,e,f,g,h){var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail1=b;i.$CanvasVideoThumbnail2=c;i.$CanvasVideoThumbnail3=d;i.$CanvasVideoThumbnail4=e;i.$CanvasVideoThumbnail5=f;i.$CanvasVideoThumbnail6=g;i.$CanvasVideoThumbnail7=h;return i}var e=d.prototype;e.getCanvas=function(){return this.$CanvasVideoThumbnail1};e.getTime=function(){return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};e.getURL=function(){this.$CanvasVideoThumbnail8||(this.$CanvasVideoThumbnail8=this.$CanvasVideoThumbnail1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail8};e.getData=function(){var a=this,d=document.createElement("canvas"),e=d.getContext("2d"),f=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(b,g){var h=c("EventListener").listen(f,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail9(d,e),c("promiseDone")(c("canvasToBlob")(d,"image/jpeg").then(b,g))});f.currentTime=a.$CanvasVideoThumbnail3})};e.getDataWithText=function(a,d,e,f,g,h,i,j){var k=this,l=document.createElement("canvas"),m=l.getContext("2d"),n=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(b,o){var p=c("EventListener").listen(n,"seeked",function(){p.remove(),m.fillStyle=i,m.textAlign=j,k.$CanvasVideoThumbnail9(l,m),m=c("VideoThumbnail").addTextToCanvasContext(m,a,d,e,f,g,h,i,j),c("promiseDone")(c("canvasToBlob")(l,"image/jpeg").then(b,o))});n.currentTime=k.$CanvasVideoThumbnail3})};e.$CanvasVideoThumbnail9=function(a,b){var c=this.$CanvasVideoThumbnail2;this.$CanvasVideoThumbnail4||this.$CanvasVideoThumbnail5?(a.width=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:c.videoWidth,a.height=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:c.videoHeight,this.$CanvasVideoThumbnail10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};e.$CanvasVideoThumbnail10=function(a,b){var c=this.$CanvasVideoThumbnail2,d=this.$CanvasVideoThumbnail6,e=this.$CanvasVideoThumbnail7,f=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:a.width,g=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return d}(c("VideoThumbnail"));g["default"]=a}),98);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};b=a;f["default"]=b}),66);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var b=a.prototype;b.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,b=this.$1.clientHeight||this.$1.height,d=a,e=b,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:b,0,0,a,b)}else g.drawImage(this.$2,(a-d)/2,(b-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};b.getDOMNode=function(){return this.$1};b.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();g["default"]=a}),98);
__d("generateVideoThumbnails",["CanvasVideoThumbnail","HTMLMediaElementReadyStates","Promise","VideoFrameBuffer","cr:909281"],(function(a,b,c,d,e,f,g){function a(a,d,e,f,g,l,m,n,o,p){g===void 0&&(g="contain");l===void 0&&(l=0);m===void 0&&(m=null);n===void 0&&(n=null);o===void 0&&(o=null);p===void 0&&(p=null);return new(b("Promise"))(function(q,r){var s=document.createElement("canvas"),t=[],u=0,v=a.duration-l;p!=null&&(v=Math.min(v,p));var w=v/f,x=null,y,z,A=(v=n)!=null?v:h(m,d),B=(v=o)!=null?v:i(m,e),C=j(m,d),D=k(m,e);y=new(c("VideoFrameBuffer"))(s,a,g,A,B,C,D);s.width=(v=A)!=null?v:d;s.height=(v=B)!=null?v:e;var E=function(){y.updateFrameBuffer();var b=new(c("CanvasVideoThumbnail"))(s,a,l+(u-1)*w,A,B,C,D);t.push(b);(!x||b.getURL().length>x.getURL().length)&&(x=b);G()},F=function(){if(a.readyState>=c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)E();else if(b("cr:909281")!==null)var d=b("cr:909281").listen(a,"loadeddata",function(){d.remove(),E()});else a.addEventListener("loadeddata",E,{once:!0})},G=function(){u===0&&(b("cr:909281")!==null?z=b("cr:909281").listen(a,"seeked",F):a.addEventListener("seeked",F)),u<f?(a.currentTime=l+u*w,u++):(b("cr:909281")!==null?z&&z.remove():a.removeEventListener("seeked",F),q({thumbnails:t,selectedThumbnail:x}))};if(a.videoWidth===0||a.videoHeight===0){r();return}G()})}function h(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function i(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function k(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}g["default"]=a}),98);
__d("CometLocalVideoFileThumbnailSuspense.react",["CometBackgroundImage.react","Promise","generateVideoThumbnails","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var d=a.file,e=a.height,f=e===void 0?100:e;e=a.renderer;a=a.width;var g=a===void 0?100:a;a=i.getFromCache(d,g,f);if((a==null?void 0:a.error)!=null)throw a.error;else if((a==null?void 0:a.src)!=null&&a.src!=="")return e?e(a.src):h.jsx(c("CometBackgroundImage.react"),{alt:d.name,src:a.src});else{var j=document.body;if(j){var k=document.createElement("video");throw new(b("Promise"))(function(a){k.setAttribute("style","display: none"),k.setAttribute("src",URL.createObjectURL(d)),k.addEventListener("loadedmetadata",function(){k.duration===Infinity?(k.currentTime=Number.MAX_SAFE_INTEGER,k.ontimeupdate=function(){k.ontimeupdate=null,k.currentTime=0,a(c("generateVideoThumbnails")(k,g,f,1))}):a(c("generateVideoThumbnails")(k,g,f,1))}),j.appendChild(k)}).then(function(a){i.cache[g+"x"+f+"/"+d.name+"/"+d.lastModified]={src:a.thumbnails[0].getURL()}})["catch"](function(a){a=new Error("Video metadata could not be read.");i.cache[g+"x"+f+"/"+d.name+"/"+d.lastModified]={error:a};c("recoverableViolation")(a.message,"video");throw a})["finally"](function(){j.removeChild(k)})}}}i.displayName=i.name+" [from "+f.id+"]";i.cache={};i.getFromCache=function(a,b,c){return i.cache[b+"x"+c+"/"+a.name+"/"+a.lastModified]};g["default"]=i}),98);
__d("addEmojiToEditorState",["DraftModifier","EditorState","FBEmojiUtils","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){e===void 0&&(e=c("emptyFunction"));a=typeof a!=="string"?d("FBEmojiUtils").codepointsToString(a):a;a=d("DraftModifier").replaceText(b.getCurrentContent(),b.getSelection(),a);a=c("EditorState").push(b,a,"insert-characters");a!==b&&e(a);return a}g["default"]=a}),98);
__d("composerEmojiReducers",["EmojiFormat.bs","addEmojiToEditorState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"INSERT_EMOJI":b=d("EmojiFormat.bs").codeArrayToUnicode(b.codePoint);var e=a.editorState;if(e===null||e===void 0)return babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},e||{hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null},{__type:"plain-text",text:b})});else if(e.__type==="plain-text"){var f=e.text;return babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},e,f!==null?{text:e.text+b}:{ranges:[],text:b})})}else{f=e.draftEditorState;return babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},e,{draftEditorState:c("addEmojiToEditorState")(b,f)})})}}return a}g["default"]=a}),98);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.transactionID;return{queries:{fBPayHubTransactionDetailDialogQueryReference:{parameters:b("FBPayHubTransactionDetailDialogQuery$Parameters"),variables:{transaction_id:a}}}}},root:c("JSResourceForInteraction")("FBPayHubTransactionDetailDialog.react").__setRef("FBPayHubTransactionDetailDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQueryReference:{parameters:c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters"),variables:{id:a.threadId,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.react").__setRef("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint")};g["default"]=a}),98);
__d("MAWThreadId.bs",["MAWGating.bs","MAWHexUtils","Promise","ReQL.bs","ReQLTable","bs_caml_int64","bs_int64","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=[-1,4294966296];function a(a){return b("MAWHexUtils").orderPreservingHex(a)}function c(a,c){if(b("MAWGating.bs").isOccamadillo)return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"mi_act_mapping_table").index("chat_id").asc,{hd:b("bs_caml_int64").of_int32(c),tl:0})).then(function(a){if(a!==void 0)return a.a;else return b("unrecoverableViolation")("Tried to convert a rowId to thread key but couldn't find a\n          corresponding row in the mapping table. This can mean that\n          there is a race condition between the time a thread was created\n          on the WA backend, and the time it was inserted into the mapping table.\n          i.e. this function is called before the fn that inserts the mapping\n          into the mapping table","messenger_web_product")});else{return b("Promise").resolve((a=b("bs_caml_int64")).add(a.mul(a.of_int32(c),a.neg_one),g))}}function h(a){if(b("MAWGating.bs").isOccamadillo){b("recoverableViolation")("Checking if a threadKey is a secure thread key in Occamadillo. We should be\n      checking the thread's thread type instead","messenger_web_product");return!1}else return b("bs_int64").compare(a,g)===-1}function d(a,c){if(b("MAWGating.bs").isOccamadillo)return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"mi_act_mapping_table").asc,{hd:c,tl:0})).then(function(a){if(a!==void 0)return{_0:b("bs_caml_int64").to_int32(a.b)};else return 0});else return b("Promise").resolve(h(c)?{_0:b("bs_caml_int64").to_int32(b("bs_caml_int64").mul(b("bs_caml_int64").sub(c,g),b("bs_caml_int64").neg_one))}:(b("recoverableViolation")("We are using a thread key which is not a ChatId as a ChatId. This will likely result in a privacy SEV","messenger_web_product"),0))}f.orderPreservingHex=a;f.ofThreadKey=d;f.toThreadKey=c;f.isThreadId=h}),null);
__d("MWLSAdContextCtaParser.bs",["JSResource","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";c=new Set(["ads_context"]);function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs"));var c=a[1],d=a[0];return function(a,b){var e=b.d;if(e==="ads_context")return{TAG:1,_0:function(c){return d({adId:b.b,threadKey:a.banner.a,onClose:function(a){}},function(a){})},_1:c};else return 0}}f.adContextCta=c;f.useHook=a}),null);
__d("MWLSEnsureAdContextExists.bs",["LS.bs","LSRequestAdContextFromThreadKey","LSTransaction.bs","MWThreadKey.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSRequestAdContextFromThreadKey")(d,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("MWChatAudioInnerContent.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",justifyContent:"i1fnvgqd",alignItems:"bp9cbjyn",width:"k4urcfbm",height:"datstx6m",position:"l9j0dhe7"}};function a(a){a=a.children;return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatAudioControlButton.bs",["CometPressable.react","CometProgressRingIndeterminate.react","MWChatChatButtonColorConstants.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={pressable:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",width:"b73ngqbp",height:"rgmg9uty",backgroundColor:"q2y6ezfg",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},container:{marginEnd:"fv0vnmcu",marginStart:"ggphbty4",zIndex:"tkr6xdv7"}};function k(a){a=a.content;return i.jsx("svg",{className:(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),width:"24px",height:"24px",viewBox:"0 0 36 36",children:a})}c={make:k};function a(a){var c=a.onPress,d=a.testid,e=a.disabled,f=a.type_,g=a.label;a=a.color;e=e!==void 0?e:!1;var l;switch(f){case 0:l=i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:16});break;case 1:l=i.jsx(k,{content:i.jsx("path",{d:"M11 8.5A1.5 1.5 0 009.5 10v16a1.5 1.5 0 001.5 1.5h4a1.5 1.5 0 001.5-1.5V10A1.5 1.5 0 0015 8.5h-4zm10 0a1.5 1.5 0 00-1.5 1.5v16a1.5 1.5 0 001.5 1.5h4a1.5 1.5 0 001.5-1.5V10A1.5 1.5 0 0025 8.5h-4z",fill:a,fillRule:"evenodd",stroke:"none"})});break;case 2:l=i.jsx(k,{content:i.jsx("path",{d:"M10 25.498V10.502a1.5 1.5 0 012.17-1.342l14.997 7.498c1.105.553 1.105 2.13 0 2.684L12.17 26.84A1.5 1.5 0 0110 25.498z",fill:a,fillRule:"evenodd",stroke:"none"})});break;case 3:l=i.jsx(k,{content:i.jsx("rect",{x:"9",y:"9",width:"18",height:"18",rx:"2",fill:a,fillRule:"evenodd",stroke:"none"})});break}f={"aria-label":g,disabled:e,overlayRadius:"50%",xstyle:function(a){return[j.pressable]},children:l};d!==void 0&&(f.testid=b("bs_caml_option").valFromOption(d));c!==void 0&&(f.onPress=b("bs_caml_option").valFromOption(c));return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:i.jsx(b("CometPressable.react"),f)})}d=a;f.styles=j;f.SvgWithStyles=c;f.make=d}),null);
__d("MWChatAudioPlayerV2Controls.bs",["fbt","MWChatAudioControlButton.bs","bs_belt_Option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.state,d=a.onTogglePlayPause;a=a.color;a=b("bs_belt_Option").getWithDefault(a,"black");var e=i.jsx(b("MWChatAudioControlButton.bs").make,{onPress:function(a){return b("bs_curry")._1(d,1)},testid:"chat-audio-player-pause-button",type_:1,label:g._(/*FBT_CALL*/"\u66ab\u505c"/*FBT_CALL*/),color:a}),f=i.jsx(b("MWChatAudioControlButton.bs").make,{onPress:function(a){return b("bs_curry")._1(d,0)},testid:"chat-audio-player-play-button",type_:2,label:g._(/*FBT_CALL*/"\u64ad\u653e"/*FBT_CALL*/),color:a});a=i.jsx(b("MWChatAudioControlButton.bs").make,{testid:"chat-audio-player-playpause-button",disabled:!0,type_:0,label:g._(/*FBT_CALL*/"\u8f09\u5165\u4e2d"/*FBT_CALL*/),color:a});switch(c){case 0:return e;case 1:return f;case 2:return a}}c=a;f.make=c}),null);
__d("MWChatAudioPlayerV2Scrubber.bs",["fbt","BaseSlider.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={};var k={scrubber:{position:"pmk7jnqg",width:"k4urcfbm"},root:{height:"tv7at329",top:"bk00n993",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"},rail:{height:"datstx6m",backgroundColor:"g5ia77u1"},thumb:{backgroundColor:"g5ia77u1",borderTop:"gr3eweyx",borderEnd:"nhozmrxx",borderBottom:"a8a460vb",borderStart:"p6akugab",boxShadow:"b5t2w8d8",transform:"mc7f9g4v"},track:{zIndex:"du4w35lb",height:"datstx6m",transitionDuration:"akwz6i9j",transitionProperty:"sk63wpmh",transitionTimingFunction:"sgqwj88q",backgroundColor:"rn3djb20",borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e",opacity:"h34q056n"},outgoingTrack:{backgroundColor:"q2y6ezfg"},smoothTrack:{transitionDuration:"l9l1gxur"}};function a(a){var c=a.progress,d=a.duration,e=a.outgoing,f=a.state,h=a.onChange;a=a.onChangeSettled;f=f===0;c=d===0?0:c/d*100;return j.jsx("div",{className:(i||(i=b("stylex")))(k.scrubber),children:j.jsx(b("BaseSlider.react"),{max:100,min:0,ariaLabel:g._(/*FBT_CALL*/"\u97f3\u8a0a\u6ed1\u687f"/*FBT_CALL*/),onChange:h,onChangeSettled:a,step:1,values:[c],xstyleRoot:k.root,xstyleRail:k.rail,xstyleThumb:k.thumb,xstyleTrack:[k.track,e?k.outgoingTrack:!1,f?k.smoothTrack:!1]})})}d=a;f.Scrubber=c;f.styles=k;f.make=d}),null);
__d("MWChatAudioTimestamp.bs",["bs_belt_Option","formatDurationSeconds","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{marginEnd:"fv0vnmcu",marginStart:"ggphbty4",height:"oeo4gz9l",width:"chsygg5i",backgroundColor:"q2y6ezfg",borderTopStartRadius:"pdihbav5",borderTopEndRadius:"fo8ltl2p",borderBottomEndRadius:"b8f6b1oh",borderBottomStartRadius:"q0b78ich",display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",zIndex:"tkr6xdv7"},timestamp:{fontSize:"e9vueds3",color:"moj8do2t",fontFamily:"rsyw3t7h",fontWeight:"lrazzd5p",fontStyle:"tbxw36s4"}};function a(a){var c=a.time,d=a.color;a=a.testid;c=b("formatDurationSeconds")(c);d=b("bs_belt_Option").map(d,function(a){return{color:a}});return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),"data-testid":a,children:i.jsx("div",{className:h(j.timestamp),style:d,children:c})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatAudioPlayerV2View.bs",["MWChatAudioInnerContent.bs","MWChatAudioPlayerV2Controls.bs","MWChatAudioPlayerV2Scrubber.bs","MWChatAudioTimestamp.bs","bs_js_math","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.state,d=a.progress,e=a.duration,f=a.onTogglePlayPause,g=a.outgoing,i=a.color,j=a.onChangeProgress,k=a.onChangeProgressSettled;a=a.preview;a=a!==void 0?a:!1;var l=b("bs_js_math").ceil(e-d);return h.jsxs(b("MWChatAudioInnerContent.bs").make,{children:[h.jsx(b("MWChatAudioPlayerV2Scrubber.bs").make,{progress:d,duration:e,outgoing:g,state:c,onChange:j,onChangeSettled:k}),h.jsx(b("MWChatAudioPlayerV2Controls.bs").make,{state:c,onTogglePlayPause:f,outgoing:g,color:g?i:void 0}),h.jsx(b("MWChatAudioTimestamp.bs").make,{time:l,color:a?i:void 0,testid:"chat-audio-player-timestamp"})]})}c=a;f.make=c}),null);
__d("MediaElement.bs",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=4;f.cHAVE_NOTHING=a;f.cHAVE_METADATA=b;f.cHAVE_CURRENT_DATA=c;f.cHAVE_FUTURE_DATA=d;f.cHAVE_ENOUGH_DATA=e}),null);
__d("MWChatAudioPlayerAudioTagImpl.bs",["MWChatAudioLog.bs","MWChatAudioPlayerV2View.bs","MediaElement.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.url,d=a.duration,e=a.controlState,f=a.progress,g=a.onToggleState,i=a.onSetProgress,j=a.outgoing,k=a.color,l=a.onTogglePlayPause;a=a.preview;var m=h.useRef(null),n=h.useRef(!1),o=h.useState(function(){return!1}),p=o[1],q=o[0],r=function(a){a=m.current;if(a==null)return 0;else return a.currentTime},s=function(a){a=m.current;if(!(a==null)){n.current=!1;a.play();b("bs_curry")._1(g,0);l!==void 0&&b("bs_curry")._1(l,!0);if(f!==0)return b("MWChatAudioLog.bs").logPlaybackResume(d,f);else return b("MWChatAudioLog.bs").logPlaybackStart(d)}},t=function(a){var c=m.current;if(!(c==null)){c.currentTime=a;return b("bs_curry")._1(i,a)}},u=function(a){a=m.current;if(!(a==null)){a.pause();b("bs_curry")._1(g,1);l!==void 0&&b("bs_curry")._1(l,!1);return b("MWChatAudioLog.bs").logPlaybackPause(d,f)}};o=function(a){if(a===0)return s(void 0);else if(a===1)return u(void 0);else return};var v=function(b){var a=n.current;e!==0||a||(n.current=!0);n.current&&u(void 0);if(!(b==null))return t(b/100*d)},w=function(a){if(n.current)return s(void 0)},x=function(a){if(!q){b("bs_curry")._1(p,function(a){return!0});return b("bs_curry")._1(g,1)}};h.useEffect(function(){var a=m.current;if(!(a==null)){a.readyState>=b("MediaElement.bs").cHAVE_ENOUGH_DATA&&x(void 0);return}},[]);return h.jsxs(h.Fragment,{children:[h.jsx("audio",{src:c,ref:m,onEnded:function(a){setTimeout(function(a){u(void 0);if(r(void 0)>0)return t(0)},500)},onTimeUpdate:function(a){return b("bs_curry")._1(i,r(void 0))},onCanPlay:function(a){return x(void 0)},onWaiting:function(a){if(e===0)return b("bs_curry")._1(g,2)},onPlaying:function(a){if(e===2)return b("bs_curry")._1(g,0)}}),h.jsx(b("MWChatAudioPlayerV2View.bs").make,{state:e,progress:f,duration:d,onTogglePlayPause:o,outgoing:j,color:k,onChangeProgress:v,onChangeProgressSettled:w,preview:a})]})}c=a;f.make=c}),null);
__d("MWChatAudioPlayer.bs",["MWChatAudioPlayerAudioTagImpl.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={progress:0,controlState:2};function j(a,b){if(typeof b!=="number")return{progress:b._0,controlState:a.controlState};switch(b){case 0:return{progress:a.progress,controlState:1};case 1:return{progress:a.progress,controlState:0};case 2:return{progress:a.progress,controlState:2}}}function a(a){var c=a.url,d=a.duration,e=a.outgoing,f=a.color,g=a.onTogglePlayPause;a=a.preview;a=a!==void 0?a:!1;var k=h.useReducer(j,i),l=k[1];k=k[0];d=d/1e3;var m=function(a){return b("bs_curry")._1(l,{_0:a})},n=function(a){switch(a){case 0:return b("bs_curry")._1(l,1);case 1:return b("bs_curry")._1(l,0);case 2:return b("bs_curry")._1(l,2)}};return h.jsx(b("MWChatAudioPlayerAudioTagImpl.bs").make,{url:c,duration:d,controlState:k.controlState,progress:k.progress,onToggleState:n,onSetProgress:m,outgoing:e,color:f,onTogglePlayPause:g,preview:a})}c=a;f.cINIT_STATE=i;f.reducer=j;f.make=c}),null);
__d("MWChatAudioRoot.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",alignItems:"bp9cbjyn",height:"tv7at329",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",position:"l9j0dhe7"}};function a(a){var c=a.children;a=a.testid;var d={className:(h||(h=b("stylex")))(j.container)};a!==void 0&&(d["data-testid"]=a);return i.createElement("div",d,c)}c=a;f.styles=j;f.make=c}),null);
__d("MWLSBlockStatus.bs",["FBID.bs","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","MWLSActor.bs","MWLSParticipant.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_format","bs_int64","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("MWLSActor.bs").useActor(void 0),f=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:d,tl:0})},[c,JSON.stringify(d)]));a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(f!==void 0&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(f.c))return b("ReQL.bs").filter(b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:d,tl:0}),b("ReQLTable").table(c,"contacts").asc),function(a){return b("bs_caml").i64_neq(a[1].a,e)});else return b("SortedAsyncIterable.bs").empty(void 0)},[c,JSON.stringify(d)]));if(a!==void 0)return b("bs_caml").i64_neq(a[1].n,b("LSContactBlockedByViewerStatus.bs").unblocked);else return!1}function c(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=typeof a==="object"?a.NAME==="Group":!1;return h.useMemo(function(){var a=b("ReQLTable").table(c,"contacts").asc;a=b("ReQLSuspense.bs").toArray(b("MWLSParticipant.bs").getAllInOpenThread(c,a,d));if(e)return a.some(function(a){return b("bs_caml").i64_neq(a.blocked_by_viewer_status,b("LSContactBlockedByViewerStatus.bs").unblocked)});else{b("recoverableViolation")("Trying to get block status for non group thread","messenger_comet");return!1}},[d,c,e])}function d(a){var c=b("ReStore.bs").useHook(void 0),d=b("bs_int64").to_string(b("MWThread_DEPRECATED.bs").toThreadKey(a));return h.useMemo(function(){var a=b("ReQLTable").table(c,"contacts").asc;a=b("ReQLSuspense.bs").toArray(b("MWLSParticipant.bs").getAllInOpenThread(c,a,b("bs_caml_format").caml_int64_of_string(d)));return a.filter(function(a){return b("bs_caml").i64_neq(a.blocked_by_viewer_status,b("LSContactBlockedByViewerStatus.bs").unblocked)}).map(function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.contact_id))})},[d,c])}f.useIsThreadBlocked=a;f.useIsBlockedUserInGroup=c;f.useBlockeesInThread=d}),null);
__d("MWCMInboxHeaderCommunityGroupName.bs",["ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=b("ReStore.bs").useHook(void 0);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"community_folders").asc,{hd:c.A,tl:0})},[d,JSON.stringify(c.A)]));if(a!==void 0)return a.c;else return null}c=a;f.make=c}),null);
__d("MWChatHeaderDetailsSubtitleIcons.bs",["cr:1737008"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1737008").Muted;f.$MDSMWChatHeaderDetailsSubtitleIcons$OR$TetraMWChatHeaderDetailsSubtitleIcons$requireCond=b("cr:1737008");f.Muted=a}),null);
__d("MWChatHeaderDetailsSubtitle.bs",["fbt","ix","CometMiddot.react","CometTintedIcon.react","LsThreadType.bs","MWCMInboxHeaderCommunityGroupName.bs","MWChatHeaderDetailsSubtitleIcons.bs","MWLSThread.bs","MWPTooltip.react","MWThread_DEPRECATED.bs","bs_caml","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.isMuted,d=a.isOngoingCall,e=a.isActiveNow;a=a.actorAttribution;var f=b("MWThread_DEPRECATED.bs").useIdExn(void 0);f=b("MWThread_DEPRECATED.bs").toThreadKey(f);f=b("MWLSThread.bs").useThread(f);var i,k=0;f!==void 0&&b("bs_caml").i64_eq(f.c,b("LsThreadType.bs").communityGroup)?i=j.jsx(b("MWCMInboxHeaderCommunityGroupName.bs").make,{thread:f}):k=1;k===1&&(i=d?g._(/*FBT_CALL*/"\u901a\u8a71\u4e2d"/*FBT_CALL*/):e?g._(/*FBT_CALL*/"\u76ee\u524d\u5728\u7dda\u4e0a"/*FBT_CALL*/):a!==void 0?a:null);f=c&&i!==null?j.jsx(b("CometMiddot.react"),{}):null;k=c?j.jsx(b("MWPTooltip.react"),{tooltip:g._(/*FBT_CALL*/"\u9019\u6bb5\u5c0d\u8a71\u5df2\u95dc\u9589\u3002\u804a\u5929\u5ba4\u9801\u7c64\u4e0d\u6703\u5f48\u51fa\uff0c\u63a8\u64ad\u901a\u77e5\u4e5f\u5df2\u95dc\u9589\u3002"/*FBT_CALL*/),align:"start",position:"above",children:j.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(h("636130"),12),testid:"comet_messenger_mute_icon"})}):null;return j.jsxs(j.Fragment,{children:[i,f,k]})}function c(a){return g._(/*FBT_CALL*/"\u76ee\u524d\u5728\u7dda\u4e0a"/*FBT_CALL*/)}function d(a){a=a.forceInlineDisplay;var c={tooltip:g._(/*FBT_CALL*/"\u9019\u6bb5\u5c0d\u8a71\u5df2\u95dc\u9589\u3002\u804a\u5929\u5ba4\u9801\u7c64\u4e0d\u6703\u5f48\u51fa\uff0c\u63a8\u64ad\u901a\u77e5\u4e5f\u5df2\u95dc\u9589\u3002"/*FBT_CALL*/),align:"start",position:"above",children:b("bs_curry")._1(b("MWChatHeaderDetailsSubtitleIcons.bs").Muted.icon,void 0)};a!==void 0&&(c.forceInlineDisplay=a);return j.jsx(b("MWPTooltip.react"),c)}function e(a){return g._(/*FBT_CALL*/"\u901a\u8a71\u4e2d"/*FBT_CALL*/)}a=a;c=c;d=d;e=e;f.make=a;f.activeNow=c;f.mutedIcon=d;f.ongoingCall=e}),null);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755417")).$$Audio;d=a.Video;e=a.Info;f.$MDSMWChatRTCButtonIcons$OR$TetraMWChatRTCButtonIcons$requireCond=a;f.$$Audio=c;f.Video=d;f.Info=e}),null);
__d("MWChatRTCButton.bs",["fbt","CometPressable.react","MWChatRTCButtonIcons.bs","MWPTooltip.react","ODS","bs_belt_Option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k="26px",l={isActive:{fill:"p5kwug6e"},action:{marginStart:"hnxzwevs"},joinButton:{alignItems:"bp9cbjyn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",height:"orb7ywq3",justifyContent:"taijpn5t",width:"la0tivve"}};function m(a,c,d,e){e=d!==void 0?d:k;return b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,a,e,c)}function n(a,c,d){d=c!==void 0?c:k;return b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,a,d)}function a(a){var c=a.button,d=a.background,e=a.dispatch,f=a.highlightHeader,h=a.ongoingCallType;a=h?g._(/*FBT_CALL*/"\u52a0\u5165\u8a9e\u97f3\u804a\u5929"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u52a0\u5165\u8996\u8a0a\u804a\u5929"/*FBT_CALL*/);f=f?b("bs_belt_Option").getWithDefault(d,c):"var(--surface-background)";return j.jsx(b("MWPTooltip.react"),{tooltip:a,align:"middle",position:"below",children:j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u52a0\u5165\u8996\u8a0a\u804a\u5929"/*FBT_CALL*/),onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video");if(h)return e("ClickAudio");else return e("ClickVideo")},overlayRadius:"50%",xstyle:function(a){return[l.action]},children:j.jsx("div",{className:(i||(i=b("stylex")))(l.joinButton),style:{backgroundColor:c,color:f},children:h?n(f,"26px",void 0):m(f,void 0,"26px",void 0)})})})}var o="startVideoCall",p="startVoiceCall";function c(a){var c=a.fill,d=a.label,e=a.disabled,f=a.size,g=a.onPress,h=a.showPresence,i=a.overlayDisabled;a=a.xstyle;e=e!==void 0?e:!1;i=i!==void 0?i:!1;var k=a!==void 0?a:[];return j.jsx(b("MWPTooltip.react"),{tooltip:d,align:"middle",position:"below",children:j.jsx(b("CometPressable.react"),{"aria-label":d,disabled:e,testid:o,onPress:function(a){return b("bs_curry")._1(g,void 0)},overlayDisabled:i,overlayRadius:"50%",xstyle:function(a){return k},children:m(c,h,f,void 0)})})}function d(a){var c=a.fill,d=a.label,e=a.disabled,f=a.size,g=a.onPress,h=a.overlayDisabled;a=a.xstyle;e=e!==void 0?e:!1;h=h!==void 0?h:!1;var i=a!==void 0?a:[];return j.jsx(b("MWPTooltip.react"),{tooltip:d,align:"middle",position:"below",children:j.jsx(b("CometPressable.react"),{"aria-label":d,disabled:e,testid:p,onPress:function(a){return b("bs_curry")._1(g,void 0)},overlayDisabled:h,overlayRadius:"50%",xstyle:function(a){return i},children:n(c,f,void 0)})})}e=a;a=c;c=d;f.defaultIconSize=k;f.styles=l;f.videoIcon=m;f.audioIcon=n;f.ongoingGroupCall=e;f.startVideoCallTestid=o;f.startVoiceCallTestid=p;f.video=a;f.audio=c}),null);
__d("TetraMWChatHeaderDetailsSubtitleIcons.bs",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(g("636130"),12),testid:"comet_messenger_mute_icon"})}c={icon:a};f.Muted=c}),null);
__d("TetraMWChatRTCButtonIcons.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={isActive:{fill:"p5kwug6e"}};function a(a,b){return i.jsxs("svg",{role:"presentation",width:b,height:b,viewBox:"-5 -5 30 30",children:[i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",stroke:a,fill:"none"})]})}e={icon:a};function c(a,c,d){d=d!==void 0?d:!1;var e=d?"-3":"-5";return i.jsxs("svg",{role:"presentation",width:c,height:c,viewBox:e+" -5 30 30",children:[i.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),d?i.jsx("circle",{cx:"24",cy:"10",r:"2",className:(h||(h=b("stylex")))(j.isActive)}):null]})}a={icon:c};function d(a,b){return i.jsx("svg",{role:"presentation",name:"icon",width:"24px",height:"24px",viewBox:"0 0 36 36",children:i.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:i.jsx("path",{fill:a,stroke:a,d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z"},"lens")})})}c={icon:d};f.styles=j;f.$$Audio=e;f.Video=a;f.Info=c}),null);
__d("MWLSCreateThread.bs",["LS.bs","LSAuthorityLevel.bs","LSCreateGroupThreadWithAdminText","LSTransaction.bs","LSVec.bs","Promise","ReQL.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_option","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(a){return function(d){return b("LSTransaction.bs").run(c,function(c){return b("LSCreateGroupThreadWithAdminText")(b("LSVec.bs").make(a),void 0,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite").then(function(a){var d=a[0];return new(b("Promise"))(function(e,a){a=b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").index("clientThreadKey").asc,{hd:d,tl:0});var f={contents:function(a){}},g=function(a){if(b("bs_caml").i64_eq(a.Z,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(f.contents,void 0);return e(a)}};f.contents=b("SortedAsyncIterable.bs").subscribe(a,function(a,b){if(typeof b==="number")return;else return g(b._0)});b("promiseDone")(b("ReQL.bs").firstExn(a),g)})})}},[c])}f.useHook=a}),null);
__d("MWLSPostbackCtaHandler.bs",["LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingInitiatingSourceHook.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWThreadKey.bs","MessagingThreadType.bs","ReStore.bs","bs_caml_option","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0),f=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0);return h.useMemo(function(){return function(a,g){var h=b("LSThreadAttributionStore.bs").getSource(void 0,b("bs_int64").to_string(e)),i=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(h);b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticSendMessage")(d,e,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,g,g,!1,void 0,void 0,void 0,void 0,i,void 0,a!==void 0?b("bs_caml_option").valFromOption(a):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,!0,!0,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),void 0,void 0)}},[c,d,e])}f.usePostbackCtaHandler=a}),null);
__d("MWChatPollFacepile.bs",["ix","CometTintedIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80"},rootReversed:{flexDirection:"rl25f0pe"},contact:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},contactWithBoarder:{borderTop:"e6olcokw",borderEnd:"enkuubej",borderBottom:"r2474ujb",borderStart:"sxdk7pr0"},contactGapNegative:{marginStart:"pec0n382"},contactGapNormal:{marginStart:"kkf49tns"},contactLarge:{width:"bsnbvmp4",height:"k7cz35w2"},contactMedium:{width:"odw8uiq3",height:"jnigpg78"},contactSmall:{width:"gab7stmx",height:"i4qgphn6"},overflow:{backgroundColor:"g6srhlxm",color:"m9osqain",height:"i4qgphn6",borderTopStartRadius:"h1ci2mql",borderTopEndRadius:"mjfe6jtr",borderBottomEndRadius:"c6w6u7b1",borderBottomStartRadius:"hc21y3pz",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"qnrpqo6b",marginStart:"pec0n382",fontWeight:"ekzkrbhg"},photoWrap:{position:"l9j0dhe7",display:"q9uorilb"},overflowOverlay:{alignItems:"bp9cbjyn",backgroundColor:"s8bbyrx9",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",justifyContent:"taijpn5t",opacity:"ocubwz8y",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"tkr6xdv7"}};function a(a){var c=a.contacts,d=a.size,e=a.gap,f=a.direction,h=a.limit,l=a.contactWithBorder;a=a.overflowStyle;var m=e!==void 0?e:"normal";e=f!==void 0?f:"normal";var n=h!==void 0?h:2,o=l!==void 0?l:!0,p=a!==void 0?a:"showTotalCount",q=c.length>n;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root,e==="reversed"?k.rootReversed:!1),children:[q&&p==="showTotalCount"?j.jsx("div",{className:(i||(i=b("stylex")))(k.overflow),children:"+"+String(c.length-2|0)}):null,c.slice(-(q?n:1e3)|0).reverse().map(function(a,c){return j.jsxs("div",{className:(i||(i=b("stylex")))(k.photoWrap,m==="normal"?k.contactGapNormal:k.contactGapNegative,d==="medium"?k.contactMedium:d==="small"?k.contactSmall:k.contactLarge),children:[j.jsx("img",{src:a,className:i(k.contact,d==="medium"?k.contactMedium:d==="small"?k.contactSmall:k.contactLarge,o?k.contactWithBoarder:!1)}),q&&p==="overlayLastPhoto"&&c===(n-1|0)?j.jsx("div",{className:(i||(i=b("stylex")))(k.overflowOverlay),children:j.jsx(b("CometTintedIcon.react"),{color:"white",icon:b("fbicon")._(g("484386"),16)})}):null]},String(c))})]})}c=a;f.styles=k;f.make=c}),null);
__d("MWLSPollsHooks.bs",["LS.bs","LSDict","LSIssuePollCreationForThreadTask","LSIssuePollUpdateForThread","LSTransaction.bs","LSVec.bs","MWLSActor.bs","MWThread_DEPRECATED.bs","ReQL.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml_int64","bs_caml_obj","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a[0];return[-a[1].size|0,b("bs_caml_int64").neg(c.e),c.f]}function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0));return h.useMemo(function(){return b("ReQLSuspense.bs").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"poll_options_v2").asc,{hd:a,tl:0}),function(a){var d=new Map(b("ReQLSuspense.bs").toArray(b("ReQL.bs").map(b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"poll_votes_v2").asc,{hd:a.a,tl:{hd:a.b,tl:0}}),b("ReQLTable").table(c,"contacts").asc),function(a){a=a[1];return[b("bs_int64").to_string(a.a),{profile_picture_url:a.b}]})));return[a,d]})).sort(function(a,c){return b("bs_caml_obj").caml_compare(i(a),i(c))}).map(function(a){var b=a[1];a=a[0];return{option_text:a.c,votes:Array.from(b.values()),voted:b.has(d),option_id:a.b}})},[c,a,d])}function c(a,c){var d=b("ReStore.bs").useHook(void 0);return h.useCallback(function(e){return function(f){b("promiseDone")(b("LSTransaction.bs").run(d,function(d){return b("LSIssuePollUpdateForThread")(a,c,b("LSVec.bs").make(e.map(function(a){return new(b("LSDict"))([a])})),b("LSVec.bs").make(f),b("bs_curry")._1(b("LS.bs").make,d))},"readWrite"),void 0,void 0)}},[d,JSON.stringify(a),c])}function d(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(a){return function(d,e){var f=b("MWThread_DEPRECATED.bs").toThreadKey(a),g=b("LSTransaction.bs").run(c,function(a){return b("LSIssuePollCreationForThreadTask")(d,f,b("LSVec.bs").make(e),b("bs_curry")._1(b("LS.bs").make,a))},"readWrite");b("promiseDone")(g,void 0,void 0)}},[c])}f.pollOptionSortKey=i;f.usePollOptions=a;f.useUpdatePoll=c;f.useCreatePoll=d}),null);
__d("MWPollsHooks.bs",["cr:593"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:593")).usePollOptions;d=a.useUpdatePoll;e=a.useCreatePoll;f.$MWLSPollsHooks$OR$WorkplaceMSPollsHooks$requireCond=a;f.usePollOptions=c;f.useUpdatePoll=d;f.useCreatePoll=e}),null);
__d("MWChatInThreadBanner.bs",["CometImageIcon_DEPRECATED.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSText.react","MDSTextPairing.react","TetraButton.react","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{position:"l9j0dhe7",backgroundColor:"nred35xi"},sheet:{borderBottom:"s1tcr66n"},sheetInner:{width:"k4urcfbm",paddingBottom:"osnr6wyh"},image:{marginEnd:"cxmmr5t8"},infoLabel:{backgroundColor:"tdjehn4e",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"ggysqto6",paddingEnd:"ph5uu5jm",paddingBottom:"ojkyduve",paddingStart:"b3onmgus",textOverflow:"ltmttdrg",whiteSpace:"g0qnabr5"},grow:{flexGrow:"buofh1pr"},linkBanner:{width:"k4urcfbm"}};function k(a){var c=a.button;a=a.action;var d=c.e;if(typeof a==="number"){b("recoverableViolation")("In thread banner cta not implemented: "+c.d,"messenger_web_product");return null}switch(a.TAG|0){case 0:return i.jsx(b("MDSRowItem.react"),{xstyle:j.grow,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",linkProps:{target:"_blank",url:a._0}})});case 1:var e=a._0;c={label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(e,void 0)}};a._1!==void 0&&(c.ref=b("bs_caml_option").valFromOption(a._1));return i.jsx(b("MDSRowItem.react"),{xstyle:j.grow,children:i.jsx(b("TetraButton.react"),c)});case 2:return i.jsx(b("MDSRowItem.react"),{xstyle:j.grow,children:b("bs_curry")._1(a._0,function(a,c,e,f,g,h,j){return i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a})})})}}c={make:k};function a(a){var c=a.banner;a=a.ctaParser;var d=c.banner.d;d=d!==void 0?i.jsx(b("MDSRowItem.react"),{expanding:!1,children:i.jsx("div",{className:(h||(h=b("stylex")))(j.image),children:i.jsx(b("CometImageIcon_DEPRECATED.react"),{size:24,src:d,style:"circle"})})}):null;var e=i.jsx(b("MDSRowItem.react"),{expanding:!0,children:i.jsx(b("MDSTextPairing.react"),{body:b("bs_belt_Option").getWithDefault(c.banner.h,"")+b("bs_belt_Option").getWithDefault(c.banner.i,""),meta:b("bs_belt_Option").mapWithDefault(c.banner.g,null,function(a){return a}),level:4,bodyLineLimit:1,metaLineLimit:1,metaLocation:"above"})}),f=c.banner.t;f=f!==void 0?i.jsx(b("MDSRowItem.react"),{children:i.jsx(b("MDSText.react"),{type:"meta1",children:i.jsx("span",{className:(h||(h=b("stylex")))(j.infoLabel),children:f})})}):null;var g=c.leftButton,l=c.rightButton,m,n=0,o;g!==void 0?l!==void 0?m=i.jsxs(b("MDSRow.react"),{paddingTop:8,children:[i.jsx(k,{button:g,action:b("bs_curry")._2(a,c,g)}),i.jsx(k,{button:l,action:b("bs_curry")._2(a,c,l)})]}):(o=g,n=1):l!==void 0?(o=l,n=1):m=null;n===1&&(m=i.jsx(b("MDSRow.react"),{paddingTop:8,children:i.jsx(k,{button:o,action:b("bs_curry")._2(a,c,o)})}));var p=i.jsxs("div",{className:(h||(h=b("stylex")))(j.sheetInner),children:[i.jsxs(b("MDSRow.react"),{children:[d,e,f]}),m]});g=b("bs_belt_Option").map(c.bannerAction,b("bs_curry")._1(a,c));var q;if(g!==void 0)if(typeof g==="number")b("recoverableViolation")("In thread banner cta not implemented: "+b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(c.bannerAction,function(a){return a.d}),""),"messenger_web_product"),q=p;else switch(g.TAG|0){case 0:q=i.jsx(b("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:g._0},xstyle:function(a){return[j.linkBanner]},children:p});break;case 1:var r=g._0;l={expanding:!0,onPress:function(a){return b("bs_curry")._1(r,void 0)},children:p};g._1!==void 0&&(l.ref=b("bs_caml_option").valFromOption(g._1));q=i.jsx(b("CometPressable.react"),l);break;case 2:q=b("bs_curry")._1(g._0,function(a,c,d,e,f,g,h){return i.jsx(b("CometPressable.react"),{expanding:!0,ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},children:p})});break}else q=p;return i.jsx("div",{className:h(j.container),children:i.jsx("div",{className:h(j.sheet),children:q})})}d=a;f.styles=j;f.BannerButton=c;f.make=d}),null);
__d("MWLSEnsureInThreadBannerExists.bs",["LS.bs","LSFetchBanners","LSTransaction.bs","MWThreadKey.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSFetchBanners")(d,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("MWLSExecuteInThreadBannerCta.bs",["LS.bs","LSExecuteCTA","LSTransaction.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(a){var d=b("LSTransaction.bs").run(c,function(c){return b("LSExecuteCTA")(a,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(d,void 0,void 0)},[c])}f.useHook=a}),null);
__d("MWLSInThreadBanner.bs",["ReQL.bs","ReQLSuspense.bs","ReQLTable","bs_belt_Array","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64"],(function(a,b,c,d,e,f){"use strict";d={a:(c=b("bs_caml_int64")).zero,b:c.zero,c:c.zero,d:void 0,e:void 0,f:void 0,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:void 0,m:void 0,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0};e={a:c.zero,b:c.zero,c:c.zero,d:"fallback",e:"",f:void 0,g:void 0,h:void 0};var g=[];g={banner:d,leftButton:void 0,rightButton:void 0,bannerAction:void 0,overflowMenuActions:g};function a(a,c){var d;return(d=b("ReQL.bs")).map(d.leftJoin(d.getKeyRange(b("ReQLTable").table(a,"in_thread_banner").asc,{hd:c,tl:0}),d.getKeyRange(b("ReQLTable").table(a,"in_thread_banner_overflow_menu").asc,{hd:c,tl:0})),function(c){var d=c[1];c=c[0];var e=new Map(b("ReQLSuspense.bs").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"in_thread_banner_ctas").asc,{hd:c.b,tl:0}),function(a){return[b("bs_int64").to_string(a.b),a]}))),f=function(a){return b("bs_caml_option").nullable_to_opt(e.get(b("bs_int64").to_string(a)))};return{banner:c,leftButton:b("bs_belt_Option").flatMap(c.j,f),rightButton:b("bs_belt_Option").flatMap(c.m,f),bannerAction:b("bs_belt_Option").flatMap(c.r,f),overflowMenuActions:d!==void 0?b("bs_belt_Array").keepMap([d.c,d.f,d.i,d.l,d.o],function(a){return b("bs_belt_Option").flatMap(a,f)}):[]}})}c={a:c.zero,b:c.zero,c:void 0,d:void 0,e:void 0,f:void 0,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:void 0,m:void 0,n:void 0,o:void 0,p:void 0,q:void 0};f.emptyBanner=d;f.emptyCta=e;f.emptyMenu=c;f.empty=g;f.getInThread=a}),null);
__d("C2CTransactionActionConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="LABEL_COMPLETED")return"LABEL_COMPLETED";else if(a==="MARK_AS_SOLD")return"MARK_AS_SOLD";else if(a==="RATE_SELLER")return"RATE_SELLER";else if(a==="LABEL_AWAITING_PAYMENT")return"LABEL_AWAITING_PAYMENT";else if(a==="LABEL_SHIPPED")return"LABEL_SHIPPED";else if(a==="RATE_BUYER")return"RATE_BUYER";else if(a==="MAKE_AN_OFFER")return"MAKE_AN_OFFER";else if(a==="LABEL_PAID")return"LABEL_PAID";else if(a==="LISTING_REMOVAL")return"LISTING_REMOVAL";else if(a==="BUYER_SURVEY_THREAD_AFTER_MAS")return"BUYER_SURVEY_THREAD_AFTER_MAS";else if(a==="LABEL_CASH_ON_DELIVERY")return"LABEL_CASH_ON_DELIVERY";else if(a==="BUYER_SURVEY_BROWSE_FEED")return"BUYER_SURVEY_BROWSE_FEED";else if(a==="LABEL_NEEDS_SHIPPING")return"LABEL_NEEDS_SHIPPING";else if(a==="REQUEST_RATING")return"REQUEST_RATING";else if(a==="DELETE")return"DELETE";else if(a==="MARK_AS_SHIPPED")return"MARK_AS_SHIPPED";else if(a==="X_DAYS_MESSENGER_BOT")return"X_DAYS_MESSENGER_BOT";else if(a==="BUYER_SURVEY_BSG_GROUP_MALL")return"BUYER_SURVEY_BSG_GROUP_MALL";else return"MARK_AS_PAID"}function c(a){switch(a){case"BUYER_SURVEY_BROWSE_FEED":return"BUYER_SURVEY_BROWSE_FEED";case"BUYER_SURVEY_BSG_GROUP_MALL":return"BUYER_SURVEY_BSG_GROUP_MALL";case"BUYER_SURVEY_THREAD_AFTER_MAS":return"BUYER_SURVEY_THREAD_AFTER_MAS";case"DELETE":return"DELETE";case"LABEL_AWAITING_PAYMENT":return"LABEL_AWAITING_PAYMENT";case"LABEL_CASH_ON_DELIVERY":return"LABEL_CASH_ON_DELIVERY";case"LABEL_COMPLETED":return"LABEL_COMPLETED";case"LABEL_NEEDS_SHIPPING":return"LABEL_NEEDS_SHIPPING";case"LABEL_PAID":return"LABEL_PAID";case"LABEL_SHIPPED":return"LABEL_SHIPPED";case"LISTING_REMOVAL":return"LISTING_REMOVAL";case"MAKE_AN_OFFER":return"MAKE_AN_OFFER";case"MARK_AS_PAID":return"MARK_AS_PAID";case"MARK_AS_SHIPPED":return"MARK_AS_SHIPPED";case"MARK_AS_SOLD":return"MARK_AS_SOLD";case"RATE_BUYER":return"RATE_BUYER";case"RATE_SELLER":return"RATE_SELLER";case"REQUEST_RATING":return"REQUEST_RATING";case"X_DAYS_MESSENGER_BOT":return"X_DAYS_MESSENGER_BOT";default:return b("bs_js_exn").raiseError("Invalid C2CTransactionAction.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("MWLSMarketplaceCtaParser.bs",["C2CTransactionActionConvert.bs","CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint","JSResource","MWLSActor.bs","MWLSExecuteInThreadBannerCta.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","bs_int64","qex","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var i=new Set(c);d=new Set(c.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount"]));function j(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:e,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,d)}),function(a){return a.b})},[JSON.stringify(d),e,c]);a=b("ReQLSubscription.bs").useArray(a);var f=a.length;if(f!==1)return;f=a[0];return b("bs_int64").to_string(f)}function a(a){var c=b("MWLSExecuteInThreadBannerCta.bs").useHook(void 0),d=j(void 0);a=b("useCometLazyDialog")(b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs"));var e=a[1],f=a[0],g=b("bs_int64").to_string(b("MWThreadKey.bs").useIdMemoizedExn(void 0)),k=(a=b("useCometEntryPointDialog"))(b("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:g}),l=k[0];k=a(b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint"),{threadId:g});var m=k[0];k=a(b("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:g});var n=k[0];k=a(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:g});var o=k[0];return h.useMemo(function(){var a=function a(j,k){var p=k.d;if(p==="marketplace_see_details"){var q=k.g;if(q!==void 0)return{TAG:0,_0:q};q=k.f;if(q!==void 0)return{TAG:0,_0:q};else{b("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return 0}}if(p!=="marketplace_view_profile")if(p==="marketplace_more_options"&&j.overflowMenuActions.length>0)return{TAG:2,_0:function(c){return h.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),popoverProps:{menu:j.overflowMenuActions,ctaParser:function(b){return a(j,b)}},align:"end",children:c})}};else if(p==="marketplace_report_buyer"||p==="marketplace_report_seller")if(d!==void 0)return{TAG:1,_0:function(a){return f({entryPoint:"REPORT_BUTTON",id:d,location:p==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(a){})},_1:e};else{b("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return 0}else if(p==="marketplace_mark_as_sold_with_txn_survey"||p==="marketplace_mark_as_sold_with_txn_survey_scaled")return{TAG:1,_0:function(a){b("bs_curry")._1(c,k.b);if(b("qex")._("1911463")===!0)return m({action:b("bs_curry")._1(b("C2CTransactionActionConvert.bs").converter.toJS,"MARK_AS_SOLD")},function(a){})},_1:void 0};else if(i.has(p))return{TAG:1,_0:function(a){return b("bs_curry")._1(c,k.b)},_1:void 0};else if(p==="marketplace_label_chat")return{TAG:1,_0:function(a){return l({threadID:g},function(a){return b("bs_curry")._1(c,k.b)})},_1:void 0};else if(p==="marketplace_mark_as_paid")return{TAG:1,_0:function(a){return n({threadID:g},function(a){return b("bs_curry")._1(c,k.b)})},_1:void 0};else if(p==="marketplace_create_discount")return{TAG:1,_0:function(a){b("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return o({threadID:g},function(a){return b("bs_curry")._1(c,k.b)})},_1:void 0};else return 0;q=k.g;if(q!==void 0)return{TAG:0,_0:q};q=k.f;if(q!==void 0)return{TAG:0,_0:q};else{b("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return 0}};return a},[c,d,f,e,l,m,g])}f.marketplaceCta=d;f.useOtherParticipantId=j;f.useHook=a}),null);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("MWLSMarketplaceCtaParser.bs").useHook(void 0),d=b("MWLSAdContextCtaParser.bs").useHook(void 0);return function(a,e){var f=e.d;if(b("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(f))return b("bs_curry")._2(c,a,e);else if(b("MWLSAdContextCtaParser.bs").adContextCta.has(f))return b("bs_curry")._2(d,a,e);else return 0}}f.useHook=a}),null);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.bs","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBanner.bs","MWLSInThreadBannerCtaParser.bs","MWThreadKey.bs","ReQLSubscription.bs","ReStore.bs","qex","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){b("MWLSEnsureInThreadBannerExists.bs").useHook(void 0);b("MWLSEnsureAdContextExists.bs").useHook(void 0);var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){return b("MWLSInThreadBanner.bs").getInThread(c,d)},[c,d]);a=b("ReQLSubscription.bs").useFirst(a);var e=b("MWLSInThreadBannerCtaParser.bs").useHook(void 0);if(a===void 0)return null;var f=a.banner.s;if(f!==void 0)if(f==="ads_context")if(b("qex")._("223")===!0)return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e});else return null;else return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e});else return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e})}c=a;f.make=c}),null);
__d("MWChatReplyText.bs",["CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={replyToText:{color:"m9osqain"}};function a(a){var c=a.text;a=a.ranges;var d={};d.MessengerTextFormatting=[b("MWChatTextFormatting").replyRenderer];c={maxLength:120,maxLines:2,truncationStyle:"ellipsis-only",withParagraphs:!1,text:c,renderers:d,transforms:b("MWChatTextTransform.bs").epdTextTransforms};a!==void 0&&(c.ranges=b("bs_caml_option").valFromOption(a));d=i.jsx(b("CometTextWithEntities.react"),c);return i.jsx("div",{dir:"auto",className:(h||(h=b("stylex")))(j.replyToText),children:d})}c=a;f.styles=j;f.make=c}),null);
__d("MWMessageRequestSharedTexts.bs",["fbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return g._(/*FBT_CALL*/"\u5982\u679c\u4f60\u56de\u8986\u8a0a\u606f\uff0c{FBFullName}\u4e5f\u5c07\u80fd\u8207\u4f60\u901a\u8a71\uff0c\u4e26\u67e5\u770b\u4f60\u7684\u4e0a\u7dda\u72c0\u614b\u548c\u8a0a\u606f\u8b80\u53d6\u6642\u9593\u7b49\u8cc7\u8a0a\u3002"/*FBT_CALL*/,[g._param("FBFullName",a)])}function b(a){return g._(/*FBT_CALL*/"\u6211\u4e0d\u60f3\u6536\u5230{name}\u7684\u8a0a\u606f"/*FBT_CALL*/,[g._param("name",a)])}function c(a){return g._(/*FBT_CALL*/"\u4f60\u53ef\u4ee5\u6c38\u4e45\u522a\u9664\u5c0d\u8a71\u6216\u5c01\u9396{FBShortName}\uff0c\u4f7f\u5176\u7121\u6cd5\u50b3\u9001\u8a0a\u606f\u6216\u64a5\u6253\u7d66\u4f60\u3002\u6211\u5011\u4e0d\u6703\u8b93\u5c0d\u65b9\u77e5\u9053\u4f60\u5df2\u63a1\u53d6\u9019\u4e9b\u52d5\u4f5c\u3002"/*FBT_CALL*/,[g._param("FBShortName",a)])}f.getFBUserInfoTextMessage=a;f.getDefaultInfoTextFooter=b;f.getDeclineUserDialogText=c}),null);
__d("LSContactReachabilityStatusType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.reachable=a;f.unreachableUserType=c}),null);
__d("MWLSParticipantDetails.bs",["GenderConst","LSContactGender.bs","LSContactReachabilityStatusType.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_format","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.h})},[a,c])}function c(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){var b=a.p;if(b!==void 0)return b;else return a.h})},[a,c])}function d(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.K})},[a,c])}function e(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){var c=a.p;c=c!==void 0?c:a.h;a=a.I;a=b("bs_caml").i64_eq(a,b("LSContactGender.bs").female)?b("GenderConst").FEMALE_SINGULAR:b("bs_caml").i64_eq(a,b("LSContactGender.bs").male)?b("GenderConst").MALE_SINGULAR:b("bs_caml").i64_eq(a,b("LSContactGender.bs").neuter)?b("GenderConst").NEUTER_SINGULAR:b("GenderConst").NOT_A_PERSON;return[c,a]})},[a,c])}function i(a){var c=b("ReStore.bs").useHook(void 0);return b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})},[a,c])),!0,function(a){a=a.N;if(a!==void 0)return b("bs_caml").i64_eq(b("LSContactReachabilityStatusType.bs").reachable,a);else return!0})}function j(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.b})},[a,c])}f.useParticipantName=a;f.useParticipantShortName=c;f.useParticipantSecondaryName=d;f.useNameAndGender=e;f.useParticipantReachabilityStatus=i;f.useParticipantProfilePictureUrl=j}),null);
__d("MWThread_DEPRECATED.re",["MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){c=(a=b("MWThread_DEPRECATED.bs")).useId;f.useId=c;d=a.useIdExn;f.useIdExn=d;e=a.toThreadKey;f.toThreadKey=e;b=a.useFBID;f.useFBID=b;c=a.key;f.key=c;d=a.make;f.make=d}),null);
__d("MWUIParticipantDetails.bs",["cr:607"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:607")).useParticipantName;d=a.useParticipantShortName;e=a.useParticipantSecondaryName;b=a.useNameAndGender;var g=a.useParticipantReachabilityStatus,h=a.useParticipantProfilePictureUrl;f.$MWLSParticipantDetails$OR$WorkplaceMSParticipantDetails$requireCond=a;f.useParticipantName=c;f.useParticipantShortName=d;f.useParticipantSecondaryName=e;f.useNameAndGender=b;f.useParticipantReachabilityStatus=g;f.useParticipantProfilePictureUrl=h}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=d("CometRelay").useLazyLoadQuery(i,{},{fetchPolicy:"store-only"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}g["default"]=a}),98);
__d("MessengerThreadThemeGradientType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.messageBubbleOutbound=a;f.messageBubbleInbound=c;f.threadviewBackground=d;f.deliveryReceipt=e}),null);
__d("MWLSTheme.bs",["LSInt64.bs","MWTheme.bs","MessengerThreadThemeGradientType.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=a.a,e=a.d,f=b("MWTheme.bs").intToHex(a.c);a=a.e;if(c.length<2)return{TAG:0,_0:{id:d,color:f,label:a}};c=c.map(function(a){return b("MWTheme.bs").intToHex(a.c)});return{TAG:1,_0:{id:d,colors:c,fallback:f,label:a,reverse:e}}}function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:a,tl:0}),function(a){a=a.z;if(a===void 0)return b("MWTheme.bs").$$default;var d=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"thread_themes").asc,{hd:a,tl:0}));a=b("ReQLSuspense.bs").toArray(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"gradient_colors").asc,{hd:a,tl:0}),function(a){return b("LSInt64.bs").equal(a.d,b("MessengerThreadThemeGradientType.bs").messageBubbleOutbound)}));if(d!==void 0)return i(d,a);else return b("MWTheme.bs").$$default})},[c,JSON.stringify(a)]));if(d!==void 0)return d;else return b("MWTheme.bs").$$default}f.genTheme=i;f.useTheme=a}),null);
__d("MWFacepile.bs",["BaseGlimmer.react","CometFacepilePhoto.react","MWFacepileBadge.bs","MWFacepileGetContactsToShow.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={glimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",width:"k4urcfbm",height:"datstx6m"}};function a(a){var c=a.thread,d=a.photoSize;a=a.badgeSize;var e=d==="s_36"?"36px":d==="s_40"?"40px":d==="s_44"?"44px":d==="s_48"?"48px":d==="s_56"?"56px":d==="s_60"?"60px":d==="s_72"?"72px":d==="s_80"?"80px":"32px";e=h.jsx("div",{style:{height:e,width:e},children:h.jsx(b("BaseGlimmer.react"),{index:1,xstyle:i.glimmer})});var f=b("MWFacepileGetContactsToShow.bs").useHook(c);if(f.length!==0)return h.jsx(b("CometFacepilePhoto.react"),{sources:f.map(function(a){return{alt:a.h,disabled:!1,source:a.b}}),badge:h.jsx(b("MWFacepileBadge.bs").make,{thread:c,size:a}),size:function(){switch(d){case"s_32":return 32;case"s_36":return 36;case"s_40":return 40;case"s_44":return 44;case"s_48":return 48;case"s_56":return 56;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80}}(),totalItems:f.length});else return e}c=a;f.styles=i;f.make=c}),null);
__d("MWThreadPicture.bs",["CometFacepilePhoto.react","MWFacepile.bs","MWFacepileBadge.bs","MWLSActor.bs","MWV2GetThreadTitle.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.thread,d=a.photoSize,e=a.badgeSize;a=a.threadPictureUrl;var f=b("MWLSActor.bs").useActor(void 0),g=b("ReStore.bs").useHook(void 0),i=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").leftJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(g,"participants").asc,{hd:c.a,tl:0}),b("ReQLTable").table(g,"contacts").asc)},[g,JSON.stringify(c.a)]));i=b("bs_belt_Option").getWithDefault(b("MWV2GetThreadTitle.bs").computeThreadTitle(void 0,c,i,f),"");return h.jsx(b("CometFacepilePhoto.react"),{sources:[{alt:i,disabled:!1,source:a}],badge:h.jsx(b("MWFacepileBadge.bs").make,{thread:c,size:e}),size:function(){switch(d){case"s_32":return 32;case"s_36":return 36;case"s_40":return 40;case"s_44":return 44;case"s_48":return 48;case"s_56":return 56;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80}}(),totalItems:1})}c={make:i};function a(a){var c=a.photoSize,d=a.badgeSize;a=a.thread;var e=a.f;if(e!==void 0)return h.jsx(i,{thread:a,photoSize:c,badgeSize:d,threadPictureUrl:e});else return h.jsx(b("MWFacepile.bs").make,{thread:a,photoSize:c,badgeSize:d})}d=a;f.CustomThreadPicture=c;f.make=d}),null);
__d("MWLSSendTypingIndicator.bs",["LS.bs","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","LSSendTypingIndicator","LSTransaction.bs","MWChatViewerChatVisibilityHook","MWLSActor.bs","MWThreadKey.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_obj","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c,d=b("MWChatViewerChatVisibilityHook")(),e=b("ReStore.bs").useHook(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0),g=b("MWLSActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"threads").asc,{hd:f,tl:0})},[e,f]));var i=(c=b("bs_belt_Option")).map(a,function(a){return a.c}),j=c.getWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(b("bs_caml_obj").caml_equal(i,b("MessagingThreadType.bs").oneToOne))return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"participants").asc,{hd:f,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,g)}),function(a){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"contacts").asc,{hd:a.b,tl:0})),!1,function(a){return b("bs_caml").i64_neq(a.n,b("LSContactBlockedByViewerStatus.bs").unblocked)})});else return b("SortedAsyncIterable.bs").empty(void 0)},[e,f,JSON.stringify(i),JSON.stringify(g)])),!1),k=c.mapWithDefault(a,!1,function(a){return b("LSMessagingThreadTypeUtil.bs").isGroup(a.c)}),l=c.isSome(a);return h.useCallback(function(a){if(!l)return;if(!(d&&!j))return;var c=b("LSTransaction.bs").run(e,function(c){return b("LSSendTypingIndicator")(f,k,a,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(c,void 0,void 0)},[e,d,l,f,k,j])}f.useHook=a}),null);
__d("MWChatUnsendNUXSender.bs",["JSResource","MWChatUnsendNUXReceiver.bs","MWLSActor.bs","MWThreadKey.bs","ReQL.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","react","useCometLazyDialog","useMessengerUnsendNUX"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("ReStore.bs").useHook(void 0),f=h.useRef(!1),g=h.useRef(!1),i=h.useRef(!1),j=h.useRef(void 0);a=b("useMessengerUnsendNUX")(8598);var k=a[1],l=a[0],m=h.useCallback(function(a){a=j.current;if(a!==void 0){b("bs_curry")._1(a,void 0);j.current=void 0;return}},[]),n=h.useCallback(function(a){if(!i.current){i.current=!0;b("bs_curry")._1(m,void 0);return b("bs_curry")._1(k,void 0)}},[]);a=b("useCometLazyDialog")(b("JSResource")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var o=a[0],p=h.useCallback(function(a){var c=!f.current&&!g.current;if(c&&b("MWChatUnsendNUXReceiver.bs").isMessageUnsentInLastTenSeconds(a)){f.current=!0;return b("bs_curry")._1(l,function(a){f.current=!1,a?(o({onView:n},function(a){}),g.current=!0):(b("bs_curry")._1(m,void 0),i.current=!0)})}},[c,m]);h.useEffect(function(){j.current=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"messages").asc,{hd:d,tl:0}),function(a){if(a.m)return b("bs_caml").i64_eq(a.h,c);else return!1}),function(a,c){if(typeof c==="number")return;else return b("bs_curry")._1(p,c._0)});return m},[d,p,m]);return null}c=8598;d=a;f.cNUX_ID=c;f.make=d}),null);
__d("UseMWV2GlobalRemoveMessage.bs",["LS.bs","LSOptimisticUnsendMessage","LSTransaction.bs","LsTargetType.bs","MWV2LogMessageClick.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(a){b("MWV2LogMessageClick.bs").log(a,b("LsTargetType.bs").removeForEveryone,void 0,void 0),b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticUnsendMessage")(a.e,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),void 0,void 0)},[c])}f.useHook=a}),null);
__d("UseMWV2LocalRemoveMessage.bs",["LSDict","LSTasks.bs","LSTransaction.bs","LSWriteLabel.bs","LsTargetType.bs","MWV2LogMessageClick.bs","ReStore.bs","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(a){b("MWV2LogMessageClick.bs").log(a,b("LsTargetType.bs").removeForYouself,void 0,void 0),b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSTasks.bs").enqueue(c,2,b("bs_int64").to_string(b("LSWriteLabel.bs").deleteMessageV2),new(b("LSDict"))([["message_id",a.e],["thread_key",a.a]]))},"readWrite"),void 0,void 0)},[c])}f.useHook=a}),null);
__d("MWV2GlobalRemoveMessageDialog.bs",["fbt","MDSText.react","MWPCardedDialog.react","MWRadio.react","TetraButtonGroup.react","UseMWV2GlobalRemoveMessage.bs","UseMWV2LocalRemoveMessage.bs","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={content:{paddingTop:"pybr56ya",paddingEnd:"hv4rvrfc",paddingBottom:"f10w8fjw",paddingStart:"dati1w0a"},buttonsContainer:{display:"j83agx80",flexDirection:"btwxx1t3",justifyContent:"bkfpd7mw",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"ihqw7lf3",paddingStart:"a8nywdso"},settingSubtitle:{marginTop:"aov4n071",marginEnd:"qn26bmrh",marginBottom:"dylpzn86",marginStart:"scy8460b"}};function a(a){var c=a.onClose,d=a.message,e=b("UseMWV2LocalRemoveMessage.bs").useHook(void 0),f=b("UseMWV2GlobalRemoveMessage.bs").useHook(void 0);a=g._(/*FBT_CALL*/"\u9019\u5247\u8a0a\u606f\u5c07\u6703\u5f9e\u4f60\u9019\u7aef\u79fb\u9664\uff0c\u4f46\u6b64\u804a\u5929\u5ba4\u4e2d\u7684\u5176\u4ed6\u6210\u54e1\u4ecd\u7136\u53ef\u4ee5\u770b\u5230\u8a0a\u606f\u3002"/*FBT_CALL*/);var h=b("gkx")("1531920")?g._(/*FBT_CALL*/"\u4f60\u5c07\u5c0d\u804a\u5929\u5ba4\u4e2d\u7684\u6240\u6709\u6210\u54e1\u6c38\u4e45\u79fb\u9664\u6b64\u8a0a\u606f\uff0c\u4ed6\u5011\u770b\u5f97\u5230\u4f60\u5df2\u6536\u56de\u8a0a\u606f\uff0c\u4f46\u4ecd\u7136\u80fd\u5c0d\u76f8\u95dc\u8a0a\u606f\u63d0\u51fa\u6aa2\u8209\u3002"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u4f60\u5c07\u5c0d\u6b64\u804a\u5929\u5ba4\u4e2d\u7684\u6240\u6709\u6210\u54e1\u6c38\u4e45\u79fb\u9664\u6b64\u8a0a\u606f\uff0c\u4f46\u4ed6\u5011\u6703\u770b\u5230\u4f60\u79fb\u9664\u4e86\u8a0a\u606f\uff0c\u800c\u4e14\u4ecd\u7136\u80fd\u52a0\u4ee5\u6aa2\u8209\u3002"/*FBT_CALL*/),l=g._(/*FBT_CALL*/"\u4f60\u60f3\u5c0d\u8ab0\u79fb\u9664\u9019\u5247\u8a0a\u606f\uff1f"/*FBT_CALL*/),m=j.useState(function(){return 0}),n=m[1],o=m[0];m=function(a){o===0?b("bs_curry")._1(f,d):b("bs_curry")._1(e,d);return b("bs_curry")._1(c,void 0)};return j.jsxs(b("MWPCardedDialog.react"),{title:l,withCloseButton:!0,onClose:c,children:[j.jsxs("div",{className:(i||(i=b("stylex")))(k.content),children:[j.jsx(b("MWRadio.react"),{checked:o===0,label:b("gkx")("1531920")?g._(/*FBT_CALL*/"\u5411\u6240\u6709\u4eba\u6536\u56de\u8a0a\u606f"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u5c0d\u6240\u6709\u4eba\u79fb\u9664\u8a0a\u606f"/*FBT_CALL*/),name:"radio",onChange:function(a){return b("bs_curry")._1(n,function(a){return 0})},testid:"messenger_remove_for_everyone_radio",value:0}),j.jsx("div",{className:i(k.settingSubtitle),children:j.jsx(b("MDSText.react"),{color:"secondary",type:"body3",children:h})}),j.jsx(b("MWRadio.react"),{checked:o===1,label:g._(/*FBT_CALL*/"\u5c0d\u4f60\u79fb\u9664\u8a0a\u606f"/*FBT_CALL*/),name:"radio",onChange:function(a){return b("bs_curry")._1(n,function(a){return 1})},testid:"messenger_remove_for_you_radio",value:1}),j.jsx("div",{className:i(k.settingSubtitle),children:j.jsx(b("MDSText.react"),{color:"secondary",type:"body3",children:a})})]}),j.jsx("div",{className:i(k.buttonsContainer),children:j.jsx(b("TetraButtonGroup.react"),{primary:{label:g._(/*FBT_CALL*/"\u79fb\u9664"/*FBT_CALL*/),type:"primary",onPress:m,testid:"messenger_global_remove_dialog_submit"},secondary:{label:g._(/*FBT_CALL*/"\u53d6\u6d88"/*FBT_CALL*/),onPress:c,reduceEmphasis:!0},direction:"backward"})})],size:"medium"})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2LocalRemoveMessageDialog.bs",["fbt","MDSText.react","MWPCardedDialog.react","TetraButtonGroup.react","UseMWV2LocalRemoveMessage.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={content:{paddingTop:"pybr56ya",paddingEnd:"hv4rvrfc",paddingBottom:"f10w8fjw",paddingStart:"dati1w0a"},buttonsContainer:{display:"j83agx80",flexDirection:"btwxx1t3",justifyContent:"bkfpd7mw",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"ihqw7lf3",paddingStart:"a8nywdso"}};function a(a){var c=a.onClose,d=a.message,e=b("UseMWV2LocalRemoveMessage.bs").useHook(void 0);a=function(a){b("bs_curry")._1(e,d);return b("bs_curry")._1(c,void 0)};var f=g._(/*FBT_CALL*/"\u5c0d\u4f60\u79fb\u9664\u8a0a\u606f"/*FBT_CALL*/);return j.jsxs(b("MWPCardedDialog.react"),{title:f,withCloseButton:!0,onClose:c,children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.content),children:j.jsx(b("MDSText.react"),{type:"body3",children:g._(/*FBT_CALL*/"\u9019\u5247\u8a0a\u606f\u5c07\u6703\u5f9e\u4f60\u9019\u7aef\u79fb\u9664\uff0c\u4f46\u6b64\u804a\u5929\u5ba4\u4e2d\u7684\u5176\u4ed6\u6210\u54e1\u4ecd\u7136\u53ef\u4ee5\u770b\u5230\u8a0a\u606f\u3002"/*FBT_CALL*/)})}),j.jsx("div",{className:i(k.buttonsContainer),children:j.jsx(b("TetraButtonGroup.react"),{primary:{label:g._(/*FBT_CALL*/"\u79fb\u9664"/*FBT_CALL*/),type:"primary",onPress:a},secondary:{label:g._(/*FBT_CALL*/"\u53d6\u6d88"/*FBT_CALL*/),onPress:c,reduceEmphasis:!0},direction:"backward"})})],size:"small"})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2OnlyGlobalRemoveMessageDialog.bs",["fbt","MDSText.react","MWPCardedDialog.react","TetraButtonGroup.react","UseMWV2GlobalRemoveMessage.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={content:{paddingTop:"pybr56ya",paddingEnd:"hv4rvrfc",paddingBottom:"f10w8fjw",paddingStart:"dati1w0a"},buttonsContainer:{display:"j83agx80",flexDirection:"btwxx1t3",justifyContent:"bkfpd7mw",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"ihqw7lf3",paddingStart:"a8nywdso"}};function a(a){var c=a.onClose,d=a.message,e=b("UseMWV2GlobalRemoveMessage.bs").useHook(void 0);a=function(a){b("bs_curry")._1(e,d);return b("bs_curry")._1(c,void 0)};var f=g._(/*FBT_CALL*/"\u5c0d\u6240\u6709\u4eba\u6536\u56de\u8a0a\u606f"/*FBT_CALL*/);return j.jsxs(b("MWPCardedDialog.react"),{title:f,withCloseButton:!0,onClose:c,children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.content),children:j.jsx(b("MDSText.react"),{type:"body3",children:g._(/*FBT_CALL*/"\u4f60\u5c07\u5c0d\u6b64\u804a\u5929\u5ba4\u4e2d\u7684\u6240\u6709\u6210\u54e1\u6c38\u4e45\u79fb\u9664\u6b64\u8a0a\u606f\uff0c\u4f46\u4ed6\u5011\u6703\u770b\u5230\u4f60\u79fb\u9664\u4e86\u8a0a\u606f\uff0c\u800c\u4e14\u4ecd\u7136\u80fd\u52a0\u4ee5\u6aa2\u8209\u3002"/*FBT_CALL*/)})}),j.jsx("div",{className:i(k.buttonsContainer),children:j.jsx(b("TetraButtonGroup.react"),{primary:{label:g._(/*FBT_CALL*/"\u6536\u56de\u8a0a\u606f"/*FBT_CALL*/),type:"primary",onPress:a},secondary:{label:g._(/*FBT_CALL*/"\u53d6\u6d88"/*FBT_CALL*/),onPress:c,reduceEmphasis:!0},direction:"backward"})})],size:"small"})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2RemoveMessageDialog.bs",["LSMessageThreadUnsendabilityStatus.bs","LsThreadType.bs","MWV2GlobalRemoveMessageDialog.bs","MWV2LocalRemoveMessageDialog.bs","MWV2OnlyGlobalRemoveMessageDialog.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:a.a,tl:0})},[c,JSON.stringify(a.a)]))}function j(a,c){a=b("bs_belt_Option").mapWithDefault(a.L,!0,function(a){return b("bs_caml").i64_eq(a,b("LSMessageThreadUnsendabilityStatus.bs").canUnsend)});c=b("bs_belt_Option").mapWithDefault(c.N,!0,function(a){return b("bs_caml").i64_eq(a,b("LSMessageThreadUnsendabilityStatus.bs").canUnsend)});if(a)return c;else return!1}function a(a){var c=a.message;a=a.onClose;var d=i(c);if(b("bs_caml").i64_eq(d.c,b("LsThreadType.bs").communityGroup))return h.jsx(b("MWV2OnlyGlobalRemoveMessageDialog.bs").make,{onClose:a,message:c});else if(j(d,c))return h.jsx(b("MWV2GlobalRemoveMessageDialog.bs").make,{onClose:a,message:c});else return h.jsx(b("MWV2LocalRemoveMessageDialog.bs").make,{onClose:a,message:c})}c=a;f.canRemoveGlobally=j;f.make=c}),null);
__d("MWV2ChatAudio.bs",["MWChatAudioPlayer.bs","MWChatAudioRoot.bs","MWLSThreadDisplayContext.bs","MWV2ColorUtils.bs","MWV2Theme.bs","bs_belt_Option","bs_caml_int64","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={bubble:{height:"datstx6m",borderTopStartRadius:"n00je7tq",borderTopEndRadius:"arfg74bv",borderBottomEndRadius:"qs9ysxi8",borderBottomStartRadius:"k77z8yql",display:"a8s20v7p",overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function k(a,c){var d=b("MWLSThreadDisplayContext.bs").useHook(void 0);if(c)return{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.c),width:d!==void 0&&d?"218px":"180px"};else return{backgroundColor:"var(--wash)",width:"180px"}}function l(a){var c=a.url,d=a.duration,e=a.outgoing,f=a.threadTheme;a=k(f,e);var g=i.useMemo(function(){return b("MWV2ColorUtils.bs").int64ToHex(f.c)},[f]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.bubble),style:a,children:i.jsx(b("MWChatAudioPlayer.bs").make,{url:c,duration:d,outgoing:e,color:g,onTogglePlayPause:void 0})})}c={styles:j,useInlineStyles:k,make:l};d=36;e=d+6|0;var m=e+14|0,n={bubble:{height:"datstx6m",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"geli4699",bottom:"fkq5d175",start:"oskkt2ky",end:"i4sm7uox",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"dzm1kfb5",borderEndWidth:"oc4jhviy",borderBottomWidth:"h624itt5",borderStartWidth:"reaovrpu",borderTopColor:"hwba8txa",borderEndColor:"dzgn2jm7",borderBottomColor:"n4g4bzxc",borderStartColor:"sdxs9vve",borderTopStartRadius:"cur584us",borderTopEndRadius:"gt092ec4",borderBottomEndRadius:"t02hhl22",borderBottomStartRadius:"lm2lsiji",pointerEvents:"yfudjqg5"}}};function o(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);return{width:a!==void 0&&a?"218px":"180px"}}function p(a){var c=a.url,d=a.duration,e=a.threadTheme;a=o(e);var f=i.useMemo(function(){return b("MWV2ColorUtils.bs").int64ToHex(e.c)},[e]);return i.jsx("div",{className:(h||(h=b("stylex")))(n.bubble),style:a,children:i.jsx(b("MWChatAudioPlayer.bs").make,{url:c,duration:d,outgoing:!0,color:f,onTogglePlayPause:void 0})})}d={baseSize:18,borderWidth:d,smallRadius:e,largeRadius:m,styles:n,useInlineStyles:o,make:p};function a(a){var c=a.attachment,d=a.getPlayableUrl;a=a.outgoing;var e=b("MWV2Theme.bs").useHook(void 0),f=e.threadTheme;d=b("bs_curry")._1(d,c);if(d===void 0)return null;c=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(c.bd,b("bs_caml_int64").to_float),0);return i.jsx(b("MWChatAudioRoot.bs").make,{children:a&&e.gradientColors.length>1?i.jsx(p,{url:d,duration:c,threadTheme:f}):i.jsx(l,{url:d,duration:c,outgoing:a,threadTheme:f}),testid:"chat-audio-player"})}e=a;f.Solid=c;f.Transparent=d;f.make=e}),null);
__d("MWV2ChatFile.bs",["fbt","ConstUriUtils","FBID.bs","LineClamp.react","MWChatFileIcon.bs","MWChatMessageId.bs","MWFilePressable.bs","MWV2ChatAttachmentParserUtils.bs","MessengerFilePreviewGenerationEntryPoint","bs_belt_Option","bs_caml_option","bs_int64","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",alignItems:"bp9cbjyn",userSelect:"abiwlrkh",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},content:{flexGrow:"buofh1pr",color:"oo9gr5id",fontWeight:"lrazzd5p",wordBreak:"qv66sw1b"}};function a(a){var c=a.attachment;a=j.useMemo(function(){var a=c.h;if(a!==void 0)return a;else return g._(/*FBT_CALL*/"\u6a94\u6848"/*FBT_CALL*/)},[c]);var d=j.useMemo(function(){var a=c.A;if(a!==void 0){var d=b("MWV2ChatAttachmentParserUtils.bs").getBlobUrl(a);if(d!==void 0)return b("ConstUriUtils").getUri(d);else return b("ConstUriUtils").getUri(a)}b("recoverableViolation")("Attachment has no playable_url "+c.e,"messenger_comet")},[c]);a={messageID:b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(c.a),c.c,b("bs_int64").to_string(c.b)),entryPoint:b("MessengerFilePreviewGenerationEntryPoint").CHAT_FILE_V3,children:j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[j.jsx(b("MWChatFileIcon.bs").make,{}),j.jsx("div",{className:i(k.content),children:j.jsx(b("LineClamp.react"),{lines:3,children:a})})]})};var e=b("FBID.bs").ofString(c.e);e!==void 0&&(a.attachmentID=b("bs_caml_option").valFromOption(e));e=b("bs_belt_Option").map(d,function(a){return a.toString()});e!==void 0&&(a.url=e);return j.jsx(b("MWFilePressable.bs").make,a)}c=a;f.styles=k;f.make=c}),null);
__d("LSRequestId.bs",["bs_caml_int64","uuid"],(function(a,b,c,d,e,f){"use strict";var g="0123456789abcdef",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(a){a=b("uuid")();var c=/[^0-9a-f]/gi;a=a.replace(c,"");c=0;var d="";while(c<33){var e,f=(e=b("bs_caml_int64")).lsl_(e.of_int32(g.indexOf(a.charAt(c))),8);c=c+1|0;var i=e.lsl_(e.of_int32(g.indexOf(a.charAt(c))),4);c=c+1|0;var j=e.of_int32(g.indexOf(a.charAt(c)));c=c+1|0;j=e.or_(j,e.or_(i,f));i=e.asr_(j,6);f=e.and_(j,[0,63]);d=d+(h.charAt(e.to_int32(i))+h.charAt(e.to_int32(f)))}return"#"+d}f.hexlist=g;f.b64list=h;f.generate=a}),null);
__d("Crypto.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){return new Uint8Array(a)}function g(a){var b=new TextEncoder();return b.encode(a)}function c(a){var b=new TextDecoder();return b.decode(a)}function d(a){return g(a).buffer}function e(a,c){var d=a.byteLength,e=c.byteLength;d!==e&&b("bs_js_exn").raiseError("Mismatched lengths for modAdd, "+d+" != "+e);var f=new Uint8Array(d);new Uint8Array(d).reduceRight(function(b,d,e){d=a[e];var g=c[e];d=(d+g|0)+b|0;g=d>255?[d-256|0,1]:[d,0];f[e]=g[0];return g[1]},0);return f}a={bufToUint8:a,strToUint8:g,uint8ToStr:c,strToBuf:d,modAddBytes:e};function h(a){return crypto.getRandomValues(a)}function i(a){return crypto.getRandomValues(a)}function j(a,b,c){return crypto.subtle.encrypt(a,b,c)}function k(a,b,c){return crypto.subtle.decrypt(a,b,c)}function l(a,b,c,d,e){return crypto.subtle.importKey(a,b,c.VAL,d,e)}function m(a,b,c){return crypto.subtle.sign(a,b,c)}function n(a,b){return crypto.subtle.exportKey(a,b)}function o(a,b,c){return crypto.subtle.generateKey(a.VAL,b,c)}function p(a,b,c,d,e){return crypto.subtle.deriveKey(a.VAL,b,c.VAL,d,e)}function q(a,b,c){return crypto.subtle.deriveBits(a.VAL,b,c)}function r(a,b){return crypto.subtle.digest(a,b)}f.getRandomValues=h;f.getRandomValues32=i;f.encrypt=j;f.decrypt=k;f.importKey=l;f.sign=m;f.exportKey=n;f.generateKey=o;f.deriveKey=p;f.deriveBits=q;f.digest=r;f.Utils=a}),null);
__d("MessengerColors",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}f.makeRadialGradient=a;f.makeLinearGradient=b}),66);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(b("CurrentUser").isWorkUser())return"#373e4c";else return"#0099ff"}function a(a){a=a.solid_color;if(a==null)return h(void 0);else return a}f.defaultColor=h;f.customColorOrBlue=a}),null);
__d("ReactDOMStyle.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d={};d[b]=c;return Object.assign({},a,d)}f.unsafeAddProp=a}),null);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","CurrentUser","MessengerColors","MessengerCustomColorUtils.bs","MessengerEnvironment","ReactDOMStyle.bs","gkx","react","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){return i.jsx("path",{d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a})}function a(a){a=a.color;a=j(a);if(b("MessengerEnvironment").messengerui&&!b("CurrentUser").isWorkUser()||b("gkx")("1072568"))return i.jsx("svg",{className:"_7oal",width:"36px",height:"36px",viewBox:"0 1 36 36",children:a});else return i.jsx("svg",{width:"32px",height:"32px",viewBox:"0 0 36 36",children:a})}function c(a){var c;a=a.thread;var d=i.useState(function(){return b("uniqueID")()});d=d[0];var e=j("black");c=(c=b("ReactDOMStyle.bs")).unsafeAddProp(c.unsafeAddProp(c.unsafeAddProp(c.unsafeAddProp(b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(void 0)),"backgroundAttachment","fixed"),"height","95%"),"width","95%"),"margin","auto");return i.jsxs(i.Fragment,{children:[i.jsxs("svg",{viewBox:"0 0 36 36",style:{height:"100%",position:"absolute",width:"100%"},children:[i.jsxs("mask",{id:d,children:[i.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),e]}),i.jsx("rect",{className:"_8rsr",width:"100%",height:"100%",mask:"url(#"+d+")",fill:"white"})]}),i.jsx("div",{style:c})]})}d=a;e=c;f.pathHotLike=j;f.make=d;f.makeWithGradient=e}),null);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.bs","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=i._(/*FBT_CALL*/"\u8c4e\u8d77\u5927\u62c7\u6307\u7684\u624b\u52e2"/*FBT_CALL*/);function a(a){var c=a.className;a=a.color;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=b("CurrentUser").isWorkUser()?"#373e4c":b("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");a={children:k.jsx(b("MWLikeSvgIcon.bs").make,{color:d,size:"100%",title:l}),className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_1i1j")};a["data-testid"]="messenger_hotlike_svg";return k.jsx("div",a)}c="transparent";d=a;f.cTRANSPARENT=c;f.label=l;f.make=d}),null);
__d("MessengerHotLikeSVGReact.re",["MessengerHotLikeSVGReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerHotLikeSVGReact.bs").make;f.make=a}),null);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"root:"+h(a)}function h(a){a=a!=null?a:Date.now();var b=c("randomInt")(0,4294967295);b=("0000000000000000000000"+b.toString(2)).slice(-22);a=a.toString(2)+b;return i(a.slice(-63))}function i(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}g.generateThreadID=a;g.generateOfflineThreadingID=h}),98);
__d("LSContactIdType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.unknown=a;f.fbid=c;f.smsLocalId=d}),null);
__d("LSMessageContentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,4];e=[0,8];b=[0,16];var g=[0,32],h=[0,64],i=[0,128],j=[0,256],k=[0,512],l=[0,1024],m=[0,2048],n=[0,4096],o=[0,8192],p=[0,16384],q=[0,32768],r=[0,65536],s=[0,131072],t=[0,262144];f.text=a;f.mediaPreview=c;f.audioClip=d;f.xmaFallback=e;f.lwaWave=b;f.admin=g;f.fileAttachment=h;f.glyph=i;f.tombstone=j;f.storyReply=k;f.singleXma=l;f.hscrollXma=m;f.sticker=n;f.forwardIndicator=o;f.animatedImage=p;f.nullState=q;f.encryptionPlaceholder=r;f.futureproofPlaceholder=s;f.unavailablePlaceholder=t}),null);
__d("LSQuickReplyType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.none=a;f.horizontal=c;f.vertical=d}),null);
__d("LSWhatsAppConnectStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.whatsappNotAddressable=a;f.whatsappAddressable=c;f.whatsappDualSendEligible=d;f.whatsappDualSendWebEligible=e}),null);
__d("RavenMessagingState.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.permanent=a;f.unseen=c;f.seen=d;f.replayed=e;f.expired=b}),null);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.re","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=83;a=5e3;var l=10,m={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=j.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===m.LOAD_AND_HOVER||this.props.animationTrigger===m.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var a=c("Arbiter").subscribe(this.props.subscribedThreadID,function(a,b){this.isScrolledIntoView(b.scrollTop,b.viewHeight,b.top)}.bind(this));this.setState({unsubscribeID:a})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=function(){return!!this.__stopIntervalID};e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=new window.Image();a.onload=function(){this.$1&&!this.state.hasAnimated&&(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))}.bind(this);c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?a.src=this.props.paddedSpriteURI:a.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-l<=b&&d+l>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===m.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:k;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===m.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===m.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a;return i._(/*FBT_CALL*/"{pack name}{sticker name}\u8cbc\u5716"/*FBT_CALL*/,[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel)])};e.render=function(){var a,b;this.props.animationTrigger===m.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===m.HOVER||this.props.animationTrigger===m.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))&&this.props.thread!=null?g=j.jsx(d("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,{thread:this.props.thread}):g=j.jsx(d("MessengerHotLikeSVGReact.re").make,{color:this.props.customColor}));return j.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g})};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(j.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:k,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),98);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3597593690259924"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],b=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:b},params:{id:"3054916864585546",metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3270705693021816"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormStateQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],b=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:b},params:{id:"3163054493772913",metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatReceiptDataQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},b={defaultValue:null,kind:"LocalArgument",name:"receiptID"},c=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:c},params:{id:"3363059540374751",metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,i=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var m=a[0],n=a[1],o=a[2],p=(e=m)!=null?e:i,q=l(null);k(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){m?o():i.dispose(),q.current=null},6e4)}},[o,p.isDisposed,i,j,n,m]);b=babelHelpers["extends"]({},g,{onClose:f});return h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:i,props:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=l(null),h=j(c("CometDialogContext")),k=i(function(g,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,g),n=m,o=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};h(c("CometSuspendedDialogImpl.react"),{dialog:n,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadParams:g,preloadedEntryPoint:l},fallback:e},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(n=k)!=null?n:c("tracePolicyFromResource")("comet.dialog",a.root)},o)},[f,a,h,e,b]);return[k,g]}g["default"]=a}),98);
__d("MWV2ChatEphemeralButton.bs",["fbt","ix","BaseImage_DEPRECATED.react","CometPressable.react","FBID.bs","MDSText.react","MWChatEphemeralMediaTemporarySeenState.bs","MWV2ChatBubbleSolid.bs","MessagingAttachmentType.bs","RavenMessagingState.bs","TetraIcon.react","UseCurrentDisplayMode.bs","XCometMessengerEphemeralMediaControllerRouteBuilder","bs_caml","bs_caml_option","bs_int64","fbicon","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={image:{verticalAlign:"hu5pjgll"}};function m(a){var c=a.filter;a=a.icon;return k.jsx(b("BaseImage_DEPRECATED.react"),{className:(j||(j=b("stylex")))(l.image),style:{filter:c},src:a.src})}c={styles:l,make:m};function n(a){var c=a.attachment,d=a.children,e=a.ariaLabel;a=a.initiallyUnread;var f=b("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.a)),attachment_id:b("FBID.bs").ofStringExn(c.e),message_id:c.c});c=c.bV;if(c===void 0)return d;if(!(b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").unseen)||b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").seen)&&a))return d;c={linkProps:{url:f},testid:"view-ephemeral-media",overlayRadius:50,children:d};e!==void 0&&(c["aria-label"]=b("bs_caml_option").valFromOption(e));return k.jsx(b("CometPressable.react"),c)}d={make:n};var o=g._(/*FBT_CALL*/"\u67e5\u770b\u76f8\u7247"/*FBT_CALL*/),p=g._(/*FBT_CALL*/"\u89c0\u770b\u5f71\u7247"/*FBT_CALL*/),q=b("fbicon")._(h("656360"),20),r={wrapper:{marginTop:"aahdfvyu",marginEnd:"cxmmr5t8",marginBottom:"tvmbv18p",marginStart:"hcukyx3x"},text:{marginStart:"h676nmdw"}};function a(a){var c=a.attachment,d=a.connectTop,e=a.connectBottom;a=a.outgoing;var f=c.f;f=b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").ephemeralImage)?o:b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").ephemeralVideo)?p:void 0;var g=b("useCurrentDisplayMode")(),h=b("MWChatEphemeralMediaTemporarySeenState.bs").isSeenThisSession(b("bs_int64").to_string(c.a),c.e),i=c.bV,l=c.bV,s,t=0;l!==void 0&&b("bs_caml").i64_eq(l,b("RavenMessagingState.bs").unseen)?s=k.jsx(m,{filter:g===b("UseCurrentDisplayMode.bs").darkTheme?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)",icon:q}):t=1;t===1&&(s=k.jsx(b("TetraIcon.react"),{icon:q,color:l!==void 0&&b("bs_caml").i64_eq(l,b("RavenMessagingState.bs").seen)&&h?"primary-icon":"disabled"}));return k.jsx(n,{attachment:c,children:k.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:k.jsx("div",{className:(j||(j=b("stylex")))(r.wrapper),children:k.jsxs(b("MDSText.react"),{color:i!==void 0&&(b("bs_caml").i64_eq(i,b("RavenMessagingState.bs").unseen)||b("bs_caml").i64_eq(i,b("RavenMessagingState.bs").seen)&&h)?"primary":"disabled",type:"bodyLink3",children:[s,k.jsx("span",{className:j(r.text),children:f!==void 0?f:null})]})}),style:{backgroundColor:"var(--wash)"},connectTop:d,connectBottom:e,outgoing:a}),ariaLabel:f,initiallyUnread:h})}e=a;f.CustomColorIcon=c;f.OpenMediaViewerAction=d;f.styles=r;f.make=e}),null);
__d("MWChatOpenTabByThreadKey.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSContactType.bs","LSTransaction.bs","LSVerifyThreadRowExists","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWLSActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("bs_curry")._2(b("MWChatOpenTabForUser.bs").useHook,void 0,c),f=e[0],g=b("bs_curry")._2(b("MWChatOpenTabForPage.bs").useHook,void 0,c),i=b("MWLSActor.bs").useActor(void 0),j=h.useMemo(function(){return new(b("Promise"))(function(c,e){var f=(e=b("ReQL.bs")).mergeJoin(e.filter(e.getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:a,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,i)}),b("ReQLTable").table(d,"contacts").asc),g={contents:function(a){}};g.contents=b("SortedAsyncIterable.bs").subscribe(f,function(a,d){if(typeof d==="number")return;a=d._0[1];if(b("bs_caml").i64_ge(a.J,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(a)}});b("promiseDone")(e.first(f),function(e){if(e!==void 0){e=e[1];if(b("bs_caml").i64_ge(e.J,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(e)}else return}b("promiseDone")(b("LSTransaction.bs").run(d,function(c){return b("LSVerifyThreadRowExists")(a,b("MessagingThreadType.bs").oneToOne,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),void 0,void 0)})})},[a,d]);return h.useCallback(function(c){b("promiseDone")(j,function(c){var d=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a));c=c.q;if(b("bs_caml").i64_eq(c,b("LSContactType.bs").page))return g(d,!1);else return f(d,!1)})},[j,f,g,a])}f.useHook=a}),null);
__d("MWLSMediaSendUtils.bs",["LS.bs","LSMarkSubJobCompletedV2","LSResumeMediaSendJob","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a.toString()};function a(a,c,d,e,f,h,i){i=e!==void 0?b("bs_caml_option").valFromOption(e):void 0;e=f!==void 0?b("bs_caml_option").valFromOption(f):void 0;f=h!==void 0?b("bs_caml_option").valFromOption(h):void 0;return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_format").caml_int64_of_string(g(d)),i!==void 0?b("bs_caml_option").valFromOption(i):void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,b("bs_curry")._1(b("LS.bs").make,a))}function c(a,c){return b("LSResumeMediaSendJob")(c,b("bs_caml_int64").zero,b("bs_curry")._1(b("LS.bs").make,a))}f.castFbidFromNumber=g;f.markSubJobCompleted=a;f.resumeMediaSendJob=c}),null);
__d("MWLSImagePostbackCtaHandler.bs",["ActorURI","FBID.bs","LS.bs","LSDict","LSInsertNewMediaSend","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSResumeMediaSendJob","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","LSVec.bs","MWLSActor.bs","MWLSMediaSendUtils.bs","MWThreadKey.bs","MercuryConfig","MercuryLocalIDs","MessagingAttachmentType.bs","MessagingThreadType.bs","Promise","ReQLTable","ReStore.bs","URI","XComposerPhotoUploader","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f,g,h){var i=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);return b("LSLocalApplyOptimisticMessageWithAttachments")(c,d,b("MessagingThreadType.bs").oneToOne,void 0,void 0,!1,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,b("LSVec.bs").make([b("LSDict").fromObject({attachment_fbid:i,offline_attachment_id:i,attachment_type:b("MessagingAttachmentType.bs").image,attachment_index:b("bs_caml_int64").zero,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,playable_url:void 0,playable_url_mime_type:void 0,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:"image/jpeg ",mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0})]),b("bs_curry")._1(b("LS.bs").make,a)).then(function(c){var e=c[0];return b("ReQLTable").table(a,"messages_optimistic_context").add({a:b("bs_caml_format").caml_int64_of_string(e),b:d,c:e,d:void 0,e:g,f:void 0,g:void 0,h:f,i:void 0,j:void 0,k:void 0,l:!0,m:void 0}).then(function(a){return b("Promise").resolve([e,i])})})}function a(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return i.useMemo(function(){return function(g,i,k){var l=b("FBID.bs").ofStringExn(b("bs_int64").to_string(e)),m=function(a){var c=a[1],e=a[0],f=new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){a=b("LSTransaction.bs").run(d,function(a){return b("LSInsertNewMediaSend")(c,e,b("bs_caml_int64").zero,b("MessagingAttachmentType.bs").image,!1,!1,!1,!1,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite");b("promiseDone")(a,void 0,void 0)},onUploadSuccess:function(a,f){a=b("bs_caml_array").get(f.response.payload.metadata,0);f=a.image_id;if(f===void 0)return;var g=b("bs_caml_option").valFromOption(f);a=b("LSTransaction.bs").run(d,function(a){return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_format").caml_int64_of_string(b("MWLSMediaSendUtils.bs").castFbidFromNumber(g)),void 0,void 0,void 0,b("bs_curry")._1(b("LS.bs").make,a)).then(function(c){return b("LSResumeMediaSendJob")(e,b("bs_caml_int64").zero,b("bs_curry")._1(b("LS.bs").make,a))})},"readWrite");b("promiseDone")(a,void 0,void 0)},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(h||(h=b("URI")))(b("MercuryConfig").upload_url),l)});a=window.fetch(k).then(function(a){return a.blob()}).then(function(a){f.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})],void 0).send();return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},n=b("LSThreadAttributionStore.bs").getSource(a,b("bs_int64").to_string(f)),o=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(n);n=b("LSTransaction.bs").run(d,function(a){return b("LSOptimisticSendMessage")(e,f,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,g,g,!1,void 0,void 0,void 0,void 0,o,void 0,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,!0,!0,void 0,c!==void 0?b("bs_caml_option").valFromOption(c):void 0,void 0,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite").then(function(a){return b("LSTransaction.bs").run(d,function(a){return j(a,e,f,k,i,o,c).then(function(a){b("bs_curry")._1(m,a)})},"readWrite")});b("promiseDone")(n,void 0,void 0)}},[d,e,f])}f.usePostbackCtaHandler=a}),null);
__d("MWLSWebUrlCtaHandler.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler.bs"));var c=a[0];return h.useCallback(function(a){return c({htmlBlob:a},function(a){})},[c])}f.useShowWebViewDialog=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_feedback_form_state.form_state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatPollXMAActionHandler.bs",["JSResource","MWThreadKey.bs","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadKey.bs").useIdMemoized(void 0);a=b("useCometLazyDialog")(b("JSResource")("MWChatPollDetailsDialog").__setRef("MWChatPollXMAActionHandler.bs"));var d=a[0];return h.useCallback(function(a){return function(b){return d({pollId:a,threadKey:c,title:b},function(a){})}},[d])}f.useHandler=a}),null);
__d("UseMWChatForward.re",["useMWChatForward"],(function(a,b,c,d,e,f){var g=b("useMWChatForward");f.useMWChatForwardTypeChecked=g;a=function(a){a=g(a);return a==null?void 0:a};f.useMWChatForward=a}),null);
__d("MWChatForwardAction.bs",["CometPressable.react","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWPTooltip.react","ODS","UseMWChatForward.re","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("MWChatColors.bs").MessageActions.styles,k={icon:{opacity:"pedkr2u6"}};function l(a){}var m=i.jsx("svg",{height:"22px",width:"22px",viewBox:"0 0 36 36",children:i.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:[i.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),i.jsx("path",{className:(h||(h=b("stylex")))(j.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})]})});function n(a,c){b("ODS").bumpEntityKey(3185,"mwchat_actions","forward");b("MWLSLogMessageClick.bs").logMessageClicked(a,b("LsTargetType.bs").forwardIcon,void 0,void 0);if(c!==void 0)return b("bs_curry")._1(c.onClick,void 0)}function a(a){var c=a.onForward,d=a.label,e=a.messageID;a=a.isSecureForwardEnabled;a=a!==void 0?a:!1;c=b("UseMWChatForward.re").useMWChatForward({onClose:l,onSend:b("bs_curry").__1(c),messageID:e,isSecureForwardEnabled:a});var f=c==null?void 0:b("bs_caml_option").some(c);return i.jsx(b("MWPTooltip.react"),{tooltip:d,align:"middle",position:"above",children:i.jsx("div",{className:(h||(h=b("stylex")))(j.action),children:i.jsx(b("CometPressable.react"),{"aria-label":d,role:b("gkx")("1224637")?"menuitem":"button",expanding:!0,testid:"messenger_forward_menu_button",onPress:function(a){return n(e,f)},overlayDisabled:!0,children:i.jsx("div",{className:h(j.icon,k.icon),children:m})})})})}c=a;f.sharedStyles=j;f.styles=k;f.noop=l;f.icon=m;f.onOpenForwardDialog=n;f.make=c}),null);
__d("MWV2ChatBubbleTransparent.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c=36;d=c+6|0;e=d+14|0;var j={bubble:{maxWidth:"odn2s2vf",paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"geli4699",bottom:"fkq5d175",start:"oskkt2ky",end:"i4sm7uox",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"dzm1kfb5",borderEndWidth:"oc4jhviy",borderBottomWidth:"h624itt5",borderStartWidth:"reaovrpu",borderTopColor:"hwba8txa",borderEndColor:"dzgn2jm7",borderBottomColor:"n4g4bzxc",borderStartColor:"sdxs9vve",borderTopStartRadius:"cur584us",borderTopEndRadius:"gt092ec4",borderBottomEndRadius:"t02hhl22",borderBottomStartRadius:"lm2lsiji",pointerEvents:"yfudjqg5"}},incoming_connect_top:{":after":{borderTopStartRadius:"efeyjaql"}},incoming_connect_bot:{":after":{borderBottomStartRadius:"dcchegku"}},outgoing_connect_top:{":after":{borderTopEndRadius:"qyep8gqv"}},outgoing_connect_bot:{":after":{borderBottomEndRadius:"af2nlw56"}},precedes_xma:{boxSizing:"rq0escxv",maxWidth:"nqmqzb3c",width:"k4urcfbm",":after":{borderBottomEndRadius:"iep0m7mp",borderBottomStartRadius:"pgkcj7gb"}}};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble,d?a?j.outgoing_connect_top:j.incoming_connect_top:!1,!f&&e?a?j.outgoing_connect_bot:j.incoming_connect_bot:!1,f?j.precedes_xma:!1),children:c})}var k=18;a=a;f.baseSize=k;f.borderWidth=c;f.smallRadius=d;f.largeRadius=e;f.styles=j;f.make=a}),null);
__d("MWV2MessageHasReply.bs",["LSMessageReplySourceTypeV2.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.t;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}f.make=a}),null);
__d("MWV2ChatBubble.bs",["MWLSThreadDisplayContext.bs","MWV2ChatBubbleSolid.bs","MWV2ChatBubbleTransparent.bs","MWV2ColorUtils.bs","MWV2MessageHasReply.bs","MWV2Theme.bs","bs_caml_obj","bs_caml_splice_call","react","stylex","useMatchMedia"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emphasis_ring:{display:"j83agx80",borderTop:"dmyp13bq",borderEnd:"ndhlz62r",borderBottom:"ncbqlf8d",borderStart:"s0vq2i2w",maxWidth:"blud8cpg",position:"l9j0dhe7",backgroundColor:"g5ia77u1",":before":{content:"g25sr70m",display:"jdo7v6z6",position:"lzm9zonv",top:"hlthg0ru",bottom:"bukg358c",start:"nsmdno57",end:"p8m4tlpt",borderTopStyle:"fboblok7",borderEndStyle:"hooc0cby",borderBottomStyle:"bblsj9ze",borderStartStyle:"sj46kbig",borderTopWidth:"ek0ugbdb",borderEndWidth:"dpj2ryut",borderBottomWidth:"rq41jfz2",borderStartWidth:"t1qoqrst",borderTopColor:"ctd5sy3o",borderEndColor:"t7740pma",borderBottomColor:"h01b6lxl",borderStartColor:"is8i6zgj",opacity:"f9zxapb0",borderTopStartRadius:"o5g7ym2r",borderTopEndRadius:"swnt2q8t",borderBottomEndRadius:"egy40mqu",borderBottomStartRadius:"m3lz4j07",pointerEvents:"szx2nxjd",zIndex:"c4u49bkg"},":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"e15w2yfi",bottom:"jdr4sxky",start:"opatuxy4",end:"jj6iul7h",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"avvvbj8i",borderEndWidth:"qc19tv0c",borderBottomWidth:"seh407zj",borderStartWidth:"mgkhc2l0",borderTopColor:"qu1lfhdz",borderEndColor:"h2zxmtvk",borderBottomColor:"r13p1xmt",borderStartColor:"thnup18q",borderTopStartRadius:"tdsjupxz",borderTopEndRadius:"o6z0k5ic",borderBottomEndRadius:"m0ai3fox",borderBottomStartRadius:"t06v70oj",pointerEvents:"yfudjqg5",zIndex:"sebibeov"}},emphasis_ring_before_xma:{borderBottom:"humdl8nn",":before":{borderBottom:"dwjjxrjg",borderBottomStartRadius:"vha61xgp",borderBottomEndRadius:"cninlv0n"},":after":{borderBottom:"h4hm3dj4",borderBottomStartRadius:"pgkcj7gb",borderBottomEndRadius:"iep0m7mp"}},emphasis_ring_xma:{width:"gaoewp0a",borderTop:"gcieejh5",":before":{borderTop:"bsyhajyn",borderTopStartRadius:"rlntl7br",borderTopEndRadius:"rgkwebxj"},":after":{borderTop:"q22nnh5l",borderTopStartRadius:"lm7vadms",borderTopEndRadius:"s6fxew23"}},emphasis_ring_connect_top_outgoing:{":before":{borderTopEndRadius:"m2bnzw1h"},":after":{borderTopEndRadius:"mk1s9yjy"}},emphasis_ring_connect_top_incoming:{":before":{borderTopStartRadius:"izwkhwj2"},":after":{borderTopStartRadius:"i7jao9op"}},emphasis_ring_connect_bottom_outgoing:{":before":{borderBottomEndRadius:"aultcim1"},":after":{borderBottomEndRadius:"lgl5u3oa"}},emphasis_ring_connect_bottom_incoming:{":before":{borderBottomStartRadius:"mfjs0nqm"},":after":{borderBottomStartRadius:"qrw7h0bf"}}};function k(a,c){if(c)return{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.c)};else return{backgroundColor:"var(--wash)"}}function l(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing;a=a.threadTheme;a=k(a,g);return i.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:c,style:a,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}c={useInlineStyles:k,make:l};function m(a,c,d){var e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=b("useMatchMedia")("(min-height: "+String(1280)+"px)");return i.useMemo(function(){if(d&&c.length>1)return{backgroundAttachment:"fixed",backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.c),backgroundImage:b("MWV2ColorUtils.bs").gradient(c,b("bs_caml_obj").caml_notequal(e,1),f,void 0)};else if(d)return{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.c)};else return{backgroundColor:"var(--wash)"}},[a,c,d,e,f])}function n(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.threadTheme;a=a.gradientColors;h=m(h,a,g);return i.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:c,style:h,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}d={useInlineStyles:m,make:n};function o(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx(b("MWV2ChatBubbleTransparent.bs").make,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:a})}e={make:o};function p(a){var c=a.children,d=a.shouldConnectTop,e=a.shouldConnectBottom,f=a.isBeforeXMA,g=a.hasXMA;a=a.isOutgoing;f=[j.emphasis_ring,f?j.emphasis_ring_before_xma:e?a?j.emphasis_ring_connect_bottom_outgoing:j.emphasis_ring_connect_bottom_incoming:!1,g?d?j.emphasis_ring_xma:!1:d?a?j.emphasis_ring_connect_top_outgoing:j.emphasis_ring_connect_top_incoming:!1];return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[f]),children:c})}var q={make:p};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var j=b("MWV2Theme.bs").useHook(void 0),k=j.gradientColors;j=j.threadTheme;h=b("MWV2MessageHasReply.bs").make(h);h=h?i.jsx(n,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j,gradientColors:k}):g&&k.length>1?i.jsx(o,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g}):i.jsx(l,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j});if(a)return i.jsx(p,{children:h,shouldConnectTop:d,shouldConnectBottom:e,isBeforeXMA:f,hasXMA:!1,isOutgoing:g});else return h}a=a;f.styles=j;f.Solid=c;f.Reply=d;f.Transparent=e;f.EmphasisRing=q;f.make=a}),null);
__d("MWV2MessageParsingUtils.bs",["LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","MWV2MessageHasAttachment.bs","MercuryThreadlistConstants","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={titleContainer:{display:"j83agx80",alignItems:"bp9cbjyn",marginBottom:"gjjqq4r6"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function k(a){a=a.g;if(a!==void 0)return a!=="";else return!1}function l(a){a=a.t;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function m(a){a=a.t;if(a!==void 0&&b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function n(a){return b("bs_belt_Option").mapWithDefault(a.g,!1,function(a){return a.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function o(a){if(l(a)||b("MWV2MessageHasAttachment.bs").make(a)||n(a))return!0;else return a.j}function p(a,c){if(c===void 0)return!0;var d=b("bs_caml_int64").to_float(a.b)-b("bs_caml_int64").to_float(c.b)>b("MercuryThreadlistConstants").GROUPING_THRESHOLD,e=m(a),f=b("bs_int64").compare(a.h,c.h)===0;if(c.m||a.m||!f||d||e||o(a))return!0;else return o(c)}function q(a,b){if(b!==void 0&&!p(a,b))return!1;else return!0}function r(a,b){if(b!==void 0&&!p(b,a))return!1;else return!0}function a(a,b){if(k(a))return!0;else return!q(a,b)}function c(a,b){return!r(a,b)}e={shouldConnectTop:a,shouldConnectBottom:c};function d(a){var c=a.t,d=c!==void 0?b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").story)?i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"}):b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").fbStoryShare)?i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}):null:null;return b("bs_belt_Option").map(a.v,function(a){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.titleContainer),children:[d,i.jsx("div",{className:h(j.text),children:a})]})})}f.styles=j;f.hasText=k;f.isReplyToSomething=l;f.isForwarded=m;f.isLongText=n;f.shouldBeStandalone=o;f.isInDifferentGroup=p;f.isStartOfGroup=q;f.isEndOfGroup=r;f.MessageWithAttachments=e;f.getGroupTitleForReply=d}),null);
__d("MWV2MessageRowIsRowFocusedContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}function c(a){}e={setFocused:a,setIsDialogOpened:c,isDialogOpened:!1};var i=h.createContext(e);function d(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}b={make:d};f.emptyValue=e;f.context=i;f.Provider=b}),null);
__d("MWP2PPaymentMethodAdd.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("MWP2PPaymentMethodAdd.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentMethodAdd=a}),null);
__d("MWP2PPaymentRequestCancel.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("MWP2PPaymentRequestCancel.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestCancel=a}),null);
__d("MWP2PPaymentRequestConfirm.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("MWP2PPaymentRequestConfirm.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestConfirm=a}),null);
__d("MWP2PPaymentRequestDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("MWP2PPaymentRequestDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestDecline=a}),null);
__d("MWP2PPaymentTransactionDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("MWP2PPaymentTransactionDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentTransactionDecline=a}),null);
__d("MWP2PPaymentTransactionInformationVerify.bs",["JSResource","XP2PVerificationDialogBaseControllerRouteBuilder","bs_belt_Option","bs_caml_option","gkx","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var c=a[0];a=b("useCometLazyDialog")(b("JSResource")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var d=a[0];return h.useCallback(function(a){a=a.id;if(b("gkx")("94"))return d({transferId:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))},function(a){});else return c({params:{rel:"dialog-post",uri:b("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({is_sender_flow:!1,id:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))})}},function(a){})},[c])}f.useP2PPaymentTransactionInformationVerify=a}),null);
__d("MWUIShowPaymentDetails.bs",["bs_curry","cr:1573776"],(function(a,b,c,d,e,f){"use strict";function a(){if(b("cr:1573776")==null)return function(a){};else return b("bs_curry")._1(b("cr:1573776").useHook,void 0)}f.$MWLSShowPaymentDetails$OR$null$requireCond=b("cr:1573776");f.useHook=a}),null);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){a&&(c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}}),a.messenger_pii_nux==null?f({description:"",seen:!0,title:"",url:"",url_text:""}):f({description:a.messenger_pii_nux.description,seen:!1,title:a.messenger_pii_nux.title,url:a.messenger_pii_nux.url,url_text:a.messenger_pii_nux.url_text}))},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{messageID:b,receiptID:a}).toPromise().then(function(a){if(a){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWUIOpenStaticLocationDialog.bs",["cr:618"],(function(a,b,c,d,e,f){"use strict";a=b("cr:618").useHook;f.$MWLSOpenStaticLocationDialog$OR$WorkplaceMSOpenStaticLocationDialog$requireCond=b("cr:618");f.useHook=a}),null);
__d("MWV2MessageHasXMA.bs",["LSMessageContentType.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){return[b("bs_caml_int64").and_(b("LSMessageContentType.bs").singleXma,a.Q),b("bs_caml_int64").and_(b("LSMessageContentType.bs").hscrollXma,a.Q)].some(function(a){return b("bs_caml_int64").to_int32(a)!==0})}f.make=a}),null);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1746398");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e.exports=c}),null);
__d("MakeRoomRingbackCommon.bs",["cr:9972"],(function(a,b,c,d,e,f){"use strict";a=b("cr:9972").useHook;f.$WorkPlaceMakeRoomRingback$OR$MakeRoomRingback$requireCond=b("cr:9972");f.useHook=a}),null);
__d("MWChatXmaThirdPartyActionHandler.bs",["fbt","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","JSResource","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWP2PPaymentMethodAdd.bs","MWP2PPaymentRequestCancel.bs","MWP2PPaymentRequestConfirm.bs","MWP2PPaymentRequestDecline.bs","MWP2PPaymentTransactionDecline.bs","MWP2PPaymentTransactionInformationVerify.bs","MWUIOpenStaticLocationDialog.bs","MWUIShowPaymentDetails.bs","MakeRoomRingbackCommon.bs","MarketplaceCometReviewOffersDialog.entrypoint","MentorshipMessengerLoggingUtils","Popup","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","ZenonUserActionLoggerCommon.bs","bs_caml_option","bs_curry","cr:11076","cr:1761102","react","useCometDynamicEntryPointDialog","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){var d=a.receiptId;if(d!==void 0){b("MWChatReceiptDataQuery").fetch(d,a.messageId,function(a){var b=g._(/*FBT_CALL*/"\u8a02\u55ae\u78ba\u8a8d"/*FBT_CALL*/);return c({title:b,receipt:a},function(a){})});return}},[c])}function k(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.feedbackFormId;b("MWChatCustomerFeedbackStateQuery").fetch(e,d,function(a){b("MWChatCustomerFeedbackFormDataQuery").fetch(e,d,function(b){return c({firstScreen:b.firstScreen,privacy:b.privacy,formId:b.formId,pageId:b.pageId,state:a},function(a){})})})},[c])}function l(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.pageId,f=a.formId,g=a.privacy,h=a.firstScreen;b("MWChatCustomerFeedbackStateQuery").fetch(f,d,function(a){return c({firstScreen:h,privacy:g,formId:f,pageId:e,state:a},function(a){})})},[c])}function m(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.pageId,f=a.color,g=a.numScreens,h=a.currentIndex,i=a.formId,j=a.firstScreen;b("MWChatPIIFormStateQuery").fetch(i,d,function(a){b("MWChatPIIFormNuxQuery").fetch(d,i,e,function(k){if(g>1){b("MWChatPIIFormScreenQuery").fetch(i,e,1,d,function(d){return c({firstScreen:j,secondScreen:b("bs_caml_option").some(d),formId:i,currentIndex:h,numScreens:g,color:f,state:a,nuxData:k,pageId:e},function(a){})});return}else return c({firstScreen:j,secondScreen:void 0,formId:i,currentIndex:h,numScreens:g,color:f,state:a,nuxData:k,pageId:e},function(a){})})})},[c])}function n(a){a=b("useCometLazyDialog")(b("JSResource")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({pageID:a.pageId,requestID:a.requestId},function(a){})},[c])}function o(a){a=b("useCometLazyDialog")(b("JSResource")("MWFbpayOfferDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({offerId:a.offerId,title:a.title},function(a){})},[c])}function p(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({titleString:a.titleString,messageId:a.messageId},function(a){})},[c])}function q(a){var c=b("bs_curry")._1(b("MWUIOpenStaticLocationDialog.bs").useHook,void 0);return i.useCallback(function(a){return b("bs_curry")._1(c,a.msgId)},[c])}function r(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({boardingPassDetail:a},function(a){})},[c])}function s(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({itineraryPayload:a},function(a){})},[c])}function t(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID,title:a.sourceTitle},function(a){})},[c])}function u(a){return i.useCallback(function(c){var d;(d=b("bs_curry"))._1(b("ZenonUserActionLoggerCommon.bs").logClick,{component:d._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"start_call_button"),surface:d._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"admin_message")});return d._3(a,c.hasVideo,c.threadId,c.trigger)},[a])}function v(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({pageID:a.pageId,guestID:a.guestId},function(a){})},[c])}c=b("cr:11076")==null?void 0:b("bs_caml_option").some(b("cr:11076"));function w(a){return i.useCallback(function(a){if(!(b("cr:11076")==null))return b("bs_curry")._2(b("cr:11076").$$process,a.ctaId,a.messageId)},[])}function x(a){b("Popup").open(a,1024,500)}function y(a){a=b("useCometLazyDialog")(b("JSResource")("MentorshipLeaveSurveyDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){var d=a.programID;b("MentorshipMessengerLoggingUtils").logMessengerEvent({event:"click_unit",unit:"prompt_unit",destUnit:"leave_survey",destContainer:"messenger_thread",extraData:{prompt_type:"MENTORSHIP_MESSENGER_LEAVE_PROMPT",content_id:a.promptID},displayName:"End Program",programID:d});return c({programID:d},function(a){})},[c])}function z(a){a=b("useCometLazyDialog")(b("JSResource")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({linkUrl:a.linkUrl},function(a){})},[c])}function A(a){if(b("cr:1761102")==null)return function(a,b,c,d){};else return b("bs_curry")._1(b("cr:1761102").useMarketplaceXmaCallFunctionCtaHandler,void 0)}function B(a){a=b("useCometDynamicEntryPointDialog")(b("MarketplaceCometReviewOffersDialog.entrypoint"));var c=a[0];return i.useCallback(function(a){return c({listingId:a},void 0,function(a){})},[c])}function C(a){a=b("useCometDynamicEntryPointDialog")(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));var c=a[0];return i.useCallback(function(a){return c({threadId:a},{threadId:a},function(a){})},[c])}function a(a,c){var d=j(void 0),e=l(void 0),f=k(void 0),g=w(void 0),h=m(void 0),i=o(void 0),D=p(void 0),E=q(void 0),F=n(void 0),G=r(void 0),H=v(void 0),I=s(void 0),J=t(void 0),K=b("MWP2PPaymentRequestCancel.bs").useP2PPaymentRequestCancel(void 0),L=b("MWP2PPaymentRequestConfirm.bs").useP2PPaymentRequestConfirm(void 0),M=b("MWP2PPaymentRequestDecline.bs").useP2PPaymentRequestDecline(void 0),N=b("MWP2PPaymentTransactionDecline.bs").useP2PPaymentTransactionDecline(void 0),O=b("MWP2PPaymentMethodAdd.bs").useP2PPaymentMethodAdd(void 0),P=b("MWP2PPaymentTransactionInformationVerify.bs").useP2PPaymentTransactionInformationVerify(void 0),Q=u(c),R=b("bs_curry")._1(b("MakeRoomRingbackCommon.bs").useHook,void 0),S=z(void 0),T=y(void 0),U=b("MWUIShowPaymentDetails.bs").useHook(),V=A(void 0),W=B(void 0),X=C(void 0);return function(c){var j=c.NAME;if(j==="P2PPaymentTransactionInformationVerify")return b("bs_curry")._1(P,c.VAL);if(j==="P2PPaymentTransactionDecline")return b("bs_curry")._2(N,void 0,c.VAL);if(j==="MakeWorkJoinableCallInvite"||j==="MakeRoomRingback")return b("bs_curry")._1(R,c.VAL);if(j==="ShowCustomerFeedback")return b("bs_curry")._1(e,c.VAL);if(j==="ShowFbpayOfferDetails")return b("bs_curry")._1(i,c.VAL);if(j==="P2PPaymentRequestCancel")return b("bs_curry")._2(K,void 0,c.VAL);if(j==="SendImagePostback"){var k=c.VAL,l=k.loggingDetails;l!==void 0&&b("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(a){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,index:l.index,cta:"button"},event_location:"unknown",page_id:l.page_id}});return b("bs_curry")._3(a,k.message,k.platformToken,k.image)}if(j==="ShowMessengerExtensions")return b("bs_curry")._1(J,c.VAL);if(j==="ShowPIIForm")return b("bs_curry")._1(h,c.VAL);if(j==="OpenAccountLink")return b("bs_curry")._1(g,c.VAL);if(j==="P2PPaymentTransactionReceiveMoney")return b("bs_curry")._2(O,void 0,c.VAL);if(j==="ShowBoardingPass")return b("bs_curry")._1(G,c.VAL);if(j==="ShowStaticLocationDetails")return b("bs_curry")._1(E,c.VAL);if(j==="P2PPaymentTransactionDetails")return U(c.VAL.id);if(j==="P2PPaymentRequestDecline")return b("bs_curry")._2(M,void 0,c.VAL);if(j==="ShowMentorshipDialog")return b("bs_curry")._1(T,c.VAL);if(j==="ShowBookingDetails")return b("bs_curry")._1(F,c.VAL);if(j==="ShowOrderConfirmation")return b("bs_curry")._1(d,c.VAL);if(j==="ShowCustomerFeedbackForm")return b("bs_curry")._1(f,c.VAL);if(j==="ShowItinerary")return b("bs_curry")._1(I,c.VAL);if(j==="OpenAccountLinkUrl")return x(c.VAL);if(j==="MakeJoinRoomFromPortal")return b("bs_curry")._1(S,c.VAL);if(j==="P2PPaymentRequestConfirm")return b("bs_curry")._2(L,void 0,c.VAL);if(j==="MakeRtcCall")return b("bs_curry")._1(Q,c.VAL);if(j==="ProcessMarketplaceCallFunction"){k=c.VAL;return b("bs_curry")._4(V,k.messageId,k.attachmentFbid,k.targetId,k.actionType)}if(j==="ShowLiveLocationDetails")return b("bs_curry")._1(D,c.VAL);if(j==="ShowGuestChatHistory")return b("bs_curry")._1(H,c.VAL);k=c.VAL;j=k.threadId;c=k.listingId;switch(k.ctaType){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(j!==void 0)return b("bs_curry")._1(X,b("bs_caml_option").valFromOption(j));else return;case"SHIPPED_OFFER_CANCEL":if(c!==void 0)return b("bs_curry")._1(W,b("bs_caml_option").valFromOption(c));else return;default:return}}}f.useShowOrderConfirmation=j;f.useShowCustomerFeedback=k;f.useShowCustomerSatisfaction=l;f.useShowPIIForm=m;f.useShowBookingDetails=n;f.useShowFbpayOfferDetails=o;f.useShowLiveLocationDetails=p;f.useShowStaticLocationDetails=q;f.useShowBoardingPass=r;f.useShowItinerary=s;f.useShowMessengerExtensions=t;f.useMakeRTCCall=u;f.useGuestMessageThreadDetails=v;f.$null$OR$MNCommerceCTAProcessor$requireCond=b("cr:11076");f.mnCommerceCTAProcessor=c;f.useOpenAccountLink=w;f.openAccountLinkUrl=x;f.useShowMentorshipDialog=y;f.useMakeJoinRoomFromPortal=z;f.$MWLSMarketplaceXmaCallFunctionCtaHandler$requireCond=b("cr:1761102");f.processMarketplaceCallFunction=A;f.useShowReviewOffersDialog=B;f.useShowCreateDiscountedPriceDialog=C;f.useHandler=a}),null);
__d("MWResponsiveVideo.bs",["BaseGlimmer.react","CometObjectFitContainer.react","CometPlaceholder.react","MWLSThreadDisplayContext.bs","MWMessageProtectionContext.bs","bs_caml_option","deferredLoadComponentForReason","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{maxWidth:"d2edcug0",position:"l9j0dhe7",minWidth:"fc1w0g64",minHeight:"on1dxsw4",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},fill:{position:"pmk7jnqg",top:"kr520xx4",left:"j34wkznp",right:"kwrap0ej",bottom:"i09qtzwb",zIndex:"tkr6xdv7"}},k={root:{display:"j83agx80",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},glimmer:{height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg"}};function l(a){a=a.xstyle;return i.jsx("div",{className:(h||(h=b("stylex")))(k.root,a),children:i.jsx(b("BaseGlimmer.react"),{className:h(k.glimmer),index:0})})}c={styles:k,make:l};var m=b("requireDeferredForDisplay")("MWChatVideoPlayer.bs").__setRef("MWResponsiveVideo.bs");function n(a,c,d,e,f,g,h,i,j,k){k={fbid:c,sdSrc:f,originalHeight:g,originalWidth:h,hideExpandButton:i,controls:j};a!==void 0&&(k.autoPlaySetting=b("bs_caml_option").valFromOption(a));d!==void 0&&(k.hdSrc=d);e!==void 0&&(k.initalForceHD=e);return k}function o(a){return i.createElement(b("deferredLoadComponentForReason")(m).make,a)}d={makeProps:n,make:o};function p(a){if(a===1)return[240,180];else return[180,180]}function a(a){var c=a.width,d=a.height,e=a.src,f=a.maxHeight,g=a.maxWidth,k=a.connectTopStyles;a=a.fbid;var m=b("MWLSThreadDisplayContext.bs").useHook(void 0),q=i.useMemo(function(){var a=c!==void 0?d!==void 0?[c,d]:[500,300]:[500,300];return a[0]/a[1]},[c,d]),r=b("MWMessageProtectionContext.bs").useHook(void 0),s=r.blurMedia;r=i.useMemo(function(){var b=c!==void 0?c:500,a=p(m);return{maxHeight:f.toString()+"px",minHeight:s?a[1].toString(10)+"px":"",minWidth:s?a[0].toString(10)+"px":"",width:Math.min(b,g).toString()+"px"}},[f,c,g,s,m]);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),style:r,children:[i.jsx("div",{className:h(j.fill),children:i.jsx(b("CometPlaceholder.react"),{children:i.jsx(o,n(s?"off":void 0,a,void 0,void 0,e,d!==void 0?d|0:300,c!==void 0?c|0:500,!0,"mwchat",void 0)),fallback:i.jsx(l,{xstyle:k})})}),i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:q,children:null,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO"})]})}e=a;f.styles=j;f.VideoLoader=c;f.$MWChatVideoPlayer$DeferredForDisplay=m;f.MWChatVideoPlayerLazy=d;f.getMinDimensionsForProtectedVideo=p;f.make=e}),null);
__d("MWStableImage.bs",["CometObjectFitContainer.react","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={constraint:{maxWidth:"d2edcug0"},image:{display:"a8c37x1j",height:"idiwt2bm",maxWidth:"d2edcug0",width:"dbpd2lw6"},imageFill:{height:"datstx6m",width:"k4urcfbm"}};function k(a){var c=a.maxHeight,d=a.aspectRatio,e=a.src;a=a.alt;var f=i.useMemo(function(){return{display:"block",maxHeight:c.toString()+"px",maxWidth:"100%"}},[c]);a=i.jsx("img",{alt:a,src:e,className:(h||(h=b("stylex")))(j.image,d===void 0?!1:j.imageFill),style:f});if(d!==void 0)return i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:d,children:a,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO"});else return a}c={make:k};function l(a){var c=a.height,d=a.maxHeight,e=a.maxWidth,f=a.className,g=a.children,k=a.aspectRatio;a=g!==void 0?b("bs_caml_option").valFromOption(g):null;g=i.useMemo(function(){if(k!==void 0&&c!==void 0)return{maxWidth:"100%",width:(k*Math.min(d,c)).toString()+"px"}},[k,c,d]);var l=i.useMemo(function(){if(e!==void 0)return{maxWidth:e.toString()+"px"}},[e]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.constraint),children:i.jsx("div",{style:l,children:i.jsx("div",{className:f,style:g,children:a})})})}d={make:l};function a(a){var c=a.width,d=a.height,e=a.src,f=a.alt,g=a.maxHeight,h=a.maxWidth,j=a.className;a=a.children;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var m=c!==void 0&&d!==void 0?c/d:void 0;return i.jsxs(l,{width:c,height:d,maxHeight:g,maxWidth:h,className:j,children:[i.jsx(k,{maxHeight:g,aspectRatio:m,src:e,alt:f}),a],aspectRatio:m})}e=a;f.styles=j;f.$$Image=c;f.Container=d;f.make=e}),null);
__d("MWV2AttachmentProgressBar.bs",["MWV2ComposerMediaProgressBar.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.attachment,d=b("ReStore.bs").useHook(void 0);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=c.d;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"media_staging").asc,{hd:a,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,c.e]));if(a!==void 0&&a.o)return h.jsx(b("MWV2ComposerMediaProgressBar.bs").make,{mediaStaging:a,height:5});else return null}c=a;f.make=c}),null);
__d("MWV2ChatAudioCommon.bs",["cr:710"],(function(a,b,c,d,e,f){"use strict";a=b("cr:710").make;f.$MWV2AudioPlayer$OR$MWV2ChatAudio$requireCond=b("cr:710");f.make=a}),null);
__d("MWV2ChatFileCommon.bs",["cr:536"],(function(a,b,c,d,e,f){"use strict";a=b("cr:536").make;f.$MWV2ChatFileV2$OR$MWV2ChatFile$requireCond=b("cr:536");f.make=a}),null);
__d("MWV2UseFocusRowAfterClosingPushView.bs",["MWV2MessageRowIsRowFocusedContext.bs","bs_curry","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context);var c=a.isDialogOpened,d=a.setIsDialogOpened,e=a.setFocused;a=b("useCometRouterState")();var f;if(a==null)f=0;else{a=a.pushViewStack;f=a==null?0:a.length}var g=b("usePrevious")(f);h.useLayoutEffect(function(){if(!(g==null)){c===!0&&g>0&&f===0&&(b("bs_curry")._1(d,function(a){return!1}),b("bs_curry")._1(e,function(a){return!0}));return}},[c,g,f]);return d}f.useHook=a}),null);
__d("MWV2ChatImage.bs",["fbt","JSResourceForInteraction","LSAuthorityLevel.bs","LsTargetType.bs","MWChatImageInsetShadow.bs","MWLSThreadDisplayContext.bs","MWMessageListAttachmentDimensions.bs","MWMessageListMediaPressableContainer.bs","MWStableImage.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","gkx","react","stylex","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{display:"j83agx80",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},content:{display:"j83agx80",flexDirection:"cbu4d94t",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",position:"l9j0dhe7"},standalone:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},withAppAttribution:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"mrjvor2e",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"jinzq4gt"},appIcon:{width:"hhz5lgdu",height:"gl3lb2sf",marginEnd:"fv0vnmcu",objectFit:"r0294ipz",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},appAttr:{paddingTop:"ecm0bbzt",paddingEnd:"p8fzw8mz",paddingBottom:"e5nlhep0",paddingStart:"pcp91wgn",display:"j83agx80",alignItems:"bp9cbjyn",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",lineHeight:"dfwzkoeu"},appText:{fontSize:"e9vueds3",color:"oo9gr5id",wordBreak:"qv66sw1b"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"},incoming_connect_bottom:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_bottom:{borderBottomEndRadius:"ihh4hy1g"}};function l(a){a=a.attachment;var c=a.Y;if(c===void 0)return null;a=a.Z;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.appAttr),children:[a!==void 0?j.jsx("img",{role:"presentation",src:a,className:(i||(i=b("stylex")))(k.appIcon)}):null,j.jsx("span",{className:i(k.appText),children:c})]})}c={make:l};function a(a){var c=a.message,d=a.attachment,e=a.getPreviewUrl,f=a.connectTop,h=a.connectBottom,m=a.outgoing;a=a.navigateToRouteForMediaViewer;h=h!==void 0?h:!1;var n=a!==void 0?a:!0;a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var o=d.Y!==void 0;a=b("MWMessageListAttachmentDimensions.bs").useHook(a,d);var p=a[1];a=a[0];var q=b("MWV2UseMediaViewerURL.bs").useHook(d);f=f?m?k.outgoing_connect_top:k.incoming_connect_top:!1;h=h?m?k.outgoing_connect_bottom:k.incoming_connect_bottom:!1;m=b("gkx")("1924962");var r=b("MWV2UseFocusRowAfterClosingPushView.bs").useHook(void 0),s=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2MediaViewer.react",{name:"MWV2MediaViewer","class":"fluid"}).__setRef("MWV2ChatImage.bs")),t=s[2],u=s[0];s=b("bs_curry")._1(e,d);if(s===void 0)return null;e=n?{passthroughProps:{origSrc:s},url:q}:void 0;q=d.R;a={attachment:d,onPress:function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").attachmentImage,void 0,void 0);b("bs_curry")._1(r,function(a){return!0});if(!n)return u({attachment:d},function(a){})},children:[j.jsx(b("MWStableImage.bs").make,{width:a!==void 0?b("bs_caml_int64").to_float(a):void 0,height:p!==void 0?b("bs_caml_int64").to_float(p):void 0,src:s,alt:q!==void 0&&m?q:g._(/*FBT_CALL*/"\u958b\u555f\u76f8\u7247"/*FBT_CALL*/),maxHeight:200,maxWidth:480,className:(i||(i=b("stylex")))(k.content,o?k.withAppAttribution:k.standalone,f,h),children:j.jsx(l,{attachment:d})}),b("bs_caml").i64_le(c.V,b("LSAuthorityLevel.bs").clientPartial)?j.jsx(b("MWV2AttachmentProgressBar.bs").make,{attachment:d}):null,j.jsx(b("MWChatImageInsetShadow.bs").make,{xstyle:[f,h]})],xstyle:[k.container,k.standalone,f,h],testid:"chat-image",onHoverIn:function(a){if(!n)return b("bs_curry")._1(t,void 0)}};e!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(e));return j.jsxs(b("MWMessageListMediaPressableContainer.bs").make,a,d.e)}d=a;f.styles=k;f.AppAttribution=c;f.make=d}),null);
__d("MWV2ChatImagesGrid.bs",["fbt","CometImageCover.react","CometPhotoGrid.react","CometPressable.react","MWLSThreadDisplayContext.bs","MWV2UseMediaViewerURL.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{maxWidth:"d2edcug0"},small:{width:"b654a4as"},large:{width:"r59w251j"},pressable:{display:"a8c37x1j",height:"datstx6m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",width:"k4urcfbm"}};function l(a){var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return j.useMemo(function(){var b=a.bY;if(b!==void 0&&c===1)return b;else return a.F},[a,c])}function m(a){a=a.attachment;var c=l(a);a=b("MWV2UseMediaViewerURL.bs").useHook(a);if(c!==void 0)return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u958b\u555f\u76f8\u7247"/*FBT_CALL*/),linkProps:{passthroughProps:{origSrc:c},url:a},overlayRadius:4,xstyle:function(a){return[k.pressable]},children:j.jsx(b("CometImageCover.react"),{src:c})});else return null}c={make:m};function a(a){a=a.attachments;var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return j.jsx("div",{className:(i||(i=b("stylex")))(k.root,c===1?k.large:k.small),children:j.jsx(b("CometPhotoGrid.react"),{children:a.map(function(a){return j.jsx(m,{attachment:a},a.e)})})})}d=a;f.styles=k;f.usePreviewUrl=l;f.$$Image=c;f.make=d}),null);
__d("MWV2ChatVideo.bs",["fbt","FBID.bs","JSResourceForInteraction","LSAuthorityLevel.bs","LsTargetType.bs","MWChatImageInsetShadow.bs","MWLSThreadDisplayContext.bs","MWMessageListMediaPressableContainer.bs","MWResponsiveVideo.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{display:"a8c37x1j",position:"l9j0dhe7",maxWidth:"d2edcug0",backgroundColor:"nred35xi",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",backfaceVisibility:"efwgsih4",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"}};function a(a){var c=a.message,d=a.attachment,e=a.getPreviewUrl,f=a.connectTop,h=a.outgoing;a=a.navigateToRouteForMediaViewer;var k=a!==void 0?a:!0;a=b("MWV2UseMediaViewerURL.bs").useHook(d);f=f?h?j.outgoing_connect_top:j.incoming_connect_top:!1;var l=b("MWV2UseFocusRowAfterClosingPushView.bs").useHook(void 0);h=b("MWLSThreadDisplayContext.bs").useHook(void 0);var m=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2MediaViewer.react",{name:"MWV2MediaViewer","class":"fluid"}).__setRef("MWV2ChatVideo.bs")),n=m[2],o=m[0];m=b("bs_curry")._1(e,d);if(m===void 0)return null;e=k?{passthroughProps:{origSrc:m},url:a}:void 0;a=d.K;var p=d.L;a={attachment:d,onPress:function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").attachmentVideo,void 0,void 0);b("bs_curry")._1(l,function(a){return!0});if(!k)return o({attachment:d},function(a){})},children:[i.jsx(b("MWResponsiveVideo.bs").make,{width:a!==void 0?b("bs_caml_int64").to_float(a):void 0,height:p!==void 0?b("bs_caml_int64").to_float(p):void 0,src:m,maxHeight:200,maxWidth:b("bs_caml_obj").caml_equal(h,1)?500:167,connectTopStyles:f,fbid:b("FBID.bs").ofStringExn(d.e)}),b("bs_caml").i64_le(c.V,b("LSAuthorityLevel.bs").clientPartial)?i.jsx(b("MWV2AttachmentProgressBar.bs").make,{attachment:d}):null,i.jsx(b("MWChatImageInsetShadow.bs").make,{xstyle:[f]})],xstyle:[j.root,f],overlayDisabled:!0,testid:"chat-video",ariaLabel:g._(/*FBT_CALL*/"\u5c55\u958b\u5f71\u7247"/*FBT_CALL*/),onHoverIn:function(a){if(!k)return b("bs_curry")._1(n,void 0)}};e!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(e));return i.jsxs(b("MWMessageListMediaPressableContainer.bs").make,a)}c=a;f.styles=j;f.make=c}),null);
__d("MWV2Sticker.bs",["MWChatImageSize.bs","MWV2ColorUtils.bs","MWV2Theme.bs","Sticker.react","bs_belt_Option","bs_caml_int64","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){if(a<60)return 1;else return.5}function a(a){var c=a.attachment;a=a.getPreviewUrl;a=b("bs_curry")._1(a,c);var d=b("bs_belt_Option").map(c.L,b("bs_caml_int64").to_int32),e=b("bs_belt_Option").map(c.K,b("bs_caml_int64").to_int32),f=i(b("bs_belt_Option").getWithDefault(d,120)),g=b("MWV2Theme.bs").useHook(void 0),j=e!==void 0&&d!==void 0;j=b("MWChatImageSize.bs").useImageSize(a,j,void 0);var k,l=0;e!==void 0&&d!==void 0?k=[e,d]:l=1;l===1&&(k=j!==void 0?[j.width,j.height]:[24,24]);return h.jsx(b("Sticker.react"),{accessibilityLabel:b("bs_belt_Option").getWithDefault(c.bj,""),animationTrigger:"load_and_hover",frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,sourceURI:a,sourceWidth:k[0],sourceHeight:k[1],spriteURI:void 0,stickerID:c.e,tabIndex:-1,customColor:b("MWV2ColorUtils.bs").int64ToHex(g.threadTheme.c),paddedSpriteURI:void 0,scale:f})}c=a;f.make=c}),null);
__d("MWV2TombstonedMessage.bs",["bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5",maxWidth:"d2edcug0",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderTop:"l6v480f0",borderEnd:"maa8sdkg",borderBottom:"s1tcr66n",borderStart:"aypy0576",color:"erlsw9ld",wordBreak:"qv66sw1b"},connectTop:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu"},connectBottom:{borderBottomStartRadius:"mrjvor2e",borderBottomEndRadius:"jinzq4gt"}};function a(a){var c=a.children,d=a.ariaLabel,e=a.connectTop,f=a.connectBottom;a=a.xstyle;e=e!==void 0?e:!1;f=f!==void 0?f:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return i.jsx("div",{"aria-label":d,className:(h||(h=b("stylex")))(j.root,e?j.connectTop:!1,f?j.connectBottom:!1,a),children:c})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2UnsupportedAttachment.bs",["fbt","MDSCautionTriangleSvgIcon.bs","MDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",alignItems:"bp9cbjyn",userSelect:"abiwlrkh",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},content:{flexGrow:"buofh1pr",color:"oo9gr5id",fontWeight:"lrazzd5p",wordBreak:"qv66sw1b"},descriptionText:{paddingTop:"jktsbyx5"}},l={icon:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginEnd:"o3lre8g0",backgroundColor:"ktb7bhlx",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function m(a){return j.jsx("div",{className:(i||(i=b("stylex")))(l.icon),children:j.jsx(b("MDSCautionTriangleSvgIcon.bs").make,{color:"primary",size:"24"})})}c={styles:l,make:m};function a(a){a=a.attachment;a=a.V;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[j.jsx(m,{}),j.jsxs("div",{className:i(k.content),children:[j.jsx(b("MDSText.react"),{type:"headline4",children:g._(/*FBT_CALL*/"\u4e0d\u652f\u63f4\u7684\u9644\u4ef6"/*FBT_CALL*/)}),a!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(k.descriptionText),children:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:a})}):null]})]})}d=a;f.styles=k;f.Icon=c;f.make=d}),null);
__d("MWXMACtaRegistry.bs",["ConstUriUtils","FBID.bs","LSMessagingInitiatingSourceHook.bs","MWChatPollXMAActionHandler.bs","MWChatXmaThirdPartyActionHandler.bs","MWLSImagePostbackCtaHandler.bs","MWLSPostbackCtaHandler.bs","MWLSStartPhoneCall.bs","MWLSWebUrlCtaHandler.bs","URI","XCometMessengerControllerRouteBuilder","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","bs_int64","bs_js_dict","bs_js_json","bs_js_null_undefined","gkx"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){a=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0);a=b("MWLSImagePostbackCtaHandler.bs").usePostbackCtaHandler("inboxInThread",a);var c=b("MWLSStartPhoneCall.bs").useMakeRTCCall(void 0),d=b("MWChatXmaThirdPartyActionHandler.bs").useHandler(a,c[0]),e=b("MWLSPostbackCtaHandler.bs").usePostbackCtaHandler(void 0),f=b("MWChatPollXMAActionHandler.bs").useHandler(void 0),h=b("MWLSWebUrlCtaHandler.bs").useShowWebViewDialog(void 0);return function(a){var c,i,j=a.i,k=a.h,l=a.g,m=a.f,n=a.e,o=a.d,p=a.b,q=0,r=0,s=0,t=0,u=0,v=0;if(l==="xma_rtc_audio"||l==="xma_rtc_missed_audio"||l==="xma_rtc_ended_audio")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeRtcCall",VAL:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(o)),hasVideo:!1,trigger:l}})},_1:void 0};if(l==="xma_rtc_video"||l==="xma_rtc_new_video_default"||l==="xma_rtc_new_video_from_fb_share"||l==="xma_rtc_new_video_from_fb_video_share"||l==="xma_rtc_missed_video"||l==="xma_rtc_ended_video")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeRtcCall",VAL:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(o)),hasVideo:!0,trigger:l}})},_1:void 0};if(l==="xma_postback")return{TAG:0,_0:function(a){return b("bs_curry")._2(e,k,m)},_1:[b("bs_int64").to_string(o),31]};if(j!==void 0){if(l==="xma_open_dialog"){var w=new(g||(g=b("URI")))(j).getQueryData(),x=w.page_id,y=w.guest_id;return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowGuestChatHistory",VAL:{pageId:x,guestId:y}})},_1:void 0}}w=8}else w=8;if(w===8){var z=a.o;if(l==="xma_open_dialog")return{TAG:3,_0:"Expected an open dialog url but didn't get any",_1:"messenger_business_core_product"};if(z!==void 0){if(l==="xma_p2p_payment_details"||l==="xma_p2p_request_pay"||l==="xma_p2p_payment_details_receive_money"||l==="xma_p2p_verify_info")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"P2PPaymentTransactionDetails",VAL:{id:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(z))),currentStatus:null}})},_1:void 0};v=7}else v=7}if(v===7)if(j!==void 0){if(l==="xma_join_from_portal")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:j}})},_1:void 0};u=6}else u=6;if(u===6){w=0;if(l==="xma_p2p_payment_details"||l==="xma_p2p_request_pay"||l==="xma_p2p_payment_details_receive_money"||l==="xma_p2p_verify_info")return{TAG:3,_0:"P2P Transaction encounterd without txn id",_1:"messenger_privacy_web"};if(a.j!==void 0)v=8;else{if(l==="xma_live_location_sharing"&&b("gkx")("1539348"))return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowLiveLocationDetails",VAL:{titleString:m,messageId:n}})},_1:void 0};v=8}if(v===8){var A=a.l,B=a.o;if(l==="xma_live_location_sharing"&&b("gkx")("1539348"))return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowStaticLocationDetails",VAL:{msgId:n}})},_1:void 0};if(l==="xma_poll_details_button"||l==="xma_poll_details_card")return{TAG:0,_0:function(a){return b("bs_curry")._2(f,b("bs_belt_Option").getExn(B),b("bs_belt_Option").getExn(A))},_1:void 0};if(l==="xma_p2m_checkout"||l==="xma_p2m_payment_details")return{TAG:1,_0:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(o))}),_1:void 0};if(A!==void 0){if(l==="xma_direct_send")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowPIIForm",VAL:JSON.parse(A)})},_1:[b("bs_int64").to_string(o),0]};u=9}else u=9;if(u===9){if(l==="xma_direct_send")return{TAG:3,_0:"Expected pii_form data but didn't get any",_1:"mb_apix"};if(A!==void 0){if(l==="xma_feedback_send")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:A}})},_1:[b("bs_int64").to_string(o),69]};w=7}else w=7}}if(w===7){if(l==="xma_feedback_send")return{TAG:3,_0:"Expected Feedback info but didn't get any",_1:"mb_apix"};if(j!==void 0){if(l==="xma_account_link")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"OpenAccountLinkUrl",VAL:j})},_1:[b("bs_int64").to_string(o),32]};t=5}else t=5}}if(t===5){var C=a.l;if(l==="xma_account_link")return{TAG:3,_0:"Expected an account link url but didn't get any",_1:"messenger_web_product"};if(l==="xma_open_joinable_call_invite_url")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:b("bs_belt_Option").getExn(j)}})},_1:void 0};if(l==="xma_montage_share")return 0;if(C!==void 0){if(l==="marketplace_xma_call_function"){var D=a.o;return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ProcessMarketplaceCallFunction",VAL:{messageId:n,attachmentFbid:p,targetId:b("bs_belt_Option").getExn(D),actionType:C}})},_1:void 0}}v=6}else v=6;if(v===6){if(l==="marketplace_xma_call_function")return 0;if(j!==void 0){var E=a.l;if(E!==void 0){if(l==="marketplace_xma_open_dialog"){u=b("ConstUriUtils").getUri(j);if(u===void 0)return{TAG:3,_0:"Found invalid url when creating CTA",_1:"messenger_business_core_product"};var F=b("bs_caml_option").valFromOption(u).getQueryParam("listingID");return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"OpenMarketplaceDialog",VAL:{ctaType:E,listingId:b("FBID.bs").ofString(F),threadId:b("FBID.bs").ofString(b("bs_int64").to_string(o))}})},_1:void 0}}s=4}else s=4}else s=4}}if(s===4){w=a.j;t=0;v=a.l;if(l==="marketplace_xma_open_dialog")return{TAG:3,_0:"Expected an open dialog url and actionContentBlob but didn't get any",_1:"messenger_business_core_product"};if(v!==void 0&&l==="xma_ctm_in_thread_multiphoto_reply_image"){try{u=b("bs_caml_option").some(JSON.parse(v))}catch(a){u=void 0}if(u===void 0)return 0;s=b("bs_js_json").classify(b("bs_caml_option").valFromOption(u));if(typeof s==="number")return 0;if(s.TAG!==2)return 0;var G=s._0;v=b("bs_js_dict").get(G,"action_prefill");u=b("bs_js_dict").get(G,"reply_image_uri");if(v===void 0)return 0;if(u===void 0)return 0;var H=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(v)),I=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(u));if(H===void 0)return 0;if(I===void 0)return 0;var J='{"in_thread_multiphoto_xma_reply": true}';return{TAG:0,_0:function(a){a=b("bs_js_dict").get(G,"ad_id");if(a!==void 0){a=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(a));a=a!==void 0?b("FBID.bs").ofString(a.toString()):void 0}else a=void 0;var e=b("bs_js_dict").get(G,"customer_id");if(e!==void 0){e=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(e));e=e!==void 0?b("FBID.bs").ofString(e.toString()):void 0}else e=void 0;var f=b("bs_js_dict").get(G,"index"),c=b("bs_js_dict").get(G,"page_id");if(c!==void 0){c=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(c));c=c!==void 0?b("FBID.bs").ofString(c.toString()):void 0}else c=void 0;return b("bs_curry")._1(d,{NAME:"SendImagePostback",VAL:{message:H,image:I,platformToken:k!==void 0&&k!==""?k:J,loggingDetails:{ad_id:a,consumer_id:e,index:f!==void 0?b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(f)):void 0,page_id:c}}})},_1:void 0}}else s=6;if(s===6){if(l==="xma_ctm_in_thread_multiphoto_reply_image")return 0;if(w!==void 0){if(l==="xma_open_native"&&w.startsWith("fb-messenger://user-thread/")){v=w.substr("fb-messenger://user-thread/".length);return{TAG:2,_0:{threadKey:b("bs_caml_format").caml_int64_of_string(v),loggingDetails:[b("bs_int64").to_string(o),32]}}}t=5}else t=5}if(t===5){var K=a.l;if(K!==void 0){if(l==="xma_open_native")return{TAG:0,_0:function(a){return b("bs_curry")._1(h,K)},_1:void 0};r=3}else r=3}}if(r===3)if(j!==void 0){if(l==="xma_open_native")return{TAG:1,_0:j,_1:[b("bs_int64").to_string(o),32]};q=2}else q=2;if(q===2){var L=a.l;if(l==="xma_open_native"){u=["Title: "+m,"Type: "+l,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(k,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(j,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(L,"false",function(a){return"true"})].join(", ");return{TAG:3,_0:"No Url found while parsing Open Native XMA "+u,_1:"messenger_privacy_web"}}if(L!==void 0)return{TAG:0,_0:function(a){return b("bs_curry")._1(h,L)},_1:void 0};if(j!==void 0){s=a.m;if(s!==void 0){if(s)return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowMessengerExtensions",VAL:{actionLink:j,pageID:b("bs_int64").to_string(o),userID:b("FBID.bs").ofString(b("bs_int64").to_string(o)),sourceTitle:b("bs_js_null_undefined").fromOption(m)}})},_1:[b("bs_int64").to_string(o),33]};c=o;i=j}else c=o,i=j}else{w=["Title: "+m,"Type: "+l,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(k,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(j,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.l,"false",function(a){return"true"})].join(", ");return{TAG:3,_0:"Unknown CTA encountered while parsing XMA. "+w,_1:"messenger_privacy_web"}}}return{TAG:1,_0:i,_1:[b("bs_int64").to_string(c),32]}}}f.useHook=a}),null);
__d("MWXMAAttachmentItem.bs",["BaseGlimmer.react","CometImageCover.react","CometLink.react","CometObjectFitContainer.react","CometPlaceholder.react","CometPressable.react","CometSkittleIcon.react","FBID.bs","LSThreadAttributionStore.bs","LsDidTapCallToActionFalcoEvent","MDSText.react","MDSTextPairing.react","MWChatOpenTabByThreadKey.bs","MWChatPollFacepile.bs","MWInboxRouteBuilder.bs","MWLSThreadDisplayContext.bs","MWPTooltip.react","MWV2ColorUtils.bs","MWV2Theme.bs","MWXMACtaRegistry.bs","MWXmaIconParser.bs","RTWebLoggingSurfaceConvert.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","TetraButton.react","UseBlockedUserInterstitial.bs","ZenonUserActionLoggerCommon.bs","bs_belt_Option","bs_caml_array","bs_caml_int64","bs_caml_option","bs_caml_splice_call","bs_curry","bs_int64","deferredLoadComponentForReason","gkx","qex","react","recoverableViolation","requireDeferredForDisplay","stylex","useCometRouterDispatcher","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d){if(d===void 0)return;var e=d[1],f=d[0];b("LsDidTapCallToActionFalcoEvent").log(function(d){return{action:{id:b("bs_int64").to_string(a.a),name:"",source:c,type:e},message:{id:a.e},page:{id:f},target:{id:f},thread:{id:f}}})}function k(a){var c=b("UseBlockedUserInterstitial.bs").useHook(a),d=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=b("useCometRouterDispatcher")(),f=b("MWChatOpenTabByThreadKey.bs").useHook(a,"chatInThread");return i.useCallback(function(g){return function(h){if(d)return b("bs_curry")._2(c,function(a){a=h.metaKey||h.ctrlKey||h.shiftKey;if(!a)return b("bs_curry")._1(f,void 0)},"chatInThread");else if(!(e==null))return b("bs_curry")._2(c,function(c){b("LSThreadAttributionStore.bs").setSource(b("bs_int64").to_string(a),"chatInThread"),e.go(g)},"chatInThread");else return}},[c,d,f,e])}var l={appIcon:{width:"hhz5lgdu",height:"gl3lb2sf",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},appAttr:{paddingTop:"ecm0bbzt",paddingEnd:"p8fzw8mz",paddingBottom:"e5nlhep0",paddingStart:"pcp91wgn",display:"j83agx80",alignItems:"bp9cbjyn",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",lineHeight:"dfwzkoeu"},appText:{fontSize:"e9vueds3",marginStart:"ggphbty4",color:"oo9gr5id",wordBreak:"qv66sw1b"}};function m(a){a=a.attribution;if(a!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(l.appAttr),children:[i.jsx("img",{src:a[0],className:h(l.appIcon)}),i.jsx("span",{className:h(l.appText),children:a[1]})]});else return null}c={radius:18,styles:l,make:m};var n={root:{display:"j83agx80",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg"},glimmer:{height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg"}};function o(a){return i.jsx("div",{className:(h||(h=b("stylex")))(n.root),children:i.jsx(b("BaseGlimmer.react"),{className:h(n.glimmer),index:0})})}d={styles:n,make:o};var p=b("requireDeferredForDisplay")("MWChatVideoPlayer.bs").__setRef("MWXMAAttachmentItem.bs");function q(a,c,d,e,f,g,h,i,j,k){k={fbid:c,sdSrc:f,originalHeight:g,originalWidth:h,hideExpandButton:i,controls:j};a!==void 0&&(k.autoPlaySetting=b("bs_caml_option").valFromOption(a));d!==void 0&&(k.hdSrc=d);e!==void 0&&(k.initalForceHD=e);return k}function r(a){return i.createElement(b("deferredLoadComponentForReason")(p).make,a)}e={makeProps:q,make:r};var s={photo:{width:"k4urcfbm",display:"j83agx80",position:"l9j0dhe7"},square:{height:"sgwjjusx"},horizontal:{height:"q2356yug"},notExpanded:{height:"ajpb0j6l"}};function t(a){var c=a.attachmentItem,d=a.isStandalone;a=a.previewUrl;var e=b("bs_belt_Option").mapWithDefault(c.q,0,b("bs_caml_int64").to_int32),f=b("bs_belt_Option").mapWithDefault(c.r,0,b("bs_caml_int64").to_int32);d=b("bs_belt_Option").isNone(c.s)?d:e===f;e=e!==0?f!==0?e/f:0:0;if(!d)return i.jsx("div",{className:(h||(h=b("stylex")))(s.photo,e===1?s.square:e===0?s.notExpanded:s.horizontal),children:i.jsx(b("CometImageCover.react"),{alt:"",src:a,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})});f=c.q;d=c.r;return i.jsx("div",{className:(h||(h=b("stylex")))(s.photo),children:i.jsx("img",{src:a,alt:"",width:f!==void 0?b("bs_int64").to_string(f):"",height:d!==void 0?b("bs_int64").to_string(d):"",style:{height:"auto",maxWidth:"100%",objectFit:"cover",flexGrow:"1"}})})}var u={styles:s,make:t},v={photo:{width:"k4urcfbm",display:"j83agx80"},square:{height:"sgwjjusx"},horizontal:{height:"q2356yug"},notExpanded:{height:"ajpb0j6l"}};function w(a){var c=a.attachment,d=a.attachmentItem,e=a.attribution;a=a.isStandalone;var f=b("MWLSThreadDisplayContext.bs").useHook(void 0),g=b("bs_belt_Option").mapWithDefault(d.q,0,b("bs_caml_int64").to_int32),h=b("bs_belt_Option").mapWithDefault(d.r,0,b("bs_caml_int64").to_int32),j=d.m,k=d.M,l=d.h,n,p=0,s=0,u=0;if(j!==void 0)if(l!==void 0){if(b("bs_belt_Option").mapWithDefault(d.k,!1,function(a){return a.includes("gif")}))return i.jsx(t,{attachmentItem:d,isStandalone:a,previewUrl:j});u=4}else s=3;else u=4;if(u===4){if(l!==void 0){if(!b("bs_belt_Option").mapWithDefault(d.k,!1,function(a){return a.includes("video")}))return null;u=g!==0?h!==0?g/h:0:0;var v=h>250&&u<.8;c=b("bs_belt_Option").getWithDefault(c.bX,!1);return i.jsxs(i.Fragment,{children:[i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:v?.8:u,children:i.jsx(b("CometPlaceholder.react"),{children:i.jsx(r,q(void 0,b("FBID.bs").ofStringExn(d.a),void 0,void 0,l,h,g,!1,c?"none":"mwchat",void 0)),fallback:i.jsx(o,{})})}),c?i.jsx(m,{attribution:e}):null]})}s=3}s===3&&(k!==void 0&&f!==void 0&&f?n=k:p=2);if(p===2){if(j===void 0)return null;n=j}return i.jsx(t,{attachmentItem:d,isStandalone:a,previewUrl:n})}v={styles:v,make:w};var x={root:{width:"k4urcfbm",maxWidth:"d2edcug0",whiteSpace:"ii04i59q"},hscroll:{paddingStart:"pcp91wgn",paddingEnd:"p8fzw8mz"},withIcon:{paddingTop:"linoseic",paddingBottom:"pby63qed"},description:{paddingTop:"jktsbyx5"}};function y(a){var c=a.attachmentItem,d=a.title,e=a.subtitleText;a=a.isHscroll;c=b("bs_belt_Option").flatMap(c.J,b("MWXmaIconParser.bs").parse);var f;if(d!==""){var g=b("qex")._("1586110"),j=0;g==null||g!==13?j=1:f=i.jsx(b("MDSText.react"),{type:"bodyLink4",children:d});j===1&&(f=i.jsx(b("MDSTextPairing.react"),{headline:d,level:4,headlineLineLimit:3}))}else f=null;if(e!==""){g=b("qex")._("1586110");var k;j=0;g==null||g!==13?j=1:k=i.jsx(b("MDSText.react"),{type:"meta4",children:e});j===1&&(k=i.jsx(b("MDSTextPairing.react"),{body:e,level:4,bodyLineLimit:3,bodyColor:"secondary"}));d=i.jsx("div",{className:(h||(h=b("stylex")))(x.description),children:k})}else d=null;return i.jsxs("div",{className:(h||(h=b("stylex")))(x.root,c===void 0?a?x.hscroll:!1:x.withIcon),children:[f,d]})}var z={styles:x,make:y},A={root:{marginEnd:"tvfksri0",display:"j83agx80",alignItems:"bp9cbjyn",height:"datstx6m"}};function B(a){a=a.icon;if(a===void 0)return null;if(a.TAG!==0)return i.jsx("div",{className:(h||(h=b("stylex")))(A.root),children:i.jsx(b("CometImageCover.react"),{alt:"Icon for this message",src:a._0,style:{height:"36px",width:"36px",borderRadius:"50%"}})});a=a._0;return i.jsx("div",{className:(h||(h=b("stylex")))(A.root),children:i.jsx(b("CometSkittleIcon.react"),{color:a.color,size:36,icon:a.icon})})}var C={styles:A,make:B};function D(a){var c=a.children;a=a.threadKey;return b("bs_curry")._1(c,k(a))}var E={make:D},F={button:{flexBasis:"lrurydbf",flexGrow:"buofh1pr",flexShrink:"g5gj957u",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"}};function G(a){var c=a.type_,d=a.title,e=a.ctaId;a=b("MWXMACtaRegistry.bs").useHook(void 0);var f=b("ReStore.bs").useHook(void 0),g=b("ReQLSubscription.bs").useFirstExn(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"attachment_ctas").asc,{hd:e,tl:0})},[f,JSON.stringify(e)]));i.useEffect(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].find(function(a){return a===c});a!==void 0&&b("bs_curry")._1(b("ZenonUserActionLoggerCommon.bs").logImpression,{surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"admin_message")})},[]);var k=b("gkx")("1845815");if(!k&&(c==="xma_poll_details_button"||c==="xma_poll_details_card"))return null;k=b("bs_curry")._1(a,g);var l;if(typeof k==="number")l=null;else switch(k.TAG|0){case 0:var m=k._1,n=k._0;l=i.jsx(b("MWPTooltip.react"),{tooltip:d,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){j(g,2,m);return b("bs_curry")._1(n,void 0)}})});break;case 1:var o=k._1;l=i.jsx(b("MWPTooltip.react"),{tooltip:d,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){return j(g,2,o)},linkProps:{target:"_blank",url:k._0}})});break;case 2:a=k._0;var p=a.loggingDetails;a=a.threadKey;var q=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))});l=i.jsx(b("MWPTooltip.react"),{tooltip:d,children:i.jsx(D,{threadKey:a,children:function(a){return i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(c){b("bs_curry")._2(a,q,c);return j(g,2,p)},linkProps:{preventLocalNavigation:!0,url:q}})}})});break;case 3:b("recoverableViolation")(k._0,k._1);l=null;break}return i.jsx("div",{className:(h||(h=b("stylex")))(F.button),children:l})}var H={styles:F,make:G},I={link:{":hover":{textDecoration:"p8dawk7l"}}};function J(a){var c=a.attachmentItem,d=a.children,e=b("ReStore.bs").useHook(void 0),f=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.t;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"attachment_ctas").asc,{hd:a,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[e,JSON.stringify(c.t)]));a=b("MWXMACtaRegistry.bs").useHook(void 0);if(f===void 0)return d;a=b("bs_curry")._1(a,f);if(typeof a==="number")return d;switch(a.TAG|0){case 0:var g=a._1,h=a._0;return i.jsx(b("CometPressable.react"),{"aria-label":b("bs_belt_Option").getWithDefault(c.f,""),onPress:function(a){j(f,1,g);return b("bs_curry")._1(h,void 0)},children:d});case 1:var k=a._0;if(!(k.startsWith("http")||k.startsWith("/")))return d;var l=a._1;return i.jsx(b("CometLink.react"),{href:k,target:"_blank",children:d,onClick:function(a){return j(f,1,l)},xstyle:[I.link]});case 2:k=a._0;var m=k.loggingDetails;k=k.threadKey;var n=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(k))});return i.jsx(D,{threadKey:k,children:function(a){return i.jsx(b("CometLink.react"),{href:n,children:d,onClick:function(c){b("bs_curry")._2(a,n,c);return j(f,1,m)},xstyle:[I.link],preventLocalNavigation:!0})}});case 3:b("recoverableViolation")(a._0,a._1);return d}}var K={styles:I,make:J},L={root:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"btwxx1t3",marginEnd:"cgat1ltu",justifyContent:"taijpn5t"}};function M(a){a=a.listItemsDescriptionText;return i.jsx("div",{className:(h||(h=b("stylex")))(L.root),children:i.jsx(b("MDSTextPairing.react"),{headline:a,level:4,headlineLineLimit:3})})}var N={styles:L,make:M},O={item:{marginTop:"n1l5q3vz",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw",borderTop:"kzizifcz",borderBottom:"ccq6eem2"},titleText:{marginTop:"aov4n071",marginStart:"kkf49tns"}},P={item:{marginTop:"n1l5q3vz"},header:{display:"j83agx80",justifyContent:"i1fnvgqd"},progressBar:{backgroundColor:"g6srhlxm",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"t6na6p9t",marginTop:"aov4n071",marginBottom:"n851cfcs"},progressBarInner:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"t6na6p9t"},facepile:{marginStart:"h676nmdw"}};function Q(a){a=a.attachment;var c=b("MWV2Theme.bs").useHook(void 0),d=c.threadTheme.c,e=b("MWLSThreadDisplayContext.bs").useHook(void 0);c=b("bs_caml_splice_call").spliceObjApply([],"concat",[[[a.bo,a.bp,a.bq,a.br,a.bs,a.bt],[a.bv,a.bw,a.bx,a.by,a.bz,a.bA],[a.bC,a.bD,a.bE,a.bF,a.bG,a.bH]].map(function(a){var c=a[0];if(c===void 0)return[];var d=b("bs_belt_Option").mapWithDefault(a[2],[],function(a){return a.split(",")}),e=b("bs_belt_Option").mapWithDefault(a[4],[],function(a){return a.split(",")}),f=b("bs_belt_Option").mapWithDefault(a[5],[],function(a){return a.split(",")});return[{id:c,titleText:a[1],contacts:d.map(function(a,c){return{url:a,urlExpirationTimestamp:b("bs_caml_array").get(e,c),urlFallback:b("bs_caml_array").get(f,c)}}),progressBarFilledPercentage:a[3]}]})]);return i.jsx("ul",{children:c.map(function(a,c){var f=a.progressBarFilledPercentage;if(f!==void 0){var g=a.titleText;return i.jsxs("li",{className:(h||(h=b("stylex")))(P.item),children:[i.jsxs("div",{className:h(P.header),children:[g!==void 0?i.jsx(b("MDSText.react"),{type:"headline4",numberOfLines:e===1?3:1,children:g}):null,i.jsx("div",{className:h(P.facepile),children:i.jsx(b("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return a.url}),size:"small",gap:"negative",direction:"reversed"})})]}),i.jsx("div",{className:h(P.progressBar),children:i.jsx("div",{className:h(P.progressBarInner),style:{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(d),width:b("bs_int64").to_string(f)+"%"}})})]},String(c))}g=a.titleText;return i.jsx("li",{className:(h||(h=b("stylex")))(O.item),children:i.jsxs("div",{children:[i.jsx(b("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return a.url}),size:"large",limit:9,contactWithBorder:!1,overflowStyle:"overlayLastPhoto"}),g!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(O.titleText),children:i.jsx(b("MDSText.react"),{color:"secondary",type:"body4",numberOfLines:2,children:g})}):null]})},String(c))})})}var R={stylesDefault:O,stylesWithProgress:P,make:Q},S={root:{marginBottom:"n851cfcs"}};function T(a){a=a.listItemsSecondaryDescriptionText;return i.jsx("div",{className:(h||(h=b("stylex")))(S.root),children:i.jsx(b("MDSTextPairing.react"),{body:a,level:4,bodyLineLimit:3,bodyColor:"secondary"})})}var aa={styles:S,make:T},U={root:{display:"j83agx80",justifyContent:"taijpn5t",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"cehpxlet",marginTop:"n1l5q3vz",marginEnd:"tvfksri0",marginBottom:"n851cfcs",marginStart:"ozuftl9m"},rootWithHeaderAndNoMedia:{marginTop:"kvgmc6g5"},description:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"btwxx1t3",marginEnd:"cgat1ltu"},hasFavicon:{paddingStart:"a8nywdso",paddingEnd:"rz4wbd8a"},buttonsWrapper:{marginTop:"n1l5q3vz",justifySelf:"g8xlbnay"},buttonsOnly:{marginTop:"kvgmc6g5"}};function V(a){var c=a.attachment,d=a.attachmentItem,e=a.isHscroll,f=a.hasActionTrigger;a=a.isStandalone;var g=d.J,j=c.bf;g=g!==void 0?b("MWXmaIconParser.bs").parse(g):j!==void 0?b("MWXmaIconParser.bs").parse(j):void 0;j=b("bs_belt_Option").getWithDefault(d.f,"")===""&&b("bs_belt_Option").getWithDefault(d.g,"")===""&&g===void 0;var k=d.f;k=b("bs_belt_Option").getWithDefault(k!==void 0||!a?k:c.R,"");var l=d.g;l=b("bs_belt_Option").getWithDefault(l!==void 0||!a?l:c.S,"");var m,n=0;k===""&&l===""?m=[]:n=1;if(n===1){n=i.jsxs("div",{className:(h||(h=b("stylex")))(U.description,g===void 0?!1:U.hasFavicon),children:[i.jsx(B,{icon:g}),i.jsx(y,{attachment:c,attachmentItem:d,title:k,subtitleText:l,isHscroll:e,isStandalone:a})]});m=[f?n:i.jsx(J,{attachmentItem:d,children:n})]}g=c.bm;k=c.bo;l=c.bn;e=d.C;a=d.B;f=d.A;if(e!==void 0)if(a!==void 0)if(f!==void 0){n=c.c;var o=c.a,p=d.F,q=d.E,r=d.D;if(p!==void 0&&q!==void 0&&r!==void 0){var s=d.I,t=d.H,u=d.G;p=i.jsxs(i.Fragment,{children:[i.jsx(G,{type_:p,title:q,ctaId:r,threadKey:o,messageId:n}),s!==void 0&&t!==void 0&&u!==void 0?i.jsx(G,{type_:s,title:t,ctaId:u,threadKey:o,messageId:n}):null]})}else p=null;q=[i.jsx("div",{className:(h||(h=b("stylex")))(U.buttonsWrapper,j?U.buttonsOnly:!1),children:i.jsxs(i.Fragment,{children:[i.jsx(G,{type_:e,title:a,ctaId:f,threadKey:o,messageId:n}),p]})})]}else q=[];else q=[];else q=[];r=[m,g!==void 0?[i.jsx(M,{listItemsDescriptionText:g})]:[],k!==void 0?[i.jsx(Q,{attachment:c})]:[],l!==void 0?[i.jsx(T,{listItemsSecondaryDescriptionText:l})]:[],q].reduce(function(a,b){return a.concat(b)},[]);s=d.m!==void 0||d.h!==void 0;if(r.length===0)return null;else return i.jsx("div",{className:(h||(h=b("stylex")))(U.root,!s&&c.bP!==void 0?U.rootWithHeaderAndNoMedia:!1),children:r.map(function(a,b){return i.jsx(i.Fragment,{children:a},String(b))})})}var ba={styles:U,make:V},W={root:{marginEnd:"tvfksri0",display:"j83agx80",alignItems:"bp9cbjyn",height:"datstx6m"}};function X(a){a=a.icon;if(a===void 0)return null;if(a.TAG!==0)return i.jsx("div",{className:(h||(h=b("stylex")))(W.root),children:i.jsx(b("CometImageCover.react"),{alt:"Icon for this message's header",src:a._0,style:{height:"32px",width:"32px",borderRadius:"50%"}})});a=a._0;return i.jsx("div",{className:(h||(h=b("stylex")))(W.root),children:i.jsx(b("CometSkittleIcon.react"),{color:a.color,size:36,icon:a.icon})})}var ca={styles:W,make:X},Y={root:{alignItems:"bp9cbjyn",display:"j83agx80",marginTop:"n1l5q3vz",marginEnd:"tvfksri0",marginBottom:"n851cfcs",marginStart:"ozuftl9m"}};function Z(a){a=a.attachment;var c=a.bP;if(c!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(Y.root),children:[i.jsx(X,{icon:b("bs_belt_Option").flatMap(a.bL,b("MWXmaIconParser.bs").parse)}),i.jsx(b("MDSText.react"),{type:"bodyLink3",children:c})]});else return null}var da={styles:Y,make:Z},$={root:{display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m"},withBorder:{borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8"}};function a(a){var c=a.attachment,d=a.attachmentItem,e=a.isHscroll;a=a.isStandalone;var f=c.Z,g=c.Y;f=f!==void 0&&g!==void 0?[f,g]:void 0;g=b("bs_belt_Option").getWithDefault(c.bX,!1)&&b("bs_belt_Option").isSome(f);g=(h||(h=b("stylex")))($.root,g?$.withBorder:!1);var j=d.A;if(j!==void 0)return i.jsxs("div",{className:g,"data-testid":"mwxma_attachment_item",children:[i.jsx(Z,{attachment:c}),i.jsx(J,{attachmentItem:d,children:i.jsx(w,{attachment:c,attachmentItem:d,attribution:f,isStandalone:a})}),i.jsx(V,{attachment:c,attachmentItem:d,isHscroll:e,hasActionTrigger:!1,isStandalone:a})]});else return i.jsx(J,{attachmentItem:d,children:i.jsxs("div",{className:g,"data-testid":"mwxma_attachment_item",children:[i.jsx(Z,{attachment:c}),i.jsx(w,{attachment:c,attachmentItem:d,attribution:f,isStandalone:a}),i.jsx(V,{attachment:c,attachmentItem:d,isHscroll:e,hasActionTrigger:!0,isStandalone:a})]})})}a=a;f.logCtaClicked=j;f.useMaybeOpenChatTab=k;f.Attribution=c;f.VideoLoader=d;f.$MWChatVideoPlayer$DeferredForDisplay=p;f.MWChatVideoPlayerLazy=e;f.$$Image=u;f.Preview=v;f.MainText=z;f.Icon=C;f.WithOpenChatTab=E;f.CtaButton=H;f.DefaultActionTrigger=K;f.ListItemsDescriptionText=N;f.ListItems=R;f.ListItemsSecondaryDescriptionText=aa;f.Body=ba;f.HeaderIcon=ca;f.Header=da;f.styles=$;f.make=a}),null);
__d("MWXMAAttachment.bs",["fbt","CometHScroll.react","CurrentEnvironment","MNLSXMALayoutType.bs","MWLSThreadDisplayContext.bs","MWXMAAttachmentItem.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","ReactStyle.bs","bs_belt_Option","bs_caml","bs_int64","qex","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){return{a:a.e,b:a.be,c:a.a,d:a.c,e:a.g,f:a.R,g:a.S,h:a.A,i:a.B,j:a.C,k:a.D,l:a.E,m:a.F,n:a.G,o:a.H,p:a.I,q:a.K,r:a.L,s:a.M,t:a.o,u:a.p,v:a.q,w:void 0,x:void 0,y:!1,z:void 0,A:a.r,B:a.s,C:a.t,D:a.u,E:a.v,F:a.w,G:a.x,H:a.y,I:a.z,J:a.bf,K:a.bg,L:a.bh,M:a.bY}}var l={root:{maxWidth:"nqmqzb3c",width:"k4urcfbm"},rootForHScrollInChatTab:{maxWidth:"r2nqfv2r"},card:{verticalAlign:"sf5mxxl7",backgroundColor:"b3i9ofy5",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"datstx6m",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad"},incoming:{borderTopStartRadius:"monazrh9",borderBottomStartRadius:"mrjvor2e"},connect_top:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu"},incoming_connect_bot:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_bot:{borderBottomEndRadius:"ihh4hy1g"},centered:{marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5"},hasText:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu"}},m=284,n={flexibleContainer:{"@media (max-width: 1439px)":{maxWidth:"hhu87qg3"},"@media (min-width: 1440px)":{maxWidth:"scoao9yg"}},scroller:{position:"l9j0dhe7",start:"cvthrh62",width:"bsget9wy",marginBottom:"quq7zyon"},scrollerThinTab:{width:"k4urcfbm"},cardWrapper:{backgroundColor:"hybvsw6c",height:"datstx6m",width:"k4urcfbm"},spacer:{marginTop:"pcgkmkmd"}};function o(a){var c=a.items,d=a.hasText;a=j.useMemo(function(){if(b("CurrentEnvironment").messengerdotcom)return b("ReactStyle.bs").unsafeAddProp({},"--secondary-button-background","#e4e6eb");else return{}},[]);return j.jsx("div",{style:a,className:(i||(i=b("stylex")))(n.flexibleContainer,b("qex")._("1586109")===!0?n.scrollerThinTab:!1),children:j.jsx(b("CometHScroll.react").Container,{cardWidth:{type:"responsive",minWidth:m},accessibilityLabel:g._(/*FBT_CALL*/"\u8a0a\u606f\u5305\u542b\u591a\u5247\u5b50\u8a0a\u606f"/*FBT_CALL*/),children:c.map(function(a,c){var e=c===0;return j.jsx(b("CometHScroll.react").Child,{children:j.jsx("div",{className:(i||(i=b("stylex")))(n.cardWrapper),children:j.jsx("div",{className:i(l.card,e&&d?l.hasText:!1,d?n.spacer:!1),children:a})}),expanding:!0},c.toString())}),gap:8})})}c={cardMinWidth:m,styles:n,make:o};function p(a){var c=a.outgoing,d=a.connectTop,e=a.connectBottom,f=a.children;a=a.centered;a=a!==void 0?a:!1;var g=j.useMemo(function(){if(b("CurrentEnvironment").messengerdotcom)return b("ReactStyle.bs").unsafeAddProp({},"--secondary-button-background","#e4e6eb");else return{}},[]);return j.jsx("div",{style:g,className:(i||(i=b("stylex")))(l.card,d?l.connect_top:!1,e?c?l.outgoing_connect_bot:l.incoming_connect_bot:!1,a?l.centered:!1),children:f})}d={make:p};function a(a){var c=a.attachment,d=a.connectTop,e=a.connectBottom,f=a.hasText,g=a.outgoing;a=a.xstyle;f=f!==void 0?f:!1;var h=b("ReStore.bs").useHook(void 0),m=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"attachment_items").asc,{hd:c.e,tl:0})},[h,JSON.stringify(c.e)])),n=j.useMemo(function(){var a=c.m;if(a!==void 0)return b("bs_caml").i64_eq(a,b("MNLSXMALayoutType.bs").hscroll);else return!1},[c]),q=j.useMemo(function(){var a=c.m;if(a!==void 0)return b("bs_caml").i64_eq(a,b("MNLSXMALayoutType.bs").xcenter);else return!1},[c]),r=b("MWLSThreadDisplayContext.bs").useHook(void 0),s=c.m,t,u=0;if(s!==void 0)if(b("bs_caml").i64_eq(s,b("MNLSXMALayoutType.bs").hscroll))t=j.jsx(o,{items:m.map(function(a,d){return j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:a,isHscroll:!0,isStandalone:!1},d.toString())}),hasText:f});else if(m.length!==1)u=1;else{f=m[0];b("bs_caml").i64_eq(s,b("MNLSXMALayoutType.bs").xcenter)?t=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:f,isHscroll:!1,isStandalone:!0}),centered:!0}):u=1}else u=1;if(u===1){s=m.length;if(s!==1)if(s!==0){f="n Attachment Items: "+String(m.length);u="Layout: "+b("bs_belt_Option").mapWithDefault(c.m,"na",b("bs_int64").to_string);s="Attachment Type: "+b("bs_int64").to_string(c.f);f=[f,u,s].join(", ");b("recoverableViolation")("Unknown combination of XMA items and layout. "+f,"messenger_privacy_web");t=null}else t=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:k(c),isHscroll:!1,isStandalone:!0})});else{u=m[0];t=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:u,isHscroll:!1,isStandalone:!0})})}}return j.jsx("div",{className:(i||(i=b("stylex")))(n?r===0?l.rootForHScrollInChatTab:!1:q?!1:l.root,b("bs_belt_Option").getWithDefault(a,!1)),children:t})}e=a;f.commonStyles=l;f.HorizontalLayout=c;f.VerticalLayout=d;f.make=e}),null);
__d("MWV2Attachments.bs",["fbt","CometErrorBoundary.re","LSInt64.bs","MWChatAttachmentMediaPreview.bs","MWLSThreadDisplayContext.bs","MWMessageProtectionContext.bs","MWPMessageListColumn.bs","MWV2ChatAudioCommon.bs","MWV2ChatBubble.bs","MWV2ChatBubbleSolid.bs","MWV2ChatEphemeralButton.bs","MWV2ChatFileCommon.bs","MWV2ChatImage.bs","MWV2ChatImagesGrid.bs","MWV2ChatVideo.bs","MWV2MessageHasReply.bs","MWV2MessageHasXMA.bs","MWV2Sticker.bs","MWV2TombstonedMessage.bs","MWV2UnsupportedAttachment.bs","MWVerticalRhythm.bs","MWXMAAttachment.bs","MessagingAttachmentType.bs","RavenMessagingState.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_option","bs_curry","qex","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={vr:{backgroundColor:"nred35xi",height:"p3ovkuyr",width:"k4urcfbm"},container:{maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"tkr6xdv7"},container_xma:{width:"k4urcfbm"},file:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"}};function l(a){var c=a.xstyle,d=a.connectTop;a=a.connectBottom;c=c!==void 0?b("bs_caml_option").valFromOption(c):!1;return j.jsx("div",{className:(i||(i=b("stylex")))(c),children:j.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._(/*FBT_CALL*/"\u986f\u793a\u5a92\u9ad4\u6642\u767c\u751f\u932f\u8aa4"/*FBT_CALL*/),connectTop:d,connectBottom:a})})}c={make:l};function m(a){var c=a.attachment,d=a.message,e=a.connectTop;a=a.outgoing;var f=j.useCallback(function(a){return a.A});return j.jsx(b("MWV2ChatVideo.bs").make,{message:d,attachment:c,getPreviewUrl:f,connectTop:e,outgoing:a})}d={make:m};function n(a){var c=a.attachment;a=a.outgoing;var d=j.useCallback(function(a){return a.A},[c]);return j.jsx(b("MWV2ChatAudioCommon.bs").make,{attachment:c,getPlayableUrl:d,outgoing:a})}e={make:n};function o(a){var c=a.message,d=a.attachment,e=a.connectTop,f=a.connectBottom;a=a.outgoing;f=f!==void 0?f:!1;var g=b("MWLSThreadDisplayContext.bs").useHook(void 0),h=j.useCallback(function(a){var b=a.bY;if(b!==void 0&&g===1)return b;else return a.F},[g]),i=function(a){return a.A};return j.jsx(b("MWV2ChatImage.bs").make,{message:c,attachment:d,getPreviewUrl:h,getPlayableUrl:i,connectTop:e,connectBottom:f,outgoing:a})}var p={make:o};function q(a){a=a.attachment;var c=j.useCallback(function(a){var c=a.A;if(c!==void 0)return c;c=a.F;if(c!==void 0)return c;else{b("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.e,"messenger_privacy_web");return}});return j.jsx(b("MWV2Sticker.bs").make,{attachment:a,getPreviewUrl:c})}var r={make:q};function s(a){var c=a.children,d=a.message,e=a.connectTop,f=a.paint,g=a.outgoing;a=a.hasEmphasisRing;f=f!==void 0?f:!0;g=g!==void 0?g:!1;a=a!==void 0?a:!1;var h=b("MWV2MessageHasXMA.bs").make(d);d=b("MWV2MessageHasReply.bs").make(d);c=j.jsx("div",{className:(i||(i=b("stylex")))(k.container,h?k.container_xma:!1),children:c});return j.jsxs(j.Fragment,{children:[e&&!h?j.jsx("div",{className:(i||(i=b("stylex")))(k.vr)}):null,j.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:a?j.jsx(b("MWV2ChatBubble.bs").EmphasisRing.make,{children:c,shouldConnectTop:e,shouldConnectBottom:!1,isBeforeXMA:!1,hasXMA:h,isOutgoing:g}):c,paint:!d&&f})]})}var t={make:s};function u(a){var c=a.message,d=a.attachment,e=a.connectTop,f=a.connectBottom,g=a.hasText,h=a.outgoing,i=a.xstyle;a=b("qex")._("920")===!0;var p=d.f;if(b("bs_caml").i64_eq(p,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(p,b("MessagingAttachmentType.bs").animatedImage))return j.jsx(o,{message:c,attachment:d,connectTop:e,outgoing:h});if(b("bs_caml").i64_eq(p,b("MessagingAttachmentType.bs").video))return j.jsx(m,{attachment:d,message:c,connectTop:e,outgoing:h});if(b("bs_caml").i64_eq(p,b("MessagingAttachmentType.bs").audio))return j.jsx(n,{attachment:d,outgoing:h});if(b("bs_caml").i64_eq(p,b("MessagingAttachmentType.bs").sticker))return j.jsx(q,{attachment:d});if(b("bs_caml").i64_eq(p,b("MessagingAttachmentType.bs").xma)){c={attachment:d,connectTop:e,connectBottom:!1,hasText:g,outgoing:h};i!==void 0&&(c.xstyle=b("bs_caml_option").valFromOption(i));return j.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){a={connectTop:e,connectBottom:f};i!==void 0&&(a.xstyle=b("bs_caml_option").valFromOption(i));return j.jsx(l,a)},children:j.jsx(b("MWXMAAttachment.bs").make,c)})}if(b("bs_caml").i64_eq(p,b("MessagingAttachmentType.bs").file))return j.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:j.jsx(b("MWV2ChatFileCommon.bs").make,{attachment:d}),style:{backgroundColor:"var(--comment-background)"},connectTop:e,connectBottom:!1,outgoing:h,xstyle:a?k.file:!1});if(!(b("bs_caml").i64_eq(p,b("MessagingAttachmentType.bs").ephemeralImage)||b("bs_caml").i64_eq(p,b("MessagingAttachmentType.bs").ephemeralVideo)))return j.jsx(j.Fragment,{children:j.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:j.jsx(b("MWV2UnsupportedAttachment.bs").make,{attachment:d}),style:{backgroundColor:"var(--comment-background)"},connectTop:e,connectBottom:!1,outgoing:h})});g=d.bV;if(g!==void 0)if(b("bs_caml").i64_eq(g,b("RavenMessagingState.bs").permanent))return j.jsx(b("MWChatAttachmentMediaPreview.bs").make,{attachment:d});else return j.jsx(b("MWV2ChatEphemeralButton.bs").make,{attachment:d,connectTop:e,connectBottom:f,outgoing:h});else return null}var v={make:u};function w(a){return b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").image)}function x(a,c){return b("LSInt64.bs").compare(a.be,c.be)}function a(a){var c=a.message,d=a.connectTop,e=a.connectBottom,f=a.hasText,g=a.outgoing,h=a.xstyle,i=a.setHasAttachment;a=a.hasEmphasisRing;f=f!==void 0?f:!1;var k=a!==void 0?a:!1,l=b("ReStore.bs").useHook(void 0),m=c.e,n=c.a,p=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(l,"attachments").asc,{hd:n,tl:{hd:m,tl:0}})},[l,m,JSON.stringify(n)])).sort(x);j.useEffect(function(){i!==void 0&&b("bs_curry")._1(i,function(a){return p.length>0})},[i,p.length]);a=b("MWMessageProtectionContext.bs").useHook(void 0);if(p.length!==1)if(p.length>1&&p.every(w))if(a.blurMedia)return p.map(function(a,e){return j.jsxs(j.Fragment,{children:[e!==0?j.jsx(b("MWVerticalRhythm.bs").make,{height:2}):null,j.jsx(s,{children:j.jsx(o,{message:c,attachment:a,connectTop:e!==0,connectBottom:e!==(p.length-1|0),outgoing:g}),message:c,connectTop:d,hasEmphasisRing:k})]},a.e)});else return j.jsx(s,{children:j.jsx(b("MWV2ChatImagesGrid.bs").make,{attachments:p}),message:c,connectTop:d,hasEmphasisRing:k});else return null;a=p[0];var q=a.f;q=b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").audio)?!1:!0;a={message:c,attachment:a,connectTop:d,connectBottom:e,hasText:f,outgoing:g};h!==void 0&&(a.xstyle=b("bs_caml_option").valFromOption(h));return j.jsx(s,{children:j.jsx(u,a),message:c,connectTop:d,paint:q,hasEmphasisRing:k})}a=a;f.styles=k;f.$$Error=c;f.Video=d;f.$$Audio=e;f.$$Image=p;f.Sticker=r;f.Container=t;f.Attachment=v;f.isImage=w;f.orderByUserSelection=x;f.make=a}),null);
__d("RTCUserRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";c=(a=b("immutable")).Record({audioStreamMuteStates:a.Map(),FBID:"UNDEFINED",isGuestUser:!1,isMessengerUser:!1,isPartiesUser:!1,isVideoSubscribed:!1,lastConnectedAt:0,participantState:null,pausedDownlink:!1,profilePictureUrl:null,profileUrl:null,roomLocation:null,screenStreams:a.Set(),streams:a.Set(),userName:"",userShortName:"",vanity:""});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e.exports=d}),null);
__d("ChromeExtensionInstallError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b)||this;e.message=b;e.$ChromeExtensionInstallError3=b;e.$ChromeExtensionInstallError1=d;e.$ChromeExtensionInstallError2=c;e.name=e.constructor.name;return e}var c=b.prototype;c.toString=function(){return this.name+": "+[this.message,this.$ChromeExtensionInstallError2,this.$ChromeExtensionInstallError1].join("-")};c.getTypedMessage=function(){return this.$ChromeExtensionInstallError3};c.getInstallType=function(){return this.$ChromeExtensionInstallError2};return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("CollabRTCChromeScreenSharingExtensionConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({CancelChooseDesktopMedia:"cancelChooseDesktopMedia",ClearNotification:"clearNotification",CreateNotification:"createNotification",FocusTabAndWindow:"focusTabAndWindow",GetAllNotifications:"getAllNotifications",GetLastFocusedWindow:"getLastFocusedWindow",GetNotificationsPermissionLevel:"getNotificationsPermissionLevel",GetStreamID:"getStreamID",GetTabAndWindowForSender:"getTabAndWindowForSender",GetTabForSender:"getTabForSender",GetWindow:"getWindow",Ping:"ping",UpdateNotification:"updateNotification",UpdateTab:"updateTab",UpdateWindow:"updateWindow",CreateWindow:"createWindow"});f.CollabRTCChromeScreenSharingExtensionFeature=a}),66);
__d("RTCChromeExtensionListener",["DateConsts","EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$RTCChromeExtensionListener1=!1;c.$RTCChromeExtensionListener2=null;c.$RTCChromeExtensionListener5=function(a){var b=a;if(a.type==="notificationButtonClicked"){var d=a.buttonIndex;a=a.notificationId;d!==0&&d!==1&&(b={type:"notificationClicked",notificationId:a})}c.emit(b.type,b)};c.$RTCChromeExtensionListener6=function(a){a.onMessage.removeListener(c.$RTCChromeExtensionListener5),c.$RTCChromeExtensionListener2=null,c.emit("portDisconnected"),c.$RTCChromeExtensionListener1===!1&&c.$RTCChromeExtensionListener7(d("DateConsts").MS_PER_SEC)};c.$RTCChromeExtensionListener3=b;return c}var c=b.prototype;c.$RTCChromeExtensionListener4=function(){if(this.$RTCChromeExtensionListener2==null)try{var a=window.chrome.runtime.connect(this.$RTCChromeExtensionListener3,{name:"notifications"});a.onMessage.addListener(this.$RTCChromeExtensionListener5);a.onDisconnect.addListener(this.$RTCChromeExtensionListener6);this.$RTCChromeExtensionListener2=a;this.emit("portConnected")}catch(a){this.emit("portConnectionError",a)}};c.$RTCChromeExtensionListener7=function(a){var b=this;a===void 0&&(a=10);window.setTimeout(function(){b.$RTCChromeExtensionListener4()},a)};c.connect=function(){this.$RTCChromeExtensionListener7()};c.disconnect=function(){this.$RTCChromeExtensionListener2!=null&&(this.$RTCChromeExtensionListener1=!0,this.$RTCChromeExtensionListener2.disconnect(),this.$RTCChromeExtensionListener2=null)};return b}(c("EventEmitter"));g["default"]=a}),98);
__d("isInternURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)intern(mc)?\\.facebook\\.com$","i");function a(a){return g.test(a.getDomain())}f["default"]=a}),66);
__d("RTCChromeScreenSharingExtension",["Promise","RTCChromeExtensionListener","URI","gkx","isInternURI","isInternalFBURI","isWorkplaceDotComURI","uuid"],(function(a,b,c,d,e,f,g){function a(){var a=c("URI").getRequestURI();return c("gkx")("1290293")&&(c("isInternURI")(a)||c("isInternalFBURI")(a))}function d(){return c("isWorkplaceDotComURI")(c("URI").getRequestURI())}var h="ncfpggehkhmjpdjpefomjchjafhmbnai",i="flakgngfgjpjpfjknnkcipdebaigofln",j="hmobhiioligjpeieihehfjlkmmkjemfl";j=d()===!0?j:h;function k(a,c){return new(b("Promise"))(function(b,d){window.chrome.runtime.sendMessage(c,a,function(a){if(a!=null)typeof a==="object"&&a.type==="error"?d(new Error(a.message)):b(a);else{a=window.chrome.runtime.lastError.message;d(new Error(a))}})})}function e(a){return new(c("RTCChromeExtensionListener"))(a)}function f(a,b){b===void 0&&(b=["screen","window","tab"]);return k({type:"getStreamID",sources:b},a)}function l(a,b){return k({type:"cancel",requestID:a},b)}function m(){return c("uuid")()}g.shoulUseInternExtension=a;g.shoulUseWorkplaceExtension=d;g.INTERN_EXTENSION_ID=i;g.EXTENSION_ID=j;g.sendExtensionRequest=k;g.connectToNotifications=e;g.getMediaSourceFromExtension=f;g.stopExtensionScreenSharing=l;g.generateNotificationID=m}),98);
__d("CollabRTCChromeScreenSharingExtension",["invariant","ChromeExtensionInstallError","CollabRTCChromeScreenSharingExtensionConstants","DateConsts","Promise","RTCChromeScreenSharingExtension","URI","emptyFunction","err","isFacebookURI","orEmptyArray","regeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i="DIALOG_USER_CANCEL",j="EXTENSION_NOT_FOUND",k="MESSAGESENDER_TAB_UNDEFINED",l="REQUEST_ID_UNDEFINED",m="UNEXPECTED_ERROR",n="FEATURE_NOT_SUPPORTED";a="data-fb-only-screensharing-extension-available";var o="data-intern-screensharing-extension-available";e="data-wp-screensharing-extension-available";var p=d("RTCChromeScreenSharingExtension").shoulUseWorkplaceExtension()?e:a;f="data-fb-only-screensharing-extension-features";var q="data-intern-screensharing-extension-features";e="data-wp-screensharing-extension-features";var r=d("RTCChromeScreenSharingExtension").shoulUseWorkplaceExtension()?e:f,s=250,t=2*d("DateConsts").MS_PER_MIN,u=2;a=function(){function a(){this.DIALOG_USER_CANCEL=i,this.EXTENSION_NOT_FOUND=j,this.MESSAGESENDER_TAB_UNDEFINED=k,this.REQUEST_ID_UNDEFINED=l,this.UNEXPECTED_ERROR=m,this.FEATURE_NOT_SUPPORTED=n,this.$2=d("RTCChromeScreenSharingExtension").EXTENSION_ID,this.$3=p,this.$4=r}var e=a.prototype;e.isInstalled=function(){var a=document;a=a.documentElement;if(d("RTCChromeScreenSharingExtension").shoulUseInternExtension()&&(a!=null&&a.hasAttribute(o))){this.$2=d("RTCChromeScreenSharingExtension").INTERN_EXTENSION_ID;this.$3=o;return!0}return a!=null&&a.hasAttribute(this.$3)?!0:!1};e.isFeatureSupported=function(a){if(!this.isInstalled())return!1;var b=document;b=b.documentElement;b=c("orEmptyArray")(b==null?void 0:(b=b.getAttribute(d("RTCChromeScreenSharingExtension").shoulUseInternExtension()?q:this.$4))==null?void 0:b.split(","));return b.indexOf(a)>=0};e.throwIfNotInstalled=function(){if(this.isInstalled()!==!0)throw c("err")(j)};e.throwIfFeatureNotSupported=function(a){this.throwIfNotInstalled();if(!this.isFeatureSupported(a)){a=new Error(n);a.stack;throw a}};e.$5=function(a,d){var e=this,f=(d=a)!=null?(d=d.chrome)!=null?d.webstore:d:d;if(f==null)return b("Promise").reject(new(c("ChromeExtensionInstallError"))("CHROME_WEBSTORE_UNDEFINED","inline"));var g=window.document.documentElement;v(this.getExtensionURL(),window.document);a!==window&&v(this.getExtensionURL(),a.document);return new(b("Promise"))(function(a,b){f.install(e.getExtensionURL(),function(){g!=null&&g.setAttribute(e.getPresenseAttr(),"true"),a()},function(a,d){b(new(c("ChromeExtensionInstallError"))("EXTENSION_INSTALL_FAILED","inline",d))})}).then(function(){e.$6(u);return"inline"})};e.$7=function(a){var d=this;if(this.isInstalled())return b("Promise").resolve("store");v(this.getExtensionURL(),window.document);window.open(this.getExtensionURL(),"_blank");return this.$6(t/s).then(function(){var a=window.document.documentElement;a.setAttribute(d.getPresenseAttr(),"true");return"store"})["catch"](function(){throw new(c("ChromeExtensionInstallError"))("EXTENSION_STORE_INSTALL_TIMEOUT","store")})};e.getPresenseAttr=function(){return this.$3};e.getFeaturesAttr=function(){return this.$4};e.isInlineInstallCapableDomain=function(){return c("isFacebookURI")(c("URI").getRequestURI())};e.install=function(a){return this.isInstalled()?b("Promise").resolve():this.$8(a).then(c("emptyFunction"))["catch"](function(a){throw a})};e.$8=function(a){var b;if(!this.isInlineInstallCapableDomain())return this.$7(a);b=(b=window)!=null?(b=b.chrome)!=null?b.webstore:b:b;if(b==null)return this.$7(a);return window.opener?this.$7(a):this.$5(window,a)};e.getSourceID=function(a){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(this.isInstalled()){f.next=2;break}throw c("err")(j);case 2:f.next=4;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").getMediaSourceFromExtension(this.$2,a));case 4:e=f.sent;f.t0=e.type;f.next=f.t0==="streamID"?8:f.t0==="canceledGetStreamID"?10:11;break;case 8:this.$1=e.requestID;return f.abrupt("return",e.streamID);case 10:throw c("err")(i);case 11:throw c("err")(m);case 12:case"end":return f.stop()}},null,this)};e.getExtensionID=function(){return this.$2};e.getExtensionURL=function(){return"https://chrome.google.com/webstore/detail/"+this.$2};e.stop=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").stopExtensionScreenSharing(this.$1,this.$2));case 2:this.$1=null;case 3:case"end":return a.stop()}},null,this)};e.$6=function(a){var b=this;return d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"ping"},this.$2)["catch"](function(c){if(a<1)throw c;return w(s).then(function(){return b.$6(a-1)})})};e.isMinimumVersionNumber=function(a,c,e){var f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:this.throwIfNotInstalled();l.next=3;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"ping"},this.$2));case 3:f=l.sent;g=f.version;h=g.split(".").map(function(a){return parseInt(a,10)}),i=h[0],j=h[1],k=h[2];if(!(i>=a)){l.next=10;break}if(!(j>c)){l.next=9;break}return l.abrupt("return",!0);case 9:return l.abrupt("return",j===c&&k>=e);case 10:return l.abrupt("return",!1);case 11:case"end":return l.stop()}},null,this)};e.focusTabAndWindow=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.throwIfNotInstalled();c.next=3;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"focusTabAndWindow"},this.$2));case 3:a=c.sent;return c.abrupt("return",{tab:a.tab,window:a.window});case 5:case"end":return c.stop()}},null,this)};e.getLastFocusedWindow=function(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:this.throwIfNotInstalled();e.next=3;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getLastFocusedWindow",getInfo:a},this.$2));case 3:c=e.sent;return e.abrupt("return",c.window);case 5:case"end":return e.stop()}},null,this)};e.getTabForSender=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.throwIfNotInstalled();c.next=3;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getTabForSender"},this.$2));case 3:a=c.sent;return c.abrupt("return",a.tab);case 5:case"end":return c.stop()}},null,this)};e.getTabAndWindowForSender=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.throwIfNotInstalled();c.next=3;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getTabAndWindowForSender"},this.$2));case 3:a=c.sent;return c.abrupt("return",{tab:a.tab,window:a.window});case 5:case"end":return c.stop()}},null,this)};e.getWindow=function(a,c){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:this.throwIfNotInstalled();f.next=3;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getWindow",windowId:a,getInfo:c},this.$2));case 3:e=f.sent;return f.abrupt("return",e.window);case 5:case"end":return f.stop()}},null,this)};e.updateTab=function(a,c){var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.throwIfNotInstalled();e={type:"updateTab",updateProperties:a};c!==void 0&&(e.tabId=c);g.next=5;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest(e,this.$2));case 5:f=g.sent;return g.abrupt("return",f.tab);case 7:case"end":return g.stop()}},null,this)};e.updateWindow=function(a,c){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:this.throwIfNotInstalled();f.next=3;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"updateWindow",windowId:a,updateInfo:c},this.$2));case 3:e=f.sent;return f.abrupt("return",e.window);case 5:case"end":return f.stop()}},null,this)};e.createWindow=function(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:this.throwIfFeatureNotSupported(d("CollabRTCChromeScreenSharingExtensionConstants").CollabRTCChromeScreenSharingExtensionFeature.CreateWindow);e.next=3;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"createWindow",createData:a},this.$2));case 3:c=e.sent;return e.abrupt("return",c.window);case 5:case"end":return e.stop()}},null,this)};e.clearNotification=function(a){var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(this.isNotificationPermissionGranted());case 2:e=g.sent;if(!(e===!1)){g.next=5;break}throw c("err")("Chrome extension notifications permission not granted");case 5:g.next=7;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"clearNotification",notificationId:a},this.$2));case 7:f=g.sent;return g.abrupt("return",f.wasCleared);case 9:case"end":return g.stop()}},null,this)};e.createNotification=function(a){var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(this.isNotificationPermissionGranted());case 2:e=g.sent;if(!(e===!1)){g.next=5;break}throw c("err")("Chrome extension notifications permission not granted");case 5:g.next=7;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"createNotification",notificationId:d("RTCChromeScreenSharingExtension").generateNotificationID(),options:a},this.$2));case 7:f=g.sent;return g.abrupt("return",f.notificationId);case 9:case"end":return g.stop()}},null,this)};e.getAllNotifications=function(){var a,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.isNotificationPermissionGranted());case 2:a=f.sent;if(!(a===!1)){f.next=5;break}throw c("err")("Chrome extension notifications permission not granted");case 5:f.next=7;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getAllNotifications"},this.$2));case 7:e=f.sent;return f.abrupt("return",Object.keys(e.notifications));case 9:case"end":return f.stop()}},null,this)};e.getNotificationsPermissionLevel=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:this.throwIfNotInstalled();c.next=3;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getNotificationsPermissionLevel"},this.$2));case 3:a=c.sent;return c.abrupt("return",a.level);case 5:case"end":return c.stop()}},null,this)};e.updateNotification=function(a,e){var f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(this.isNotificationPermissionGranted());case 2:f=h.sent;if(!(f===!1)){h.next=5;break}throw c("err")("Chrome extension notifications permission not granted");case 5:h.next=7;return b("regeneratorRuntime").awrap(d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"updateNotification",notificationId:a,options:e},this.$2));case 7:g=h.sent;return h.abrupt("return",g.wasUpdated);case 9:case"end":return h.stop()}},null,this)};e.isNotificationPermissionGranted=function(){var a;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a="denied";d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(this.getNotificationsPermissionLevel());case 4:a=d.sent;d.next=10;break;case 7:d.prev=7,d.t0=d["catch"](1),a="denied";case 10:d.t1=a;d.next=d.t1==="granted"?13:d.t1==="denied"?14:15;break;case 13:return d.abrupt("return",!0);case 14:return d.abrupt("return",!1);case 15:throw c("err")("Received an unexpected permission level: "+a);case 16:case"end":return d.stop()}},null,this,[[1,7]])};return a}();function v(a,b){var c="chrome-webstore-item";if(!b.querySelector('link[href="'+a+'"][rel="'+c+'"]')){var d=b.createElement("link");d.setAttribute("href",a);d.setAttribute("rel",c);b.head!=null||h(0,6240);b.head.appendChild(d)}}function w(a){return new(b("Promise"))(function(b){return window.setTimeout(b,a)})}e=new a();g["default"]=e}),98);
__d("CollabRTCChromeScreenSharing",["CollabRTCChromeScreenSharingExtension"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("CollabRTCChromeScreenSharingExtension").focusTabAndWindow()}function b(a){return c("CollabRTCChromeScreenSharingExtension").getLastFocusedWindow(a)}function d(){return c("CollabRTCChromeScreenSharingExtension").getTabForSender()}function e(){return c("CollabRTCChromeScreenSharingExtension").getTabAndWindowForSender()}function f(a,b){return c("CollabRTCChromeScreenSharingExtension").getWindow(a,b)}function h(a,b){return c("CollabRTCChromeScreenSharingExtension").install(b).then(function(){return c("CollabRTCChromeScreenSharingExtension").getSourceID(a)})}function i(){return c("CollabRTCChromeScreenSharingExtension").stop()}function j(a,b){return c("CollabRTCChromeScreenSharingExtension").updateTab(a,b)}function k(a,b){return c("CollabRTCChromeScreenSharingExtension").updateWindow(a,b)}function l(a){return c("CollabRTCChromeScreenSharingExtension").createWindow(a)}g.focusTabAndWindow=a;g.getLastFocusedWindow=b;g.getTabForSender=d;g.getTabAndWindowForSender=e;g.getWindow=f;g.getSourceID=h;g.stop=i;g.updateTab=j;g.updateWindow=k;g.createWindow=l}),98);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744027");c=b("FalcoLoggerInternal").create("messenger_desktop_promo",a);e.exports=c}),null);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("AudioClipsBrowserAllowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("72");c=b("FalcoLoggerInternal").create("audio_clips_browser_allow_mic_access",a);e.exports=c}),null);
__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("73");c=b("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",a);e.exports=c}),null);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("39");c=b("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",a);e.exports=c}),null);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("74");c=b("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",a);e.exports=c}),null);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("75");c=b("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",a);e.exports=c}),null);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("76");c=b("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",a);e.exports=c}),null);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("44");c=b("FalcoLoggerInternal").create("audio_clips_playback_pause",a);e.exports=c}),null);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("45");c=b("FalcoLoggerInternal").create("audio_clips_playback_resume",a);e.exports=c}),null);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("47");c=b("FalcoLoggerInternal").create("audio_clips_playback_start",a);e.exports=c}),null);
__d("AudioClipsSendFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("49");c=b("FalcoLoggerInternal").create("audio_clips_send",a);e.exports=c}),null);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("51");c=b("FalcoLoggerInternal").create("audio_clips_start_recording_click",a);e.exports=c}),null);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("52");c=b("FalcoLoggerInternal").create("audio_clips_stop_recording_click",a);e.exports=c}),null);
__d("Ls1LCFeatureStage.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];var g=[0,6],h=[0,7],i=[0,8],j=[0,9],k=[0,10],l=[0,11],m=[0,12],n=[0,13],o=[0,14],p=[0,15],q=[0,16];f.expandStart=a;f.expandFinish=c;f.initialScreenLoadingStart=d;f.initialScreenLoadingFinish=e;f.sendClick=b;f.saveClick=g;f.startRecordingClick=h;f.cancelClick=i;f.shareLiveLocationClick=j;f.pinClick=k;f.shareCurrentLocationClick=l;f.longClick=m;f.click=n;f.tapButton=o;f.paste=p;f.releaseSend=q}),null);
__d("Ls1LCFeatureType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];var g=[0,6],h=[0,8],i=[0,9],j=[0,10],k=[0,11],l=[0,12],m=[0,13],n=[0,14],o=[0,15],p=[0,16],q=[0,17],r=[0,18],s=[0,19],t=[0,20],u=[0,21],v=[0,22],w=[0,23],x=[0,24],y=[0,25],z=[0,26],A=[0,27],B=[0,28];f.keyboard=a;f.sticker=c;f.mediaPicker=d;f.gif=e;f.camera=b;f.payment=g;f.mSuggestion=h;f.reply=i;f.quickReply=j;f.mention=k;f.pageMenu=l;f.audioClip=m;f.ephemeralTimer=n;f.extensionBar=o;f.locationSharing=p;f.welcomePage=q;f.messageRequest=r;f.pollCreation=s;f.send=t;f.hotLike=u;f.chevron=v;f.mediapaste=w;f.suggestedTab=x;f.rooms=y;f.ignoredThread=z;f.moreDrawer=A;f.soundBites=B}),null);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("153");c=b("FalcoLoggerInternal").create("ls_1lc_feature_open",a);e.exports=c}),null);
__d("LsActionCategory.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9];f.unknown=a;f.impression=c;f.click=d;f.longClick=e;f.swipe=b;f.scroll=g;f.reactionPlus=h;f.doubleClick=i;f.lock=j;f.raiseDevice=k}),null);
__d("MWChatAudioLog.bs",["AudioClipsBrowserAllowMicAccessFalcoEvent","AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsSendFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","LSInt64.bs","Ls1LCFeatureStage.bs","Ls1LCFeatureType.bs","Ls1lcFeatureOpenFalcoEvent","LsActionCategory.bs","bs_caml_int64","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))}function c(a){b("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:"true",error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0,with_captions:void 0}})}function d(a){b("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0,with_captions:void 0}}),b("Ls1lcFeatureOpenFalcoEvent").log(function(){return{feature:b("bs_caml_int64").to_int32(b("Ls1LCFeatureType.bs").audioClip),thread:void 0,feature_sessionid:void 0,stage:b("bs_caml_int64").to_int32(b("Ls1LCFeatureStage.bs").startRecordingClick),screen_orientation:void 0,extra:void 0}})}function e(a){b("AudioClipsCancelledByUserFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0,with_captions:void 0}})}function g(a){b("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0,with_captions:void 0}})}function h(a){b("AudioClipsBrowserAllowMicAccessFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0,with_captions:void 0}})}function i(a){b("AudioClipsSendFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0,with_captions:void 0}}),b("Ls1lcFeatureOpenFalcoEvent").log(function(){return{feature:b("bs_caml_int64").to_int32(b("Ls1LCFeatureType.bs").audioClip),thread:void 0,feature_sessionid:void 0,stage:b("bs_caml_int64").to_int32(b("Ls1LCFeatureStage.bs").sendClick),screen_orientation:void 0,extra:void 0}})}function j(a){b("AudioClipsPlaybackStartFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0,with_captions:void 0}})}function k(a,c){b("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(c))),duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0,with_captions:void 0}})}function l(a,c){b("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(c))),duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0,with_captions:void 0}})}function m(a){b("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0,with_captions:void 0}})}function n(a){b("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0,with_captions:void 0}})}function o(a){b("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0,with_captions:void 0}})}f.floatToInt64String=a;f.logClickStopRecording=c;f.logClickStartRecording=d;f.logDeleteRecording=e;f.logBrowserDenyAccess=g;f.logBrowserAllowAccess=h;f.logSendRecording=i;f.logPlaybackStart=j;f.logPlaybackPause=k;f.logPlaybackResume=l;f.logDialogOk=m;f.logDialogNotNow=n;f.logMicAccessCheckFailed=o}),null);
__d("FBRTCSupport",["UserAgent","gkx"],(function(a,b,c,d,e,f,g){function h(){return c("UserAgent").isBrowser("Chrome >= 28")||c("UserAgent").isBrowser("Firefox >= 25")||c("UserAgent").isBrowser("Edge >= 15.15042")&&c("gkx")("1341692")&&!c("gkx")("1680228")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||c("UserAgent").isBrowser("Opera >= 20")||j()&&c("gkx")("875718")||c("UserAgent").isBrowser("Oculus Browser >= 6")&&c("gkx")("1188589")||i()}function a(){return c("UserAgent").isBrowser("Chrome >= 28")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||c("UserAgent").isBrowser("Opera >= 20")||j()&&c("gkx")("875718")||i()}function i(){return!1}function b(){return h()&&(!!c("gkx")("1738376")||c("UserAgent").isBrowser("Chrome >= "+65))}function d(a){var b=c("UserAgent").isBrowser("Chrome >= 73")||c("UserAgent").isBrowser("Safari >= 12.2");if(a)return b;a=c("gkx")("919244")&&b;return a||c("UserAgent").isBrowser("Mobile Safari >= 12.1.1")}function j(){return c("UserAgent").isBrowser("Safari >= 12.1")||c("UserAgent").isBrowser("Mobile Safari >= 12.1")}function k(){return c("UserAgent").isPlatform("Android")||c("UserAgent").isPlatform("iOS")}function e(){return!k()&&(c("UserAgent").isBrowser("Chrome >= 51")||c("UserAgent").isBrowser("Opera >= 36"))}function f(){return c("UserAgent").isBrowser("Firefox < 60")||c("UserAgent").isBrowser("Edge")}function l(){return c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")}g.isWebrtcSupported=h;g.isGroupCallWebtrcSupported=a;g.isUnifiedEnabledForCallsExperimentation=i;g.isCollabSupported=b;g.canUseUnifiedPlan=d;g.isSupportedSafariVersion=j;g.isMobileDevice=k;g.isVideoFilterEffectSupported=e;g.videoEscalationByUnmuteWorkaround=f;g.isChromiumBased=l}),98);
__d("ZenonVideoConstraintUtils",["RTCZenonExperimentPhonesNeedAlignment","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=l(1920,1080,30);f=l(1280,720,15);var i=l(640,360,15);function j(){var a=c("RTCZenonExperimentPhonesNeedAlignment").phoneNeedsAlignment;return a?64:0}function k(a,b){if(b>0&&a>0){var c=Math.max(1,a/b);return b*Math.round(c)}return a}function l(a,b,c){if(a==null||b==null||c==null)return null;var d=j();a=k(a,d);b=k(b,d);d=a/b;return{aspectRatio:{ideal:d},frameRate:{ideal:c},height:{ideal:b},width:{ideal:a}}}function a(){return i}function b(){return m()}function d(){var a;return(a=m())!=null?a:i}function e(){return i}function m(){if(c("gkx")("3268"))return h;if(c("gkx")("1808893")){var a=c("qex")._("389");return c("qex")._("351")?l(1920,1080,a):l(1280,720,a)}return null}g.CONSTRAINT_1080P=h;g.CONSTRAINT_720P=f;g.CONSTRAINT_360P=i;g.alignTo=k;g.createConstraints=l;g.getP2PVideoConstraints=a;g.getMWVideoConstraints=b;g.getMWVideoConstraintsRooms=d;g.getMWebVideoConstraints=e}),98);
__d("RTCUserMediaConstraints",["FBRTCConstants","FBRTCSupport","RTCConfig","ZenonVideoConstraintUtils"],(function(a,b,c,d,e,f,g){"use strict";var h={width:d("FBRTCConstants").RTCConstraints.FHD_WIDTH,height:d("FBRTCConstants").RTCConstraints.FHD_HEIGHT,frameRate:d("FBRTCConstants").RTCConstraints.FRAME_RATE},i={width:d("FBRTCConstants").RTCConstraints.HD_WIDTH,height:d("FBRTCConstants").RTCConstraints.HD_HEIGHT,frameRate:d("FBRTCConstants").RTCConstraints.FRAME_RATE},j={width:d("FBRTCConstants").RTCConstraints.SD_WIDTH,height:d("FBRTCConstants").RTCConstraints.SD_HEIGHT,frameRate:d("FBRTCConstants").RTCConstraints.FRAME_RATE},k={width:d("FBRTCConstants").RTCConstraints.LQ_WIDTH,height:d("FBRTCConstants").RTCConstraints.LQ_HEIGHT,frameRate:d("FBRTCConstants").RTCConstraints.LQ_FRAME_RATE};function a(a){return a?{deviceId:{exact:a}}:!0}function b(a,b,c){c===void 0&&(c=d("RTCConfig").CollaborationCallQuality.videoToRoom);b=b?{deviceId:{exact:b}}:null;if(a===d("FBRTCConstants").VideoQuality.CUSTOM_VIDEO)return babelHelpers["extends"]({},c,b);if(d("FBRTCSupport").isMobileDevice())return m(d("ZenonVideoConstraintUtils").getP2PVideoConstraints());c=o(a);a=n(a)?k:q(c);return babelHelpers["extends"]({width:p(c,"width",a),height:p(c,"height",a),frameRate:p(c,"frameRate",{frameRate:10})},b)}function c(a,b){a=a.video;a=l(a);if(typeof a!=="object")return{audio:!1,video:Boolean(a)};var c=a.mandatory;a=a.optional;a=a===void 0?[]:a;return{audio:!1,video:{mandatory:babelHelpers["extends"]({},c,{chromeMediaSource:"desktop",chromeMediaSourceId:b}),optional:[{googTemporalLayeredScreencast:!0}].concat(a)}}}function l(a,b){if(!a||typeof a!=="object")return Boolean(a);if(!t(a))return a;b=b?b.optionalConstraintsOnly:!1;var c=a.mandatory;c=c===void 0?{}:c;var d=a.optional;d=d===void 0?[]:d;var e=Object.entries(a);for(var f=0;f<e.length;f++){var g=e[f],h=g[0];g=g[1];if(h==="require"||h==="advanced"||h==="mediaSource")continue;g=g&&typeof g==="object"?g:{ideal:g};Number.isFinite(g.exact)&&(g.min=g.exact,g.max=g.exact);var i=g.exact,j=g.ideal;if(j!==void 0)if(Number.isFinite(j)){var k;d.push((k={},k[s(h,"min")]=j,k),(k={},k[s(h,"max")]=j,k))}else{d.push((k={},k[s(h)]=j,k))}if(!b)if(i!==void 0&&!Number.isFinite(i))c[s(h)]=i;else{j=["min","max"];for(var k=0;k<j.length;k++){i=j[k];Number.isFinite(g[i])&&(c[s(h,i)]=g[i])}}}a.advanced&&d.push.apply(d,a.advanced);i={};Object.keys(c).length>0?i.mandatory=c:b&&(i.mandatory={});d.length>0&&(i.optional=d);return i}function m(a){if(a===null)return{};a={width:a==null?void 0:a.width,height:a==null?void 0:a.height,aspectRatio:a==null?void 0:a.aspectRatio,frameRate:a==null?void 0:a.frameRate,facingMode:{ideal:"user"}};return a}function n(a){return a===d("FBRTCConstants").VideoQuality.HD_IDEAL_LQ_REQUIRED_VIDEO||a===d("FBRTCConstants").VideoQuality.FHD_IDEAL_LQ_REQUIRED_VIDEO}function o(a){switch(a){case d("FBRTCConstants").VideoQuality.FHD_VIDEO:case d("FBRTCConstants").VideoQuality.FHD_IDEAL_LQ_REQUIRED_VIDEO:return h;case d("FBRTCConstants").VideoQuality.HD_VIDEO:case d("FBRTCConstants").VideoQuality.HD_IDEAL_LQ_REQUIRED_VIDEO:return i;case d("FBRTCConstants").VideoQuality.LQ_VIDEO:return k;case d("FBRTCConstants").VideoQuality.SD_VIDEO:return j;default:return i}}function p(a,b,c){c===void 0&&(c=q(a));var d=a[b];return{min:Math.min(c[b],d),max:Math.max(r(a)[b],d),ideal:d}}function q(a){switch(a){case h:return i;case i:return j;case j:case k:default:return k}}function r(a){switch(a){case k:return j;case j:return i;case i:case h:default:return h}}function s(b,a){return a?""+a+b.charAt(0).toUpperCase()+b.slice(1):b==="deviceId"?"sourceId":b}function t(a){return Object.keys(a).some(function(a){return a!=="mandatory"&&a!=="optional"})}g.audio=a;g.video=b;g.chromeMediaSource=c;g.chromify=l}),98);
__d("RTCScreenSharing",["CollabRTCChromeScreenSharing","Promise","RTCUserMediaConstraints","RTCUtils","UserAgent","WorkplaceChatHelper"],(function(a,b,c,d,e,f,g){"use strict";var h="SCREEN_SHARING_NOT_SUPPORTED",i="UNEXPECTED_ERROR";function a(a,e,f){if(c("UserAgent").isBrowser("Chrome")){var g;d("WorkplaceChatHelper").isDesktopChatApp()?g=d("WorkplaceChatHelper").getScreenSharingSourceID():g=d("CollabRTCChromeScreenSharing").getSourceID(f,e);return g.then(function(b){return d("RTCUtils").getUserMedia(d("RTCUserMediaConstraints").chromeMediaSource(a,b))}).then(function(a){for(var b=a.getTracks(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.addEventListener("ended",function(b){return window.setTimeout(function(){a.active||j()})})}return a})}else if(d("RTCUtils").isVCScreenSharingSupported()&&navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia==="function")return b("Promise").resolve(navigator.mediaDevices.getUserMedia(a)["catch"](function(a){if(a.name==="NotAllowedError")throw new Error(h)}));return b("Promise").reject(new Error(h))}function j(){return c("UserAgent").isBrowser("Chrome")?d("WorkplaceChatHelper").isDesktopChatApp()?d("WorkplaceChatHelper").stopScreenSharing():d("CollabRTCChromeScreenSharing").stop():b("Promise").reject(new Error(i))}g.SCREEN_SHARING_NOT_SUPPORTED=h;g.getUserMedia=a;g.stop=j}),98);
__d("FBRTCConfig",["CurrentUser"],(function(a,b,c,d,e,f,g){var h=!1,i=null,j=null,k=0,l=null,m="https://www.facebook.com/help/211644178877843",n="https://www.facebook.com/help/work/919532078125908",o="https://www.facebook.com/help/232232800134371",p="https://www.facebook.com/help/work/180714775754632";function a(a){var b=a.isVCEndpointCall,c=a.meetingID,d=a.meetingPassword,e=a.peerID;a=a.serverConfig;h=b;i=c;j=d;k=e;l=a}function b(){return h}function d(){return i}function e(){return j}function f(){return k}function q(){return{bad_score_count:3,frr_weight:800,plr_weight:500,rtt_weight:2,score_threshold:1e3}}function r(){var a;return((a=(a=l)==null?void 0:(a=a.troubleshooting_urls)==null?void 0:a.unsupported_browser)!=null?a:c("CurrentUser").isWorkUser())?n:m}function s(){var a;return((a=(a=l)==null?void 0:(a=a.troubleshooting_urls)==null?void 0:a.user_media_error)!=null?a:c("CurrentUser").isWorkUser())?p:o}function t(){var a;return((a=(a=l)==null?void 0:(a=a.troubleshooting_urls)==null?void 0:a.user_media_permission_error)!=null?a:c("CurrentUser").isWorkUser())?p:o}function u(){var a;return((a=l)==null?void 0:a.is_messenger_dot_com)===!0}function v(){var a;return((a=l)==null?void 0:a.messenger_call_ui)===!0}function w(){var a;return((a=l)==null?void 0:a.use_hd_video_quality)===!0}function x(){var a;return((a=l)==null?void 0:a.data_channel)===!0}function y(){var a;return((a=l)==null?void 0:a.disable_url_manager)===!0}g.setConfig=a;g.isVCEndpointCall=b;g.getMeetingID=d;g.getMeetingPassword=e;g.getPeerID=f;g.statsInterpreterConfig=q;g.unsupportedBrowserUrl=r;g.userMediaErrorUrl=s;g.userMediaPermissionErrorUrl=t;g.isMessengerDotCom=u;g.useMessengerCallUI=v;g.shouldUseHDVideoQuality=w;g.shouldCreateDataChannel=x;g.disableURLManager=y}),98);
__d("assignMediaStream",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=window.URL||window.webkitURL,i="srcObject"in window.HTMLMediaElement.prototype,j="mozSrcObject"in window.HTMLMediaElement.prototype;function a(a,b){if(i)try{l(a),a.srcObject=b}catch(a){c("FBLogger")("rt_web").catching(a).warn("Failed to assign media stream. Stream object is: "+String(b));throw a}else j?a.mozSrcObject=b:k(a,b)}function k(a,b){l(a),a.src=b!=null?h.createObjectURL(b):""}function l(a){try{typeof a.src==="string"&&h.revokeObjectURL(a.src)}catch(a){c("FBLogger")("rt_web").catching(a).warn("error revoking object URL")}}g["default"]=a}),98);
__d("FBRTCUtils",["AsyncRequest","FBIDCheck","FBRTCConfig","RTWebUserActionLogger","assignMediaStream","emptyFunction"],(function(a,b,c,d,e,f,g){var h=6e3,i="setSinkId"in window.HTMLMediaElement.prototype;function a(a,b){if(a==null)return;c("assignMediaStream")(a,b);if(b){b=a.play();b!==void 0&&b["catch"](function(a){c("RTWebUserActionLogger").logError({errorDomain:"autoplay was prevented",errorType:a.toString()})})}}function b(a,b){return a-b<.01&&b-a<.01}function e(a,b,d,e,f,g){b===void 0&&(b=c("emptyFunction"));d===void 0&&(d=c("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=h);g===void 0&&(g={});a=new(c("AsyncRequest"))().setURI(a).setData(g).setAllowCrossPageTransition(!0).setHandler(b).setErrorHandler(d).setTimeoutHandler(f,function(){d()});e&&a.setOption("asynchronous_DEPRECATED",!1);a.send()}function f(){return i}function j(a){var b=d("FBRTCConfig").isVCEndpointCall();return b!==void 0?b:!!a&&!d("FBIDCheck").isUser_deprecated(a)}function k(a){return a==="quickdial"||a==="meeting_room_page_profile"}g.attachMediaStream=a;g.aboutEqual=b;g.sendServerRequest=e;g.supportsSetSink=f;g.isPeerVCEndpoint=j;g.isCollabTrigger=k}),98);
__d("MediaStream",[],(function(a,b,c,d,e,f){"use strict";a=window.MediaStream||window.webkitMediaStream;f["default"]=a}),66);
__d("RTCAudioTrackNoiseDetector",["invariant","MediaStream","Promise"],(function(a,b,c,d,e,f,g,h){"use strict";var i="audio track with absolute silence",j="audio track data timeout",k='wrong track type, expected "audio"',l=100;function a(a,d){if("kind"in a&&a.kind!=="audio")return b("Promise").reject(new Error(k));var e=new(c("MediaStream"))();e.addTrack(a);var f=new AudioContext(),g=f.createMediaStreamSource(e),m=f.createScriptProcessor(0,1,1),n=l,o=function(){m!=null||h(0,2865);m.onaudioprocess=null;m.disconnect();m=null;g!=null||h(0,2866);g.disconnect();g=null;e!=null||h(0,2867);e.removeTrack(a);e=null;f!=null||h(0,2868);return b("Promise").resolve(f.close())["catch"](function(){return b("Promise").resolve()}).then(function(){f=null})};return b("Promise").race([new(b("Promise"))(function(a,b){m!=null||h(0,2865),m.onaudioprocess=function(c){c=c.inputBuffer;for(var c=c.getChannelData(0),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f!==0){a();return}}n>0?n--:b(new Error(i))},g!=null||h(0,2866),g.connect(m),f!=null||h(0,2868),m.connect(f.destination)}),new(b("Promise"))(function(a){return window.setTimeout(a,d)}).then(function(){throw new Error(j)})]).then(function(){return o()})["catch"](function(a){return o().then(function(){throw a})})}g.ABSOLUTE_SILENCE_ERROR=i;g.DATA_TIMEOUT_ERROR=j;g.WRONG_TRACK_TYPE_ERROR=k;g.detect=a}),98);
__d("FBRTCDismissReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14,ANSWERED_BY_OTHER_USER:15,PARTICIPANT_SELF_TERMINATION:16,PARTICIPANT_REJOIN:17})}),null);
__d("FBRTCHangupReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:8,WEBRTC_ERROR:9,CONNECTION_DROPPED:10})}),null);
__d("RTWebStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*FBT_CALL*/"\u5fd9\u788c\u4e2d"/*FBT_CALL*/);b=h._(/*FBT_CALL*/"\u91cd\u64a5"/*FBT_CALL*/);c=h._(/*FBT_CALL*/"\u901a\u8a71\u7d50\u675f"/*FBT_CALL*/);d=h._(/*FBT_CALL*/"\u901a\u8a71\u5931\u6557"/*FBT_CALL*/);e=h._(/*FBT_CALL*/"\u901a\u8a71\u4e2d\u65b7"/*FBT_CALL*/);f=h._(/*FBT_CALL*/"\u7121\u6cd5\u9023\u63a5\u901a\u8a71"/*FBT_CALL*/);var i=h._(/*FBT_CALL*/"\u4f60\u5df2\u7d93\u9000\u51fa\u7fa4\u7d44\u8996\u8a0a\u804a\u5929"/*FBT_CALL*/),j=h._(/*FBT_CALL*/"\u6b64\u5305\u5ec2\u7684\u53c3\u52a0\u4eba\u6578\u5df2\u9054\u4e0a\u9650\u3002\u6709\u4eba\u96e2\u958b\u5f8c\uff0c\u4f60\u53ef\u4ee5\u518d\u6b21\u5617\u8a66\u52a0\u5165\u3002"/*FBT_CALL*/),k=h._(/*FBT_CALL*/"\u5ba2\u6236\u7aef\u52a0\u5bc6\u932f\u8aa4"/*FBT_CALL*/),l=h._(/*FBT_CALL*/"\u95dc\u9589"/*FBT_CALL*/),m=h._(/*FBT_CALL*/"\u5df2\u9023\u7dda"/*FBT_CALL*/),n=h._(/*FBT_CALL*/"\u9023\u7dda\u4e2d\u22ef\u22ef"/*FBT_CALL*/),o=h._(/*FBT_CALL*/"\u9023\u7dda\u4e2d\u65b7"/*FBT_CALL*/),p=h._(/*FBT_CALL*/"\u5931\u53bb\u9023\u7dda"/*FBT_CALL*/),q=h._(/*FBT_CALL*/"\u9023\u7dda\u4e2d\u22ef\u22ef"/*FBT_CALL*/),r=h._(/*FBT_CALL*/"\u5df2\u8907\u88fd"/*FBT_CALL*/),s=h._(/*FBT_CALL*/"\u8907\u88fd\u9023\u7d50"/*FBT_CALL*/),t=h._(/*FBT_CALL*/"\u5df2\u639b\u65b7"/*FBT_CALL*/),u=h._(/*FBT_CALL*/"\u95dc\u9589"/*FBT_CALL*/),v=h._(/*FBT_CALL*/"\u6b63\u5728\u639b\u65b7\u2026\u2026"/*FBT_CALL*/),w=h._(/*FBT_CALL*/"\u901a\u8a71\u9592\u7f6e"/*FBT_CALL*/),x=h._(/*FBT_CALL*/"\u6b63\u5728\u5176\u4ed6\u901a\u8a71\u4e2d"/*FBT_CALL*/),y=h._(/*FBT_CALL*/"\u8996\u8a0a\u804a\u5929\u4f86\u96fb"/*FBT_CALL*/),z=h._(/*FBT_CALL*/"\u8207\u5305\u5ec2\u9023\u7dda\u7684\u7528\u6236\u7aef\u6578\u91cf\u904e\u591a"/*FBT_CALL*/),A=h._(/*FBT_CALL*/"\u7121\u56de\u61c9"/*FBT_CALL*/),B=h._(/*FBT_CALL*/"\u7a0d\u5f8c\u518d\u8aaa"/*FBT_CALL*/),C=h._(/*FBT_CALL*/"\u5df2\u9054\u5230\u53c3\u8207\u4eba\u6578\u4e0a\u9650"/*FBT_CALL*/),D=h._(/*FBT_CALL*/"\u8acb\u7a0d\u5019\u22ef\u22ef"/*FBT_CALL*/),E=h._(/*FBT_CALL*/"\u5927\u982d\u8cbc\u7167"/*FBT_CALL*/),F=h._(/*FBT_CALL*/"\u6b63\u5728\u91cd\u65b0\u9023\u7dda\u2026\u2026"/*FBT_CALL*/),G=h._(/*FBT_CALL*/"\u91cd\u64a5"/*FBT_CALL*/),H=h._(/*FBT_CALL*/"\u64a5\u865f\u4e2d\u22ef\u22ef"/*FBT_CALL*/),I=h._(/*FBT_CALL*/"\u5207\u63db\u5230 Wi-Fi \u4ee5\u5b8c\u6210\u901a\u8a71"/*FBT_CALL*/),J=h._(/*FBT_CALL*/"\u7121\u6cd5\u806f\u7e6b"/*FBT_CALL*/),K=function(a){return h._(/*FBT_CALL*/"{name}\u7684\u76f8\u6a5f\u5df2\u95dc\u9589"/*FBT_CALL*/,[h._param("name",a)])},L=h._(/*FBT_CALL*/"\u5df2\u95dc\u9589\u76f8\u6a5f"/*FBT_CALL*/),M=h._(/*FBT_CALL*/"\u6b63\u5728\u7b49\u5f85\u5176\u4ed6\u4eba\u52a0\u5165\u2026\u2026"/*FBT_CALL*/);g.busy=a;g.callAgain=b;g.callEnded=c;g.callFailed=d;g.callInterrupted=e;g.cannotConnect=f;g.chatLinksLeftVideoChat=i;g.chatLinkMaxParticipantsExceeded=j;g.clientEncryptionError=k;g.close=l;g.connected=m;g.connecting=n;g.connectionDropped=o;g.connectionLost=p;g.contacting=q;g.copiedVideoChatLink=r;g.copyVideoChatLink=s;g.disconnected=t;g.dismiss=u;g.hangingUp=v;g.inactive=w;g.inAnotherCall=x;g.incomingVideoChat=y;g.invalidStreamConfiguration=z;g.noAnswer=A;g.notNow=B;g.participantLimitReached=C;g.pleaseWait=D;g.profilePictureAlt=E;g.reconnecting=F;g.redial=G;g.ringing=H;g.switchToWiFi=I;g.unreachable=J;g.userVideoOff=K;g.viewerVideoOff=L;g.waitingForOthers=M}),98);
__d("RTCEndCallReason",["FBRTCConstants","FBRTCDismissReason","FBRTCHangupReason","FBRTCRtcResponseStatusCode","RTWebStrings"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3="local",typeof a==="string"||a instanceof String?this.$1=d("FBRTCConstants").endCallReasonFromString(a):this.$1=a}var b=a.prototype;b.setSubreason=function(a){this.$2=a;return this};b.getSubreason=function(){return this.$2};b.setRemoteEnded=function(a){this.$3=a?"remote":"local";return this};b.getRemoteEnded=function(){return this.$3==="remote"};b.toStrName=function(a){a===void 0&&(a=!0);return a?this.$4()+"_"+this.$3:this.$4()};b.$4=function(){return d("FBRTCConstants").callEndReasonString(this.$1)};b.getReasonID=function(){return this.$1};b.toString=function(a){var b;a===void 0&&(a=!1);b=((b=this.$5(a))!=null?b:"").toString();return a?b+" "+this.$6():b};b.$5=function(a){switch(this.$1){case d("FBRTCConstants").CallEndReason.NO_ANSWER_TIMEOUT:case d("FBRTCConstants").CallEndReason.IGNORE_CALL:return d("RTWebStrings").noAnswer;case d("FBRTCConstants").CallEndReason.OTHER_NOT_CAPABLE:if(this.$2===d("FBRTCConstants").CollabCallEndSubreason.MCU_INVALID_STREAM_CONFIGURATION)return d("RTWebStrings").invalidStreamConfiguration;case d("FBRTCConstants").CallEndReason.INCOMING_TIMEOUT:case d("FBRTCConstants").CallEndReason.NO_PERMISSION:case d("FBRTCConstants").CallEndReason.OTHER_CARRIER_BLOCKED:return d("RTWebStrings").unreachable;case d("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED:case d("FBRTCConstants").CallEndReason.WEBRTC_ERROR:case d("FBRTCConstants").CallEndReason.NO_UI_ERROR:case d("FBRTCConstants").CallEndReason.CALLER_NOT_VISIBLE:case d("FBRTCConstants").CallEndReason.CLIENT_ERROR:return d("RTWebStrings").callFailed;case d("FBRTCConstants").CallEndReason.UNSUPPORTED_VERSION:return d("RTWebStrings").cannotConnect;case d("FBRTCConstants").CallEndReason.IN_ANOTHER_CALL:return d("RTWebStrings").inAnotherCall;case d("FBRTCConstants").CallEndReason.CARRIER_BLOCKED:return d("RTWebStrings").switchToWiFi;case d("FBRTCConstants").CallEndReason.CLIENT_INTERRUPTED:return d("RTWebStrings").callInterrupted;case d("FBRTCConstants").CallEndReason.HANGUP_CALL:case d("FBRTCConstants").CallEndReason.ACCEPT_AFTER_HANGUP:return a?"":d("RTWebStrings").callEnded;case d("FBRTCConstants").CallEndReason.CONNECTION_DROPPED:return d("RTWebStrings").connectionLost;case d("FBRTCConstants").CallEndReason.OTHER_INSTANCE_HANDLED:return null;case d("FBRTCConstants").CallEndReason.CLIENT_ENCRYPTION_ERROR:return d("RTWebStrings").clientEncryptionError;case d("FBRTCConstants").CallEndReason.INACTIVE_TIMEOUT:return d("RTWebStrings").inactive;default:return null}};b.$6=function(){var a;if(this.$1!==d("FBRTCConstants").CallEndReason.OTHER_NOT_CAPABLE&&this.$1!==d("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED&&this.$1!==d("FBRTCConstants").CallEndReason.HANGUP_CALL&&this.$1!==d("FBRTCConstants").CallEndReason.ACCEPT_AFTER_HANGUP)return"";switch(this.$2){case d("FBRTCConstants").CollabCallEndSubreason.REMOTE_PEER_HANGUP:return"Call ended";case d("FBRTCConstants").CollabCallEndSubreason.REMOTE_PEER_REJECT:return"Call declined";case d("FBRTCConstants").CollabCallEndSubreason.CLOSED_BY_MCU:return"Call expired";case d("FBRTCConstants").CollabCallEndSubreason.CLOSED_AS_STALE:return"Server failed, call is stale";case d("FBRTCConstants").CollabCallEndSubreason.CALL_INITIALIZATION_FAILED:return"Call initialization to room failed";case d("FBRTCConstants").CollabCallEndSubreason.SIP_CONNECTION_INITIALIZATION_FAILED:return"No Answer";case d("FBRTCConstants").CollabCallEndSubreason.LOST_MCU_CONNECTION:return"MCU Media connection failed";case d("FBRTCConstants").CollabCallEndSubreason.LOST_MCU_THRIFT_CONNECTION:return"MCU infrastructure dropped connection";case d("FBRTCConstants").CollabCallEndSubreason.LOST_SIP_ADAPTER_CONNECTION:return"SIP infrastructure dropped connection";case d("FBRTCConstants").CollabCallEndSubreason.MCU_NO_AUDIO_STREAM:return"Invalid audio stream";case d("FBRTCConstants").CollabCallEndSubreason.MCU_INVALID_STREAM_CONFIGURATION:return"Invalid stream configuration";case d("FBRTCConstants").CollabCallEndSubreason.INVALID_MEETING_ID:return"Invalid meeting ID";case d("FBRTCConstants").CollabCallEndSubreason.UNKNOWN:default:a=(a=this.$2)!=null?a:"Unknown";return this.$2!=null&&this.$2!==""?"Unexpected call failure: "+a:"Call ended"}};a.fromHangupReason=function(b){switch(b){case c("FBRTCHangupReason").IGNORE_CALL:return new a(d("FBRTCConstants").CallEndReason.IGNORE_CALL);case c("FBRTCHangupReason").NO_ANSWER_TIMEOUT:return new a(d("FBRTCConstants").CallEndReason.NO_ANSWER_TIMEOUT);case c("FBRTCHangupReason").HANGUP_CALL:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL);case c("FBRTCHangupReason").CLIENT_ERROR:return new a(d("FBRTCConstants").CallEndReason.CLIENT_ERROR);case c("FBRTCHangupReason").IN_ANOTHER_CALL:return new a(d("FBRTCConstants").CallEndReason.IN_ANOTHER_CALL);case c("FBRTCHangupReason").CLIENT_INTERRUPTED:return new a(d("FBRTCConstants").CallEndReason.CLIENT_INTERRUPTED);default:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL)}};a.subreasonFromDismissRequest=function(a){if(!a)return null;switch(a.reason){case c("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return"REMOVED_BY_PARTICIPANT";default:return null}};a.fromDismissRequest=function(b){if(!b)return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL);switch(b.reason){case c("FBRTCDismissReason").ANSWERED_ON_ANOTHER_DEVICE:case c("FBRTCDismissReason").REJECTED_ON_ANOTHER_DEVICE:return new a(d("FBRTCConstants").CallEndReason.OTHER_INSTANCE_HANDLED);case c("FBRTCDismissReason").CALL_ENDED:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL);case c("FBRTCDismissReason").IN_ANOTHER_CALL:return new a(d("FBRTCConstants").CallEndReason.IN_ANOTHER_CALL);case c("FBRTCDismissReason").CONNECTION_DROPPED:return new a(d("FBRTCConstants").CallEndReason.CONNECTION_DROPPED);case c("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL);case c("FBRTCDismissReason").REJECTED_BY_CALLEE:return new a(d("FBRTCConstants").CallEndReason.IGNORE_CALL);case c("FBRTCDismissReason").INTERNAL_ERROR:return new a(d("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED);default:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL)}};a.fromResponseStatusCode=function(b){switch(b){case c("FBRTCRtcResponseStatusCode").METHOD_NOT_ALLOWED:case c("FBRTCRtcResponseStatusCode").UNAUTHORIZED:return new a(d("FBRTCConstants").CallEndReason.NO_PERMISSION);case c("FBRTCRtcResponseStatusCode").SERVICE_UNAVAILABLE:return new a(d("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED);case c("FBRTCRtcResponseStatusCode").SERVER_INTERNAL_ERROR:case c("FBRTCRtcResponseStatusCode").BAD_REQUEST:case c("FBRTCRtcResponseStatusCode").CONDITIONAL_REQUEST_FAILED:case c("FBRTCRtcResponseStatusCode").NOT_FOUND:return new a(d("FBRTCConstants").CallEndReason.CLIENT_ERROR);default:return new a(d("FBRTCConstants").CallEndReason.HANGUP_CALL)}};return a}();g["default"]=a}),98);
__d("ZenonRTCOnDeviceChangePoller",["Promise","RTCMediaDevices","ZenonDebugLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){a.isNeeded=function(){var a=navigator;a=a.mediaDevices;return!d("RTCMediaDevices").isSupported("enumerateDevices")||a&&"ondevicechange"in a?!1:!0};function a(a){var c=this;this.$1=[];this.$2="";this.$4=null;this.$7=function(){d("RTCMediaDevices").enumerateDevices().then(function(a){a=a.map(function(a){return a.deviceId+":"+a.label+":"+a.groupId}).sort().join("~");if(a===c.$2)return;c.$2=a;for(var a=c.$1,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;try{e()}catch(a){}}})["catch"](function(a){return b("Promise").resolve()}).then(function(){c.$4=window.setTimeout(c.$7,c.$3)})["catch"](function(a){})};this.$3=a}var c=a.prototype;c.add=function(a){this.$1.push(a),this.$5()};c.remove=function(a){this.$1=this.$1.filter(function(b){return b!==a}),this.$6()};c.$5=function(){if(this.$4!==null)return;this.$4=window.setTimeout(this.$7,0)};c.$6=function(){if(this.$1.length>0)return;this.$4!==null&&(window.clearTimeout(this.$4),this.$4=null)};return a}();g["default"]=a}),98);
__d("RTCMediaDevices",["invariant","Promise","ZenonRTCOnDeviceChangePoller"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i=navigator.mediaDevices&&typeof navigator.mediaDevices.enumerateDevices==="function")!=null?i:!1,k=window.MediaStreamTrack&&window.MediaStreamTrack.getSources==="function",l=1e3,m;function a(a,b){if(a==="devicechange"&&c("ZenonRTCOnDeviceChangePoller").isNeeded()){m||(m=new(c("ZenonRTCOnDeviceChangePoller"))(l));m.add(b);return}var d=navigator;d=d.mediaDevices;d&&"addEventListener"in d&&d.addEventListener(a,b)}function d(a,b){if(a==="devicechange"&&c("ZenonRTCOnDeviceChangePoller").isNeeded()){m&&m.remove(b);return}var d=navigator;d=d.mediaDevices;d&&"removeEventListener"in d&&d.removeEventListener(a,b)}function e(a){switch(a){case"enumerateDevices":return j||k;default:return Boolean(navigator.mediaDevices)}}function f(){if(j){navigator.mediaDevices||h(0,4492);return b("Promise").resolve(navigator.mediaDevices.enumerateDevices())}else if(k)return new(b("Promise"))(function(a){return window.MediaStreamTrack.getSources(a)}).then(o);return b("Promise").reject(new Error("enumerateDevices() not supported"))}function n(a,b){return a.filter(function(a){return a.kind===b})}function o(a){return a.map(function(a){var b=a.id,c=a.kind;a=a.label;return{deviceId:b,groupId:"",kind:c==="video"?"videoinput":"audioinput",label:a}})}g.addEventListener=a;g.removeEventListener=d;g.isSupported=e;g.enumerateDevices=f;g.filterDevicesOfKind=n}),98);
__d("RTCVideoTrackActivityDetector",["invariant","MediaStream","Promise","assignMediaStream"],(function(a,b,c,d,e,f,g,h){"use strict";var i="video track playback timeout",j="unexpected video track ready state",k='wrong track type, expected "video"';function a(a,d){if("kind"in a&&a.kind!=="video")return b("Promise").reject(new Error(k));var e=document.createElement("video");e.muted=!0;var f=new(c("MediaStream"))();f.addTrack(a);var g,l=null,m=function(){window.clearInterval(l),e&&(e.pause(),c("assignMediaStream")(e,null),e.removeEventListener("timeupdate",g),e=null),f&&(f.removeTrack(a),f=null)};return b("Promise").race([new(b("Promise"))(function(d,i){e!=null||h(0,5995),c("assignMediaStream")(e,f),g=function(b){e!=null||h(0,5995),e.currentTime>0&&(a.readyState==="live"?(d(),m()):i(new Error(j)))},b("Promise").resolve(e.pause()).then(function(){e!=null||h(0,5995);return e.play()}).then(function(){g(),e!=null||h(0,5995),e.addEventListener("timeupdate",g),l=window.setInterval(g,50)})["catch"](function(a){return i(a)})}),new(b("Promise"))(function(a){return window.setTimeout(a,d)}).then(function(){throw new Error(i)})])["catch"](function(a){m();throw a})}g.PLAYBACK_TIMEOUT_ERROR=i;g.WRONG_READY_STATE_ERROR=j;g.WRONG_TRACK_TYPE_ERROR=k;g.detect=a}),98);
__d("RTCMediaStreamValidator",["Promise","RTCAudioTrackNoiseDetector","RTCVideoTrackActivityDetector"],(function(a,b,c,d,e,f,g){"use strict";var h="no audio tracks",i="no video tracks",j="too many audio tracks",k="too many video tracks",l="unexpected audio track(s)",m="unexpected video track(s)";function a(a,c,d,e){d===void 0&&(d={});e===void 0&&(e={});d=d;var f=d.audio;f=f===void 0?!0:f;d=d.video;d=d===void 0?!0:d;e=e;var g=e.audio;g=g===void 0?1e3:g;e=e.video;e=e===void 0?1e3:e;return b("Promise").all([n(a,c,f,g),o(a,c,d,e)]).then(function(){return a})}function n(a,c,e,f){var g=a.getAudioTracks();if(!c.audio)return g.length>0?b("Promise").reject(new Error(l)):b("Promise").resolve(a);if(g.length<1)return b("Promise").reject(new Error(h));else if(g.length>1)return b("Promise").reject(new Error(j));return e?d("RTCAudioTrackNoiseDetector").detect(g[0],f).then(function(){return a}):b("Promise").resolve(a)}function o(a,c,e,f){var g=a.getVideoTracks();if(!c.video)return g.length>0?b("Promise").reject(new Error(m)):b("Promise").resolve(a);if(g.length<1)return b("Promise").reject(new Error(i));else if(g.length>1)return b("Promise").reject(new Error(k));return e?d("RTCVideoTrackActivityDetector").detect(g[0],f).then(function(){return a}):b("Promise").resolve(a)}g.NO_AUDIO_TRACKS_ERROR=h;g.NO_VIDEO_TRACKS_ERROR=i;g.TOO_MANY_AUDIO_TRACKS_ERROR=j;g.TOO_MANY_VIDEO_TRACKS_ERROR=k;g.UNEXPECTED_AUDIO_TRACKS_ERROR=l;g.UNEXPECTED_VIDEO_TRACKS_ERROR=m;g.validate=a}),98);
__d("FBRTCParticipantCallState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17})}),null);
__d("ScotchConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=(b=b("$InternalEnum"))({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",PING:"ping",PING_ACK:"ping_ack",HANGUP:"hang_up",OTHER_DISMISS:"other_dismiss",MSG_ACK:"msg_ack",PRANSWER:"pranswer",ICERESTART_OFFER:"icerestart_offer",ICERESTART_ANSWER:"icerestart_answer",PCRESTART_OFFER:"pcrestart_offer",PCRESTART_ANSWER:"pcrestart_answer",SDP_UPDATE:"sdp_update",OFFER_ACK:"offer_ack",OFFER_NACK:"offer_nack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",VIDEO_REQUEST:"video_request",ACK:"ack",SWITCH_TO_MULTIWAY:"switch_to_multiway",CLIENT_REPORTED_EVENT:"client_reported_event"}),h=b({CHILD_WINDOW_READY:"rtc_child_window_ready",CHILD_WINDOW_START_CALL:"rtc_child_window_start_call",CHILD_WINDOW_MESSAGE:"rtc_child_window_message"}),i=b({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip"}),j=b.Mirrored(["SCREEN","CAMERA"]),k=b({AUDIO_ONLY:"audio_only",AUDIO_VIDEO:"audio_video",SCREEN_CONTENT:"screen"}),l=b.Mirrored(["CUSTOM_VIDEO_STREAM_SIZE","CUSTOM_VIDEO","FHD_VIDEO","HD_VIDEO","LQ_VIDEO","SD_VIDEO","HD_IDEAL_LQ_REQUIRED_VIDEO","FHD_IDEAL_LQ_REQUIRED_VIDEO"]),m={height:{fhd:1080,hd:720,sd:480,lq:180},width:{fhd:1920,hd:1280,sd:848,lq:320},frameRate:{sd:30,lq:15,vlq:5}},n=Object.freeze({UNKNOWN:-1,IGNORE_CALL:0,HANGUP_CALL:1,IN_ANOTHER_CALL:2,ACCEPT_AFTER_HANGUP:3,NO_ANSWER_TIMEOUT:4,INCOMING_TIMEOUT:5,OTHER_INSTANCE_HANDLED:6,SIGNALING_MESSAGE_FAILED:7,CONNECTION_DROPPED:8,CLIENT_INTERRUPTED:9,WEBRTC_ERROR:10,CLIENT_ERROR:11,NO_PERMISSION:12,OTHER_NOT_CAPABLE:13,NO_UI_ERROR:14,UNSUPPORTED_VERSION:15,CALLER_NOT_VISIBLE:16,CARRIER_BLOCKED:17,OTHER_CARRIER_BLOCKED:18,CLIENT_ENCRYPTION_ERROR:19,INACTIVE_TIMEOUT:20,KILLED:21,TX_ACK_TIMEOUT:22}),o=b({CALL_INITIALIZATION_FAILED:"CollabCallInitializationFailed",CLOSED_AS_STALE:"CollabClosedAsStale",CLOSED_BY_MCU:"CollabClosedByMcu",INVALID_MEETING_ID:"CollabInvalidMeetingId",LOST_MCU_CONNECTION:"CollabLostMcuConnection",LOST_MCU_THRIFT_CONNECTION:"CollabLostMcuThriftConnection",LOST_SIP_ADAPTER_CONNECTION:"CollabLostSipAdapterConnection",MCU_INVALID_STREAM_CONFIGURATION:"CollabMcuInvalidStreamConfiguration",MCU_NO_AUDIO_STREAM:"CollabMcuNoAudioStream",REMOTE_PEER_HANGUP:"CollabRemotePeerHangup",REMOTE_PEER_REJECT:"CollabRemotePeerReject",SIP_CONNECTION_INITIALIZATION_FAILED:"CollabSipConnectionInitializationFailed",AUDIO_ONLY_DISALLOWED:"CollabAudioOnlyDisallowed",UNKNOWN:"CollabUnknown",KILLED_VIA_THRIFT_API:"CollabKilledViaThriftApi"});b=b({ONE_HOUR:"1hour",UNTIL_EIGHT_AM:"8am",ALWAYS:"always"});var p=Object.freeze({CUSTOM:"custom",MULTIWAY:"multiway",P2P:"p2p"}),q=Object.freeze({DOMINANT_SPEAKER:"DOMINANT_SPEAKER",GRID:"GRID"}),r=Object.freeze({LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"}),s=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1}),t=Object.freeze({PLAN_B:"plan-b",UNIFIED_PLAN:"unified-plan"}),u=Object.freeze({LL_NIL:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5});function a(a){switch(a){case u.LL_DEBUG:return"d";case u.LL_BASIC:return"b";case u.LL_WARNING:return"w";case u.LL_INFO:return"i";case u.LL_VERBOSE:return"v";case u.LL_NIL:default:return null}}function c(a){switch(a){case"d":return u.LL_DEBUG;case"b":return u.LL_BASIC;case"w":return u.LL_WARNING;case"i":return u.LL_INFO;case"v":return u.LL_VERBOSE;default:return u.LL_NIL}}function d(a){switch(a){case u.LL_BASIC:return"basic";case u.LL_DEBUG:return"debug";case u.LL_WARNING:return"warning";case u.LL_INFO:return"info";case u.LL_VERBOSE:return"verbose";default:return""}}var v=["IgnoreCall","HangupCall","InAnotherCall","CallEndAcceptAfterHangUp","NoAnswerTimeout","IncomingTimeout","OtherInstanceHandled","SignalingMessageFailed","ConnectionDropped","ClientInterrupted","WebRTCError","ClientError","NoPermission","OtherNotCapable","NoUIShown","VersionUnsupported","CallerNotVisible","CarrierBlocked","OtherCarrierBlocked","ClientEncryptionError","InactiveTimeout","Killed","TxAckTimeout"];function e(a){return v.indexOf(a)}function w(a){a=v[a];return!a?"Unknown":a}function x(a,b){return this.callEndReasonString(a)+"_"+(b?"remote":"local")}f.PayloadType=g;f.ChildWindowMessageType=h;f.CallType=i;f.MediaContentTypes=j;f.StreamType=k;f.VideoQuality=l;f.RTCConstraints=m;f.CallEndReason=n;f.CollabCallEndSubreason=o;f.CallBlockingConstants=b;f.SignalingProtocol=p;f.GroupVideoViewLayout=q;f.Orientation=r;f.ClientReportedEventType=s;f.SDPSemantics=t;f.UploadLogLevel=u;f.convertFromUploadLogLevel=a;f.convertToUploadLogLevel=c;f.uploadLogLevelString=d;f.endCallReasonFromString=e;f.callEndReasonString=w;f.fullCallEndReasonString=x}),66);
__d("RTCUser",["FBRTCParticipantCallState","RTCUserRecord","ScotchConstants","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.clone=function(){return new b(this.toObject())};e.setParticipantState=function(a){return(!this.participantState||this.participantState.state!==c("FBRTCParticipantCallState").CONNECTED)&&a.state===c("FBRTCParticipantCallState").CONNECTED?this.set("participantState",a).set("lastConnectedAt",Date.now()):!this.participantState||this.participantState.state!==a.state?this.set("participantState",a):this};e.getParticipantState=function(){return this.participantState&&this.participantState.state};e.hasAudio=function(){return this.getAllStreamAudioTracks().some(function(a){return a.length>0})};e.hasVideo=function(){return this.streams.some(function(a){return a.getVideoTracks().length>0})};e.hasLiveVideoTracks=function(){return this.streams.some(function(a){return a.getVideoTracks().some(function(a){return a.readyState==="live"})})};e.isAudioDisabled=function(){var a=this;return!this.hasAudio()?!0:this.getAllStreamAudioTracks().every(function(b){return a.areAllTracksDisabled(b)})};e.isVideoDisabled=function(){var a=this;return!this.hasVideo()?!0:this.streams.every(function(b){return a.areAllTracksDisabled(b.getVideoTracks())})};e.areAllTracksDisabled=function(a){return!a.some(function(a){return a.enabled})};e.hasFunctioningVideoTrack=function(){return!this.hasVideo()?!1:this.streams.every(function(a){return a.getVideoTracks().some(function(a){return a.enabled&&!a.muted})})};e.toggleAudioTrackMutedByUser=function(a,b){a=this.audioStreamMuteStates.set(a,b);return this.set("audioStreamMuteStates",a)};e.toggleDisableAudio=function(a){var b=this;this.getAllStreamAudioTracks().forEach(function(c){return b.$RTCUser1(c,a)});return this.clone()};e.toggleDisableVideo=function(a){var b=this;this.streams.forEach(function(c){b.$RTCUser1(c.getVideoTracks(),a)});return this.clone()};e.stopVideo=function(){var a=this;this.streams.forEach(function(b){b.getVideoTracks().forEach(function(c){a.$RTCUser1(b.getVideoTracks(),!0),c.readyState!=="ended"&&(c.onended&&c.onended(),c.stop())})});return this.clone()};e.getAllStreamAudioTracks=function(){return this.streams.concat(this.screenStreams).map(function(a){return a.getAudioTracks()})};e.hasStream=function(){return!this.streams.isEmpty()};e.addStream=function(a){return this.set("streams",this.streams.add(c("nullthrows")(a)))};e.removeStream=function(a){var b=this.audioStreamMuteStates["delete"](a.id);this.set("audioStreamMuteStates",b);return this.set("streams",this.streams["delete"](a))};e.getStream=function(){return this.hasStream()?this.streams.first():null};e.getActiveStream=function(){return this.hasStream()?this.streams.find(function(a){return"active"in a&&a.active}):null};e.replaceStream=function(a,b){return!this.streams.contains(a)?this:this.set("streams",this.streams["delete"](a).add(b))};e.removeAllStreams=function(){return this.set("streams",c("immutable").Set())};e.getScreenStream=function(){return this.screenStreams&&this.hasScreenStream()?this.screenStreams.first():null};e.hasScreenStream=function(){return!this.screenStreams.isEmpty()};e.addScreenStream=function(a){return this.set("screenStreams",this.screenStreams.add(a))};e.removeScreenStream=function(a){return this.set("screenStreams",this.screenStreams["delete"](a))};e.removeAllScreenStreams=function(){return this.set("screenStreams",c("immutable").Set())};e.replaceScreenStream=function(a,b){if(!this.screenStreams.contains(a))return this;return a===b?this:this.set("screenStreams",this.screenStreams.add(b)["delete"](a))};e.setRoomLocation=function(a){return this.set("roomLocation",a)};e.getRoomLocation=function(){return this.roomLocation};e.$RTCUser1=function(a,b){var c=b!=null?!b:this.areAllTracksDisabled(a);a.forEach(function(a){return a.enabled=c})};e.getMediaTypeForTracks=function(){var a=new Map(),b=this.getScreenStream();b&&b.getVideoTracks().forEach(function(b){return a.set(b.id,d("ScotchConstants").MediaContentTypes.SCREEN)});return a};e.subscribeVideo=function(){return this.set("isVideoSubscribed",!0)};e.unsubscribeVideo=function(){return this.set("isVideoSubscribed",!1)};e.setPausedDownlink=function(a){return this.set("pausedDownlink",a)};return b}(c("RTCUserRecord"));g["default"]=a}),98);
__d("FBRTCExperiment",["FBRTCExperimentsConfig","QE2Logger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){a.gen=function(b){var d={params:{},auto_exposure:!1,in_experiment:!1};d=c("FBRTCExperimentsConfig")[b]||d;b=new a(b,d);return b};a.getIncomingCallExperiments=function(){return a.gen("rtweb_incoming_call_experiments")};a.getMediaQualityExperiments=function(){return a.gen("rtc_www_media_quality_h2_2018")};a.getUpsellMessengerDesktopUnsupportedBrowser=function(){return a.gen("upsell_messenger_desktop_unsupported_browser_universe")};function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.$3=function(){this.$2.auto_exposure&&this.logExposure()};b.logExposure=function(){this.$2.in_experiment&&d("QE2Logger").logExposureForUser(this.$1)};b.getParam=function(a,b){if(this.$2.in_experiment){this.$3();a=this.$2.params[a];if(a!==void 0)return String(a)}return b};b.getInt=function(a,b){if(this.$2.in_experiment){this.$3();if(this.$2.params[a]!==void 0)return parseInt(this.$2.params[a],10)}return b};b.getBool=function(a,b,c){c===void 0&&(c=!0);var d=this.$2.params;if(this.$2.in_experiment){c&&this.$3();if(d[a]!==void 0)return d[a]==="1"||d[a]===1||d[a]==="true"||d[a]===!0}return b};return a}();g["default"]=a}),98);
__d("RTWebClientFeatureGating",["CurrentUser","FBRTCConfig","FBRTCExperiment","FBRTCSupport","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("FBRTCConfig").isVCEndpointCall()||c("CurrentUser").isWorkUser()}function b(){return c("gkx")("867914")}function e(){return!1}function f(){return c("FBRTCExperiment").gen("rtc_www_larger_self_view").getBool("draggable_self_view",!1)}function h(){return!this.isVCCallOrWorkUser()}function i(){return!c("CurrentUser").isWorkUser()&&d("FBRTCSupport").isVideoFilterEffectSupported()}function j(){if(d("FBRTCConfig").isVCEndpointCall())return!1;return c("CurrentUser").isWorkUser()&&!c("gkx")("1020560")?!1:!0}function k(){return!1}function l(){return c("FBRTCExperiment").getIncomingCallExperiments().getBool("use_new_incoming_call_dialog",!1)}function m(){return c("FBRTCExperiment").getIncomingCallExperiments().getBool("use_three_buttons",!1)}function n(){return c("FBRTCExperiment").gen("rtc_www_call_unification").getBool("in_call_background_updated",!1)}function o(){return c("gkx")("678350")}function p(){if(d("FBRTCConfig").isVCEndpointCall())return!1;var a=c("FBRTCExperiment").gen("turnoff_camera_when_facemute");return a.getBool("camera_off",!1)}function q(){var a=c("FBRTCExperiment").gen("turnoff_camera_when_facemute");return a.getBool("track_api",!1)}function r(){return!this.isVCCallOrWorkUser()}function s(){return c("gkx")("678351")}function t(){return c("gkx")("700608")}function u(){return c("gkx")("724606")}function v(){return navigator.userAgent.indexOf("Intel Mac OS X 10_14")!==-1}function w(){return c("FBRTCExperiment").gen("rt_web_fb_profile_rtc_buttons").getBool("open_chat_tab",!1)}function x(){return this.isVCCallOrWorkUser()?!1:c("FBRTCExperiment").getMediaQualityExperiments().getBool("show_network_indicator",!1)}function y(){return this.isVCCallOrWorkUser()?!1:c("FBRTCExperiment").getMediaQualityExperiments().getBool("monitor_network_quality",!1)}function z(){return!d("FBRTCConfig").isVCEndpointCall()}g.isVCCallOrWorkUser=a;g.shouldShowEndCallQPs=b;g.shouldShowCreateVCLButton=e;g.draggableSelfView=f;g.endCallSurveyDropdownOptions=h;g.canUseMWVideoFilters=i;g.isChatEnabled=j;g.isGroupChatEnabled=k;g.useNewIncomingCallDialog=l;g.answerCallWithThreeButtons=m;g.callUnification=n;g.canUseMultiwaySandbox=o;g.stopVideoWhenMute=p;g.restartVideoWithTrackAPI=q;g.shouldAlwaysShowRedial=r;g.disableOpusStereo=s;g.shouldApplySdpMidTranslation=t;g.preserveFirefoxInactiveDataChannelBlock=u;g.showMojavePermissionsWarning=v;g.alwaysOpenChatTab=w;g.shouldShowNetworkQualityIndicator=x;g.shouldMonitorNetworkQuality=y;g.preferIsacForGroupCalls=z}),98);
__d("UserMediaRequestError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,c)||this;e.constraint=d;e.nativeErrorName=b;e.message=g(c);e.name=h(b);return e}b.createFromNative=function(a){var c=a.constraint,d=a.message;a=a.name;return new b(a,d,c||"")};var c=b.prototype;c.isRecoverableError=function(){return this.name==="InvalidStateError"?!0:!1};c.getEndCallSubReason=function(){return"MediaFailed: "+this.name+", "+this.constraint};return b}(babelHelpers.wrapNativeSuper(Error));function g(a){switch(a){case"The operation is insecure.":return"The request is not allowed by the user agent or the platform in the current context.";default:return a}}function h(a){switch(a){case"ConstraintNotSatisfiedError":return"OverconstrainedError";case"NO_DEVICES_FOUND":case"DevicesNotFoundError":return"NotFoundError";case"MediaDeviceFailedDueToShutdown":case"MediaDeviceKillSwitchOn":case"TrackStartError":return"NotReadableError";case"PermissionDeniedError":case"PERMISSION_DENIED":case"PermissionDismissedError":return"NotAllowedError";default:return a}}f["default"]=a}),66);
__d("generateRTCTransactionID",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(){return String(c("randomInt")(0,4294967294)+1)}g["default"]=a}),98);
__d("RTCUtils",["invariant","CurrentUser","FBLogger","FBRTCConfig","FBRTCLogger","FBRTCUtils","Promise","RTCAudioTrackNoiseDetector","RTCEndCallReason","RTCMediaDevices","RTCMediaStreamValidator","RTCScreenSharing","RTCUser","RTCUserMediaConstraints","RTCVideoTrackActivityDetector","RTWebClientFeatureGating","RTWebUserActionLogger","URI","UserAgent","UserMediaRequestError","generateRTCTransactionID","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("RTCAudioTrackNoiseDetector").DATA_TIMEOUT_ERROR,j=b("RTCVideoTrackActivityDetector").PLAYBACK_TIMEOUT_ERROR,k={isGroupCall:function(a){return a.split(":")[0]==="GROUP"},isMessengerCall:function(a){return a.split(":")[0]==="MESSENGER"},isRoomCall:function(a){return a.split(":")[0]==="ROOM"},isPeerCall:function(a){return a.split(":")[0]==="PEER"},isAlohaCall:function(a){return a.split(":")[0]==="ALOHA"},isWatchPartyCall:function(a){return a.split(":")[0]==="WATCH"},isSupportedMWCall:function(a){return k.isGroupCall(a)||k.isMessengerCall(a)||k.isRoomCall(a)||k.isAlohaCall(a)||k.isWatchPartyCall(a)},getPeerID:function(a){if(k.isGroupCall(a))throw new Error("Not a P2P call: "+a);a=a.split(":");a=a.slice(1);return a[0]===b("CurrentUser").getID()?a[1]:a[0]},getMessengerCallID:function(a){if(!k.isMessengerCall(a))throw new Error("Not a Messenger call: "+a);return Number(a.split(":")[1])},getThreadID:function(a){return!k.isGroupCall(a)?null:Number(a.split(":")[1])},getSandboxingTierFromURIOrEmpty:function(a,b){b=b+"=";a=a.split(b);if(a[1]){b=a.pop().split("&").shift();return b}return""},maybeAppendSandboxOverrides:function(a){a.extensions==null&&(a.extensions={});if(b("RTWebClientFeatureGating").canUseMultiwaySandbox()){var c=window.location.href,d=k.getSandboxingTierFromURIOrEmpty(c,"multiway_www_tier");c=k.getSandboxingTierFromURIOrEmpty(c,"multiway_core_tier");d&&a.extensions!=null&&(a.extensions.multiwayWwwTier=d);c&&a.extensions!=null&&(a.extensions.multiwayCoreTier=c)}},createRequestHeader:function(a,c,d,e,f){a={type:a,clientStack:4,transactionId:b("generateRTCTransactionID")(),retryCount:0,conferenceName:c,clientSessionId:e?e:""};c={};d&&(a.serverInfoData=d);f&&(c.esc_p2p_call_id=f);a.extensions=c;k.maybeAppendSandboxOverrides(a);return a},createClientContextMessage:function(a,b){a={num_participants:a,trigger:b};b={header:{topic_DEPRECATED:"client_context",shouldSendToAllUsers:!1},body:{genericMessage:{topic:"client_context",data:JSON.stringify(a)}}};return b},createResponseHeader:function(a,b,c){b={type:a.type,clientStack:4,transactionId:a.transactionId,retryCount:0,conferenceName:a.conferenceName,responseStatusCode:b,clientSessionId:c?c:""};a.serverInfoData&&(b.serverInfoData=a.serverInfoData);b.extensions={};k.maybeAppendSandboxOverrides(b);return b},maybeRemoveVideoConstraint:function(a){return b("RTCMediaDevices").enumerateDevices().then(function(c){if(c.some(function(a){return a.kind==="videoinput"})){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[maybeRemoveVideoConstraint] At least one device has videoinput.  Keeping constraints "+JSON.stringify(a)});return a}b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[maybeRemoveVideoConstraint] No devices capable of videoinput.",errorDomain:"GetUserMedia",errorType:"Removing video stream by setting video constraint to false."});return babelHelpers["extends"]({},a,{video:!1})})["catch"](function(){return b("Promise").resolve(a)})},getUserMediaWithAudioFallback:function(a,c){return a.video?k.maybeRemoveVideoConstraint(a).then(function(a){return k.getUserMedia(a,c)})["catch"](function(c){if(a.video){if(c.name==="NotFoundError"||c.name==="StreamFailedToStart"){var d="Audio Fallback Error Recovery: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Retrying getUserMedia with no video stream",errorDomain:"GetUserMedia",errorType:d});return k.getUserMedia({video:!1,audio:a.audio})}if(c.name==="OverconstrainedError"){d="Video Constraints Error Recovery: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Retrying getUserMedia with no video constraints",errorDomain:"GetUserMedia",errorType:d});return k.getUserMedia({video:!0,audio:a.audio})}}d="Error: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Throwing other error",errorDomain:"GetUserMedia",errorType:d});throw c}):k.getUserMedia(a,c)},getUserMediaWithFallbackToEmptyVideoConstraints:function(a,c){return k.getUserMedia(a,c)["catch"](function(c){if(a.video&&c.name==="OverconstrainedError"){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithFallbackToEmptyVideoConstraints] Fallback getUserMedia with no video constraints",errorDomain:"GetUserMedia",errorType:"Original Constraints: "+JSON.stringify(a)});return k.getUserMedia(babelHelpers["extends"]({},a,{video:!0}))}throw c})},getUserScreenMedia:function(a,c,d){return b("RTCScreenSharing").getUserMedia(a,c,d)},getUserMedia:function(a,c){var d=navigator,e=d.mediaDevices;if(typeof a.video==="object"&&a.video.mediaSource){b("FBLogger")("rtc_www").mustfix("Please use %s instead of %s for screen","RTCUtils.getUserScreenMedia()","RTCUtils.getUserMedia()");return b("RTCScreenSharing").getUserMedia(a,"unknown")}d=c&&c.optionalConstraintsOnly&&a.video;var f=k._parseConstraints(a,{optionalConstraintsOnly:!!d}),g=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return new(b("Promise"))(function(a,d){e&&typeof e.getUserMedia==="function"?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Newer version"}),a(e.getUserMedia(f).then(function(a){return k._maybeSupportFilteredStreams(a,!!(c&&c.supportFilteredStreams))}))):g?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Backwards compatible version"}),g.call(navigator,f,a,d)):(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Not supported"}),d("getUserMedia not supported"))})["catch"](function(a){var c=a.message,d=a.name,e=a.constraint;b("RTWebUserActionLogger").logError({errorDomain:"GetUserMedia",errorType:(d?d:"unknown GetUserMedia error")+":"+(c?" "+c:"")+(e?" "+e:"")});throw b("UserMediaRequestError").createFromNative(a)})},_parseConstraints:function(a,c){if(b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")){var d=a.audio,e=a.video,f={};d!==void 0&&(f.audio=b("RTCUserMediaConstraints").chromify(d));e!==void 0&&(f.video=b("RTCUserMediaConstraints").chromify(e,c));return f}return a},_maybeSupportFilteredStreams:function(a,b){return a},getUserMediaWithValidation:function(a,c,d,e){c===void 0&&(c={audio:!0,video:!0});d===void 0&&(d=5);e===void 0&&(e={audio:1e3,video:1e3});return new(b("Promise"))(function(f,g){var h=function d(h){k.getUserMedia(a).then(function(d){return b("RTCMediaStreamValidator").validate(d,a,c,e).then(function(a){return f({stream:a})})["catch"](function(a){if(a.message===i||a.message===j)f({stream:d,err:a});else{k.stopMediaStream(d);throw a}})},g)["catch"](function(a){h>0?d(h-1):g(a)})};h(d)})},isFullScreen:function(){return Boolean(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},requestFullScreen:function(a){a===void 0&&(a=document.documentElement),typeof a.requestFullscreen==="function"?a.requestFullscreen():typeof a.msRequestFullscreen==="function"?a.msRequestFullscreen():typeof a.mozRequestFullScreen==="function"?a.mozRequestFullScreen():typeof a.webkitRequestFullscreen==="function"&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},exitFullScreen:function(){typeof document.exitFullscreen==="function"?document.exitFullscreen():typeof document.msExitFullscreen==="function"?document.msExitFullscreen():typeof document.mozCancelFullScreen==="function"?document.mozCancelFullScreen():typeof document.webkitExitFullscreen==="function"&&document.webkitExitFullscreen()},toggleFullScreen:function(){k.isFullScreen()?k.exitFullScreen():k.requestFullScreen()},endCallReasonFromHangupReason:function(a){return b("RTCEndCallReason").fromHangupReason(a).getReasonID()},endCallReasonFromDismissRequest:function(a){return b("RTCEndCallReason").fromDismissRequest(a).getReasonID()},endCallSubreasonFromDismissRequest:function(a){return b("RTCEndCallReason").subreasonFromDismissRequest(a)},endCallReasonFromResponseStatusCode:function(a){return b("RTCEndCallReason").fromResponseStatusCode(a).getReasonID()},stopMediaStream:function(a){if(!a.active&&"active"in a)return;a.getTracks().forEach(function(a){a.readyState!=="ended"&&a.stop()})},transferAudioTracks:function(a,b){for(var c=b.getAudioTracks(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.addTrack(f);b.removeTrack(f)}},payloadParticipantsToRTCUsers:function(a){return a.map(function(a){var c=a.big_image_src||a.image_src;a.fbid||g(0,1174);return new(b("RTCUser"))({FBID:a.fbid,profileUrl:new(h||(h=b("URI")))(a.href),profilePictureUrl:c,isMessengerUser:!!a.is_messenger_user,isPartiesUser:!!a.is_parties_user,userName:a.name,userShortName:a.short_name,vanity:a.vanity||""})})},getStreamVideoResolution:function(a){return new(b("Promise"))(function(c,d){var e=document.createElement("video");b("FBRTCUtils").attachMediaStream(e,a);var f=function(){e.removeEventListener("loadedmetadata",g),e.removeEventListener("error",h),b("FBRTCUtils").attachMediaStream(e,null)},g=function(){c({height:e.videoHeight,width:e.videoWidth}),f()},h=function(){d(e.error),f()};e.addEventListener("loadedmetadata",g);e.addEventListener("error",h)})},isScreenSharingSupported:function(){return b("UserAgent").isBrowser("Chrome")||k.isVCScreenSharingSupported()},isVCScreenSharingSupported:function(){return b("FBRTCConfig").isVCEndpointCall()&&b("gkx")("1738376")},filterDevicesByKind:function(a,b){return a?a.filter(function(a){return a.kind===b}):[]},isDevicePresent:function(a,b){return a==null?!1:a.some(function(a){return a.deviceId===b})}};e.exports=k}),null);
__d("RTCUtils.bs",["RTCUtils"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("RTCUtils").getUserMedia(a)}function c(a){b("RTCUtils").stopMediaStream(a)}f.getUserMedia=a;f.stopMediaStream=c}),null);
__d("MWChatAudioRecorderAPI.bs",["Promise","RTCUtils.bs","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c={contents:void 0},d=new Map(),e=new Map(),f={contents:0},g={contents:0},h={contents:0};return{startRecording:function(a){h.contents=Date.now(),d.forEach(function(c,a,d){return b("bs_curry")._1(c,void 0)})},stopRecording:function(a){a=c.contents;a!==void 0&&b("RTCUtils.bs").stopMediaStream(b("bs_caml_option").valFromOption(a));return b("Promise").all(Array.from(e.entries()).map(function(a){return b("bs_curry")._1(a[1],void 0)})).then(function(a){return b("Promise").resolve(void 0)})},onStartRecording:function(a){var b=f.contents;f.contents=f.contents+1|0;d.set(b,a);return function(a){return d["delete"](b)}},onStopRecording:function(a){var b=g.contents;g.contents=g.contents+1|0;e.set(b,a);return function(a){return e["delete"](b)}},getStartTime:function(a){return h.contents},getAudioStreamRef:function(a){return c},resetStartTime:function(a){h.contents=0}}}c=250;f.cELAPSED_TIME_UPDATE_INTV_MS=c;f.createAudioAPI=a}),null);
__d("LSContactMessengerRestrictAction.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.restrict=a;f.unrestrict=c}),null);
__d("MWInboxInfoPrivacyAndSupportSectionIcons.bs",["cr:1724558"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1724558")).Notifications;d=a.BlockMessages;e=a.IgnoreMessages;b=a.RestrictMessages;var g=a.RestrictMessagesPendingState,h=a.FRXItem,i=a.EndToEndEncryptionKeys;f.$MDSPrivacyAndSupportSectionIcons$OR$TetraPrivacyAndSupportSectionIcons$requireCond=a;f.Notifications=c;f.BlockMessages=d;f.IgnoreMessages=e;f.RestrictMessages=b;f.RestrictMessagesPendingState=g;f.FRXItem=h;f.EndToEndEncryptionKeys=i}),null);
__d("MWRestrictDialogActionToggle.react",["nux:89","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("nux:89")==null?void 0:b("nux:89")("web_msgr_restrict_first_time_nux");function a(a){var b=a.children;a=a.dialogProps;if(i!=null&&!a.isRestricted)return h.jsx(i,{dialogProps:a,children:function(a,c){return b(a)}});else return b(a.onPress)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsMessengerThreadDamagingActionsSource",[],(function(a,b,c,d,e,f){a=Object.freeze({BLOCKED_PEOPLE:0,CANONICAL_THREAD:1,EMPTY_THREAD:2,GROUP_THREAD:3,INCOMING_CALL:4,PAGE:5,STORY:6,TINCAN_THREAD:7,USER:8,CARRIER_THREAD:9,MESSAGE_REQUEST:10,SUPPORT_INBOX:11,DISAPPEARING_THREAD:12,OFFLINE_RETRIES:13,ONGOING_CALL:14,POST_CALL:15,CONTACT_MANAGER:16,SECURE_OVER_WA_CANONICAL:17,SECURE_OVER_WA_GROUP:18,GROUP_COMMUNITY_MESSAGING_THREAD:19,GROUP_COMMUNITY_MEMBER_LIST:20});f["default"]=a}),66);
__d("LsMessengerThreadDamagingActionsSourceOwner",[],(function(a,b,c,d,e,f){a=Object.freeze({MCI:0,MBI:1,RTC:2,HI:3});f["default"]=a}),66);
__d("MWLSMessengerRestrict.bs",["FBID.bs","LS.bs","LSContactMessengerRestrictAction.bs","LSSetMessengerRestrict","LSTransaction.bs","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","ReStore.bs","bs_caml_int64","bs_curry","bs_int64","promiseDone","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MessengerWellbeingRestrictSucceededFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),j=b("requireDeferred")("MessengerWellbeingUnrestrictSucceededFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs");function k(a,c,d,e,f){a===b("LSContactMessengerRestrictAction.bs").unrestrict?j.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,entry_point:b("bs_caml_int64").to_int32(f),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:e,source_type:void 0},thread:{id:b("bs_int64").to_string(d)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))}}})}):i.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,entry_point:b("bs_caml_int64").to_int32(f),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:e,source_type:void 0},thread:{id:b("bs_int64").to_string(d)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))}}})})}var l=b("requireDeferred")("MessengerWellbeingRestrictFailedFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),m=b("requireDeferred")("MessengerWellbeingUnrestrictFailedFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs");function n(a,c,d,e,f){a===b("LSContactMessengerRestrictAction.bs").unrestrict?m.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,entry_point:b("bs_caml_int64").to_int32(f),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:e,source_type:void 0},thread:{id:b("bs_int64").to_string(d)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))}}})}):l.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,entry_point:b("bs_caml_int64").to_int32(f),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:e,source_type:void 0},thread:{id:b("bs_int64").to_string(d)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))}}})})}function a(a,c,d,e){var f=b("ReStore.bs").useHook(void 0);return h.useCallback(function(g){b("promiseDone")(b("LSTransaction.bs").run(f,function(c){return b("LSSetMessengerRestrict")(a,g,d,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),function(b){return k(g,a,c,d,e)},function(b){return n(g,a,c,d,e)})},[f,JSON.stringify(a),JSON.stringify(c),d,e])}f.$MessengerWellbeingRestrictSucceededFalcoEvent$Deferred=i;f.$MessengerWellbeingUnrestrictSucceededFalcoEvent$Deferred=j;f.logRestrictOrUnrestrictSuccess=k;f.$MessengerWellbeingRestrictFailedFalcoEvent$Deferred=l;f.$MessengerWellbeingUnrestrictFailedFalcoEvent$Deferred=m;f.logRestrictOrUnrestrictFailure=n;f.useHook=a}),null);
__d("UseMWRestrictContactOneOnOneThread.bs",["CurrentEnvironment","FBID.bs","LSContactMessengerRestrictAction.bs","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","MWLSMessengerRestrict.bs","MWLSThreadDisplayContext.bs","bs_caml_int64","bs_curry","bs_int64","cr:1158","cr:12115","requireDeferred","useCometRouterDispatcher","uuid"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("MessengerWellbeingRestrictTappedFalcoEvent.bs").__setRef("UseMWRestrictContactOneOnOneThread.bs"),h=b("requireDeferred")("MessengerWellbeingUnrestrictTappedFalcoEvent.bs").__setRef("UseMWRestrictContactOneOnOneThread.bs");function i(a,c,d,e,f){a?h.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,entry_point:b("bs_caml_int64").to_int32(f),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:c,source_type:void 0},thread:{id:b("bs_int64").to_string(e)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d))}}})}):g.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,entry_point:b("bs_caml_int64").to_int32(f),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:c,source_type:void 0},thread:{id:b("bs_int64").to_string(e)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d))}}})})}function a(a,c,d,e){var f=b("uuid")(),g=b("MWLSMessengerRestrict.bs").useHook(a,c,f,d),h=b("useCometRouterDispatcher")(),j=b("MWLSThreadDisplayContext.bs").useHook(void 0),k=b("cr:12115")==null?function(a){}:b("bs_curry")._1(b("cr:12115").useDispatch,void 0);return function(l){i(e,f,a,c,d);b("bs_curry")._1(g,e?b("LSContactMessengerRestrictAction.bs").unrestrict:b("LSContactMessengerRestrictAction.bs").restrict);!e&&j===1&&!(h==null)&&h.go(b("CurrentEnvironment").messengerdotcom?"/":"/messages");if(!e&&!(b("cr:1158")==null))return b("bs_curry")._1(k,b("bs_curry")._2(b("cr:1158").closeTabByThreadKey,Date.now(),c))}}f.$MessengerWellbeingRestrictTappedFalcoEvent$Deferred=g;f.$MessengerWellbeingUnrestrictTappedFalcoEvent$Deferred=h;f.logRestrictOrUnrestrictTapped=i;f.$MWChatStateActions$requireCond=b("cr:1158");f.$MWChatStateV2$requireCond=b("cr:12115");f.useHook=a}),null);
__d("MWInboxInfoMessengerRestrict.bs",["fbt","ix","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactMessengerRestrictAction.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWPMenuItem.react","MWRestrictDialogActionToggle.react","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraButton.react","TetraIcon.react","TetraListCell.react","UseMWRestrictContactOneOnOneThread.bs","bs_belt_Option","bs_caml_option","bs_curry","cr:10742","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=b("cr:10742")==null?void 0:b("bs_caml_option").some(b("cr:10742"));function l(a){var c=a.buttonSource,d=a.isPendingState,e=a.buttonTitle,f=a.onPress;a=j.useCallback(function(a){return b("bs_curry")._1(f,void 0)},[f]);switch(c){case"CHAT_TAB_SETTINGS":return j.jsx(b("MWPMenuItem.react"),{primaryText:e,onClick:a,icon:b("fbicon")._(h("995804"),20),disabled:d,testid:"mw_restrict_messages_button"});case"RESTRICT_COMPOSER":return j.jsx(b("TetraButton.react"),{disabled:d,label:e,type:"secondary",onPress:a});default:if(b("cr:10742")==null)return j.jsx(b("TetraListCell.react"),{headline:e,addOnPrimary:d?b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessagesPendingState.primaryAddOn:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessages.primaryAddOn,headlineLineLimit:1,level:4,onPress:a,disabled:d,testid:"mw_restrict_messages_button"});else return j.jsx(k.make,{addOnStart:j.jsx(b("TetraIcon.react"),{icon:d?b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessagesPendingState.icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessages.icon}),label:e,onPress:a,testid:"mw_restrict_messages_button",disabled:d})}}c={make:l};function a(a){var c=a.contactId,d=a.threadKey,e=a.loggingEntryPoint,f=a.buttonSource,h=b("ReStore.bs").useHook(void 0);a=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"contacts").asc,{hd:c,tl:0})},[JSON.stringify(c),h]));var i=b("bs_belt_Option").mapWithDefault(a,!1,function(a){return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,a),!1)}),k=b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"contacts").asc,{hd:c,tl:0})},[JSON.stringify(c),h])),[0,10],function(a){a=a.R;if(a!==void 0)return a;else return[0,10]}),m=k===b("LSContactMessengerRestrictAction.bs").restrict||k===b("LSContactMessengerRestrictAction.bs").unrestrict,n=f==="RESTRICT_COMPOSER"?g._(/*FBT_CALL*/"\u53d6\u6d88\u9650\u5236"/*FBT_CALL*/):i?g._(/*FBT_CALL*/"\u53d6\u6d88\u9650\u5236"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u9650\u5236"/*FBT_CALL*/);k=k===b("LSContactMessengerRestrictAction.bs").unrestrict?g._(/*FBT_CALL*/"\u6b63\u5728\u53d6\u6d88\u9650\u5236\u2026\u2026"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u6b63\u5728\u9650\u5236\u2026\u2026"/*FBT_CALL*/);d=b("UseMWRestrictContactOneOnOneThread.bs").useHook(c,d,e,i);var o=m?k:n;if(a!==void 0)return j.jsx(b("MWRestrictDialogActionToggle.react"),{dialogProps:{restrictedUser:a,onPress:d,isRestricted:i},children:function(a){return j.jsx(l,{buttonSource:f,isPendingState:m,buttonTitle:o,onPress:a})}});else return null}d=a;f.$MAWInboxInfoButton$requireCond=b("cr:10742");f.RestrictButton=c;f.make=d}),null);
__d("MessengerRestrictButtonSource.bs",[],(function(a,b,c,d,e,f){"use strict";a="THREAD_DETAIL_SETTINGS";b="RESTRICT_COMPOSER";c="CHAT_TAB_SETTINGS";f.thread_detail_settings=a;f.restrict_composer=b;f.chat_tab_settings=c}),null);
__d("MWLSDeleteThread.bs",["LS.bs","LSOptimisticDeleteThread","LSTransaction.bs","MWThreadKey.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("LSOptimisticDeleteThread")(d,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)},[d,c])}f.useDeleteThread=a}),null);
__d("MWV2ReplyContext.bs",["bs_curry","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({reply:void 0,setReply:function(a,b){},clearReply:function(a,b){}}),j=b("requireDeferred")("MWV2ReplyLogging.bs").__setRef("MWV2ReplyContext.bs"),k=b("requireDeferred")("MWV2ReplyLogging.bs").__setRef("MWV2ReplyContext.bs");function a(a){a=a.children;var c=h.useState(function(){}),d=c[1],e=c[0],f=h.useCallback(function(a){return function(c){k.onReady(function(d){return b("bs_curry")._3(d.logClearReply,c,a,e!==void 0)});return b("bs_curry")._1(d,function(a){})}},[d,e]),g=h.useCallback(function(a){return function(c){j.onReady(function(d){return b("bs_curry")._3(d.logSetReply,e,a,c)});return b("bs_curry")._1(d,function(b){return a})}},[d,e]);c=h.useMemo(function(){return{reply:e,setReply:g,clearReply:f}},[e,g,f]);return h.createElement(i.Provider,{value:c,children:a})}function c(a){return h.useContext(i)}d=a;f.context=i;f.$MWV2ReplyLogging$Deferred=j;f.$MWV2ReplyLogging$Deferred$1=k;f.make=d;f.useContext=c}),null);
__d("LsTargetType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").neg_one;c=b("bs_caml_int64").zero;d=b("bs_caml_int64").one;e=[0,2];b=[0,3];var g=[0,4],h=[0,5],i=[0,6],j=[0,7],k=[0,8],l=[0,9],m=[0,10],n=[0,11],o=[0,12],p=[0,13],q=[0,14],r=[0,15],s=[0,16],t=[0,17],u=[0,18],v=[0,19],w=[0,20],x=[0,21],y=[0,22],z=[0,23],A=[0,24],B=[0,25],C=[0,26],D=[0,27],E=[0,28],F=[0,29],G=[0,30],H=[0,31],I=[0,32],J=[0,33],K=[0,34],L=[0,35],M=[0,36],N=[0,37],O=[0,38],P=[0,39],Q=[0,40],R=[0,41],S=[0,42],T=[0,43],U=[0,44],V=[0,45],W=[0,46],X=[0,47],Y=[0,48],Z=[0,49],$=[0,50],aa=[0,51],ba=[0,52],ca=[0,53],da=[0,54],ea=[0,55],fa=[0,56],ga=[0,57],ha=[0,58],ia=[0,59],ja=[0,60],ka=[0,61],la=[0,62],ma=[0,63],na=[0,64],oa=[0,65],pa=[0,66],qa=[0,67],ra=[0,68],sa=[0,69],ta=[0,70];f.cymkAdd=a;f.cymkViewProfile=c;f.cymkWave=d;f.inboxleft=e;f.inboxleftCall=b;f.inboxleftCamera=g;f.inboxleftRtc=h;f.inboxright=i;f.inboxrightDelete=j;f.inboxrightMore=k;f.inboxrightMute=l;f.inboxrightUnmute=m;f.instantGamePlayGame=n;f.messageRequestAccept=o;f.messageRequestDecline=p;f.messengerAdsCta=q;f.rtcCanonicalCallAgain=r;f.rtcCanonicalCallBack=s;f.rtcGroupCallJoinCall=t;f.rtcGroupJoinVideoChat=u;f.rtcScheduledCall=v;f.seeAll=w;f.reaction=x;f.reactionPlus=y;f.mention=z;f.replyMessage=A;f.replyButton=B;f.phoneNumber=C;f.attachmentVideo=D;f.attachmentImage=E;f.attachmentGif=F;f.voiceClip=G;f.tombstoneView=H;f.messageBubble=I;f.attachmentAudio=J;f.attachmentKeyframe=K;f.xmaWebUrl=L;f.xmaRtcMissedVideo=M;f.xmaRtcMissedAudio=N;f.xmaLiveLocation=O;f.xmaLocationSharing=P;f.forwardIcon=Q;f.xmaOpenNative=R;f.sticker=S;f.address=T;f.forwardButton=U;f.removeButton=V;f.removeForYouself=W;f.removeForEveryone=X;f.moreButton=Y;f.copyButton=Z;f.callPhoneNumber=$;f.copyPhoneNumber=aa;f.messageProfileIcon=ba;f.viewFacebookProfile=ca;f.viewIgProfile=da;f.gotToChat=ea;f.xmaRtcVideoEnded=fa;f.xmaRtxAudioEnded=ga;f.saveButton=ha;f.confirmRemove=ia;f.cancelRemove=ja;f.xmaShopsPdp=ka;f.inboxrightArchive=la;f.reactionIcon=ma;f.xmaContactShare=na;f.xmaCustomerInformationTemplate=oa;f.xmaRtcMissedGroupVideo=pa;f.xmaRtcMissedGroupAudio=qa;f.xmaRtcNewAudioDefault=ra;f.xmaAppointmentRequested=sa;f.xmaAppointmentConfirmed=ta}),null);
__d("LsIgnoreTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("707");c=b("FalcoLoggerInternal").create("ls_ignore_tapped",a);e.exports=c}),null);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1}),new Set(["m"]));b=a;g["default"]=b}),98);
__d("MAWCatQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3481424548642414"}),null);
__d("MAWCatQuery.facebook.graphql",["MAWCatQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:b("MAWCatQuery_facebookRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("BaseLineClamp.react",["CSSUserAgentSupports","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={ellipsis:{end:"n7fi1qx3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg"},multiLine:{display:"a8c37x1j",maxWidth:"d2edcug0",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},oneLine:{display:"a8c37x1j",maxWidth:"d2edcug0",overflowX:"ni8dbmo4",textOverflow:"ltmttdrg",whiteSpace:"g0qnabr5"},root:{display:"a8c37x1j",overflowX:"hihg3u9x",overflowY:"ggxiycxj",position:"l9j0dhe7"}},j=c("CSSUserAgentSupports").webkitLineClamp();function k(a,b,d,e){var f=b+"px";if(a===0)return[d,{lineHeight:f}];if(a===1){var g=h.jsx("span",{className:c("stylex")(i.oneLine,e),children:d});return[g,{lineHeight:f}]}if(j){g=h.jsx("span",{className:c("stylex")(i.multiLine,e),style:{WebkitBoxOrient:"vertical",WebkitLineClamp:a,display:"-webkit-box"},children:d});return[g,{lineHeight:f}]}e={lineHeight:f,maxHeight:b*a+.1,paddingRight:"1em"};g={maxHeight:"calc((100% - "+b*a+"px) * 999)",top:b*(a-1)};f=h.jsxs(h.Fragment,{children:[d,h.jsx("span",{"aria-hidden":!0,className:c("stylex")(i.ellipsis),style:g,children:"\u2026"})]});return[f,e]}function a(a,b){var d=a.baselineAdjustmentXStyle,e=a.children,f=a.dir,g=a.elementType;g=g===void 0?"span":g;var j=a.id,l=a.lineHeight,m=a.lines,n=a.testid;a=a.xstyle;m=k(m,l,e,d);l=m[0];e=m[1];return h.createElement(g,{className:c("stylex")(i.root,a),"data-testid":n,dir:f,id:j,ref:b,style:e},l)}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("BaseText.react",["BaseLineClamp.react","BaseTextContext","react","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={base:{maxWidth:"d2edcug0",minWidth:"hpfvmrgz",whiteSpace:"lis9t9rg",wordBreak:"qv66sw1b",wordWrap:"c1et5uql"},block:{"::before":{content:"keod5gw0",display:"nxhoafnm",height:"aigsh9s9"},"::after":{content:"fe6kdd0r",display:"mau55g9w",height:"c8b282yb"}},inline:{display:"nc684nl6"}},j={1:{"::before":{marginTop:"l2xehx30"}},2:{"::before":{marginTop:"j0e77wai"}},3:{"::before":{marginTop:"tia6h79c"}},4:{"::before":{marginTop:"d9wwppkn"}},5:{"::before":{marginTop:"d3f4x2em"}},6:{"::before":{marginTop:"ns63r2gh"}},7:{"::before":{marginTop:"qg6bub1s"}},8:{"::before":{marginTop:"embtmqzv"}},9:{"::before":{marginTop:"misohx42"}},10:{"::before":{marginTop:"l1jc4y16"}},11:{"::before":{marginTop:"f5m2nfbn"}},12:{"::before":{marginTop:"sxrxs009"}}},k={1:{"::after":{marginBottom:"lpavh2a4"}},2:{"::after":{marginBottom:"l15sfdvx"}},3:{"::after":{marginBottom:"mdeji52x"}},4:{"::after":{marginBottom:"iv3no6db"}},5:{"::after":{marginBottom:"hrzyx87i"}},6:{"::after":{marginBottom:"rwim8176"}},7:{"::after":{marginBottom:"h6olsfn3"}},8:{"::after":{marginBottom:"teo7jy3c"}},9:{"::after":{marginBottom:"lpmm8iu7"}},10:{"::after":{marginBottom:"c9ps7pxp"}},11:{"::after":{marginBottom:"bvvxde1c"}},12:{"::after":{marginBottom:"lkufwejl"}}},l={1:{paddingBottom:"ojkyduve"},2:{paddingBottom:"r8blr3vg"},3:{paddingBottom:"pby63qed"}},m={auto:{},center:{textAlign:"oqcyycmt"},end:{textAlign:"ftzlm3b6"},start:{textAlign:"hzawbc8m"}};function n(a,b){var c=[j[a[0]],k[a[1]]],d=null;a.length===3&&b>0&&(c[1]=k[a[1]+a[2]],d=l[a[2]]);return[c,d]}function a(a){var b=function(b,e){var f=b.alignment;f=f===void 0?"start":f;var g=b.children,j=b.colorName,k=b.dir,l=b.elementType;l=l===void 0?"span":l;var o=b.id,p=b.isDenseModeEnabled;p=p===void 0?!1:p;var q=b.lines;q=q===void 0?0:q;var r=b.styleName,s=b.testid;b=b.xstyle;p=p&&a.stylesForDenseMode?(p=a.stylesForDenseMode[r])!=null?p:a.styles[r]:a.styles[r];var t=p.lineHeight;p=p.style;var u=a.defaultFontFamily;r=a.offsets[r];j=a.colors[j];f=m[f];r=n(r,q);var v=r[0];r=r[1];g=h.jsx(d("BaseTextContext").BaseTextContextProvider,{nested:!0,children:g});var w=d("BaseTextContext").useBaseTextContext();return w&&w.nested?h.createElement(l,babelHelpers["extends"]({},c("testID")(s),{className:c("stylex")(i.base,i.inline,u,p,j,f,b),id:o,ref:e,style:{lineHeight:t+"px"}}),g):h.jsx(c("BaseLineClamp.react"),{baselineAdjustmentXStyle:r,dir:k,elementType:l,id:o,lineHeight:t,lines:q,ref:e,testid:void 0,xstyle:[i.base,i.block,u,p,j,f].concat(v,[b]),children:g})};return h.forwardRef(b)}g.createBaseTextComponent=a}),98);
__d("MDSTextConfig",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";a={blueLink:{color:"py34i1dx"},disabled:{color:"erlsw9ld"},disabledButton:{color:"o7e4w99y"},highlight:{color:"q66pz984"},negative:{color:"jdix4yx3"},positive:{color:"g5o1ygfq"},primary:{color:"oo9gr5id"},primaryButton:{color:"bwm1u5wc"},primaryDeemphasizedButton:{color:"knomaqxo"},secondary:{color:"m9osqain"},secondaryButton:{color:"a57itxjd"},secondaryOnMedia:{color:"av1wybal"},tertiary:{color:"pipptul6"},white:{color:"ljqsnud1"}};var h={apple:{MozOsxFontSmoothing:"oi732d6d",WebkitFontSmoothing:"ik7dh3pa",fontFamily:"ht8s03o8"},"default":{fontFamily:"b0tq1wua"},segoe:{fontFamily:"lr9zc1uh"}},i={"default":{body1:[4,5],body2:[3,5],body3:[4,5],body4:[3,4],bodyLink1:[4,5],bodyLink2:[3,5],bodyLink3:[4,5],bodyLink4:[3,4],button1:[3,5],button2:[4,5],entityHeaderHeadline1:[7,8],entityHeaderHeadline2:[5,7],entityHeaderMeta1:[4,5],entityHeaderMeta2:[4,5],entityHeaderMeta3:[4,3],headline3:[3,5],headline4:[4,5],headlineEmphasized1:[5,6],headlineEmphasized2:[4,5],headlineEmphasized3:[3,4],headlineEmphasized4:[4,5],headlineEmphasized5:[3,4],meta1:[3,4],meta2:[3,4],meta3:[3,4],meta4:[3,4]},segoe:{body1:[6,4,1],body2:[5,3,1],body3:[5,4],body4:[4,3,1],bodyLink1:[6,4,1],bodyLink2:[5,3,1],bodyLink3:[5,4],bodyLink4:[4,3,1],button1:[5,3,1],button2:[5,4],entityHeaderHeadline1:[10,6,2],entityHeaderHeadline2:[8,5,3],entityHeaderMeta1:[5,4,1],entityHeaderMeta2:[5,4,1],entityHeaderMeta3:[4,3],headline3:[5,3,1],headline4:[5,4],headlineEmphasized1:[7,4,2],headlineEmphasized2:[6,4,2],headlineEmphasized3:[5,3,1],headlineEmphasized4:[5,4],headlineEmphasized5:[5,3,1],meta1:[4,3,1],meta2:[4,3,1],meta3:[4,3,1],meta4:[4,3]},sfGecko:{body1:[5,5],body2:[4,4],body3:[5,4],body4:[4,3],bodyLink1:[6,4],bodyLink2:[4,3],bodyLink3:[5,4],bodyLink4:[4,3],button1:[4,3],button2:[5,4],entityHeaderHeadline1:[8,7],entityHeaderHeadline2:[7,5],entityHeaderMeta1:[5,4],entityHeaderMeta2:[5,4],entityHeaderMeta3:[4,3],headline3:[5,3],headline4:[5,4],headlineEmphasized1:[6,5],headlineEmphasized2:[6,4],headlineEmphasized3:[4,3],headlineEmphasized4:[5,4],headlineEmphasized5:[4,3],meta1:[4,3],meta2:[4,3],meta3:[4,3],meta4:[4,3]},sfWebkit:{body1:[5,5],body2:[4,4],body3:[4,4],body4:[4,3],bodyLink1:[5,5],bodyLink2:[4,4],bodyLink3:[4,4],bodyLink4:[4,3],button1:[4,4],button2:[4,4],entityHeaderHeadline1:[8,7],entityHeaderHeadline2:[6,6],entityHeaderMeta1:[4,4],entityHeaderMeta2:[4,4],entityHeaderMeta3:[4,3],headline3:[4,4],headline4:[4,4],headlineEmphasized1:[6,5],headlineEmphasized2:[5,5],headlineEmphasized3:[4,4],headlineEmphasized4:[4,4],headlineEmphasized5:[4,3],meta1:[4,3],meta2:[4,3],meta3:[4,3],meta4:[3,3]}};b=function(){if(c("UserAgent").isPlatform("Windows >= 6"))return[h.segoe,i.segoe];return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?[h.apple,c("UserAgent").isEngine("Gecko")?i.sfGecko:i.sfWebkit]:[h["default"],i["default"]]}();d=b[0];e=b[1];f={body1:{fontSize:"o3w64lxj",fontWeight:"knj5qynh"},body2:{fontSize:"a5q79mjw",fontWeight:"knj5qynh"},body2ForDenseMode:{fontSize:"jagab5yi",fontWeight:"knj5qynh"},body3:{fontSize:"jq4qci2q",fontWeight:"knj5qynh"},body3ForDenseMode:{fontSize:"gfeo3gy3",fontWeight:"knj5qynh"},body4:{fontSize:"e9vueds3",fontWeight:"knj5qynh"},body4ForDenseMode:{fontSize:"sq6gx45u",fontWeight:"knj5qynh"},bodyLink1:{fontSize:"o3w64lxj",fontWeight:"lrazzd5p"},bodyLink2:{fontSize:"a5q79mjw",fontWeight:"lrazzd5p"},bodyLink2ForDenseMode:{fontSize:"jagab5yi",fontWeight:"lrazzd5p"},bodyLink3:{fontSize:"jq4qci2q",fontWeight:"lrazzd5p"},bodyLink3ForDenseMode:{fontSize:"gfeo3gy3",fontWeight:"lrazzd5p"},bodyLink4:{fontSize:"e9vueds3",fontWeight:"lrazzd5p"},bodyLink4ForDenseMode:{fontSize:"sq6gx45u",fontWeight:"lrazzd5p"},button1:{fontSize:"a5q79mjw",fontWeight:"lrazzd5p"},button1ForDenseMode:{fontSize:"jagab5yi",fontWeight:"lrazzd5p"},button2:{fontSize:"jq4qci2q",fontWeight:"lrazzd5p"},button2ForDenseMode:{fontSize:"gfeo3gy3",fontWeight:"lrazzd5p"},entityHeaderHeadline1:{fontSize:"mhxlubs3",fontWeight:"hnhda86s"},entityHeaderHeadline2:{fontSize:"m6dqt4wy",fontWeight:"hnhda86s"},entityHeaderMeta1:{fontSize:"jq4qci2q",fontWeight:"hnhda86s"},entityHeaderMeta1ForDenseMode:{fontSize:"gfeo3gy3",fontWeight:"hnhda86s"},entityHeaderMeta2:{fontSize:"jq4qci2q",fontWeight:"hnhda86s"},entityHeaderMeta2ForDenseMode:{fontSize:"gfeo3gy3",fontWeight:"hnhda86s"},entityHeaderMeta3:{fontSize:"e9vueds3",fontWeight:"hnhda86s"},headline3:{fontSize:"a5q79mjw",fontWeight:"ekzkrbhg"},headline3ForDenseMode:{fontSize:"jagab5yi",fontWeight:"ekzkrbhg"},headline4:{fontSize:"jq4qci2q",fontWeight:"ekzkrbhg"},headline4ForDenseMode:{fontSize:"gfeo3gy3",fontWeight:"ekzkrbhg"},headlineEmphasized1:{fontSize:"o0t2es00",fontWeight:"hnhda86s"},headlineEmphasized2:{fontSize:"o3w64lxj",fontWeight:"hnhda86s"},headlineEmphasized3:{fontSize:"a5q79mjw",fontWeight:"lrazzd5p"},headlineEmphasized3ForDenseMode:{fontSize:"jagab5yi",fontWeight:"lrazzd5p"},headlineEmphasized4:{fontSize:"jq4qci2q",fontWeight:"lrazzd5p"},headlineEmphasized4ForDenseMode:{fontSize:"gfeo3gy3",fontWeight:"lrazzd5p"},headlineEmphasized5:{fontSize:"jq4qci2q",fontWeight:"ekzkrbhg"},meta1:{fontSize:"e9vueds3",fontWeight:"lrazzd5p"},meta1ForDenseMode:{fontSize:"sq6gx45u",fontWeight:"lrazzd5p"},meta2:{fontSize:"e9vueds3",fontWeight:"lrazzd5p"},meta2ForDenseMode:{fontSize:"sq6gx45u",fontWeight:"lrazzd5p"},meta3:{fontSize:"e9vueds3",fontWeight:"knj5qynh"},meta3ForDenseMode:{fontSize:"sq6gx45u",fontWeight:"knj5qynh"},meta4:{fontSize:"sq6gx45u",fontWeight:"knj5qynh"},meta4ForDenseMode:{fontSize:"sq6gx45u",fontWeight:"knj5qynh"}};b={colors:{blueLink:a.blueLink,disabled:a.disabled,disabledButton:a.disabledButton,highlight:a.highlight,negative:a.negative,positive:a.positive,primary:a.primary,primaryButton:a.primaryButton,primaryDeemphasizedButton:a.primaryDeemphasizedButton,secondary:a.secondary,secondaryButton:a.secondaryButton,secondaryOnMedia:a.secondaryOnMedia,tertiary:a.tertiary,white:a.white},defaultFontFamily:d,offsets:e,styles:{body1:{lineHeight:24,style:f.body1},body2:{lineHeight:20,style:f.body2},body3:{lineHeight:19.9995,style:f.body3},body4:{lineHeight:16,style:f.body4},bodyLink1:{lineHeight:24,style:f.bodyLink1},bodyLink2:{lineHeight:20,style:f.bodyLink2},bodyLink3:{lineHeight:19.9995,style:f.bodyLink3},bodyLink4:{lineHeight:16,style:f.bodyLink4},button1:{lineHeight:20,style:f.button1},button2:{lineHeight:19,style:f.button2},entityHeaderHeadline1:{lineHeight:38,style:f.entityHeaderHeadline1},entityHeaderHeadline2:{lineHeight:32,style:f.entityHeaderHeadline2},entityHeaderMeta1:{lineHeight:19,style:f.entityHeaderMeta1},entityHeaderMeta2:{lineHeight:19,style:f.entityHeaderMeta2},entityHeaderMeta3:{lineHeight:17,style:f.entityHeaderMeta3},headline3:{lineHeight:20,style:f.headline3},headline4:{lineHeight:19.9995,style:f.headline4},headlineEmphasized1:{lineHeight:28,style:f.headlineEmphasized1},headlineEmphasized2:{lineHeight:24,style:f.headlineEmphasized2},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3},headlineEmphasized4:{lineHeight:19.9995,style:f.headlineEmphasized4},headlineEmphasized5:{lineHeight:20,style:f.headlineEmphasized5},meta1:{lineHeight:16,style:f.meta1},meta2:{lineHeight:16,style:f.meta2},meta3:{lineHeight:16,style:f.meta3},meta4:{lineHeight:15,style:f.meta4}},stylesForDenseMode:{body2:{lineHeight:20,style:f.body2ForDenseMode},body3:{lineHeight:20,style:f.body3ForDenseMode},body4:{lineHeight:16,style:f.body4ForDenseMode},bodyLink2:{lineHeight:20,style:f.bodyLink2ForDenseMode},bodyLink3:{lineHeight:20,style:f.bodyLink3ForDenseMode},bodyLink4:{lineHeight:16,style:f.bodyLink4ForDenseMode},button1:{lineHeight:18,style:f.button1ForDenseMode},button2:{lineHeight:18,style:f.button2ForDenseMode},entityHeaderMeta1:{lineHeight:18,style:f.entityHeaderMeta1ForDenseMode},entityHeaderMeta2:{lineHeight:18,style:f.entityHeaderMeta2ForDenseMode},headline3:{lineHeight:20,style:f.headline3ForDenseMode},headline4:{lineHeight:20,style:f.headline4ForDenseMode},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3ForDenseMode},headlineEmphasized4:{lineHeight:20,style:f.headlineEmphasized4ForDenseMode},meta1:{lineHeight:14,style:f.meta1ForDenseMode},meta2:{lineHeight:14,style:f.meta2ForDenseMode},meta3:{lineHeight:14,style:f.meta3ForDenseMode},meta4:{lineHeight:15,style:f.meta4ForDenseMode}}};a=b;g["default"]=a}),98);
__d("MDSTextV2.react",["BaseHeading.react","BaseText.react","BaseTextContext","CometDensityModeContext","MDSTextConfig","cr:1789196","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useMemo,k=d("BaseText.react").createBaseTextComponent(c("MDSTextConfig"));b=(e=b("cr:1789196"))!=null?e:{useTranslationFixKeyForTextParent:function(){return""}};var l=b.useTranslationFixKeyForTextParent,m={heading:{maxWidth:"d2edcug0",minWidth:"hpfvmrgz"},text:{whiteSpace:"l3itjdph"}},n={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function o(a,b){return b?(b=n[a])!=null?b:a:a}var p=["entityHeaderMeta1","entityHeaderMeta2","meta1","meta2","meta3","meta4"];function a(a,b){var e=a.align;e=e===void 0?"auto":e;var f=a.children,g=a.color,n=a.dir;n=n===void 0?"auto":n;var q=a.id,r=a.isPrimaryHeading;r=r===void 0?!1:r;var s=a.isSemanticHeading;s=s===void 0?!1:s;var t=a.numberOfLines,u=a.testid,v=a.type;u=j(function(){return p.includes(v)?"secondary":"primary"},[v]);g=o((a=g)!=null?a:u,v==="button1"||v==="button2");a=l();u=d("BaseTextContext").useBaseTextContext();var w=i(c("CometDensityModeContext"));w=w[0];u=(u==null?void 0:u.nested)===!0;e=h.jsx(k,{alignment:(e=e)!=null?e:void 0,colorName:g,dir:u?void 0:n,id:q,isDenseModeEnabled:w,lines:t||0,ref:b,styleName:v,testid:void 0,xstyle:m.text,children:f},a);return s?h.jsx(c("BaseHeading.react"),{isPrimaryHeading:r,xstyle:m.heading,children:e}):e}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);e.displayName="MDSTextV2";b=e;g["default"]=b}),98);
__d("MAWThemeConstant.bs",[],(function(a,b,c,d,e,f){"use strict";a=[603383,3212336517];f.secureTheme=a}),null);
__d("MAWThreadDefaults.bs",["fbt","LSBitOffset.bs","LSThreadCapabilityBitOffset.bs","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";var h;e=(c=b("LSBitOffset.bs")).set((d=b("LSThreadCapabilityBitOffset.bs")).reactions,c.set(d.filePicker,c.set(d.feedbackAndReport,c.set(d.audioClips,c.set(d.block,c.set(d.muteThread,c.set(d.createGroup,c.set(d.threadDetails,c.empty))))))));var i=c.set(d.feedbackAndReport,c.set(d.threadNameCustomization,c.set(d.blockGroupMember,c.set(d.memberList,c.set(d.leaveThread,c.clear(d.addMember,e))))));function a(a){return b("bs_caml_int64").sub(a,[0,64])}h=c.set((h=b("bs_caml_int64")).sub(d.messageForward,[0,64]),c.set(h.sub(d.restrictContact,[0,64]),c.set(h.sub(d.threadDetailsDeleteThread,[0,64]),c.set(h.sub(d.archiveThread,[0,64]),c.empty))));d=g._(/*FBT_CALL*/"\u6084\u6084\u8a71"/*FBT_CALL*/).toString();c=g._(/*FBT_CALL*/"\u70ba\u6240\u6709\u4f7f\u7528\u4e2d\u7684\u88dd\u7f6e\u9032\u884c\u7aef\u5c0d\u7aef\u52a0\u5bc6"/*FBT_CALL*/).toString();f.defaultThreadCapabilities=e;f.defaultGroupThreadCapabilities=i;f.makeOffset=a;f.defaultThreadCapabilities_2=h;f.nullstateDescriptionText1=d;f.nullstateDescriptionText2=c}),null);
__d("MAWBridgeVerifyThreadExistsHandler.bs",["LSAuthorityLevel.bs","LSMailboxType.bs","LSNullstateDescriptionType.bs","LSRtcCallState.bs","MAWFolder.bs","MAWThemeConstant.bs","MAWThreadDefaults.bs","MAWThreadId.bs","MAWTimeUtils.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLTable","ReQLTable.bs","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){return b("MAWThreadId.bs").toThreadKey(a,c.chatId).then(function(e){return b("ReQLTable.bs").update(b("ReQLTable").table(a,"threads"),{hd:d,tl:0},function(a){if(a===void 0)return b("unrecoverableViolation")("Optimistic thread is missing","messenger_e2ee_web");a=b("bs_caml_obj").caml_obj_dup(a);a.bb=b("MAWThreadDefaults.bs").defaultThreadCapabilities_2;a.Z=b("LSAuthorityLevel.bs").authoritative;a.P=c.isGroup?b("MAWThreadDefaults.bs").defaultGroupThreadCapabilities:b("MAWThreadDefaults.bs").defaultThreadCapabilities;a.v=b("bs_caml_option").nullable_to_opt(c.cannotReplyReason);a.j=b("MAWTimeUtils.bs").toTimestamp(c.lastReadTs);a.i=b("MAWTimeUtils.bs").toTimestamp(c.lastActivityTs);a.c=c.isGroup?b("MessagingThreadType.bs").secureMessageOverWaGroup:b("MessagingThreadType.bs").secureMessageOverWaOneToOne;a.a=e;return a}).then(function(a){})})}function h(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.chatId).then(function(d){return b("ReQLTable").table(a,"threads").add({a:d,b:b("LSMailboxType.bs").whatsappPhone,c:c.isGroup?b("MessagingThreadType.bs").secureMessageOverWaGroup:b("MessagingThreadType.bs").secureMessageOverWaOneToOne,d:void 0,e:b("MAWFolder.bs").messagingFolderTag(c.folder),f:void 0,g:void 0,h:void 0,i:b("MAWTimeUtils.bs").toTimestamp(c.lastActivityTs),j:b("MAWTimeUtils.bs").toTimestamp(c.lastReadTs),k:b("bs_caml_int64").zero,l:b("bs_caml_int64").of_float(c.muteExpireTimeMs),m:void 0,n:!1,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0,u:b("LSRtcCallState.bs").noOngoingCall,v:b("bs_caml_option").nullable_to_opt(c.cannotReplyReason),w:void 0,x:void 0,y:void 0,z:b("MAWThemeConstant.bs").secureTheme,A:b("MAWFolder.bs").systemFolder(c.folder),B:b("MAWThreadDefaults.bs").nullstateDescriptionText1,C:b("LSNullstateDescriptionType.bs").default_,D:b("MAWThreadDefaults.bs").nullstateDescriptionText2,E:b("LSNullstateDescriptionType.bs").subtext,F:void 0,G:void 0,H:void 0,I:!1,J:!1,K:!1,L:void 0,M:void 0,N:void 0,O:void 0,P:c.isGroup?b("MAWThreadDefaults.bs").defaultGroupThreadCapabilities:b("MAWThreadDefaults.bs").defaultThreadCapabilities,Q:void 0,R:!1,S:void 0,T:void 0,U:void 0,V:void 0,W:!1,X:void 0,Y:b("bs_caml_int64").zero,Z:b("LSAuthorityLevel.bs").authoritative,ba:void 0,bb:b("MAWThreadDefaults.bs").defaultThreadCapabilities_2,bc:b("bs_caml_int64").of_float(c.muteCallsExpireTimeMs)}).then(function(a){})})}function i(a,c){return b("MAWThreadId.bs").toThreadKey(a,c.chatId).then(function(d){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:d,tl:0})).then(function(d){if(d!==void 0)return b("Promise").resolve(void 0);else return h(a,c).then(function(a){})})})}function a(a,c){var d=c.clientThreadKey;if(d==null)return i(a,c);else{var e=b("bs_caml_format").caml_int64_of_string(d);return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:e,tl:0})).then(function(d){if(d!==void 0)return g(a,c,e).then(function(a){return b("Promise").resolve(void 0)});else return i(a,c)})}}f.call=a}),null);
__d("UseMWV2CloseTab.bs",["MWChatConfirmTabCloseDialog.bs","MWChatEphemeralMediaTemporarySeenState.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWV2ComposerHasContentContext.bs","ReStore.bs","bs_curry","bs_int64","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("MWChatStateV2.bs").useDispatch(void 0),f=b("useCometConfirmationDialog")(),g=f[0];f=b("MWV2ComposerHasContentContext.bs").useContext(void 0);var i=f.shouldClearDraftMessageRef,j=f.hasContentRef;return h.useCallback(function(d){var f=function(d){a!==void 0&&b("MWChatEphemeralMediaTemporarySeenState.bs").endSession(b("bs_int64").to_string(a.a));return b("bs_curry")._1(e,b("MWChatStateActions.bs").closeTab(Date.now(),c.tabId))};if(a!==void 0&&j!==void 0&&j.current)return b("bs_curry")._3(g,b("MWChatConfirmTabCloseDialog.bs").content,function(a){i!==void 0&&(i.current=!0);return f(void 0)},function(a){if(i!==void 0){i.current=!1;return}});else return f(void 0)},[a,c,d,e,g,j,i])}f.useHook=a}),null);
__d("XLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout.php",{h:{type:"String"},next:{type:"String"},button_name:{type:"String"},button_location:{type:"String"},source:{type:"String"},ref:{type:"String"},p:{type:"String"}})}),null);
__d("MAWSetupWorker",["MAWCommonSetupWorker","MAWMainWebWorkerResource","Promise","WALogger","WorkerBundleResource","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker terminating"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker doesn't exist, no need to terminate"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker setting up"]);j=function(){return a};return a}var k=null;function l(a,b){d("WALogger").LOG(j());var e;c("shouldUseMAWSharedWorker")()?e=d("WorkerBundleResource").createSharedWebWorker(c("MAWMainWebWorkerResource")).port:e=d("WorkerBundleResource").createDedicatedWebWorker(c("MAWMainWebWorkerResource"));e=new(d("MAWCommonSetupWorker").BridgeAdapter)(e,"MAWMainWorker");k=e;return d("MAWCommonSetupWorker").initWorker(e,a,b)}function a(a,c){return!k?l(a,c):b("Promise").resolve(k.getBridgePort())}function e(){return k!=null}function f(){if(!k){d("WALogger").LOG(i());return}d("WALogger").LOG(h());k.close();k=null;return}g.setupWorker=l;g.getOrSetupWorker=a;g.doesWorkerExist=e;g.terminateWorker=f}),98);
__d("MAWSetup.react",["BaseHeadingContext","CometRelay","CurrentUser","MAWCommonSetup","MAWSetupBridge","MAWSetupMutex.react","MAWSetupWorker","react","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=c("CurrentUser").getID(),k={doesWorkerExist:d("MAWSetupWorker").doesWorkerExist,getOrSetupWorker:d("MAWSetupWorker").getOrSetupWorker,setupBridge:d("MAWSetupBridge").setupBridge,terminateWorker:d("MAWSetupWorker").terminateWorker};function a(a){var b=i(c("BaseHeadingContext")),e=d("CometRelay").useRelayEnvironment();d("MAWCommonSetup").useArmadillo(j,k);return h.jsx(d("CometRelay").RelayEnvironmentProvider,{environment:e,children:h.jsxs(c("BaseHeadingContext").Provider,{value:b+1,children:[a.children,c("shouldUseMAWSharedWorker")()?null:h.jsx(c("MAWSetupMutex.react"),{environment:e,fbId:j,platformSetupUtils:k})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSetup.bs",["MAWSetup.react"],(function(a,b,c,d,e,f){"use strict";a=b("MAWSetup.react");f.make=a}),null);
__d("MAWVerifyExistingThreadExists.bs",["LS.bs","LSTransaction.bs","LSVerifyThreadRowExists","MAWGating.bs","MAWThreadId.bs","Promise","ReQL.bs","ReQLTable","bs_curry","cr:12166"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(b("cr:12166")==null)return b("Promise").resolve(void 0);else if(b("MAWGating.bs").isOccamadillo)return b("LSTransaction.bs").run(a,function(a){return b("LSVerifyThreadRowExists")(c,void 0,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite");else return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:c,tl:0})).then(function(d){if(d!==void 0||!b("MAWThreadId.bs").isThreadId(c))return b("Promise").resolve(void 0);else return b("MAWThreadId.bs").ofThreadKey(a,c).then(function(a){if(a)return b("bs_curry")._1(b("bs_curry")._1(b("cr:12166").fetchExistingThread,{threadId:a._0}).sendAndReceive,void 0);else return b("Promise").resolve(void 0)})})}c=b("cr:12166");f.$MAWBackendBridge$requireCondXplat=b("cr:12166");f.mawBackendBridge=c;f.call=a}),null);
__d("MWV2Chat.react",["MWChatDisabled.re","cr:11569","gkx","killswitch","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return!c("gkx")("1673554")||c("killswitch")("COMET_CHAT")||!c("gkx")("1812744")?h.jsx(d("MWChatDisabled.re").make,{}):b("cr:11569")&&h.jsx(b("cr:11569"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatStateV2CompareTabs.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.openWatermark-b.openWatermark;if(a<0)return 1;else if(a>0)return-1;else return 0}function b(a,b){a=Math.max(a.minimizeWatermark,a.clientForcedMinimizeWatermark)-Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark);if(a<0)return 1;else if(a>0)return-1;else return 0}f.byMostRecentOpened=a;f.byMostRecentMinimized=b}),null);
__d("MWChatStateV2IsComposeTab.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.tabType;if(a.TAG===0)return!0;else return!1}f.isComposeTab=a}),null);
__d("MWChatStateV2HeadGroups.bs",["MWChatStateV2CompareTabs.bs","MWChatStateV2IsComposeTab.bs","MWChatStateV2IsMinimized.bs","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;a=Array.from(d.values()).filter(function(a){return b("MWChatStateV2IsMinimized.bs").isMinimized(b("bs_caml_option").some(f),a)}).sort(function(a,c){var d=b("MWChatStateV2CompareTabs.bs").byMostRecentMinimized(a,c);if(d===0)return b("MWChatStateV2CompareTabs.bs").byMostRecentOpened(a,c);else return d});d=c.filter(function(a){return!b("MWChatStateV2IsComposeTab.bs").isComposeTab(a)}).concat(a);return[d.slice(0,e),d.slice(e,d.length)]}f.getHeadGroups=a}),null);
__d("MWChatStateV2MaxTabCount.bs",["bs_js_math","useMWIsTopLevelRouteMediaViewerExperiment","useWindowSize"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("useWindowSize")();a=a.innerWidth;var c=b("useMWIsTopLevelRouteMediaViewerExperiment")();if(a<1100||c)return 1;c=(a/2|0)-90|0;a=c/338;if(a<1)return 1;else return b("bs_js_math").ceil_int(a)}f.useHook=a}),null);
__d("MWChatStateV2TabGroups.bs",["MWChatStateV2CompareTabs.bs","MWChatStateV2IsOpen.bs","bs_caml_array","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=a.length;if(e>c&&c>0&&d!==void 0){var f=a.findIndex(function(a){return a.tabId===d});if(f!==-1&&f>=c&&f<e){e=function(c,d){var e=b("bs_caml_array").get(a,c);a[c]=b("bs_caml_array").get(a,d);a[d]=e};e(c-1|0,f)}}return a}function a(a,c,d,e){var f=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;a=g(Array.from(c.values()).filter(function(a){return b("MWChatStateV2IsOpen.bs").isOpen(b("bs_caml_option").some(f),a)}).sort(b("MWChatStateV2CompareTabs.bs").byMostRecentOpened),e,d);return[a.slice(0,e),a.slice(e,a.length)]}f.getTabGroups=a}),null);
__d("MWChatStateV2IsFlyoutOpen.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.openFlyoutWatermark!==0}f.isFlyoutOpen=a}),null);
__d("MWV2ChatHeadButton.bs",["CometPressable.react","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={button:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",backgroundColor:"g5ia77u1",appearance:"dwo3fsh8",width:"tmrshh9y",height:"m7zwrmfr",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",transitionDuration:"ebpj63zs",transitionProperty:"flx89l3n",transitionTimingFunction:"msbwk0y7"},container:{position:"pmk7jnqg",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",width:"tmrshh9y",height:"m7zwrmfr",marginBottom:"oud54xpy"}};function a(a){var c=a.children;a=a.style;return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),style:a,children:c})}d={make:a};function c(a,c){var d=a.onPress,e=a.onHoverChange,f=a.onHoverIn,g=a.onHoverOut,h=a.onFocusChange,k=a.ariaLabel,l=a.ariaDescribedBy,m=a.children;a=a.testid;m={overlayDisabled:!0,xstyle:function(a){return[j.button]},children:m};k!==void 0&&(m["aria-label"]=b("bs_caml_option").valFromOption(k));k=c==null?void 0:b("bs_caml_option").some(c);k!==void 0&&(m.ref=b("bs_caml_option").valFromOption(k));a!==void 0&&(m.testid=b("bs_caml_option").valFromOption(a));e!==void 0&&(m.onHoverChange=b("bs_caml_option").valFromOption(e));f!==void 0&&(m.onHoverIn=b("bs_caml_option").valFromOption(f));g!==void 0&&(m.onHoverOut=b("bs_caml_option").valFromOption(g));h!==void 0&&(m.onFocusChange=b("bs_caml_option").valFromOption(h));d!==void 0&&(m.onPress=b("bs_caml_option").valFromOption(d));l!==void 0&&(m["aria-describedby"]=b("bs_caml_option").valFromOption(l));return i.jsx(b("CometPressable.react"),m)}e=i.forwardRef(c);f.styles=j;f.Container=d;f.make=e}),null);
__d("MWV2ChatHeadCloseButton.bs",["fbt","ix","CometPressable.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k={closeButton:{position:"pmk7jnqg",top:"pixltzyo",end:"aew9gpjp",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",width:"odw8uiq3",height:"jnigpg78",transform:"qpbg1qsm",opacity:"b5wmifdl",transitionDuration:"bybyf9sm",transitionProperty:"pnx7fd3z",backgroundColor:"nred35xi",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},visible:{transform:"g3zh7qmp",opacity:"pedkr2u6"}};function a(a){var c=a.onPress,d=a.onHoverChange,e=a.onFocusChange,f=a.isVisible;return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u95dc\u9589\u804a\u5929\u5ba4"/*FBT_CALL*/),onHoverChange:d,onFocusChange:e,onPress:c,xstyle:function(a){return[k.closeButton,f||a.focused?k.visible:!1]},children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("478231"),12)})})}c=a;f.make=c}),null);
__d("MWV2ChatHeadFlyout.bs",["fbt","CometBadge.react","LSThreadTitle.bs","Locale","MDSText.react","MWLSThreadIsUnread.bs","MWLSThreadSnippetForDisplay.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"clwgnc31",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"dlpeemhq",minWidth:"jgsskzai",position:"pmk7jnqg",end:"cypi58rs",bottom:"i09qtzwb",backgroundColor:"nred35xi",paddingStart:"h4z51re5",paddingEnd:"rv4hoivh",height:"e5d9fub0"},spacer:{flexGrow:"buofh1pr"},gradientLTR:{backgroundImage:"rvdht4aw"},gradientRTL:{backgroundImage:"hv4tdetg"},openChatArrowPointer:{borderTopEndRadius:"hcy7w5mv",bottom:"s2hgh8fk",height:"gl3lb2sf",position:"pmk7jnqg",end:"b5fwa0m2",width:"hhz5lgdu"},openChatArrowPointerShadow:{boxShadow:"clwgnc31"}},l=b("Locale").isRTL(),m=l?-45:45;function a(a){var c=a.thread;a=a.id;var d=b("MWLSThreadSnippetForDisplay.bs").make(c.m);return j.jsxs("div",{"data-testid":"mw_chat_head_flyout",id:a,children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.openChatArrowPointer,k.openChatArrowPointerShadow),style:{transform:"rotate("+m+"deg)"}}),j.jsxs("div",{className:i(k.container),children:[j.jsx("div",{className:i(k.spacer)}),j.jsx("div",{"aria-hidden":!0,children:j.jsx(b("MDSText.react"),{color:"primary",type:"headlineEmphasized4",numberOfLines:1,children:j.jsx(b("LSThreadTitle.bs").make,{thread:c})})}),j.jsx("div",{className:i(k.spacer)}),j.jsxs(b("MDSText.react"),{color:"secondary",type:"body3",numberOfLines:1,children:[b("MWLSThreadIsUnread.bs").isThreadUnread(c)?j.jsx(b("CometBadge.react"),{color:"blue",label:g._(/*FBT_CALL*/"\u672a\u8b80"/*FBT_CALL*/).toString()}):null,d]}),j.jsx("div",{className:i(k.spacer)})]}),j.jsx("div",{className:i(k.openChatArrowPointer,l?k.gradientRTL:k.gradientLTR),style:{transform:"rotate("+m+"deg)"}})]})}c=a;f.styles=k;f.isRTL=l;f.rotation=m;f.make=c}),null);
__d("MWV2ChatHeadTypingIndicator.bs",["MWChatTypingIndicator.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","ServerTime","bs_caml_int64","bs_caml_splice_call","bs_curry","bs_int64","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"typing_indicator").asc,{hd:a,tl:0}),function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(a.c)})},[c,b("bs_int64").to_string(a)]))}function a(a){a=a.threadKey;var c=h.useState(function(){return!1}),d=c[1],e=i(a);h.useEffect(function(){b("bs_curry")._1(d,function(a){return e.length>0});var a=e.map(function(a){return b("bs_caml_int64").to_float(a.c)});a=b("bs_caml_splice_call").spliceApply(Math.max,[a]);a=a-b("ServerTime").getMillis();var c=b("setTimeout")(function(a){return b("bs_curry")._1(d,function(a){return!1})},a);return function(a){b("clearTimeout")(c)}},[d,e]);if(c[0])return h.jsx("div",{className:"n7fi1qx3 i09qtzwb jnigpg78 bsnbvmp4 taijpn5t ns4ygwem fykbt5ly hgaippwi fni8adji j83agx80 nred35xi bp9cbjyn pmk7jnqg",children:h.jsx(b("MWChatTypingIndicator.bs").make,{})});else return null}c=a;f.make=c}),null);
__d("MWV2ChatHeadUnreadMessageCountBadge.bs",["fbt","CometNumberedBadge.react","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml","bs_int64","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={badgeHidden:{opacity:"b5wmifdl"},badgeShrunk:{transform:"qpbg1qsm"},unreadBadge:{end:"aew9gpjp",position:"pmk7jnqg",top:"pixltzyo",transitionDuration:"bybyf9sm",transitionProperty:"pnx7fd3z"}};function l(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:a,tl:0}),function(e){var f;return b("ReQLSuspense.bs").toArray((f=b("ReQL.bs")).filter(f.bounds(f.take(f.getKeyRange(b("ReQLTable").table(c,"messages").desc,{hd:a,tl:0}),20),{NAME:"greaterThan",VAL:{hd:e.j,tl:0}}),function(a){return b("bs_caml").i64_neq(a.h,d)})).length})},[c,b("bs_int64").to_string(d),b("bs_int64").to_string(a)]));if(e!==void 0)return e;else return 0}function a(a){var c=a.threadKey;a=a.isVisible;c=l(c);if(c>0)return j.jsx("div",{"aria-label":g._(/*FBT_CALL*/{"*":"{number}\u5247\u672a\u8b80\u8a0a\u606f","_1":"1 \u5247\u672a\u8b80\u8a0a\u606f"}/*FBT_CALL*/,[g._plural(c,"number")]),className:(i||(i=b("stylex")))(k.unreadBadge,a?!1:k.badgeHidden),children:j.jsx(b("CometNumberedBadge.react"),{value:c})});else return j.jsx("div",{"aria-hidden":!0,className:(i||(i=b("stylex")))(k.badgeHidden,k.badgeShrunk)})}c=a;f.make=c}),null);
__d("MWV2EnsureThatChatTabExists.bs",["LS.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","LSVerifyThreadRowExists","ReStore.bs","bs_curry","cr:1127","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("ReStore.bs").useHook(void 0);h.useEffect(function(){var e,f=0;b("cr:1127")==null||!b("LSMessagingThreadTypeUtil.bs").isSecure(c)?f=1:e=b("bs_curry")._2(b("cr:1127").call,d,a);f===1&&(e=b("LSTransaction.bs").run(d,function(d){return b("LSVerifyThreadRowExists")(a,c,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite"));b("promiseDone")(e,void 0,void 0)},[d,JSON.stringify(a),JSON.stringify(c)])}c=b("cr:1127");f.$MAWVerifyExistingThreadExists$requireCondXplat=b("cr:1127");f.mawVerifyExistingThreadExists=c;f.useHook=a}),null);
__d("MWV2ChatHead.bs",["fbt","CometContextualLayer.react","LSMessagingThreadTypeUtil.bs","MWChatHeadPicture.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatStateV2IsFlyoutOpen.bs","MWChatViewerChatVisibilityHook","MWFacepileBadge.bs","MWFacepileGetContactsToShow.bs","MWLSActor.bs","MWV2ChatHeadButton.bs","MWV2ChatHeadCloseButton.bs","MWV2ChatHeadFlyout.bs","MWV2ChatHeadTypingIndicator.bs","MWV2ChatHeadUnreadMessageCountBadge.bs","MWV2EnsureThatChatTabExists.bs","MWV2GetThreadTitle.bs","MWV2PreloadThread.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_curry","bs_int64","gkx","profilePhotoUtils","react","stylex","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a,c){var d=b("MWLSActor.bs").useActor(void 0),e=a.d;if(e!==void 0)return g._(/*FBT_CALL*/"\u958b\u555f\u6a19\u984c\u70ba\u300c{name of conversation}\u300d\u7684\u804a\u5929\u5ba4"/*FBT_CALL*/,[g._param("name of conversation",e)]).toString();e=b("bs_belt_Option").getWithDefault(b("MWV2GetThreadTitle.bs").computeThreadTitle(void 0,a,c,d),"");return g._(/*FBT_CALL*/"\u958b\u555f\u8207{chat participants}\u7684\u804a\u5929\u5ba4"/*FBT_CALL*/,[g._param("chat participants",e)])}function l(a,c){var d=b("MWLSActor.bs").useActor(void 0),e=a.f;if(e!==void 0)return[e];else return b("MWFacepileGetContactsToShow.bs").getContactsToShow(a,c,d).map(function(a){return a.b})}var m={activeBadge:{position:"pmk7jnqg"}};function n(a){var c=a.thread,d=a.tab,e=a.style,f=a.onHoverChange,g=a.onFocusChange,h=b("ReStore.bs").useHook(void 0),n=b("MWChatStateV2.bs").useDispatch(void 0);a=function(a){return b("bs_curry")._1(n,b("MWChatStateActions.bs").maximizeTab(Date.now(),d.tabId))};var o=c.c,p=c.a,q=b("bs_int64").to_string(p),r=j.useState(function(){return!1}),s=r[1];r=r[0];var t=j.useState(function(){return!1}),u=t[1];t=t[0];var v=function(a){return b("bs_curry")._1(n,b("MWChatStateActions.bs").closeTab(Date.now(),d.tabId))};q=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").leftJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"participants").asc,{hd:p,tl:0}),b("ReQLTable").table(h,"contacts").asc)},[h,q]));var w=j.useRef(null),x=b("MWChatStateV2IsFlyoutOpen.bs").isFlyoutOpen(d),y=b("MWChatViewerChatVisibilityHook")(),z=b("LSMessagingThreadTypeUtil.bs").isSecure(o);o=b("LSMessagingThreadTypeUtil.bs").isGroup(o);z=z?y&&!o:y;o=b("useCometUniqueID")();y=k(c,q);var A=q.map(function(a){return a[1]});A=l(c,A);var B=b("profilePhotoUtils").getBadgeSizeAndStrokeWidth(48),C=b("profilePhotoUtils").getBadgePosition(24),D=b("MWV2PreloadThread.bs").useHook(p);return j.jsxs(b("MWV2ChatHeadButton.bs").Container.make,{children:[j.jsxs(b("MWV2ChatHeadButton.bs").make,{onPress:a,onHoverChange:function(a){b("bs_curry")._1(s,function(b){return a});return b("bs_curry")._1(f,a)},onHoverIn:D[0],onHoverOut:D[1],onFocusChange:function(a){b("bs_curry")._1(u,function(b){return a});return b("bs_curry")._1(g,a)},ariaLabel:y,ariaDescribedBy:o,children:[j.jsx("div",{ref:w,children:j.jsxs(b("MWChatHeadPicture.bs").make,{images:A,children:[j.jsx(b("MWV2ChatHeadUnreadMessageCountBadge.bs").make,{threadKey:p,isVisible:!r&&!t}),j.jsx("div",{className:(i||(i=b("stylex")))(m.activeBadge),style:{bottom:C.bottom,left:C.left,right:C.right,transform:C.transform},children:j.jsx(b("MWFacepileBadge.bs").make,{thread:c,size:B[0]})})]})}),r||t||x?j.jsx(b("CometContextualLayer.react"),{contextRef:w,children:j.jsx(b("MWV2ChatHeadFlyout.bs").make,{thread:c,participantsAndContacts:q,id:o})}):null,z&&b("gkx")("1774069")?j.jsx(b("MWV2ChatHeadTypingIndicator.bs").make,{threadKey:p}):null]}),j.jsx(b("MWV2ChatHeadCloseButton.bs").make,{onPress:v,onHoverChange:function(a){return b("bs_curry")._1(s,function(b){return a})},onFocusChange:function(a){return b("bs_curry")._1(u,function(b){return a})},isVisible:r||t})],style:e})}c={make:n};function a(a){var c=a.threadKeyDescriptor,d=a.tab,e=a.style,f=a.onHoverChange;a=a.onFocusChange;var g=b("ReStore.bs").useHook(void 0),h=c.clientThreadKey,i=c.threadKey,k=b("bs_int64").to_string(i),l=JSON.stringify(h);b("MWV2EnsureThatChatTabExists.bs").useHook(i,c.threadType);c=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(g,"threads").asc,{hd:i,tl:0})},[g,k]));k=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){if(h!==void 0)return b("ReQL.bs").getKeyRange(b("ReQLTable").table(g,"threads").index("clientThreadKey").asc,{hd:h,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[g,l]));l=c!==void 0?c:k!==void 0?k:void 0;if(l!==void 0)return j.jsx(n,{thread:l,tab:d,style:e,onHoverChange:f,onFocusChange:a});else return null}d=a;f.styles=m;f.Impl=c;f.make=d}),null);
__d("MWV2ChatOverflowHead.bs",["fbt","ix","BaseGlimmer.react","CometContextualLayer.react","CometListCellGlimmer.react","CometMenuItemBase.react","CometTextWithEntities.react","LSThreadTitle.bs","MDSText.react","MWChatHeadPicture.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTextTransform.bs","MWFacepileGetContactsToShow.bs","MWLSActor.bs","MWPMenu.react","MWV2ChatHeadButton.bs","MWV2EnsureThatChatTabExists.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","TetraIcon.react","bs_belt_Option","bs_caml","bs_caml_array","bs_curry","fbicon","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react");function l(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("ReStore.bs").useHook(void 0);return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").asc,{hd:a,tl:0}),function(e){var f;return b("ReQLSuspense.bs").toArray((f=b("ReQL.bs")).filter(f.bounds(f.take(f.getKeyRange(b("ReQLTable").table(d,"messages").desc,{hd:a,tl:0}),20),{NAME:"greaterThan",VAL:{hd:e.j,tl:0}}),function(a){return b("bs_caml").i64_neq(a.h,c)})).length})},[d,JSON.stringify(c),JSON.stringify(a)])),0)}function m(a){a=a.thread;var c=l(a.a);return k.jsxs(k.Fragment,{children:[k.jsx(b("LSThreadTitle.bs").make,{thread:a}),k.jsx(b("CometTextWithEntities.react"),{text:g._(/*FBT_CALL*/"\uff08{unread message count}\u5247\uff09"/*FBT_CALL*/,[g._param("unread message count",String(c))]),transforms:b("MWChatTextTransform.bs").epdTextTransforms})]})}c={useUnreadCount:l,make:m};var n={auxWrapper:{display:"j83agx80",visibility:"kr9hpln1"},auxVisible:{visibility:"n1dktuyu"},glimmer:{height:"tv7at329",minWidth:"gvsi1rru"}};function o(a){var c=a.isItemHovered,d=a.setItemIsHovered;a=a.closeTab;return k.jsx("div",{className:(j||(j=b("stylex")))(n.auxWrapper,c?n.auxVisible:!1),children:k.jsx(b("TetraIcon.react"),{"aria-label":g._(/*FBT_CALL*/"\u95dc\u9589\u804a\u5929\u5ba4"/*FBT_CALL*/),icon:b("fbicon")._(h("478231"),12),onPress:a,onHoverIn:function(a){return b("bs_curry")._1(d,function(a){return!0})},onHoverOut:function(a){return b("bs_curry")._1(d,function(a){return!1})},color:"secondary"})})}d={styles:n,make:o};var p={glimmer:{height:"tv7at329",minWidth:"gvsi1rru"}};function q(a){var c=a.descriptor,d=a.tab,e=a.setParentHoverState,f=b("ReStore.bs").useHook(void 0);a=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"threads").asc,{hd:c.threadKey,tl:0})},[f,JSON.stringify(c.threadKey)]));var g=b("MWChatStateV2.bs").useDispatch(void 0);b("MWV2EnsureThatChatTabExists.bs").useHook(c.threadKey,c.threadType);var h=k.useState(function(){return!1}),i=h[1];if(a!==void 0)return k.jsx(b("CometMenuItemBase.react"),{primaryText:k.jsx(m,{thread:a}),onClick:function(a){b("bs_curry")._1(e,function(a){return!1});return b("bs_curry")._1(g,b("MWChatStateActions.bs").maximizeTab(Date.now(),d.tabId))},onHoverIn:function(a){return b("bs_curry")._1(i,function(a){return!0})},onHoverOut:function(a){return b("bs_curry")._1(i,function(a){return!1})},aux:k.jsx(o,{tab:d,isItemHovered:h[0],setItemIsHovered:i,closeTab:function(a){return b("bs_curry")._1(g,b("MWChatStateActions.bs").closeTab(Date.now(),d.tabId))}})});else return k.jsx("div",{className:(j||(j=b("stylex")))(p.glimmer),children:k.jsx(b("CometListCellGlimmer.react"),{imageStyle:"none"})})}e={styles:p,make:q};function r(a){var c=a.excessHeads,d=a.setParentHoverState;return k.jsx(b("MWPMenu.react"),{children:c.map(function(a){var c=a.tabType;if(c.TAG!==0)return k.jsx(q,{descriptor:c._0,tab:a,setParentHoverState:d},String(a.tabId));b("recoverableViolation")("Compose tab shouldn't be part of excess tabs","messenger_web_product");return null}),size:"full",truncate:!0,withArrow:!0})}var s={make:r},t={overflowCount:{position:"pmk7jnqg",width:"tmrshh9y",height:"m7zwrmfr",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",top:"kr520xx4",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",backgroundColor:"d6rk862h"}};function u(a){var c=a.thread;a=a.count;c=b("MWFacepileGetContactsToShow.bs").useHook(c).map(function(a){return a.b});return k.jsx(b("MWChatHeadPicture.bs").make,{images:c,children:k.jsx("div",{className:(j||(j=b("stylex")))(t.overflowCount),children:k.jsx(b("MDSText.react"),{color:"white",type:"bodyLink3",children:g._(/*FBT_CALL*/"+{chat count}"/*FBT_CALL*/,[g._param("chat count",String(a))])})}),noFacepile:!0,noDropShadow:!0})}var v={styles:t,make:u},w={glimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",width:"k4urcfbm",height:"datstx6m"}};function x(a){var c=a.tab;a=a.count;b("MWV2EnsureThatChatTabExists.bs").useHook(c.threadKey,c.threadType);var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").asc,{hd:c.threadKey,tl:0})},[d,JSON.stringify(c.threadKey)]));if(e!==void 0)return k.jsx(u,{thread:e,count:a});else return k.jsx(b("BaseGlimmer.react"),{theme:"dark",index:1,xstyle:w.glimmer})}var y={styles:w,make:x};function a(a){var c=a.style,d=a.excessHeads,e=a.onHoverChange;a=k.useState(function(){return!1});var f=a[1],h=d.length,i=k.useRef(null);if(h<=0)return null;var j=b("bs_caml_array").get(d,0).tabType,l;j.TAG===0?(b("recoverableViolation")("Compose tab shouldn't be part of excess tabs","messenger_web_product"),l=null):l=k.jsx(x,{tab:j._0,count:h});return k.jsx(b("MWV2ChatHeadButton.bs").Container.make,{children:k.jsx(b("MWV2ChatHeadButton.bs").make,{ariaLabel:g._(/*FBT_CALL*/"+{chat count}\u500b\u5176\u4ed6\u804a\u5929\u5ba4"/*FBT_CALL*/,[g._param("chat count",String(h))]),children:k.jsxs("div",{onMouseEnter:function(a){b("bs_curry")._1(f,function(a){return!0});return b("bs_curry")._1(e,!0)},onMouseLeave:function(a){b("bs_curry")._1(f,function(a){return!1});return b("bs_curry")._1(e,!1)},children:[l,a[0]?k.jsx(b("CometContextualLayer.react"),{align:"middle",position:"end",contextRef:i,children:k.jsx(r,{excessHeads:d,setParentHoverState:f})}):null]}),ref:i}),style:c})}a=a;f.MenuItemTitle=c;f.CloseButton=d;f.MenuItem=e;f.HoverMenu=s;f.Facepile=v;f.FirstThreadPicture=y;f.make=a}),null);
__d("MWV2PreloadComposeTab.bs",["JSResourceForInteraction","JSScheduler","react","useCometPreloader"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResourceForInteraction")("MWV2ComposeTab.bs").__setRef("MWV2PreloadComposeTab.bs");function a(a){a=h.useCallback(function(a){b("JSScheduler").scheduleSpeculativeCallback(function(){i.preload()})},[]);return b("useCometPreloader")("button",a,a)}f.useHook=a}),null);
__d("MWV2ComposeHead.bs",["fbt","ix","CometPressable.react","CometTintedIcon.react","MWChatStateV2.bs","MWPTooltip.react","MWV2PreloadComposeTab.bs","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k={button:{position:"l9j0dhe7",display:"pq6dq46d",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",width:"tmrshh9y",height:"m7zwrmfr",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",backgroundColor:"ovq5dppa",boxShadow:"akv41dx8",appearance:"dwo3fsh8",":hover":{boxShadow:"eb3gnj61"}}};function a(a){var c=a.onHoverChange;a=a.onFocusChange;var d=b("MWChatStateV2.bs").useDispatch(void 0),e=function(a){var c=Date.now();a=function(a){return{tabId:a.tabId,tabType:a.tabType,openWatermark:c,minimizeWatermark:a.minimizeWatermark,clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,openFlyoutWatermark:a.openFlyoutWatermark}};var e=function(a){var b=a.openWatermark<a.closeWatermark;if(b)return{tabId:a.tabId,tabType:{TAG:0,_0:[]},openWatermark:c,minimizeWatermark:a.minimizeWatermark,clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,openFlyoutWatermark:a.openFlyoutWatermark};else return{tabId:a.tabId,tabType:{TAG:0,_0:[]},openWatermark:a.openWatermark,minimizeWatermark:a.minimizeWatermark,clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:c,openFlyoutWatermark:a.openFlyoutWatermark}};return b("bs_curry")._1(d,[{TAG:3,_0:{TAG:0,_0:[]},_1:{shouldFocus:!0},_2:e,_3:a}])},f=b("MWV2PreloadComposeTab.bs").useHook(void 0),i=g._(/*FBT_CALL*/"\u65b0\u8a0a\u606f"/*FBT_CALL*/);return j.jsx(b("MWPTooltip.react"),{tooltip:i.toString(),align:"middle",position:"start",children:j.jsx(b("CometPressable.react"),{"aria-label":i,testid:"mwchat-compose-head",onHoverChange:c,onHoverIn:f[0],onHoverOut:f[1],onFocusChange:a,onPress:e,xstyle:function(a){return[k.button]},children:j.jsx(b("CometTintedIcon.react"),{color:"primary",icon:b("fbicon")._(h("507172"),20)})})})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2ChatHeads.bs",["CometErrorBoundary.re","MWChatStateV2.bs","MWChatStateV2HeadGroups.bs","MWChatStateV2MaxTabCount.bs","MWChatStateV2TabGroups.bs","MWV2ChatHead.bs","MWV2ChatOverflowHead.bs","MWV2ComposeHead.bs","bs_caml_option","bs_curry","bs_int64","cr:1134","react","stylex","useMWIsTopLevelRouteMediaViewerExperiment"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{position:"pmk7jnqg",bottom:"lfi1tu6t",end:"cypi58rs",width:"tmrshh9y",zIndex:"tkr6xdv7"}};function k(a){return{transform:"translateY(-"+String(Math.imul(a,58))+"px)"}}function l(a){return{transform:"translateY(-"+String(Math.imul(a,58)-12|0)+"px)"}}function a(a){a=b("MWChatStateV2.bs").useState(function(a){return a.tabs});a=a.tabs;var c=b("MWChatStateV2.bs").useState(function(a){return a.focusedTabId}),d=b("MWChatStateV2.bs").useState(function(a){return a.mediaViewerOpenWatermark}),e=b("MWChatStateV2MaxTabCount.bs").useHook(void 0),f=b("useMWIsTopLevelRouteMediaViewerExperiment")();f=f?d.mediaViewerOpenWatermark:void 0;d=b("MWChatStateV2TabGroups.bs").getTabGroups(b("bs_caml_option").some(f),a,c.focusedTabId,e);c=b("MWChatStateV2HeadGroups.bs").getHeadGroups(b("bs_caml_option").some(f),d[1],a,5);e=c[1];f=c[0];a=d[0].length;c=f.length;var g=e.length>0?1:0;d=i.useState(function(){return!1});var m=d[1],n=e.length;if(n!==1)n=n!==0?i.jsx(b("MWV2ChatOverflowHead.bs").make,{style:k(1),excessHeads:e,onHoverChange:function(a){return b("bs_curry")._1(m,function(b){return a})}}):null;else{e=e[0];var o=e.tabType;if(o.TAG===0)n=null;else{o=o._0;n=i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:i.jsx(b("MWV2ChatHead.bs").make,{threadKeyDescriptor:o,tab:e,style:k(1),onHoverChange:function(a){return b("bs_curry")._1(m,function(b){return a})},onFocusChange:function(a){return b("bs_curry")._1(m,function(b){return a})}})},b("bs_int64").to_string(o.threadKey))}}return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[!(b("cr:1134")==null)&&(a>0||c>0)?i.jsx(b("cr:1134").make,{isVisible:d[0],openTabCount:a,style:l((c+g|0)+1|0)}):null,f.reverse().map(function(c,d){var a=c.tabType;if(a.TAG===0)return null;a=a._0;d=(d+g|0)+1|0;return i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:i.jsx(b("MWV2ChatHead.bs").make,{threadKeyDescriptor:a,tab:c,style:k(d),onHoverChange:function(a){return b("bs_curry")._1(m,function(b){return a})},onFocusChange:function(a){return b("bs_curry")._1(m,function(b){return a})}})},b("bs_int64").to_string(a.threadKey))}),n,i.jsx(b("MWV2ComposeHead.bs").make,{onHoverChange:function(a){return b("bs_curry")._1(m,function(b){return a})},onFocusChange:function(a){return b("bs_curry")._1(m,function(b){return a})}})]})}c=a;f.styles=j;f.$MWV2ChatOptionsHead$requireCond=b("cr:1134");f.make=c}),null);
__d("MWV2HeaderCloseButton.bs",["fbt","CometPressable.react","MWPTooltip.react","bs_caml_option","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u95dc\u9589\u804a\u5929\u5ba4"/*FBT_CALL*/);function a(a){var c=a.onPress,d=a.color,e=a.label;a=a.testid;e=e!==void 0?e:j;var f=b("useSetAttributeRef")("data-prevent_chattab_focus","1");f={"aria-label":e,ref:f,onPress:c,overlayRadius:"50%",children:i.jsx("svg",{width:"26px",height:"26px",viewBox:"0 0 24 24",children:i.jsxs("g",{strokeLinecap:"round",strokeWidth:"2",stroke:d,children:[i.jsx("line",{x1:"6",x2:"18",y1:"6",y2:"18"}),i.jsx("line",{x1:"6",x2:"18",y1:"18",y2:"6"})]})})};a!==void 0&&(f.testid=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWPTooltip.react"),{tooltip:e,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),f)})}c=a;f.defaultLabel=j;f.make=c}),null);
__d("MWV2HeaderContainer.bs",["MDSRow.react","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{position:"l9j0dhe7",display:"j83agx80",flexShrink:"pfnyh3mw",justifyContent:"i1fnvgqd",alignItems:"bp9cbjyn",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",backgroundColor:"nred35xi",height:"k7cz35w2",zIndex:"kavbgo14"},divider:{boxShadow:"rlauoc8d"}};function a(a){var c=a.startContent,d=a.endContent,e=a.backgroundColor;a=a.divider;c=c!==void 0?b("bs_caml_option").valFromOption(c):null;d=d!==void 0?b("bs_caml_option").valFromOption(d):null;a=a!==void 0?a:!0;var f={};e!==void 0&&(f.backgroundColor=e);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root,a?j.divider:!1),style:f,children:[i.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",expanding:!0,children:c}),d]})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2TabContainer.bs",["MWChatFocusComposerContext.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTabFocusHandler.bs","UseMWV2CloseTab.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={tabContainer:{backgroundColor:"nred35xi",boxShadow:"eu4i7hue",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",fontSize:"jq4qci2q",lineHeight:"a3bd9o3v",display:"j83agx80",flexDirection:"cbu4d94t",width:"jbcpqwzg",height:"kwja4m9d",maxHeight:"j8pehd6c","@media (min-height: 1280px)":{height:"l8e2pc74"},marginStart:"i0u1bx94"}};function a(a){var c=a.tab,d=a.thread,e=a.style,f=a.tabIndex,g=a.ariaBusy,k=a.ariaLabel,l=a.domRef;a=a.children;var m=b("MWChatStateV2.bs").useDispatch(void 0),n=b("UseMWV2CloseTab.bs").useHook(d,c);return i.jsx(b("MWChatFocusComposerContext.bs").provider,{children:i.jsx(b("MWChatTabFocusHandler.bs").make,{onEscape:function(a){return b("bs_curry")._1(n,void 0)},onFocus:function(a){return b("bs_curry")._1(m,b("MWChatStateActions.bs").focusTab(c.tabId))},onBlur:function(a){return b("bs_curry")._1(m,b("MWChatStateActions.bs").blurTab(void 0))},children:i.jsx("div",{className:(h||(h=b("stylex")))(j.tabContainer),style:e,tabIndex:f,"aria-busy":g,"aria-label":k,ref:l,"data-testid":"mwchat-tab",children:a})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatTabLoading.bs",["cssVar","fbt","MWChatStateActions.bs","MWChatStateV2.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2IsTabFocusedContext.bs","MWV2TabContainer.bs","MWV2Theme.bs","bs_curry","react","useCometLoadingStateTracker"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.tab;a=b("useCometLoadingStateTracker")();var d=a[1],e=b("MWChatStateV2.bs").useDispatch(void 0);a=b("MWV2Theme.bs").useTop(void 0);var f=b("MWV2IsTabFocusedContext.bs").useContext(void 0);a=f?a:"#C9CCD1";j.useEffect(function(){if(f){var a=d.current;a==null||a.focus()}},[f]);return j.jsx(b("MWV2TabContainer.bs").make,{tab:c,tabIndex:0,ariaBusy:!0,ariaLabel:h._(/*FBT_CALL*/"\u8f09\u5165\u4e2d\u2026\u2026"/*FBT_CALL*/),domRef:d,children:j.jsx(b("MWV2HeaderContainer.bs").make,{endContent:j.jsx(b("MWV2HeaderCloseButton.bs").make,{onPress:function(a){return b("bs_curry")._1(e,b("MWChatStateActions.bs").closeTab(Date.now(),c.tabId))},color:a})})})}c=a;f.make=c}),null);
__d("MWV2ChatTabs.bs",["BootloaderResource","CometErrorBoundary.re","CometHeroInteractionWithDiv.react","CometPlaceholder.react","JSResource","MWChatInteraction.bs","MWChatStateV2.bs","MWChatStateV2MaxTabCount.bs","MWChatStateV2TabGroups.bs","MWV2ChatTabLoading.bs","MWV2IsTabFocusedContext.bs","MWV2ReplyContext.bs","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:356","react","stylex","useMWIsTopLevelRouteMediaViewerExperiment"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("JSResource")("MWV2ComposeTab.bs").__setRef("MWV2ChatTabs.bs");function a(a,b,c){return{tab:a,initialTokens:b}}function k(a){return i.createElement(b("BootloaderResource").read(j).make,a)}e={reasonResource:j,makeProps:a,make:k};var l=b("JSResource")("MWV2ChatTab.bs").__setRef("MWV2ChatTabs.bs");function c(a,b,c){return{tab:a,threadKeyDescriptor:b}}function m(a){return i.createElement(b("BootloaderResource").read(l).make,a)}a={reasonResource:l,makeProps:c,make:m};var n=b("cr:356")==null?void 0:b("bs_caml_option").some(b("cr:356")),o={tabsContainer:{display:"j83agx80",position:"poy2od1o",bottom:"i09qtzwb",end:"esma6hys"}};function d(a){a=b("MWChatStateV2.bs").useState(function(a){return a.tabs});var c=b("MWChatStateV2.bs").useState(function(a){return a.focusedTabId}),d=c.focusedTabId;c=b("MWChatStateV2.bs").useState(function(a){return a.mediaViewerOpenWatermark});var e=b("MWChatStateV2MaxTabCount.bs").useHook(void 0),f=b("useMWIsTopLevelRouteMediaViewerExperiment")();f=b("MWChatStateV2TabGroups.bs").getTabGroups(b("bs_caml_option").some(f?c.mediaViewerOpenWatermark:void 0),a.tabs,d,e);var g=i.useCallback(function(a){if(a.TAG===0)return null;else return b("MWChatInteraction.bs").get(b("bs_int64").to_string(a._0.threadKey))},[]);c=f[0].map(function(a,c){var e=b("bs_caml_obj").caml_equal(d,a.tabId),f=a.tabType;f=f.TAG===0?i.jsx(k,{tab:a,initialTokens:f._0}):i.jsx(m,{tab:a,threadKeyDescriptor:f._0});f=i.jsx(b("MWV2IsTabFocusedContext.bs").make,{children:i.jsx(b("MWV2ReplyContext.bs").make,{children:i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("CometHeroInteractionWithDiv.react"),{children:f,interactionUUID:b("bs_curry")._1(g,a.tabType),interactionDesc:"MWV2_CHAT_TAB",pageletName:"ChatTab",excludeFromMainVC:!0}),fallback:i.jsx(b("MWV2ChatTabLoading.bs").make,{tab:a})})}),isFocused:e});return i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:b("cr:356")==null?f:i.jsx(n.TabIndex.make,{children:f,value:c})},String(a.tabId))});return i.jsx("div",{className:(h||(h=b("stylex")))(o.tabsContainer),"data-testid":"mwchat-tabs",children:b("cr:356")==null?c:i.jsx(n.make,{children:c})})}c=d;f.LazyMWV2ComposeTab=e;f.LazyMWV2ChatTab=a;f.$MWComposerKeyCommandFocusManager$OR$null$requireCond=b("cr:356");f.styles=o;f.make=c}),null);
__d("MWV2ChatUpdateMediaViewerOpenWatermark.bs",["MWChatStateActions.bs","MWChatStateV2.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWChatStateV2.bs").useDispatch(void 0);return h.useCallback(function(a){a=Date.now();return b("bs_curry")._1(c,b("MWChatStateActions.bs").updateMediaViewerOpenWatermark(a))},[c])}f.useHook=a}),null);
__d("MWV2CookieWriter.bs",["DeferredCookie","MessagingThreadType.bs","bs_caml","bs_int64","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").group))return"g.";else if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").secureMessageOverWaOneToOne))return"sc.";else if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").secureMessageOverWaGroup))return"sg.";else return"u."}function h(a,c){var d=function(a){if(c===void 0)return!1;var d=c.tabType;if(d.TAG===0)return!1;else return b("bs_caml").i64_eq(d._0.threadKey,a)},e=[];a.forEach(function(a){if(a===void 0)return;var c=a.a;if(!d(c)){e.push({i:g(a.c)+b("bs_int64").to_string(c)});return}});var f;if(c!==void 0){a=c.tabType;if(a.TAG===0)f=void 0;else{a=a._0;f=g(a.threadType)+b("bs_int64").to_string(a.threadKey)}}else f=void 0;a=JSON.stringify({t3:e,utc3:Date.now(),lm3:f,v:1});if(a!==void 0)return"C"+a}function a(a,c){a=h(a,c);a!==void 0?b("DeferredCookie").addToQueue("presence",a,0,"",!1,!1,!0):b("recoverableViolation")("Failed to serialize cookie","messenger_comet")}c=1;f.version=c;f.serializeToCookie=h;f.write=a}),null);
__d("UseMWV2CookieWriter.bs",["LSAuthorityLevel.bs","MWChatStateV2.bs","MWChatStateV2CompareTabs.bs","MWChatStateV2IsComposeTab.bs","MWChatStateV2IsOpen.bs","MWV2CookieWriter.bs","Promise","ReQL.bs","ReQLTable","ReStore.bs","bs_belt_Array","bs_caml","gkx","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWChatStateV2.bs").useState(function(a){return a.tabs}),d=b("ReStore.bs").useHook(void 0);h.useEffect(function(){var a=b("bs_belt_Array").get(Array.from(c.tabs.values()).filter(function(a){return b("MWChatStateV2IsOpen.bs").isOpen(void 0,a)}).sort(b("MWChatStateV2CompareTabs.bs").byMostRecentOpened),0),e=function(c){c=c.tabType;if(a===void 0)return!1;var d=a.tabType;if(d.TAG===0||c.TAG===0)return!1;else return b("bs_caml").i64_eq(d._0.threadKey,c._0.threadKey)},f=Array.from(c.tabs.values()).filter(function(a){return!b("MWChatStateV2IsComposeTab.bs").isComposeTab(a)}).filter(function(a){if(a.openWatermark>a.closeWatermark)return!0;else return a.minimizeWatermark>a.closeWatermark}).filter(function(a){return!e(a)}).sort(function(a,c){var d=b("MWChatStateV2CompareTabs.bs").byMostRecentMinimized(a,c);if(d===0)return b("MWChatStateV2CompareTabs.bs").byMostRecentOpened(a,c);else return d}),g=[];f.forEach(function(a){a=a.tabType;if(a.TAG===0)return;g.push(a._0.threadKey)});b("promiseDone")(b("Promise").all(g.map(function(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").asc,{hd:a,tl:0}))})).then(function(c){c=c.filter(function(a){if(a!==void 0)return b("bs_caml").i64_eq(a.Z,b("LSAuthorityLevel.bs").authoritative);else return!1});b("MWV2CookieWriter.bs").write(c,a);return b("Promise").resolve(void 0)}),void 0,void 0)},[d,c])}c=b("gkx")("1812641")?a:function(a){};f.useHook=c}),null);
__d("MWV2ChatTabsRoot.bs",["CometContextualLayerAnchorRoot.re","CometPlaceholder.react","IsMWIsOnPushView","MWChatOnMediaVisibilityOverrideContext","MWLSChatInit.bs","MWLSThreadDisplayContext.bs","MWSetupPresenceReportingDeferred.bs","MWV2ChatHeads.bs","MWV2ChatTabs.bs","MWV2ChatUpdateMediaViewerOpenWatermark.bs","UseMWV2CookieWriter.bs","bs_curry","cr:1162","cr:9867","react","stylex","useMWIsTopLevelRouteMediaViewerExperiment","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{position:"poy2od1o",bottom:"i09qtzwb",end:"n7fi1qx3"},container:{display:"j83agx80",alignItems:"aovydwv3"},chatAbovePushView:{zIndex:"tkr6xdv7"}};function k(a){a=b("IsMWIsOnPushView")();return i.jsx(b("MWLSThreadDisplayContext.bs").Provider.make,{children:i.jsx("div",{className:(h||(h=b("stylex")))(j.root,a?j.chatAbovePushView:!1),children:i.jsx(b("CometContextualLayerAnchorRoot.re").make,{children:i.jsxs("div",{className:h(j.container),children:[i.jsx(b("MWV2ChatTabs.bs").make,{}),i.jsx(b("MWV2ChatHeads.bs").make,{})]})})}),value:0})}c={styles:j,make:k};function l(a){a=a.children;b("UseMWV2CookieWriter.bs").useHook(void 0);b("MWLSChatInit.bs").useHook(void 0);return a}d={make:l};function a(a){var c=b("useMWIsTopLevelRouteMediaViewerExperiment")();a=b("MWChatOnMediaVisibilityOverrideContext").useMWChatOnMediaVisibilityOverride(c);var d=b("MWV2ChatUpdateMediaViewerOpenWatermark.bs").useHook(void 0);a=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT")&&a;i.useEffect(function(){c&&b("bs_curry")._1(d,void 0)},[c,d]);a=i.jsxs(b("CometPlaceholder.react"),{children:[i.jsx(b("MWSetupPresenceReportingDeferred.bs").make,{}),i.jsx(l,{children:a?i.jsx(k,{}):null})],fallback:null});return i.jsx(i.Fragment,{children:b("cr:9867")==null?b("cr:1162")==null?a:i.jsx(b("cr:1162").make,{children:a}):i.jsx(b("cr:9867").make,{children:a})})}e=a;f.ChatTabs=c;f.LoadLightspeed=d;f.$MAWSetup$requireCond=b("cr:1162");f.$MAWSetup$requireCond$1=b("cr:9867");f.make=e}),null);
__d("MWV2ChatTabsRoot.re",["MWV2ChatTabsRoot.bs"],(function(a,b,c,d,e,f){a=b("MWV2ChatTabsRoot.bs").make;f.make=a}),null);
__d("MWV2ChatContainer.react",["CometErrorBoundary.react","LSPlatformClientProvider.re","LSPlatformConfig.re","LSPlatformMessengerConfig.re","MWV2ChatTabsRoot.re","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return"Error"},children:h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.re").configEagerlyLoaded,children:h.jsx(d("LSPlatformClientProvider.re").make,{children:h.jsx(d("MWV2ChatTabsRoot.re").make,{})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatOpenTabFromNewMessage.bs",["LSThreadAttributionStore.bs","MWChatMultitabContext.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatThreadId.bs","ODS","bs_curry","react","setTimeout","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=h.useContext(b("MWChatMultitabContext.bs").context),e=b("MWChatStateV2.bs").useDispatch(void 0);return h.useCallback(function(f){return function(g,h){c(Date.now(),"","messenger");b("ODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");b("LSThreadAttributionStore.bs").setSource(b("MWChatThreadId.bs").getFBID(f),a);if(d!==void 0){var i=Date.now();b("bs_curry")._1(e,b("MWChatStateActions.bs").openTabOrFlyout(i,{shouldFocus:!1},{TAG:1,_0:{threadKey:g.a,clientThreadKey:void 0,threadType:g.c}}));b("setTimeout")(function(a){return b("bs_curry")._1(e,b("MWChatStateActions.bs").closeFlyout(i,g.a))},3e3)}return b("bs_curry")._1(h,void 0)}},[d,c,a,e])}f.useHook=a}),null);
__d("MWV2ChatOptionsHead.bs",["fbt","ix","CometDeferredPopoverTrigger.react","CometPressable.react","MWPTooltip.react","TetraIcon.react","bs_curry","fbicon","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={headArea:{height:"tv7at329",width:"thwo4zme",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",position:"pmk7jnqg",start:"feor4xix"},hoverTarget:{alignItems:"bp9cbjyn",backgroundColor:"g5ia77u1",display:"j83agx80",height:"e5d9fub0",justifyContent:"taijpn5t",marginStart:"kb7jmfru",marginTop:"o7xrwllt",width:"etr7akla"},head:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",height:"tv7at329",width:"thwo4zme",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",backgroundColor:"ovq5dppa",boxShadow:"akv41dx8",":hover":{boxShadow:"eb3gnj61"},opacity:"b5wmifdl",transform:"qpbg1qsm",transitionDuration:"bybyf9sm",transitionProperty:"pnx7fd3z"},headVisible:{opacity:"pedkr2u6",transform:"g3zh7qmp"}},m=g._(/*FBT_CALL*/"\u9078\u9805"/*FBT_CALL*/);function a(a){var c=a.isVisible,d=a.openTabCount,e=a.style;a=k.useState(function(){return!1});var f=a[1],g=a[0];a=k.useState(function(){return!1});var i=a[1],n=a[0];a=k.useState(function(){return!1});var o=a[1],p=a[0];return k.jsx(b("CometDeferredPopoverTrigger.react"),{onVisibilityChange:function(a){return b("bs_curry")._1(o,function(b){return a})},popoverResource:b("requireDeferred")("MWV2ChatOptionsHeadPopover.react").__setRef("MWV2ChatOptionsHead.bs"),popoverProps:{hasOpenTabs:d>0},align:"end",position:"above",children:function(a,d){return k.jsx("div",{className:(j||(j=b("stylex")))(l.headArea),style:e,children:k.jsx("div",{className:j(l.hoverTarget),onMouseEnter:function(a){return b("bs_curry")._1(f,function(a){return!0})},onMouseLeave:function(a){return b("bs_curry")._1(f,function(a){return!1})},"data-testid":"mwchat-options-head-hover-target",children:k.jsx(b("CometPressable.react"),{label:m,ref:a,testid:"mwchat-options-head",onFocusChange:function(a){return b("bs_curry")._1(i,function(b){return a})},onPress:function(a){return b("bs_curry")._1(d,void 0)},xstyle:function(a){return[l.head,c||g||n||p?l.headVisible:!1]},children:k.jsx(b("MWPTooltip.react"),{tooltip:m,align:"middle",position:"start",children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("484387"),20)})})})})})}})}c=36;d=10;e=a;f.width=c;f.marginBottom=d;f.styles=l;f.make=e}),null);
__d("LSSecureVersion",[],(function(a,b,c,d,e,f){e.exports="4744299102267170"}),null);
__d("LSSecureVersion.bs",["LSSecureVersion"],(function(a,b,c,d,e,f){"use strict";a=b("LSSecureVersion");f.version=a}),null);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DOMQuery","DataStore","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){b[a.name]=a.files});return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g.initial=function(a){return g.inform("initial",{upload:a})};if(b.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click.bind(babelHelpers.assertThisInitialized(g)))];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.canUseXHR=function(){var a="FormData"in window;a&&(!new(c("URI"))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin&&(a=!1));return a};e._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){this._clickTarget=a;c("setTimeout")(this._unclick.bind(this),0);break}a=a.parentNode}};e._unclick=function(){this._clickTarget=null};e._sendViaFrame=function(){var a=this._request=new(c("AsyncRequest"))();a.setStatusElement(this._getStatusElement());a.addStatusIndicator();a.setOption("useIframeTransport",!0);var b=a.handleResponse.bind(a);b=new(c("JSONPTransport"))("iframe",this._form.action,b);var d=b.getTransportFrame(),e=b.getRequestURI().addQueryData({__iframe:!0,__user:c("CurrentUser").getID()});this._form.setAttribute("action",e.toString());b.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",d.name);a.setJSONPTransport(b);a.setURI(e);a.setHandler(this.success.bind(this,null));a.setErrorHandler(this.failure.bind(this,null));a.setInitialHandler(c("shield")(this.initial,this,null))};e._sendViaXHR=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,b){this.progress(b,b.getProgressEvent())}.bind(this)),e.subscribe("initial",function(a,b){this.initial(b)}.bind(this)),e.subscribe("success",function(a,b){this.success(b,b.getResponse())}.bind(this)),e.subscribe("start",function(a,b){this.inform("start",{upload:b})}.bind(this)),e.subscribe("failure",function(a,b){this.failure(b,b.getResponse());return!1}.bind(this)),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else{var i,f,j;(function(){var a,g=b._files;if(g){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));i=c("AsyncUploadRequest").parseFiles(g);for(f in i)j=i[f],j.length===1?a.append(f,j[0]):(f=f+"[]",j.forEach(function(b){a.append(f,b)}))}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(b.success.bind(b,null)).setErrorHandler(b.failure.bind(b,null)).setUploadProgressHandler(b.progress.bind(b,null)).setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})()}e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.forceSendViaXHR=function(){return this._sendViaXHR(null)};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=function(a,b){this.inform("progress",{event:b,upload:a})};e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=function(){i(this._form)};e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e.submit=function(a){this.canUseXHR()?this._sendViaXHR(a):this._sendViaFrame()};e._cleanup=function(){this._request=null};e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=function(a){return d("DataStore").get(a,"FileForm")};return b}(c("mixin")(d("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;function a(){return(g++).toString()}f.getNewID=a}),66);
__d("curry",["bind"],(function(a,b,c,d,e,f,g){a=c("bind")(null,c("bind"),null);b=a;g["default"]=b}),98);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=this.filterVideos(a).length;a=this.filterNonEditableVideos(a).length;return b>a}function b(a){return this.filterVideos(a).length>0}function d(a){return this.filterAudioFiles(a).length>0}function e(a){return this.filterFileOfSupportedType(a,c("VideoUploadConfig").videoExtensions)}function f(a){var b={gif:!0};return this.filterFileOfSupportedType(a,b)}function h(a){return this.filterFileOfSupportedType(a,c("ComposerXNativeAudioUploadsConfig").audioExtensions)}function i(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=e;g.filterNonEditableVideos=f;g.filterAudioFiles=h;g.filterFileOfSupportedType=i}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("exif-js-2.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var a=!1,b=this,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this.EXIFwrapped=a};typeof g!=="undefined"?(typeof h!=="undefined"&&h.exports&&(g=h.exports=c),g.EXIF=c):b.EXIF=c;var d=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},e=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},j=c.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},k=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(a){return!!a.exifdata}function m(a,b){b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"";a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");b=atob(a);a=b.length;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(var e=0;e<a;e++)d[e]=b.charCodeAt(e);return c}function n(a,b){var c=new XMLHttpRequest();c.open("GET",a,!0);c.responseType="blob";c.onload=function(a){(this.status==200||this.status===0)&&b(this.response)};c.send()}function o(b,d){function e(a){var e=p(a);b.exifdata=e||{};e=q(a);b.iptcdata=e||{};if(c.isXmpEnabled){e=z(a);b.xmpdata=e||{}}d&&d.call(b)}if(b.src)if(/^data\:/i.test(b.src)){var f=m(b.src);e(f)}else if(/^blob\:/i.test(b.src)){var g=new FileReader();g.onload=function(a){e(a.target.result)};n(b.src,function(a){g.readAsArrayBuffer(a)})}else{var h=new XMLHttpRequest();h.onload=function(){if(this.status==200||this.status===0)e(h.response);else throw"Could not load image";h=null};h.open("GET",b.src,!0);h.responseType="arraybuffer";h.send(null)}else if(self.FileReader&&(b instanceof self.Blob||b instanceof self.File)){var g=new FileReader();g.onload=function(b){a&&!1,e(b.target.result)};g.readAsArrayBuffer(b)}}function p(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e;while(d<b){if(c.getUint8(d)!=255){a&&!1;return!1}e=c.getUint8(d+1);a&&!1;if(e==225){a&&!1;return y(c,d+4,c.getUint16(d+2)-2)}else d+=2+c.getUint16(d+2)}}function q(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2,e=b.byteLength,f=function(a,b){return a.getUint8(b)===56&&a.getUint8(b+1)===66&&a.getUint8(b+2)===73&&a.getUint8(b+3)===77&&a.getUint8(b+4)===4&&a.getUint8(b+5)===4};while(d<e){if(f(c,d)){var g=c.getUint8(d+7);g%2!==0&&(g+=1);g===0&&(g=4);var h=d+8+g;g=c.getUint16(d+6+g);return s(b,h,g);break}d++}}var r={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function s(a,b,c){a=new DataView(a);var d={},e,f,g=b;while(g<b+c)a.getUint8(g)===28&&a.getUint8(g+1)===2&&(f=a.getUint8(g+2),f in r&&(e=a.getInt16(g+3),f=r[f],e=x(a,g+5,e),d.hasOwnProperty(f)?d[f]instanceof Array?d[f].push(e):d[f]=[d[f],e]:d[f]=e)),g++;return d}function t(b,c,d,e,f){var g=b.getUint16(d,!f),h={},i,j,k;for(k=0;k<g;k++)i=d+k*12+2,j=e[b.getUint16(i,!f)],!j&&a&&!1,h[j]=u(b,i,c,d,f);return h}function u(a,b,c,d,e){d=a.getUint16(b+2,!e);var f=a.getUint32(b+4,!e);c=a.getUint32(b+8,!e)+c;var g,h,i,j;switch(d){case 1:case 7:if(f==1)return a.getUint8(b+8,!e);else{d=f>4?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint8(d+i);return g}case 2:d=f>4?c:b+8;return x(a,d,f-1);case 3:if(f==1)return a.getUint16(b+8,!e);else{d=f>2?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint16(d+2*i,!e);return g}case 4:if(f==1)return a.getUint32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getUint32(c+4*i,!e);return g}case 5:if(f==1){d=a.getUint32(c,!e);j=a.getUint32(c+4,!e);h=new Number(d/j);h.numerator=d;h.denominator=j;return h}else{g=[];for(i=0;i<f;i++)d=a.getUint32(c+8*i,!e),j=a.getUint32(c+4+8*i,!e),g[i]=new Number(d/j),g[i].numerator=d,g[i].denominator=j;return g}case 9:if(f==1)return a.getInt32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+4*i,!e);return g}case 10:if(f==1)return a.getInt32(c,!e)/a.getInt32(c+4,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+8*i,!e)/a.getInt32(c+4+8*i,!e);return g}}}function v(a,b,c){var d=a.getUint16(b,!c);return a.getUint32(b+2+d*12,!c)}function w(a,b,c,d){c=v(a,b+c,d);if(!c)return{};else if(c>a.byteLength)return{};c=t(a,b,b+c,j,d);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){d=b+c.JpegIFOffset;b=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(a.buffer,d,b)],{type:"image/jpeg"})}break;case 1:break;default:}else c.PhotometricInterpretation==2;return c}function x(a,b,c){var d="";for(var e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}function y(b,c){if(x(b,c,4)!="Exif"){a&&!1;return!1}var g,h,i,j;c=c+6;if(b.getUint16(c)==18761)g=!1;else if(b.getUint16(c)==19789)g=!0;else{a&&!1;return!1}if(b.getUint16(c+2,!g)!=42){a&&!1;return!1}var l=b.getUint32(c+4,!g);if(l<8){a&&!1;return!1}h=t(b,c,c+l,e,g);if(h.ExifIFDPointer){j=t(b,c,c+h.ExifIFDPointer,d,g);for(i in j){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":j[i]=k[i][j[i]];break;case"ExifVersion":case"FlashpixVersion":j[i]=String.fromCharCode(j[i][0],j[i][1],j[i][2],j[i][3]);break;case"ComponentsConfiguration":j[i]=k.Components[j[i][0]]+k.Components[j[i][1]]+k.Components[j[i][2]]+k.Components[j[i][3]];break}h[i]=j[i]}}if(h.GPSInfoIFDPointer){j=t(b,c,c+h.GPSInfoIFDPointer,f,g);for(i in j){switch(i){case"GPSVersionID":j[i]=j[i][0]+"."+j[i][1]+"."+j[i][2]+"."+j[i][3];break}h[i]=j[i]}}h.thumbnail=w(b,c,l,g);return h}function z(b){if(!("DOMParser"in self))return;var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e=new DOMParser();while(d<b-4)if(x(c,d,4)=="http"){var f=d-1,g=c.getUint16(d-2)-1;f=x(c,f,g);g=f.indexOf("xmpmeta>")+8;f=f.substring(f.indexOf("<x:xmpmeta"),g);g=f.indexOf("x:xmpmeta")+10;f=f.slice(0,g)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+f.slice(g);g=e.parseFromString(f,"text/xml");return B(g)}else d++}function A(a){var b={};if(a.nodeType==1){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else if(a.nodeType==3)return a.nodeValue;if(a.hasChildNodes())for(var d=0;d<a.childNodes.length;d++){c=a.childNodes.item(d);var e=c.nodeName;if(b[e]==null)b[e]=A(c);else{if(b[e].push==null){var f=b[e];b[e]=[];b[e].push(f)}b[e].push(A(c))}}return b}function B(a){try{var b={};if(a.children.length>0)for(var c=0;c<a.children.length;c++){var d=a.children.item(c),e=d.attributes;for(var f in e){var g=e[f],h=g.nodeName;g=g.nodeValue;h!==void 0&&(b[h]=g)}h=d.nodeName;if(typeof b[h]=="undefined")b[h]=A(d);else{if(typeof b[h].push=="undefined"){g=b[h];b[h]=[];b[h].push(g)}b[h].push(A(d))}}else b=a.textContent;return b}catch(a){}}c.enableXmp=function(){c.isXmpEnabled=!0};c.disableXmp=function(){c.isXmpEnabled=!1};c.getData=function(a,b){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;!l(a)?o(a,b):b&&b.call(a);return!0};c.getTag=function(a,b){if(!l(a))return;return a.exifdata[b]};c.getIptcTag=function(a,b){if(!l(a))return;return a.iptcdata[b]};c.getAllTags=function(a){if(!l(a))return{};var b;a=a.exifdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.getAllIptcTags=function(a){if(!l(a))return{};var b;a=a.iptcdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.pretty=function(a){if(!l(a))return"";var b;a=a.exifdata;var c="";for(b in a)a.hasOwnProperty(b)&&(typeof a[b]=="object"?a[b]instanceof Number?c+=b+" : "+a[b]+" ["+a[b].numerator+"/"+a[b].denominator+"]\r\n":c+=b+" : ["+a[b].length+" values]\r\n":c+=b+" : "+a[b]+"\r\n");return c};c.readFromBinaryFile=function(a){return p(a)};typeof i==="function"&&i.amd&&i("exif-js",[],function(){return c})}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
__d("exif-js",["exif-js-2.3.0"],(function(a,b,c,d,e,f){e.exports=b("exif-js-2.3.0")()}),null);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","Promise","StringEncoding","emptyFunction","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e=function(){function e(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var f=e.prototype;f.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=h[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};f.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,i)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+i.length,b-2-i.length)):this.$11(a+4,j)?(this.$1=a,this.$2=b,this.$13(a+4+j.length,b-2-j.length)):this.$11(a+4,k)&&this.$14(a+4+k.length,b-2-k.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};f.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};f.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");b=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}a={};for(var e in b){var f=b[e];typeof f==="string"&&(f=f.trim());a[e.trim()]=f}this.$3=a};f.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};f.$14=function(a){};f.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};f.$9=function(a){for(var a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};f.hasAPP1=function(){return Boolean(this.$1)};f.hasExif=function(){return Boolean(this.$3)};f.hasXMP=function(){return Boolean(this.$4)};f.hasSize=function(){return Boolean(this.$5)};f.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};f.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};f.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};f.getXMPString=function(){return this.$4};f.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};f.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};e.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=e;c.next=3;return b("regeneratorRuntime").awrap(e.$16(a));case 3:c.t1=c.sent;return c.abrupt("return",new c.t0(c.t1));case 5:case"end":return c.stop()}},null,this)};e.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return e}();var h=[];h[216]={name:"SOI",length:0};h[192]={name:"SOF0"};h[193]={name:"SOF1"};h[194]={name:"SOF2"};h[195]={name:"SOF3"};h[197]={name:"SOF5"};h[198]={name:"SOF6"};h[199]={name:"SOF7"};h[200]={name:"JPG"};h[201]={name:"SOF9"};h[202]={name:"SOF10"};h[203]={name:"SOF11"};h[205]={name:"SOF13"};h[206]={name:"SOF14"};h[207]={name:"SOF15"};h[196]={name:"DHT"};h[219]={name:"DQT"};h[221]={name:"DRI",length:2};h[218]={name:"SOS"};h[208]={name:"RST0",length:0};h[209]={name:"RST1",length:0};h[210]={name:"RST2",length:0};h[211]={name:"RST3",length:0};h[212]={name:"RST4",length:0};h[213]={name:"RST5",length:0};h[214]={name:"RST6",length:0};h[215]={name:"RST7",length:0};h[224]={name:"APP0"};h[225]={name:"APP1"};h[226]={name:"APP2"};h[227]={name:"APP3"};h[228]={name:"APP4"};h[229]={name:"APP5"};h[230]={name:"APP6"};h[231]={name:"APP7"};h[232]={name:"APP8"};h[233]={name:"APP9"};h[234]={name:"APP10"};h[235]={name:"APP11"};h[236]={name:"APP12"};h[237]={name:"APP13"};h[238]={name:"APP14"};h[239]={name:"APP15"};h[254]={name:"COM"};h[217]={name:"EOI",length:0};var i="Exif\0\0",j="http://ns.adobe.com/xap/1.0/\0",k="http://ns.adobe.com/xmp/extension/\0";g["default"]=e}),98);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function(a,b,c,d,e,f,g){"use strict";var h=2048;function d(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})}function e(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<h||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0}function f(a){var d=this;return new(b("Promise"))(function(b,e){d.genArrayBufferFromBlob(a).done(function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}).done(function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})}function i(a,d,e){var f=this;return new(b("Promise"))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})}function j(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})}function k(a){return a!==""&&a.indexOf("GPano:")>-1}g.genArrayBufferFromBlob=d;g.shouldCheckInServer=e;g.genPhotosphereMetadata=f;g.genPhotosphereMetadataFromServer=i;g.getExifString=j;g.getMayContainSphericalMetadata=k}),98);
__d("SphericalImage",["SphericalImageUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d("SphericalImageUtils").genPhotosphereMetadata(a));case 2:c=e.sent;return e.abrupt("return",new this(c));case 4:case"end":return e.stop()}},null,this)};var c=a.prototype;c.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};c.getImageMetadata=function(){return this.props.imageMetadata};c.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};c.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};c.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};c.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g["default"]=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("isEligibleForSpectrumResizer",["PhotosMimeType","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=1024;function a(a,b){if(b==null||!d("PhotosMimeType").isJpeg(b)||a==null)return!0;if(c("qex")._("181")===!1)return!0;b=c("qex")._("20");return b==null?!0:a<=b*h*h}g["default"]=a}),98);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","Promise","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","curry","emptyFunction","isEligibleForSpectrumResizer","performanceNow","promiseDone","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=a.URL||a.webkitURL||{};e=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||c("emptyFunction"),this.$7=a.onUploadsEnqueued||c("emptyFunction"),this.$8=a.onResizeStart||c("emptyFunction"),this.$11=a.onResizeProgress||c("emptyFunction"),this.$9=a.onResizeSuccess||c("emptyFunction"),this.$10=a.onResizeFailure||c("emptyFunction"),this.$12=a.onSphericalCheckFailure||c("emptyFunction"),this.$13=a.onSphericalCheckSuccess||c("emptyFunction"),this.$14=a.onUploadIsSpherical||c("emptyFunction"),this.$15=a.onUploadSent||c("emptyFunction"),this.$16=a.onUploadStart||c("emptyFunction"),this.$17=a.onUploadProgress||c("emptyFunction"),this.$18=a.onUploadSuccess||c("emptyFunction"),this.$19=a.onUploadFailure||c("emptyFunction")}var e=a.prototype;e.setUploadEndpoint=function(a){this.$1=a};e.setOption=function(a,b){this.$20[a]=b;return this};e.getUploadData=function(){return this.$2};e.setUploadData=function(a){this.$2=a};e.upload=function(a,b){var e=this;b||0;b=babelHelpers["extends"]({},this.$2);var f=null;if(!this.$21(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$6({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:h.createObjectURL?h.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:h.createObjectURL?h.createObjectURL(a):null})})}this.$7();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$22.bind(this)):g.setPreprocessHandler(this.$23.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$17(e.$24(c,a),c)});g.subscribe("failure",function(b,c){return e.$19(e.$24(c,a),c,f)});g.subscribe("start",function(b,c){return e.$16(e.$24(c,a),c)});g.subscribe("success",function(b,c){return e.$18(e.$24(c,a),c)});try{g.send(),this.$15(a)}catch(a){throw a}};e.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$6({fileName:a.name,fileURL:h.createObjectURL?h.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c);a.send()};e.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};e.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};e.$25=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers["extends"]({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5&&a.setPreprocessHandler(this.$22.bind(this));for(var d in this.$20)a.setOption(d,this.$20[d]);return a};e.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};e.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};e.$23=function(a,d){var e=this;c("promiseDone")(function(){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e.$27(a,d));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)}())};e.$27=function(a,c){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:d=a.getFile();g.next=3;return b("regeneratorRuntime").awrap(this.$28(d));case 3:e=g.sent,f=a.getFile().uploadID,e&&e.isSpherical()?this.$14(e.isSpherical(),e,f):this.$14(!1,null,""),c(a);case 7:case"end":return g.stop()}},null,this)};e.$22=function(a,d){var e=this;c("promiseDone")(function(){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e.$29(a,d));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)}())};e.$28=function(a){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=c("performanceNow")();f.prev=1;f.next=4;return b("regeneratorRuntime").awrap(c("SphericalImage").createFromBlob(a));case 4:e=f.sent;this.$13(a,c("performanceNow")()-d,e);return f.abrupt("return",e);case 9:f.prev=9;f.t0=f["catch"](1);this.$12(a,c("performanceNow")()-d);return f.abrupt("return",null);case 14:case"end":return f.stop()}},null,this,[[1,9]])};e.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};e.$32=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,b)};e.$33=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){b({width:d.width,height:d.height})};d.onerror=function(a){c(a)};d.src=h.createObjectURL(a)})};e.$31=function(a,d,e){var f=this,g=c("curry")(this.$11,d.uploadID),h=c("curry")(this.$8,d),i=function(){return f.$33(d).then(h)};return new(b("Promise"))(function(b,c){i(),a(d,function(a,d,e,f,g,h,i){a?c(a):e?b({originalWidth:f,originalHeight:g}):b({blob:d,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},g,e)})};e.$29=function(a,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;return b("regeneratorRuntime").async(function(s){while(1)switch(s.prev=s.next){case 0:f=a.getFile();g=c("isEligibleForSpectrumResizer")(f==null?void 0:f.size,f==null?void 0:f.type);if(!(!f||!d("PhotosMimeType").isJpeg(f.type)||!g)){s.next=7;break}this.$14(!1,null,"");f&&c("promiseDone")(this.$33(f).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",f.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));e(a);return s.abrupt("return");case 7:h=c("performanceNow")();s.prev=8;k=null;s.next=12;return b("regeneratorRuntime").awrap(this.$28(f));case 12:k=s.sent;if(!(k&&k.isSpherical())){s.next=33;break}this.$14(!0,k,f.uploadID);l=k.getSize();m=c("SphericalPhotoTypedConfig").upload_size_limit;n=k.getProjectionType();o=!1;o=d("SphericalPhotoUploadHelper").shouldRecompress360(n,k.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);p=d("SphericalPhotoUploadHelper").shouldResize360(n,l,m);if(!(l&&(p||o))){s.next=31;break}if(p){s.next=28;break}s.next=25;return b("regeneratorRuntime").awrap(this.$32(f,Math.max(l.x,l.y)-1));case 25:i=s.sent;s.next=31;break;case 28:s.next=30;return b("regeneratorRuntime").awrap(this.$32(f));case 30:i=s.sent;case 31:s.next=37;break;case 33:this.$14(!1,null,"");s.next=36;return b("regeneratorRuntime").awrap(this.$30(f));case 36:i=s.sent;case 37:i&&(i.blob!=null&&(j=i.blob,j.uploadID=f.uploadID,j.name=f.name,a.setFile(j)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",f.size).set("original_width",i.originalWidth).set("original_height",i.originalHeight).set("upload_width",i.outputWidth).set("upload_height",i.outputHeight));q=j===null;a.getFile().filename=f.name;this.$9(f,j||f,q,c("performanceNow")()-h,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"));s.next=48;break;case 43:s.prev=43,s.t0=s["catch"](8),r=c("performanceNow")()-h,this.$10(f,j||f,s.t0,r);case 48:e(a);case 49:case"end":return s.stop()}},null,this,[[8,43]])};e.$21=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g["default"]=e}),98);
__d("createTrustedScriptURLForWebWorker",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";var h="web-worker-url",i,j={createScriptURL:function(a){return a}};function k(){if(i)return;i=c("TrustedTypes").createPolicy(h,j)}function l(){i||k();return i}function a(a){return l().createScriptURL(a)}g["default"]=a}),98);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","URI","WebWorkerConfig","XHRRequest","areSameOrigin","cr:951783","createTrustedScriptURLForWebWorker","emptyFunction","filterObject","getCrossOriginTransport","gkx","memoize","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("708253")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate(),this.$12()};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("708253")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,b){c.$16(a,this.$4.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$9,state:this.$3}))};c.$18=function(){return Object.keys(b("filterObject")({object_url:c.$19(),eval_url:q(),data_url:c.$20(),worker:c.isSupported(),transferables:c.areTransferablesSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("areSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length})):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0}),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e);return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p&&(c.$23()||q())};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&r()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(f){f.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a){return m(a)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(c){return new a.Worker(b("createTrustedScriptURLForWebWorker")(c))}var n=b("memoize")(function(){var a;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var c=m(a);c.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),r=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);
__d("CometEmojiPickerCard.react",["CometPopover.react","composerEmojiReducers","cr:1449905","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){a.onClose;var d=a.testid;d=a.withArrow;a=d===void 0?!0:d;c("useComposerViewStateReducer")(c("composerEmojiReducers"));var e=c("useComposerViewStateDispatcher")();d=i(function(a){e({codePoint:a,type:"INSERT_EMOJI"})},[e]);return h.jsx(c("CometPopover.react"),{testid:void 0,withArrow:a,children:h.jsx(b("cr:1449905"),{onSelect:d})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("Ease",[],(function(a,b,c,d,e,f){var g={makePowerOut:function(a){var b=g.makePowerIn(a);return function(a){return 1-b(1-a)}},makePowerIn:function(a){return function(b){b=Math.pow(b,a);return(b*1e4|0)/1e4}},makePowerInOut:function(a){var b=g.makePowerIn(a),c=g.makePowerOut(a);return function(a){return a<.5?.5*b(a*2):.5*c(a*2-1)+.5}},expoOut:function(a){return 1-Math.pow(2,-10*a)},expoIn:function(a){return 1-g.expoOut(1-a)},expoInOut:function(a){return a<.5?.5*g.expoIn(a*2):.5*g.expoOut(a*2-1)+.5},sineOut:function(a){return Math.sin(a*Math.PI*.5)},sineIn:function(a){return 1-Math.cos(a*Math.PI*.5)},sineInOut:function(a){return-.5*(Math.cos(Math.PI*a)-1)},circOut:function(a){a=a-1;return Math.sqrt(1-a*a)},circIn:function(a){return 1-g.circOut(1-a)},circInOut:function(a){return a<.5?.5*g.circIn(a*2):.5*g.circOut(a*2-1)+.5},bounceOut:function(a){var b=a;if(a<1/2.75)return 7.5625*a*a;else if(a<2/2.75)return 7.5625*(b-=1.5/2.75)*b+.75;else if(b<2.5/2.75)return 7.5625*(b-=2.25/2.75)*b+.9375;else return 7.5625*(b-=2.625/2.75)*b+.984375},bounceIn:function(a){return 1-g.bounceOut(1-a)},bounceInOut:function(a){return a<.5?.5*g.bounceIn(a*2):.5*g.bounceOut(a*2-1)+.5},makeBounceOut:function(a){var b=a||1;return function(a){a=(1-Math.cos(a*Math.PI*b))*(1-a)+a;return 1-Math.abs(1-a)}},makeBounceIn:function(a){var b=g.makeBounceOut(a);return function(a){return 1-b(1-a)}},makeElasticOut:function(a,b){var c=a<1?1:a,d=Math.PI*2;return function(a){if(a===0||a===1)return a;var e=b/d*Math.asin(1/c);return c*Math.pow(2,-10*a)*Math.sin((a-e)*d/b)+1}},makeElasticIn:function(a,b){var c=g.makeElasticOut(a,b);return function(a){return 1-c(1-a)}},makeElasticInOut:function(a,b){b=b*1.5;var c=g.makeElasticIn(a,b),d=g.makeElasticOut(a,b);return function(a){return a<.5?.5*c(a*2):.5*d(a*2-1)+.5}},makeBackOut:function(a){var b=g.makeBackIn(a);return function(a){return 1-b(1-a)}},makeBackIn:function(a){return function(b){return b*b*((a+1)*b-a)}},makeBackInOut:function(a){a=a*1.525;var b=g.makeBackIn(a),c=g.makeBackOut(a);return function(a){return a<.5?.5*b(a*2):.5*c(a*2-1)+.5}}};a=babelHelpers["extends"]({},g,{elasticOut:g.makeElasticOut(1,.3),elasticIn:g.makeElasticIn(1,.3),elasticInOut:g.makeElasticInOut(1,.3),backOut:g.makeBackOut(1.7),backIn:g.makeBackIn(1.7),backInOut:g.makeBackInOut(1.7)});b=a;f["default"]=b}),66);
__d("EmojiPickerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.handleAction=function(a){this.dispatch(a)};return b}(c("ExplicitRegistrationReactDispatcher"));b=new a({strict:!0});g["default"]=b}),98);
__d("EmojiPickerActions",["EmojiPickerDispatcher","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({SET_EMOJI_CATEGORY_DATA:null,SET_RECENTLY_USED:null,SET_SEARCH:null,SET_SELECTED_CATEGORY:null}),i=babelHelpers["extends"]({},h,{setEmojiCategoryData:function(a){c("EmojiPickerDispatcher").dispatch({data:a,type:h.SET_EMOJI_CATEGORY_DATA})},setRecentlyUsed:function(a){c("EmojiPickerDispatcher").dispatch({emoji:a,type:i.SET_RECENTLY_USED})},setSearch:function(a){c("EmojiPickerDispatcher").dispatch({search:a,type:h.SET_SEARCH})},setSelectedCategory:function(a,b,d){c("EmojiPickerDispatcher").dispatch({doNotUpdateScrollPosition:b,loadedCategories:d,selectedCategoryIndex:a,type:i.SET_SELECTED_CATEGORY})}});a=i;g["default"]=a}),98);
__d("DeferredComponent.react",["createCancelableFunction","prop-types","react"],(function(a,b,c,d,e,f){var g,h=g||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$1=function(a){e.setState({ComponentClass:a},function(){e.props.onComponentLoad&&e.props.onComponentLoad(a)})};var f=null;function g(a){f=a}e.props.deferredComponent(g);e.state={ComponentClass:f,cancelableModulesLoaded:b("createCancelableFunction")(e.$1)};return e}var d=c.prototype;d.componentDidMount=function(){this.props.deferredComponent(this.state.cancelableModulesLoaded)};d.componentWillUnmount=function(){this.state.cancelableModulesLoaded.cancel()};d.render=function(){var a=this.state.ComponentClass;if(!a||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var b=this.props;b.deferredPlaceholder;b.deferredComponent;b.onComponentLoad;b.deferredForcePlaceholder;b=babelHelpers.objectWithoutPropertiesLoose(b,["deferredPlaceholder","deferredComponent","onComponentLoad","deferredForcePlaceholder"]);return h.jsx(a,babelHelpers["extends"]({},b))};return c}(h.Component);a.propTypes={deferredPlaceholder:b("prop-types").element.isRequired,deferredComponent:b("prop-types").func.isRequired,onComponentLoad:b("prop-types").func,deferredForcePlaceholder:b("prop-types").bool};e.exports=a}),null);
__d("PerfHelperUtils",["cx","DeferredComponent.react","JSResource","joinClasses","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props,b=a.tooltip;a=a.className;return i.jsx("div",{className:"_28hn"+(this.props.color==="red"?" _4ez8":"")+(this.props.color==="green"?" _28ho":""),children:i.jsx(c("DeferredComponent.react"),{deferredPlaceholder:i.jsx("div",{}),deferredComponent:function(a){c("promiseDone")(c("JSResource")("Tooltip.react").__setRef("PerfHelperUtils").load(),a)},className:c("joinClasses")("_5_my",a),tooltip:b,children:this.props.children})})};return a}(i.PureComponent);function a(a){return i.jsx(j,{color:"red",tooltip:"This bootloaded component has a red border\n          because "+a.moduleId+"\n          took over "+a.timeLimitSecs+" seconds ("+a.timeSpentSecs+"s) to load",children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g.BorderedComponent=j;g.SlowBootloadBorder=a}),98);
__d("PerfUtils",["PerfHelperUtils","performanceNow","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.Component;function a(a,b,c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.componentDidMount=function(){b()};f.render=function(){if(c)return h.jsx(a,babelHelpers["extends"]({},this.props,{ref:c}));else return h.jsx(a,babelHelpers["extends"]({},this.props))};return d}(i);return d}function b(a,b,e){var f=1e4;e=c("performanceNow")()-e;if(e<f)return a;var g=f/1e3,j=Math.round(e)/1e3;f=function(c){babelHelpers.inheritsLoose(e,c);function e(){return c.apply(this,arguments)||this}var f=e.prototype;f.componentDidMount=function(){};f.render=function(){return h.jsx(d("PerfHelperUtils").SlowBootloadBorder,{moduleId:b,timeLimitSecs:g,timeSpentSecs:j,children:h.jsx(a,babelHelpers["extends"]({},this.props))})};return e}(i);return f}g.appendListener=a;g.markRedInDev=b}),98);
__d("BootloadedComponent.react",["DeferredComponent.react","JSResource","PerfUtils","TimeSlice","performanceNow","react","useHeroBootloadedComponent"],(function(a,b,c,d,e,f,g){var h=d("react");a=h.Component;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.create=function(a){var b=function(c){babelHelpers.inheritsLoose(b,c);function b(){return c.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var b=this.props;b.bootloadLoader;b=babelHelpers.objectWithoutPropertiesLoose(b,["bootloadLoader"]);return h.jsx(j,babelHelpers["extends"]({bootloadLoader:a,bootloadPlaceholder:h.jsx("div",{})},b))};return b}(h.Component);b.displayName="BootloadedComponent("+a.getModuleId()+")";return b};return b}(a);function i(a){var b=a.resource;a=a.children;c("useHeroBootloadedComponent")(b);return a}i.displayName=i.name+" [from "+f.id+"]";e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$BootloadedComponent1=function(a){var b=e.props.isContinuation,f;b=b?c("TimeSlice").PropagationType.CONTINUATION:c("TimeSlice").PropagationType.EXECUTION;c("TimeSlice").guard(c("JSResource").loadAll,"BootloadedComponent load all JSResource",{propagationType:b})([e.props.bootloadLoader],function(b){b=e.props.onComponentDidMount?d("PerfUtils").appendListener(b,e.props.onComponentDidMount):b,a(b)})};b.onBootloaderWillMount&&b.onBootloaderWillMount();return e}var e=b.prototype;e.render=function(){var a=this.props,b=a.bootloadLoader;a.isContinuation;var d=a.bootloadPlaceholder,e=a.bootloadForcePlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["bootloadLoader","isContinuation","bootloadPlaceholder","bootloadForcePlaceholder"]);d=h.jsx(c("DeferredComponent.react"),babelHelpers["extends"]({deferredPlaceholder:d,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:e},a));return h.jsx(i,{resource:b,children:d})};return b}(b);e.defaultProps={isContinuation:!0};var j=e;a=j;g["default"]=a}),98);
__d("TabBarItem.react",["cx","Event","Focus","Keys","ReactDOM","gkx","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return i.jsx("li",babelHelpers["extends"]({},this.props,{children:this.props.children}))};return b}(i.Component);b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=i.createRef(),e.onKeyDown=function(a){var b=c("Event").getKeyCode(a);b===c("Keys").SPACE&&e.$1.current&&(d("ReactDOM").findDOMNode(e.$1.current).click(),c("Event").prevent(a))},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.props,b=a.selected,d=a.hideFocusRing,e=a.shouldWrapTab;a=a.removeLinkStyles;b="_45hc"+(b?" _1hqh":"");d="_3m1v"+(d?" _468f":"")+(a?" _8z64":"");return e?this.$2(b,d):this.$3(c("joinClasses")(b,d))};e.$2=function(a,b){var d=this.props,e=d.id,f=d.className,g=d.href,h=d.ajaxify,j=d.label,k=d.tabIndex,l=d.rel,m=d.target,n=d.selectable,o=d.selected,p=d.wrapper,q=d.mockSpacebarClick,r=d["aria-haspopup"];d.focused;d.hideFocusRing;d.shouldWrapTab;d=babelHelpers.objectWithoutPropertiesLoose(d,["id","className","href","ajaxify","label","tabIndex","rel","target","selectable","selected","wrapper","mockSpacebarClick","aria-haspopup","focused","hideFocusRing","shouldWrapTab"]);g=g||(c("gkx")("708253")?"":"#");var s={};q&&(s.onKeyDown=this.onKeyDown);q=i.jsx("a",{"aria-label":j,"aria-haspopup":r,"aria-describedby":e,ref:this.$1,ajaxify:h,href:g,role:"tab",rel:l,target:m,tabIndex:k,className:b,"aria-selected":n?o:void 0,children:this.props.children});return i.jsx(p,babelHelpers["extends"]({},d,{tabIndex:null,className:c("joinClasses")(f,a),role:"presentation",children:i.cloneElement(q,s)}))};e.$3=function(a){var b=this.props,d=b.id,e=b.className,f=b.label,g=b.href,h=b.selectable,j=b.selected,k=b.mockSpacebarClick;b=babelHelpers.objectWithoutPropertiesLoose(b,["id","className","label","href","selectable","selected","mockSpacebarClick"]);g=g||"#";var l={};k&&(l.onKeyDown=this.onKeyDown);delete b.menuAlignh;delete b.menuClassName;delete b.tabComponent;delete b.maxDropdownHeight;delete b.focused;delete b.hideFocusRing;delete b.wrapper;delete b.shouldWrapTab;k=i.jsx("a",babelHelpers["extends"]({"aria-label":f,"aria-haspopup":this.props["aria-haspopup"],"aria-describedby":d},b,{href:g,ref:"tab",role:"tab",className:c("joinClasses")(e,a),"aria-selected":h?j:void 0,children:this.props.children}));return i.cloneElement(k,l)};e.componentDidMount=function(){this.focus()};e.componentDidUpdate=function(a){this.props.focused!==a.focused&&this.focus()};e.focus=function(){this.props.focused&&d("Focus").set(this.$1.current,!this.props.hideFocusRing)};return b}(i.Component);b.propTypes={wrapper:c("prop-types").func.isRequired,shouldWrapTab:c("prop-types").bool,tabIndex:c("prop-types").oneOf([-1,0]),selectable:c("prop-types").bool,selected:c("prop-types").bool,focused:c("prop-types").bool,hideFocusRing:c("prop-types").bool,mockSpacebarClick:c("prop-types").bool};b.defaultProps={"aria-haspopup":!1,wrapper:a,shouldWrapTab:!0,tabIndex:-1,selectable:!0,selected:!1,focused:!1,hideFocusRing:!1,mockSpacebarClick:!0};g["default"]=b}),98);
__d("TabBarItemWrapper.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getComponent=function(a){return a.component};var c=b.prototype;c.render=function(){return this.props.component};return b}(a.Component);g["default"]=b}),98);
__d("TabBar.react",["cx","fbt","invariant","BootloadedComponent.react","Event","JSResource","RTLKeys","ReactDOM","TabBarItem.react","TabBarItemWrapper.react","clearTimeout","emptyFunction","joinClasses","react","setTimeout"],(function(a,b,c,d,e,f,g,h,i,j){var k=d("react");a=i._(/*FBT_CALL*/"\u66f4\u591a"/*FBT_CALL*/);b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.$2=!1,e.$3={},e.$4=k.createRef(),e.state={activeTabKey:e.props.activeTabKey||e.props.defaultActiveTabKey,focusedTabKey:null,focusedVisibleTabKey:null,previousFocusedTabKey:null,visibleTabsCount:0,shouldCalculateVisibleTabs:!0,hideFocusRing:!0},e.onMouseDown=function(){e.setState({hideFocusRing:!0})},e.onKeyDown=function(a){var d=c("Event").getKeyCode(a);switch(d){case c("RTLKeys").UP:case c("RTLKeys").getRight():case c("RTLKeys").DOWN:case c("RTLKeys").getLeft():var f,g=e.groupTabsByVisibility();g=g.visibleTabs;d=d===c("RTLKeys").UP||d===c("RTLKeys").getLeft();var h=d?-1:1,i=d?0:g.length-1,j=e.getFocusedTabIndex();j===-1&&h===-1&&(j=g.length);j===-1?f=null:j===i&&h===1?f=b.MORE_TAB_KEY:(d=d?Math.max:Math.min,d=d(j+h,i),f=g[d].key);f&&e.setState({focusedTabKey:f,focusedVisibleTabKey:f,hideFocusRing:!1});break;case c("RTLKeys").RETURN:j=e.getFocusedTab();if(j){h=j.key;i=e.props.onTabClick(h,a);i!==!1&&e.$2&&e.activateTab(h)}break}},e.onKeyUp=function(a){c("Event").getKeyCode(a)===c("RTLKeys").TAB&&e.state.hideFocusRing&&e.setState({hideFocusRing:!1})},e.onBlur=function(){e.setState(function(a){return{previousFocusedTabKey:a.focusedTabKey,focusedTabKey:null}}),e.$1=c("setTimeout")(function(){e.setState({previousFocusedTabKey:null})},b.BLUR_TIMEOUT)},d)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){this.$5(),this.$6(),this.$2=!0};e.componentWillUnmount=function(){c("clearTimeout")(this.$1),this.$2=!1};e.UNSAFE_componentWillReceiveProps=function(a){this.setState(function(b){return{shouldCalculateVisibleTabs:!0,activeTabKey:a.activeTabKey||b.activeTabKey}})};e.shouldComponentUpdate=function(a,b){if(this.state.focusedTabKey&&!b.focusedTabKey)return!1;return!this.state.focusedTabKey&&!b.focusedTabKey&&this.state.previousFocusedTabKey&&!b.previousFocusedTabKey?!1:!0};e.componentDidUpdate=function(){this.state.shouldCalculateVisibleTabs&&this.$5(),this.$6()};e.render=function(){var a=this,d=this.getTabs(),e=d.length,f=this.getActiveTabIndex();f=d[f];var g=this.getActiveTabIndex(!0),h;f&&(h=f.key);var i=this.props.dropdownTabComponent;i=k.jsx(i,{ref:this.$4,className:"_45hd _2pik",children:k.jsx("span",{className:"_1b0",children:this.props.moreLabel})},"_dropdown");if(this.state.shouldCalculateVisibleTabs)d=d.map(function(b,c){return a.$7(b,c,h,null,g,!1,!1)}),e>2&&d.push(i);else{e=this.groupTabsByVisibility();d=e.visibleTabs;e=e.extraTabs;var j=this.isDropdownSelected(),l=this.state.visibleTabsCount,m=this.state.focusedTabKey;m=m&&this.getFocusedTabIndex()===-1?b.MORE_TAB_KEY:m;d=d.map(function(b,c){return a.$7(b,c,h,m,g,!0,!0)});e=e.map(function(b,c){return a.$7(b,c,h,null,g,!0,!1)});if(e.length){var n;l===0&&f&&(n=f);f=n&&n.props.children||this.props.moreLabel;var o="_dropdown";i=k.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("TabBarDropdownItem.react").__setRef("TabBar.react"),bootloadPlaceholder:i,menuAlignh:this.props.dropdownMenuAlignh,menuClassName:this.props.dropdownMenuClassName,selected:j,focused:m===b.MORE_TAB_KEY,hideFocusRing:this.state.hideFocusRing,onMouseDown:this.onMouseDown,onFocus:this.onFocus.bind(this,o),onBlur:this.onBlur,ref:this.$4,label:f,tabComponent:this.props.dropdownTabComponent,maxDropdownHeight:this.props.maxDropdownHeight,children:e},o);l===0?d=i:d.push(i)}}return k.jsx("ul",{className:c("joinClasses")(this.props.className,"_43o4"+(this.props.orientation==="horizontal"?" _4470":"")+(this.props.orientation==="vertical"?" _4471":"")),"data-testid":void 0,disabled:this.props.disabled,role:"tablist",style:this.props.style,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,children:d})};e.setWidth=function(a){d("ReactDOM").findDOMNode(this).style.width=a,this.setState({shouldCalculateVisibleTabs:!0})};e.setHeight=function(a){d("ReactDOM").findDOMNode(this).style.height=a,this.setState({shouldCalculateVisibleTabs:!0})};e.$6=function(){this.props.orientation==="vertical"?this.$8():this.$9()};e.$8=function(){var a=this.props.onWidthCalculated;a!=null&&a(d("ReactDOM").findDOMNode(this).clientWidth)};e.$9=function(){var a=this.props.onHeightCalculated;a!=null&&a(d("ReactDOM").findDOMNode(this).clientHeight)};e.$5=function(){var a=this,b=this.getTabs(),c=b.length;if(this.props.minTabsVisible>=c){this.setState({visibleTabsCount:c,shouldCalculateVisibleTabs:!1});return}var d=this.$4,e=Object.values(this.$3).concat(d.current).filter(Boolean).map(function(b){return a.$10(b)}),f=Math.ceil(this.$10(this));d=this.$10(d.current);var g=Math.min(c,this.props.maxTabsVisible);if(!this.props.shouldCalculateVisibleTabs){this.setState({visibleTabsCount:g,shouldCalculateVisibleTabs:!1});return}var h=this.getActiveTabIndex();this.props.alwaysShowActive&&h!==-1&&(b.unshift(b.splice(h,1)[0]),e.unshift(e.splice(h,1)[0]));g=0;h=0;for(var i=0;i<c;i++){var j=e[i],k=b[i].key||"";if(h+j>f&&!k.startsWith("visual_poll_")){if(g>0&&c>2)while(g>0&&(h+d>f||c-g<2))g--,h-=e[g];else g=0;break}g++;h+=j}this.setState({visibleTabsCount:Math.min(g,this.props.maxTabsVisible),shouldCalculateVisibleTabs:!1})};e.$10=function(a){a=d("ReactDOM").findDOMNode(a);if(!a||!(a instanceof HTMLElement))return 0;a=a.getBoundingClientRect();var b=a.width;a=a.height;return this.props.orientation==="vertical"?a:b};e.getActiveTabIndex=function(a){a===void 0&&(a=!1);var b=this.state.activeTabKey;if(a){a=this.groupTabsByVisibility();a=a.visibleTabs;a=a}else a=this.getTabs();return a.findIndex(function(a){return b!=null&&a&&a.key===b})};e.getFocusedTabIndex=function(){var a=this.state.focusedVisibleTabKey||this.state.focusedTabKey||this.state.previousFocusedTabKey,b=this.groupTabsByVisibility();b=b.visibleTabs;return b.findIndex(function(b){return a!=null&&b&&b.key===a})};e.getFocusedTab=function(){var a=this.state.focusedTabKey,b=this.groupTabsByVisibility();b=b.visibleTabs;var c=b.findIndex(function(b){return a!=null&&b&&b.key===a});return b[c]};e.onClick=function(a,b){b=this.props.onTabClick(a,b);b!==!1&&this.$2&&this.activateTab(a)};e.onFocus=function(a,b){c("clearTimeout")(this.$1),a!==this.state.focusedTabKey&&(this.setState({focusedTabKey:a,focusedVisibleTabKey:a,previousFocusedTabKey:null}),b.preventDefault(),b.stopPropagation())};e.$7=function(a,d,e,f,g,h,i){var l=this;a.key!==b.MORE_TAB_KEY||j(0,4969);e=e!=null&&e===a.key;f=f!=null&&f===a.key;f={selected:e,focused:f,tabIndex:e||g===-1&&d===0?0:-1,hideFocusRing:this.state.hideFocusRing};h?(f.onClick=function(b,c){c=(c=c)!=null?c:b;l.onClick(a.key,c)},f.onMouseDown=this.onMouseDown):f.mockSpacebarClick=!1;i&&(f.onFocus=this.onFocus.bind(this,a.key),f.onBlur=this.onBlur);a=k.cloneElement(a,f);return k.jsx(c("TabBarItemWrapper.react"),{component:a,ref:function(a){a!=null?l.$3[""+d]=a:delete l.$3[""+d]}},a.key)};e.activateTab=function(a){a&&this.setState({activeTabKey:a,focusedTabKey:a,focusedVisibleTabKey:a,shouldCalculateVisibleTabs:!0})};e.getTabs=function(){var a=[];k.Children.forEach(this.props.children,function(b){b&&a.push(b)});return a};e.groupTabsByVisibility=function(){var a=this.state.visibleTabsCount,b=this.getTabs(),c=this.getActiveTabIndex(),d,e;if(!this.props.alwaysShowActive||c<a||a===0)e=b.slice(a),d=b.slice(0,a);else{c=b.splice(c,1)[0];a=a>0?a-1:0;e=b.slice(a);d=b.slice(0,a);d.push(c)}return{visibleTabs:d,extraTabs:e}};e.isDropdownSelected=function(){var a=this.state.visibleTabsCount,b=this.getActiveTabIndex();a=!this.props.alwaysShowActive&&b>=a||a===0&&b>-1;return a};return b}(k.Component);b.MORE_TAB_KEY="_moreTab";b.BLUR_TIMEOUT=120;b.Tab=c("TabBarItem.react");b.defaultProps={alwaysShowActive:!0,className:"",dropdownTabComponent:c("TabBarItem.react"),maxTabsVisible:Infinity,minTabsVisible:0,moreLabel:a,onTabClick:c("emptyFunction").thatReturnsTrue,orientation:"horizontal",shouldCalculateVisibleTabs:!0};g["default"]=b}),98);
__d("EmojiPickerCategories.react",["cx","EmojiPickerActions","TabBar.react","TabBarItem.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,b){b.preventDefault();b=parseInt(a,10)||0;c("EmojiPickerActions").setSelectedCategory(b);return!1},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.render=function(){var a=this,b=this.props.categories.map(function(b,d){var e=d===a.props.selectedCategoryIndex;return i.jsx(c("TabBarItem.react"),{label:b.get("name"),className:"_1ogy"+(e?" _1ogz":""),tabIndex:e?0:-1,children:i.jsx("span",{className:c("joinClasses")("_1e8n",b.get("className"))})},d+"")});return i.jsx(c("TabBar.react"),{className:"_1og-"+(this.props.categories.size?"":" _1og_"),activeTabKey:this.props.selectedCategoryIndex+"",onTabClick:this.$1,children:b})};return b}(i.PureComponent);g["default"]=a}),98);
__d("EmojiPickerConfig",[],(function(a,b,c,d,e,f){"use strict";a=40;b=280;c=8;d=320;e=Math.floor(d/a);var g=Math.floor(b/a);f.EMOJI_SIZE=a;f.HEIGHT=b;f.MAX_RECENTLY_USED=c;f.WIDTH=d;f.COLS=e;f.ROWS=g}),66);
__d("fbglyph",[],(function(a,b,c,d,e,f){function a(a){throw new Error("fbglyph("+JSON.stringify(a)+"): Unexpected fbglyph reference.")}f["default"]=a}),66);
__d("EmojiPickerButton.react",["cx","ix","EmojiPickerActions","FBEmojiResource","FBEmojiUtils","Image.react","Keys","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=28,l=1e3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={loaded:!1,error:!1},d.$2=function(a){a.stopPropagation();if(d.state.error)return;d.props.updateRecentlyUsed===!0&&c("EmojiPickerActions").setRecentlyUsed(d.props.codepoint);d.props.onClick&&d.props.onClick(d.props.codepoint)},d.$3=function(a){a.keyCode===c("Keys").RETURN&&d.$2(a)},d.$4=function(){d.setState({loaded:!0})},d.$5=function(){d.setState({loaded:!0,error:!0})},d.$6=function(){d.$1=c("setTimeout")(function(){d.props.onLongPress&&d.props.onLongPress(d.props.codepoint,babelHelpers.assertThisInitialized(d))},l)},d.$7=function(){c("clearTimeout")(d.$1)},d.$8=function(){c("clearTimeout")(d.$1)},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.render=function(){var a=this.props.codepoint,b=c("FBEmojiResource").fromCodepoints(a.map(function(a){return String.fromCodePoint(a)}));if(b==null)return null;var e=null,f=null,g=null;this.props.onLongPress&&d("FBEmojiUtils").getSupportedModifierSequences(a).length&&(e=this.$6,f=this.$7,g=this.$8);return j.jsxs("div",{className:"_5zfs"+(this.state.error?" _4f4o":""),onClick:this.$2,onKeyDown:this.$3,onMouseDown:e,onMouseLeave:f,onMouseUp:g,role:"button",tabIndex:"0",children:[this.state.loaded?null:j.jsx("div",{className:"_4f4q"}),this.state.error?j.jsx(c("Image.react"),{alt:d("FBEmojiUtils").codepointsToString(a),src:i("125923")}):j.jsx(c("Image.react"),{alt:d("FBEmojiUtils").codepointsToString(a),className:"_5zft",draggable:"false",height:k,onError:this.$5,onLoad:this.$4,src:b.getImageURL(k),width:k})]})};return b}(j.PureComponent);g["default"]=a}),98);
__d("LogicalGridCell.react",["joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g){var h=d("react");a=d("react").Component;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props,b=a.children;a=a.component;var d={className:c("joinClasses")(a.props.className,this.props.className)};return h.cloneElement(a,d,b)};return b}(a);b.propTypes={component:c("prop-types").element};b.defaultProps={component:h.createElement("span")};g["default"]=b}),98);
__d("LogicalGridRow.react",["joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g){var h=d("react");a=d("react").Component;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props,b=a.children,d=a.className,e=a.component;a=a.isInvisible;d={className:c("joinClasses")(e.props.className,d)};return a?null:h.cloneElement(e,d,b)};return b}(a);b.propTypes={component:c("prop-types").element,isInvisible:c("prop-types").bool};b.defaultProps={component:h.createElement("div"),isInvisible:!1};g["default"]=b}),98);
__d("EmojiPickerGrid.react",["cx","EmojiPickerButton.react","EmojiPickerConfig","LogicalGridCell.react","LogicalGridRow.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.props,b=a.category,e=a.loaded;a=a.startRow;var f=[],g=Math.ceil(b.get("emoji").size/d("EmojiPickerConfig").COLS);if(e)for(var e=0;e<g;e++){var h=[];for(var j=0;j<d("EmojiPickerConfig").COLS;j++){var k=b.get("emoji").get(e*d("EmojiPickerConfig").COLS+j),l=!b.get("isRecentlyUsed");k&&h.push(i.jsx(c("LogicalGridCell.react"),{columnIndex:j,component:i.jsx("span",{}),children:i.jsx(c("EmojiPickerButton.react"),{updateRecentlyUsed:l,codepoint:k.codepoint,onClick:this.props.onSelect,onLongPress:this.props.onLongPress},k.codepoint)},j))}f.push(i.jsx(c("LogicalGridRow.react"),{className:"clearfix",component:i.jsx("div",{}),rowIndex:e+a,children:h},e))}return i.jsxs("div",{children:[i.jsx("h3",{className:"_3vgh",dangerouslySetInnerHTML:b.get("localized_name")}),i.jsx("div",{className:"_3vgi",style:{minHeight:g*d("EmojiPickerConfig").EMOJI_SIZE},children:f})]})};return b}(i.PureComponent);g["default"]=a}),98);
__d("EmojiPickerSearch.react",["fbt","EmojiPickerActions","UFISearchInput.react","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){c("EmojiPickerActions").setSearch(a.target.value)},d.onClear=function(){c("EmojiPickerActions").setSearch("")},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.render=function(){return i.jsx(c("UFISearchInput.react"),{onClick:function(a){return a&&a.stopPropagation()},onChange:this.$1,onClear:this.onClear,placeholder:h._(/*FBT_CALL*/"\u641c\u5c0b"/*FBT_CALL*/),ref:"input",value:this.props.query,label:h._(/*FBT_CALL*/"\u641c\u5c0b\u8868\u60c5\u7b26\u865f"/*FBT_CALL*/)})};return b}(i.PureComponent);g["default"]=a}),98);
__d("EmojiPickerSearchResults.react",["cx","EmojiPickerButton.react","LogicalGridCell.react","LogicalGridRow.react","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this,b=this.props.results.map(function(b,d){return i.jsx(c("LogicalGridCell.react"),{columnIndex:d,component:i.jsx("span",{}),children:i.jsx(c("EmojiPickerButton.react"),{updateRecentlyUsed:!0,codepoint:b,onClick:a.props.onSelect,onLongPress:a.props.onLongPress},b)},d)});return i.jsx("div",{className:"_ihi",children:i.jsx(c("LogicalGridRow.react"),{className:"clearfix",component:i.jsx("div",{}),rowIndex:0,children:b})})};return b}(i.PureComponent);g["default"]=a}),98);
__d("EmojiPickerVariations.react",["cx","ContextualLayer.react","EmojiPickerButton.react","FBEmojiUtils","ReactDOM","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=82,k=34;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this,b=this.props,e=b.codepoints,f=b.context;b=b.scrollTop;var g=0,h=0,l=d("ReactDOM").findDOMNode(f);l instanceof HTMLElement&&(g=l.offsetLeft,h=l.offsetTop);l=[e].concat(d("FBEmojiUtils").getSupportedModifierSequences(e)).map(function(b,d){return i.jsx(c("EmojiPickerButton.react"),{codepoint:b,onClick:a.props.onSelect},d)});h=h-k-b>0;return i.jsx(c("ContextualLayer.react"),{context:f,position:"below",onBlur:this.props.onBlur,shown:"true",children:i.jsxs("div",{className:"_1pd4",children:[i.jsx("div",{className:"_5zgc",style:(b={},b[h?"top":"bottom"]="-100%",b.marginLeft=Math.min(0,j-g),b),children:l}),i.jsx("div",{className:"_3m-j",children:i.jsx(c("EmojiPickerButton.react"),{codepoint:e,onClick:this.props.onBlur})})]})})};return b}(i.PureComponent);g["default"]=a}),98);
__d("LogicalGrid.react",["joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g){var h=d("react");a=d("react").Component;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props,b=a.children;a=a.component;var d={className:c("joinClasses")(a.props.className,this.props.className)};return h.cloneElement(a,d,[b])};return b}(a);b.propTypes={component:c("prop-types").element};b.defaultProps={component:h.createElement("div")};g["default"]=b}),98);
__d("EmojiFullPicker.react",["cx","Ease","EmojiPickerActions","EmojiPickerCategories.react","EmojiPickerConfig","EmojiPickerGrid.react","EmojiPickerSearch.react","EmojiPickerSearchResults.react","EmojiPickerVariations.react","Event","Focus","Keys","LogicalGrid.react","ReactDOM","ScrollableArea.react","XUISpinner.react","gkx","react","requireDeferred","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("EmojiPickerWebFalcoEvent").__setRef("EmojiFullPicker.react"),k={ease:c("Ease").makePowerInOut(3),duration:750};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1={},e.$2=!1,e.state={codepoints:null,context:null},e.$5=function(a,b){e.setState({codepoints:a,context:b}),e.props.onVariationsShown(!0)},e.$6=function(a){c("Event").getKeyCode(a.nativeEvent)===c("Keys").ESC&&(e.$7(),e.props.onVariationsShown(!1))},e.$8=function(a){e.$7(),e.props.onSelect(a),j.onReady(function(b){b.log(function(){return{emoji:String.fromCodePoint(a[0])}})}),e.props.onVariationsShown(!1)},e.$7=function(){e.setState({codepoints:null,context:null})},e.$9=function(){var a=e.$4&&e.$4.getScrollTop()||0,b=babelHelpers.assertThisInitialized(e);b=b.$3;var f=e.props.categories,g=e.props,h=g.loadedCategories;g=g.selectedCategoryIndex;var i=0,j=g;for(var k=0;k<f.size;k++){var l=d("ReactDOM").findDOMNode(e.$1[""+k]);if(!(l instanceof HTMLElement))continue;var m=l.scrollHeight;l=l.offsetTop;if(l<=a+d("EmojiPickerConfig").HEIGHT&&l+m>=a){m=Math.min(a+d("EmojiPickerConfig").HEIGHT,l+m)-Math.max(a,l);m>i&&(j=k,i=m);h.includes(k)||(h=h.push(k))}}typeof b==="number"&&((a>b&&j>g||a<b&&j<g)&&(g=j));c("EmojiPickerActions").setSelectedCategory(g,!0,h);e.$3=a},e.$10=c("throttle")(function(){e.$2&&e.$9()}),b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){this.$2=!0};e.componentWillUnmount=function(){this.$2=!1};e.componentDidUpdate=function(a){var b=this.props,c=b.selectedCategoryIndex;b=b.scrollToSelectedCategory;if(b&&a.selectedCategoryIndex!==c){b=d("ReactDOM").findDOMNode(this.$1[""+c]);a=b&&b.childNodes[1];c=a&&a.firstChild;a=c&&c.firstChild;var e=a&&a.firstChild;b instanceof HTMLElement&&this.$4&&this.$4.setScrollTop(b.offsetTop,!0,babelHelpers["extends"]({},k,{callback:function(){return e instanceof HTMLElement?d("Focus").set(e,!0):null}}))}};e.$11=function(){return!this.state.context?null:i.jsx("div",{className:"_emz"})};e.$12=function(){var a=this.state,b=a.codepoints;a=a.context;return!a||!b?null:i.jsx(c("EmojiPickerVariations.react"),{codepoints:b,context:a,onBlur:this.$7,onSelect:this.$8,scrollTop:this.$4&&this.$4.getScrollTop()||0})};e.render=function(){var a=this,b=this.props.categories;if(b.size===0)return i.jsx("div",{className:"_2znk"+(this.props.suppressShadow!==!0?" _80zh":""),children:i.jsx(c("XUISpinner.react"),{className:"_2znl",size:"large"})});var e=this.props,f=e.showSearch,g=e.loadedCategories,h=e.search,j=e.selectedCategoryIndex;e=e.suggestions;var k=e.length?1:0,l=null,m=null,n=0;f&&(l=i.jsx(c("EmojiPickerSearch.react"),{query:h}));e.length&&(m=i.jsx(c("EmojiPickerSearchResults.react"),{onSelect:this.$8,onLongPress:this.$5,results:this.props.suggestions}));f=b.filter(function(a,b){return a.emoji.size>0}).map(function(b,e){var f=i.jsx(c("EmojiPickerGrid.react"),{category:b,loaded:g.includes(e),onSelect:a.$8,onLongPress:a.$5,startRow:k,ref:function(b){b!=null?a.$1[""+e]=b:delete a.$1[""+e]}},e);e===j&&(n=k);k+=Math.ceil(b.get("emoji").size/d("EmojiPickerConfig").COLS);return f});return i.jsxs("div",{onKeyDown:this.$6,className:"_2znk"+(this.props.suppressShadow!==!0?" _80zh":"")+(this.props.padPicker===!0?" _85cl":""),children:[i.jsx(c("ScrollableArea.react"),{height:((h=this.props.height)!=null?h:d("EmojiPickerConfig").HEIGHT)+"px",onScroll:this.$10,persistent:c("gkx")("708253"),shadow:!1,fade:!c("gkx")("708253"),ref:function(b){a.$4=b},width:d("EmojiPickerConfig").WIDTH,children:i.jsxs("div",{className:"uiContextualLayerParent _2znm",children:[l,i.jsxs(c("LogicalGrid.react"),{autofocus:!0,initialFocusCellCoordinate:[n,0],component:i.jsx("div",{}),children:[m,f]}),this.$12()]})}),i.jsx(c("EmojiPickerCategories.react"),{categories:this.props.categories,selectedCategoryIndex:this.props.selectedCategoryIndex}),this.$11()]})};return b}(i.PureComponent);a.defaultProps={scrollToSelectedCategory:!0};g["default"]=a}),98);
__d("ImmutableListWithV4Types",["immutable"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("immutable").List}),98);
__d("ImmutableRecordWithV4Types",["immutable"],(function(a,b,c,d,e,f,g){"use strict";g.Record=c("immutable").Record}),98);
__d("XListOfEmojiCategoriesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/emojicategorylist/",{})}),null);
__d("EmojiPickerStore",["AsyncRequest","EmojiPickerActions","EmojiPickerConfig","EmojiPickerDispatcher","FBEmojiUtils","FluxReduceStore","ImmutableListWithV4Types","ImmutableRecordWithV4Types","XListOfEmojiCategoriesController"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=8,l=3,m=d("ImmutableRecordWithV4Types").Record({className:"",emoji:c("ImmutableListWithV4Types")(),isRecentlyUsed:!1,localized_name:"",name:""}),n=d("ImmutableRecordWithV4Types").Record({categories:c("ImmutableListWithV4Types")(),loadedCategories:c("ImmutableListWithV4Types")(),scrollToSelectedCategory:!1,search:"",selectedCategoryIndex:0,suggestions:[]});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(b=e=a.call.apply(a,[this].concat(g))||this,e.reduce=function(a,b){b=b;var e=a.get("loadedCategories");switch(b.type){case c("EmojiPickerActions").SET_SEARCH:var f=b.search;if(f==="")return a.set("search","").set("suggestions",[]);var g=f.trim().toLowerCase();if(g.length<l)return a.set("search",f).set("suggestions",[]);var i={},m=function(a){a.indexOf(g)!==-1&&(i=j[a].reduce(function(b,c){c=c.map(function(a){return a.toString()}).join("_");b[c]||(b[c]=a);return b},i))};for(var n in j)m(n);m=Object.keys(i);m.sort(function(a,b){if(i[a]===g&&i[b]!==g)return-1;if(i[b]===g&&i[a]!==g)return 1;var c=i[a].indexOf(g),d=i[b].indexOf(g);if(c===0&&d!==0)return-1;if(d===0&&c!==0)return 1;if(i[a].length>i[b].length)return 1;return i[b].length>i[a].length?-1:0});return a.set("search",f).set("suggestions",m.slice(0,k).map(function(a){return a.split("_").map(function(a){return parseInt(a,10)})}));case c("EmojiPickerActions").SET_RECENTLY_USED:f=h.findIndex(function(a){return a.get("isRecentlyUsed")});if(f<0)return a;m=h.get(f);if(m==null)return a;var o=d("FBEmojiUtils").getKeyFromCodepoints(b.emoji.map(function(a){return String.fromCodePoint(a)}));m=m.set("emoji",m.get("emoji").filter(function(a){a=d("FBEmojiUtils").getKeyFromCodepoints(a.codepoint.map(function(a){return String.fromCodePoint(a)}));return o!==a}).unshift({codepoint:b.emoji}).slice(0,d("EmojiPickerConfig").MAX_RECENTLY_USED));h=h.set(f,m);return a.set("categories",h);case c("EmojiPickerActions").SET_SELECTED_CATEGORY:f=b.doNotUpdateScrollPosition;m=b.selectedCategoryIndex;e=b.loadedCategories||e;e.includes(m)||(e=e.push(m));return a.set("loadedCategories",e).set("scrollToSelectedCategory",!f).set("selectedCategoryIndex",m);case c("EmojiPickerActions").SET_EMOJI_CATEGORY_DATA:h=b.data.filter(function(a){return a!=null&&!a.emoji.isEmpty()});f=0;m=0;while(f<=d("EmojiPickerConfig").COLS*d("EmojiPickerConfig").ROWS){e=e.push(m);b=h.get(m);b!=null&&(f+=b.get("emoji").size);m++}j=h.reduce(function(a,b){b.get("emoji").forEach(function(b){var c=b.codepoint;b=b.synonyms;b&&b.forEach(function(b){b=b.toLowerCase()+"@@";a[b]?a[b].push(c):a[b]=[c]})});return a},{});return a.set("categories",h).set("loadedCategories",e).set("selectedCategoryIndex",0);default:return a}},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.getInitialState=function(){return n()};e.bootstrap=function(){!h&&!i&&(i=new(c("AsyncRequest"))().setURI(c("XListOfEmojiCategoriesController").getURIBuilder().getURI()).setMethod("GET").setReadOnly(!0).setHandler(function(a){a&&c("EmojiPickerActions").setEmojiCategoryData(c("ImmutableListWithV4Types")(a.payload.map(function(a){return m({className:a.className,emoji:c("ImmutableListWithV4Types")(a.emojis),isRecentlyUsed:a.isRecentlyUsed,localized_name:a.localized_name,name:a.name})})))}),i.send())};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("EmojiPickerDispatcher"));g["default"]=b}),98);
__d("EmojiPickerContainer.react",["EmojiConfig","EmojiFullPicker.react","EmojiPickerDispatcher","EmojiPickerStore","FluxContainer","emptyFunction","react"],(function(a,b,c,d,e,f,g){var h=d("react");a=function(a){babelHelpers.inheritsLoose(d,a);function d(){return a.apply(this,arguments)||this}var e=d.prototype;e.UNSAFE_componentWillMount=function(){c("EmojiPickerDispatcher").explicitlyRegisterStores([b("EmojiPickerStore")]),c("EmojiPickerStore").bootstrap()};d.getStores=function(){return[c("EmojiPickerStore")]};d.calculateState=function(){var a=c("EmojiPickerStore").getState();return{categories:a.get("categories"),loadedCategories:a.get("loadedCategories"),scrollToSelectedCategory:a.get("scrollToSelectedCategory"),search:a.get("search"),selectedCategoryIndex:a.get("selectedCategoryIndex"),suggestions:a.get("suggestions")}};e.render=function(){return h.jsx(c("EmojiFullPicker.react"),babelHelpers["extends"]({},this.state,{showSearch:c("EmojiConfig").hasEmojiPickerSearch,suppressShadow:!0,onSelect:this.props.onSelect,onVariationsShown:this.props.onVariationsShown||c("emptyFunction"),padPicker:this.props.padPicker,height:this.props.height}))};return d}(h.Component);e=c("FluxContainer").create(a,{pure:!0});g["default"]=e}),98);
__d("OutlineSelectionHelpers",["cr:1967616"],(function(a,b,c,d,e,f){e.exports=b("cr:1967616")}),null);
__d("cometUFIAddEmojiToComposerForOutline",["CometUFIOutlineEmojiNode","FBEmojiResource","OutlineSelectionHelpers"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function a(a,b){b.focus(function(){b.update(function(b){b=b.getSelection();if(b!==null){var e=h(a),f=a.map(function(a){return String.fromCodePoint(a)});f=c("FBEmojiResource").fromCodepoints(f);if(f==null)return;f=f.getImageURL(d("CometUFIOutlineEmojiNode").size);if(f==null)return;var g=e;e=d("CometUFIOutlineEmojiNode").createEmojiNode(e,g,f);d("OutlineSelectionHelpers").insertNodes(b,[e])}},"cometUFIAddEmojiToComposerForOutline")})}g["default"]=a}),98);
__d("CometUFIEmojiPickerPopoverForOutline.react",["CometPopover.react","EmojiPickerContainer.react","cometUFIAddEmojiToComposerForOutline","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.onClose;a=a.pluginProps;var d=a.editor;a=i(function(a){c("cometUFIAddEmojiToComposerForOutline")(a,d),b()},[b,d]);return h.jsx(c("CometPopover.react"),{withArrow:!0,children:h.jsx(c("EmojiPickerContainer.react"),{height:320,onSelect:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("OutlineSelectionHelpers.prod",["Outline","OutlineHashtagNode"],(function $module_OutlineSelectionHelpers_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function t(a){throw Error("Minified Outline error #"+a+"; see codes.json for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}function u(a){return a.isImmutable()||a.isInert();}var w=new Map();
function x(a){a=a.getLatest();var b=a.constructor.clone(a);b.__flags=a.__flags;b.__parent=a.__parent;require("Outline").isBlockNode(a)?b.__children=Array.from(a.__children):require("Outline").isTextNode(a)&&(b.__format=a.__format,b.__style=a.__style);return b;}
function y(a,b,c,d,f){for(var e=b;null!==a;){for(b=a.getParent();null!==b&&b.excludeFromCopy();){b=b.getParent();}if(null===b)break;if(!require("Outline").isBlockNode(a)||!a.excludeFromCopy()){var k=a.getKey();var h=f.get(k);var g=void 0===h;g&&(h=x(a),f.set(k,h));!require("Outline").isTextNode(h)||h.isSegmented()||h.isImmutable()?require("Outline").isBlockNode(h)&&(h.__children=h.__children.slice(c?e:0,c?void 0:e+1)):h.__text=h.__text.slice(c?e:0,c?void 0:e);if(require("Outline").isRootNode(b)){g&&d.push(k);break;}}e=f.get(b.getKey());e=require("Outline").isBlockNode(e)?e.__children.indexOf(a.getKey()):
a.getIndexWithinParent();a=b;}}function z(a){return w.get(a)||null;}function A(a,b){var c=z(a.getStyle());b=c?babelHelpers["extends"]({},c,b):b;c="";for(d in b){d&&(c+=d+": "+b[d]+";");}var d=c;a.setStyle(d);w.set(d,b);}function C(a,b){var c=a.anchor;a=a.focus;var d=c.getNode(),f=a.getNode();if(d===f&&"text"===c.type&&"text"===a.type){var e=c.offset,k=a.offset;var h=e<k;f=h?e:k;k=h?k:e;e=k-1;f!==e&&(d=d.getTextContent().slice(f,k),/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(d)||(b?a.offset=e:c.offset=e));}}
function D(a){var b=a.anchor;if("text"===b.type){b=b.getNode();var c=b.getTextContent();a=a.anchor.offset;if(0===a&&b.isSimpleText()){if(a=b.getPreviousSibling(),require("Outline").isTextNode(a)&&require("OutlineHashtagNode").isHashtagNode(a)){a.select();var d=a.getTextContent();a.setTextContent(d+c);b.remove();}}else require("OutlineHashtagNode").isHashtagNode(b)&&a===b.getTextContentSize()&&(a=b.getNextSibling(),require("Outline").isTextNode(a)&&a.isSimpleText()&&(d=a.getTextContent(),b.setTextContent(c+d),a.remove()));}}
function E(a,b){if(a.isCollapsed()){F(a,b,"character",!1);var c=a.anchor,d=a.focus;if(!a.isCollapsed()){var f="text"===d.type?d.getNode():null,e="text"===c.type?c.getNode():null;if(null!==f&&f.isSegmented()){if(c=d.offset,d=f.getTextContentSize(),f.is(e)||b&&c!==d||!b&&0!==c){G(f,b);return;}}else if(null!==e&&e.isSegmented()&&(c=c.offset,d=e.getTextContentSize(),e.is(f)||b&&0!==c||!b&&c!==d)){G(e,b);return;}C(a,b);}else if(b&&0===c.offset&&("block"===c.type?c.getNode():c.getNode().getParentOrThrow()).collapseAtStart(a))return;}H(a);
D(a);}function G(a,b){var c=a.getTextContent().split(/\s/g);b?c.pop():c.shift();c=c.join(" ");""===c?a.remove():(a=a.setTextContent(c),b?a.select():a.select(0,0));}
function F(a,b,c,d){var f=window.getSelection(),e=a.focus;var k=a.anchor;var h=e.offset;if("block"===e.type)h=e.getNode().getChildAtIndex(b?h-1:h+1);else{var g=e.getNode();h=b&&0===h||!b&&h===g.getTextContentSize()?b?g.getPreviousSibling():g.getNextSibling():null;}if(require("Outline").isDecoratorNode(h)&&(g=b?h.getPreviousSibling():h.getNextSibling(),!require("Outline").isTextNode(g))){a=h.getParentOrThrow().getKey();f=h.getIndexWithinParent();e.set(a,f,"block");d&&k.set(a,f,"block");return;}f.modify(d?"move":"extend",b?"backward":
"forward",c);0<f.rangeCount&&(e=f.getRangeAt(0),a.applyDOMRange(e),d||f.anchorNode===e.startContainer&&f.anchorOffset===e.startOffset||a.swapPoints());}function H(a){I(a,"");}function J(a,b){var c=require("Outline").createLineBreakNode();b?K(a,[c],!0):K(a,[c])&&c.selectNext(0,0);}
function K(a,b,c){var _d;a.isCollapsed()||H(a);var d=a.anchor,f=d.offset,e=d.getNode();a=e;"block"===d.type&&(a=d.getNode(),d=a.getChildAtIndex(f-1),a=null===d?a:d);d=[];var k=e.getNextSiblings(),h=e.getTopParentBlockOrThrow();if(require("Outline").isTextNode(e))if(a=e.getTextContent().length,0===f&&0!==a)a=e.getPreviousSibling(),a=null!==a?a:e.getParentOrThrow(),d.push(e);else if(f===a)a=e;else{if(u(e))return!1;var _e$splitText=e.splitText(f);a=_e$splitText[0];e=_e$splitText[1];d.push(e);}e=a;(_d=d).push.apply(_d,k);f=b[0];for(k=0;k<b.length;k++){var m=b[k];if(require("Outline").isBlockNode(m)){if(m.is(f)){if(require("Outline").isBlockNode(a)&&
a.isEmpty()&&a.canReplaceWith(m)){a.replace(m);a=m;continue;}var g=m.getFirstDescendant();if(require("Outline").isLeafNode(g)){g=g.getParentOrThrow();var p=g.getChildren();var n=p.length;if(require("Outline").isBlockNode(a))for(var q=0;q<n;q++){a.append(p[q]);}else{for(--n;0<=n;n--){a.insertAfter(p[n]);}a=a.getParentOrThrow();}g.remove();if(g.is(m))continue;}}require("Outline").isTextNode(a)&&(a=h);}if(require("Outline").isBlockNode(a)){if(require("Outline").isBlockNode(m)){if(m.canBeEmpty()||!m.isEmpty())a=a.insertAfter(m);}else g=a.getFirstChild(),null!==g?g.insertBefore(m):a.append(m),
a=m;}else require("Outline").isBlockNode(m)?(a=m.getParentOrThrow(),k--):a=a.insertAfter(m);}c&&(require("Outline").isTextNode(e)?e.select():(b=a.getPreviousSibling(),require("Outline").isTextNode(b)?b.select():(b=a.getIndexWithinParent(),a.getParentOrThrow().select(b,b))));if(require("Outline").isBlockNode(a)){if(b=a.getLastDescendant(),c||(null===b?a.select():require("Outline").isTextNode(b)?b.select():b.selectNext()),0!==d.length)for(c=d.length-1;0<=c;c--){b=d[c],h=b.getParentOrThrow(),require("Outline").isBlockNode(a)&&!require("Outline").isBlockNode(b)?(a.append(b),a=b):require("Outline").isBlockNode(b)&&!b.canInsertAfter(a)?(e=
h.constructor.clone(h),require("Outline").isBlockNode(e)||t(45),e.append(b),a.insertAfter(e)):a.insertAfter(b),h.isEmpty()&&!h.canBeEmpty()&&h.remove();}}else c||(require("Outline").isTextNode(a)?a.select():(c=a.getParentOrThrow(),a=a.getIndexWithinParent()+1,c.select(a,a)));return!0;}function L(a,b){var c=a.getNode(),d=c.getChildAtIndex(a.offset),f=require("Outline").createTextNode();null===d?c.append(f):d.insertBefore(f);"block"===b.type&&c.is(b.getNode())&&(b.offset===a.offset?b.set(f.getKey(),0,"text"):b.offset++);a.set(f.getKey(),0,"text");}
function I(a,b){var c=a.anchor,d=a.focus,f=a.isCollapsed()||c.isBefore(d);f&&"block"===c.type?L(c,d):f||"block"!==d.type||L(d,c);var e=a.getNodes();var k=e.length;var h=a.textFormat,g=f?c:d,n=f?d:c;c=g.offset;var m=n.offset;d=e[0];require("Outline").isTextNode(d)||t(4);f=d.getTextContent().length;if(d.isSegmented()||d.isImmutable()||!d.canInsertTextAtEnd())if(g=g.offset,a.isCollapsed()&&g===f){g=d.getNextSibling();if(!require("Outline").isTextNode(g)||u(g)||g.isSegmented())g=require("Outline").createTextNode(),d.insertAfter(g);g.select(0,0);d=g;
if(""!==b){I(a,b);return;}}else if(a.isCollapsed()&&0===g){g=d.getPreviousSibling();if(!require("Outline").isTextNode(g)||u(g)||g.isSegmented())g=require("Outline").createTextNode(),d.insertBefore(g);g.select();d=g;if(""!==b){I(a,b);return;}}else d.isSegmented()&&g!==f&&(g=require("Outline").createTextNode(d.getTextContent()),d.replace(g),d=g);if(1===k){if(u(d))d.remove();else{e=d.getFormat();if(c===m&&e!==h)if(""===d.getTextContent())d.setFormat(h);else{var _d$splitText=d.splitText(c);e=_d$splitText[0];b=require("Outline").createTextNode(b);b.setFormat(h);e.insertAfter(b);b.select();return;}d=d.spliceText(c,
m-c,b,!0);""===d.getTextContent()?d.remove():d.isComposing()&&"text"===a.anchor.type&&(a.anchor.offset-=b.length);}}else{g=e[k-1];h=new Set([].concat(d.getParentKeys(),g.getParentKeys()));var p=require("Outline").isBlockNode(d)?d:d.getParentOrThrow(),q=require("Outline").isBlockNode(g)?g:g.getParentOrThrow();"text"===n.type&&(0!==m||""===g.getTextContent())||"block"===n.type&&g.getIndexWithinParent()<m?require("Outline").isTextNode(g)&&!u(g)&&m!==g.getTextContentSize()?(g.isSegmented()&&(n=require("Outline").createTextNode(g.getTextContent()),g.replace(n),g=n),g=g.spliceText(0,
m,""),h.add(g.getKey())):g.remove():h.add(g.getKey());m=q.getChildren();n=new Set(e);p=p.is(q);for(var B=m.length-1;0<=B;B--){var v=m[B];if(v.is(d))break;v.isAttached()&&(!n.has(v)||v.is(g)?p||d.insertAfter(v):v.remove());}if(!p)for(m=q,n=null;null!==m;){g=m.getChildren();q=g.length;if(0===q||g[q-1].is(n))h["delete"](m.getKey()),n=m;m=m.getParent();}u(d)?c===f?d.select():d.remove():(d=d.spliceText(c,f-c,b,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===a.anchor.type&&(a.anchor.offset-=
b.length));for(b=1;b<k;b++){a=e[b],h.has(a.getKey())||a.remove();}}}
exports.cloneContents=function(a){var b=a.anchor,c=a.focus,d=b.getNode(),f=c.getNode(),e=b.getCharacterOffset();var k=c.getCharacterOffset();if(d===f&&require("Outline").isTextNode(d))return a=x(d),d=(f=k>e)?e:k,e=f?k:e,a.__text=a.__text.slice(d,e),e=a.getKey(),{range:[e],nodeMap:[[e,a]]};a=a.getNodes();if(0===a.length)return{range:[],nodeMap:[]};d=a.length;var h=a[0];f=a[d-1];b=b.isBefore(c);c=new Map();var g=[];y(h,b?e:k,!0,g,c);for(h=0;h<d;h++){var n=a[h],m=n.getKey();if(!(c.has(m)||require("Outline").isBlockNode(n)&&n.excludeFromCopy())){var p=
x(n);require("Outline").isRootNode(n.getParent())&&g.push(n.getKey());c.set(m,p);}}y(f,b?k:e,!1,g,c);return{range:g,nodeMap:Array.from(c.entries())};};exports.deleteBackward=function(a){E(a,!0);};exports.deleteForward=function(a){E(a,!1);};exports.deleteLineBackward=function(a){a.isCollapsed()&&F(a,!0,"lineboundary",!1);H(a);};exports.deleteLineForward=function(a){a.isCollapsed()&&F(a,!1,"lineboundary",!1);H(a);};exports.deleteWordBackward=function(a){a.isCollapsed()&&F(a,!0,"word",!1);H(a);};
exports.deleteWordForward=function(a){a.isCollapsed()&&F(a,!1,"word",!1);H(a);};
exports.extractSelection=function(a){var _k$splitText,_a$splitText;var b=a.getNodes(),c=b.length;var d=c-1;var f=a.anchor;var e=a.focus;var k=b[0];a=b[d];var h=f.getCharacterOffset();var g=e.getCharacterOffset();if(0===c)return[];if(1===c)return require("Outline").isTextNode(k)?(c=h>g?g:h,b=k.splitText(c,h>g?h:g),[0===c?b[0]:b[1]]):[k];f=f.isBefore(e);require("Outline").isTextNode(k)&&(c=f?h:g,0!==c&&(_k$splitText=k.splitText(c),k=_k$splitText[1],_k$splitText),b[0]=k);require("Outline").isTextNode(a)&&(k=a.getTextContent().length,h=f?g:h,h!==k&&(_a$splitText=a.splitText(h),a=_a$splitText[0],_a$splitText),b[d]=a);return b;};
exports.formatText=function(a,b){var c=a.getNodes(),d=c.length-1;var f=c[0],e=c[d];if(a.isCollapsed())a.toggleTextFormatType(b);else{var k=a.anchor,h=a.focus,g=f.getTextContent().length,n=h.offset;a=0;for(var m=0;m<c.length;m++){var p=c[m];if(require("Outline").isTextNode(p)){a=p.getTextNodeFormat(b,null);break;}}m=k.offset;h=(k=k.isBefore(h))?m:n;k=k?n:m;h===f.getTextContentSize()&&(p=f.getNextSibling(),require("Outline").isTextNode(p)&&(h=m=0,f=p,a=f.getTextNodeFormat(b,null)));if(f===e)require("Outline").isTextNode(f)&&(h=m>n?n:m,k=m>n?m:n,h!==
k&&(0===h&&k===g?(f.setFormat(a),f.select(h,k)):(b=f.splitText(h,k),b=0===h?b[0]:b[1],b.setFormat(a),b.select(0,k-h))));else for(require("Outline").isTextNode(f)&&(0!==h&&(_f$splitText=f.splitText(h),f=_f$splitText[1],_f$splitText),f.setFormat(a)),g=a,require("Outline").isTextNode(e)&&(g=e.getTextNodeFormat(b,a),a=e.getTextContent().length,k!==a&&(_e$splitText2=e.splitText(k),e=_e$splitText2[0],_e$splitText2),e.setFormat(g)),a=1;a<d;a++){var _f$splitText,_e$splitText2;n=c[a],k=n.getKey(),require("Outline").isTextNode(n)&&k!==f.getKey()&&k!==e.getKey()&&!n.isImmutable()&&(k=n.getTextNodeFormat(b,g),n.setFormat(k));}}};
exports.getSelectionStyleValueForProperty=function(a,b,c){if(c===void 0){c="";}var d=null;a=a.getNodes();for(var h=0;h<a.length;h++){var f=a[h];if(require("Outline").isTextNode(f)){var e=b;var k=c;f=f.getStyle();f=z(f);e=null!==f?f[e]||k:k;if(null===d)d=e;else if(d!==e){d="";break;}}}return null===d?c:d;};exports.getStyleObjectFromCSS=z;exports.insertLineBreak=J;exports.insertNodes=K;
exports.insertParagraph=function(a){a.isCollapsed()||H(a);var b=a.anchor,c=b.offset;if("text"===b.type){var _d$splitText2;var d=b.getNode(),f=d.getTextContent().length;b=d.getNextSiblings().reverse();var e=d.getParentBlockOrThrow();0===c?b.push(d):c!==f&&((_d$splitText2=d.splitText(c),c=_d$splitText2[1],_d$splitText2),b.push(c));}else e=b.getNode(),b=e.getChildren().slice(c).reverse();c=e.insertNewAfter(a);if(null===c)J(a);else if(require("Outline").isBlockNode(c)){a=b.length;e=null;if(0===a)c.select(0,0);else for(d=0;d<a;d++){f=b[d],null===e?c.append(f):e.insertBefore(f),e=f;}
c.selectStart();}};exports.insertRichText=function(a,b){var c=b.split(/\r?\n/);if(1===c.length)I(a,b);else{b=[];var d=c.length;for(var f=0;f<d;f++){var e=c[f];""!==e&&b.push(require("Outline").createTextNode(e));f!==d-1&&b.push(require("Outline").createLineBreakNode());}K(a,b);}};exports.insertText=I;exports.moveCharacter=function(a,b,c){var d="rtl"===a.anchor.getNode().getTopParentBlockOrThrow().getDirection();F(a,c?!d:d,"character",!b);};
exports.patchStyleText=function(a,b){var c=a.getNodes();var d=c.length-1;var f=c[0],e=c[d];if(!a.isCollapsed()){var k=a.anchor,h=a.focus;a=f.getTextContent().length;var g=h.offset,n=k.offset;k=(h=k.isBefore(h))?n:g;h=h?g:n;if(k===f.getTextContentSize()){var m=f.getNextSibling();require("Outline").isTextNode(m)&&(k=n=0,f=m);}if(f===e)require("Outline").isTextNode(f)&&(k=n>g?g:n,h=n>g?n:g,k!==h&&(0===k&&h===a?(A(f,b),f.select(k,h)):(c=f.splitText(k,h),c=0===k?c[0]:c[1],A(c,b),c.select(0,h-k))));else for(require("Outline").isTextNode(f)&&(0!==k&&(_f$splitText2=
f.splitText(k),f=_f$splitText2[1],_f$splitText2),A(f,b)),require("Outline").isTextNode(e)&&(a=e.getTextContent().length,h!==a&&(_e$splitText3=e.splitText(h),e=_e$splitText3[0],_e$splitText3),A(e,b)),a=1;a<d;a++){var _f$splitText2,_e$splitText3;g=c[a],n=g.getKey(),require("Outline").isTextNode(g)&&n!==f.getKey()&&n!==e.getKey()&&!g.isImmutable()&&A(g,b);}}};exports.removeText=H;
exports.selectAll=function(a){var b=a.anchor;a=a.focus;var c=b.getNode().getTopParentBlockOrThrow().getParentOrThrow();var d=c.getFirstDescendant();c=c.getLastDescendant();var f="block",e="block",k=0;require("Outline").isTextNode(d)?f="text":require("Outline").isBlockNode(d)||null===d||(d=d.getParentOrThrow());require("Outline").isTextNode(c)?(e="text",k=c.getTextContentSize()):require("Outline").isBlockNode(c)||null===c||(c=c.getParentOrThrow(),k=c.getChildrenSize());d&&c&&(b.set(d.getKey(),0,f),a.set(c.getKey(),k,e));};
exports.updateCaretSelectionForAdjacentHashtags=D;exports.updateCaretSelectionForRange=F;exports.updateCaretSelectionForUnicodeCharacter=C;}),null);
__d("MWV2Message.bs",["CometHeroInteractionWithDiv.react","LSBitFlag.bs","LSMessageContentType.bs","MWChatInteraction.bs","MWMessageProtectionContext.bs","MWPMessageListColumn.bs","MWV2Attachments.bs","MWV2ChatBubble.bs","MWV2ChatEmoji.bs","MWV2ChatReactionsPill.bs","MWV2ChatText.bs","MWV2ChatUnsentMessage.bs","MWV2MessageHasAttachment.bs","MWV2MessageHasReply.bs","MWV2MessageHasXMA.bs","MWV2MessageIsEmojiOnly.bs","MWV2MessageParsingUtils.bs","MWV2MessageTimestampTooltip.bs","bs_caml_splice_call","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{alignItems:"ll8tlv6m",display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"d2edcug0",position:"l9j0dhe7"},outgoing:{alignItems:"aovydwv3"},vr:{backgroundColor:"nred35xi",height:"p3ovkuyr",width:"k4urcfbm"},bubble_container:{display:"j83agx80",width:"k4urcfbm"},elevate:{position:"l9j0dhe7",zIndex:"tkr6xdv7"}};function k(a){if(b("LSBitFlag.bs").has(b("LSMessageContentType.bs").glyph,a.Q))return!0;else return b("MWV2MessageIsEmojiOnly.bs").make(a.g)}function l(a){return i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})}c={make:l};function m(a){var c=a.interactionKey,d=a.children;a=a.outgoing;c=b("MWChatInteraction.bs").get(c);a=[j.container,a?j.outgoing:!1];if(c==null)return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[a]),children:d});else return i.jsx(b("CometHeroInteractionWithDiv.react"),{children:d,interactionUUID:c,interactionDesc:"MESSAGE_RENDER",pageletName:"Message",excludeFromMainVC:!1,xstyle:a})}d={make:m};function a(a){var c=a.message,d=a.reactions,e=a.isFirstMessageInGroup,f=a.isLastMessageInGroup,g=a.outgoing,n=a.isSecureThread,o=a.hasEmphasisRing,p=a.renderAttachment,q=a.prevMessage;a=a.nextMessage;var r=b("MWMessageProtectionContext.bs").useHook(void 0),s=r.disableLinks,t=b("MWV2MessageHasXMA.bs").make(c);r=i.useState(function(){if(s&&t)return!1;else return b("MWV2MessageHasAttachment.bs").make(c)});if(c.m)return i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:i.jsx(b("MWV2MessageTimestampTooltip.bs").make,{message:c,children:i.jsx(b("MWV2ChatUnsentMessage.bs").make,{message:c,outgoing:g})})});var u=r[0],v=b("MWV2MessageHasReply.bs").make(c),w=b("MWV2MessageParsingUtils.bs").hasText(c),x=k(c);n=n?c.e:c.f;var y=u&&t;e=!v&&!e;f=!f||u;u=c.g;if(b("MWV2MessageHasAttachment.bs").make(c)&&!(s&&t)){var z=b("MWV2MessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(c,q),A=b("MWV2MessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(c,a);p=p!==void 0?b("bs_curry")._4(p,c,q,a,g):i.jsx(b("MWV2Attachments.bs").make,{message:c,connectTop:z,connectBottom:A,hasText:w,outgoing:g,setHasAttachment:r[1],hasEmphasisRing:o})}else p=null;return i.jsxs(i.Fragment,{children:[i.jsx(m,{interactionKey:n,children:i.jsxs(b("MWV2MessageTimestampTooltip.bs").make,{message:c,children:[u!==void 0?x?v?i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:i.jsx(b("MWV2ChatEmoji.bs").make,{message:c,hasEmphasisRing:o})}):v?null:i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[e?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:i.jsx(b("MWV2ChatEmoji.bs").make,{message:c,hasEmphasisRing:o})})]}):u!==""?i.jsxs(i.Fragment,{children:[e?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble_container),children:[g?i.jsx(l,{}):null,i.jsx(b("MWV2ChatBubble.bs").make,{children:i.jsx(b("MWV2ChatText.bs").make,{message:c,outgoing:g}),connectTop:e,connectBottom:f,precedesXMA:y,outgoing:g,message:c,hasEmphasisRing:o}),g?null:i.jsx(l,{})]})]}):null:null,p]}),outgoing:g}),i.jsxs(i.Fragment,{children:[x&&d.length>0?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:5}):null,i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:i.jsx(b("MWV2ChatReactionsPill.bs").make,{message:c,reactions:d,outgoing:g})})]})]})}e=a;f.styles=j;f.getIsEmojiOnly=k;f.HoziontalFill=c;f.MWV2MessageLoggingWrapper=d;f.make=e}),null);
__d("LSPendingTasksPluginType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,16],r=[0,17],s=[0,23],t=[0,25],u=[0,28];f.lsBroker=a;f.payments=c;f.ephemeralMessaging=d;f.carrierMessaging=e;f.bugReporter=b;f.messageDenormalizations=g;f.seenHeads=h;f.mediaUpload=i;f.secureThreadSeenHeads=j;f.whatsappThread=k;f.secureThreadOverWaMessageSend=l;f.contactPruning=m;f.mediaManager=n;f.secureThreadOverWaEncryption=o;f.storyPost=p;f.coPresenceHeartbeat=q;f.secureThreadOverWaGroupManagement=r;f.encryptedBackups=s;f.anonymousRequest=t;f.messageActions=u}),null);
__d("LSTasks.bs",["LSJson","LSPendingTasksPluginType.bs","ReQLTable","bs_caml_int64","bs_pervasives"],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case 0:return"10003";case 1:return"10002";case 2:return"155";case 3:return"10001";case 4:return"10007";case 5:return"10006";case 6:return"14";case 7:return"10004";case 8:return"10005";case 9:return"29";case 10:return"33";case 11:return b("bs_pervasives").failwith("Not a supported task type.")}}function a(a){switch(a){case 0:return"secure-message-batchlookup";case 1:return"secure-message-createthread";case 2:return"delete_message";case 3:return"secure-message-deviceregistration";case 4:return"secure-message-disabledevice";case 5:return"secure-message-enabledevice";case 6:return"message_range";case 7:return"secure-message-prekeyupload";case 9:return"reaction";case 10:return"unsend_message";case 8:case 11:return b("bs_pervasives").failwith("Not a supported task type")}}function c(a,c,d,e){return b("ReQLTable").table(a,"pending_tasks").add({b:d,c:b("LSJson").stringify(e),d:g(c),e:(a=b("bs_caml_int64")).of_float(Date.now()),f:a.zero,g:a.zero,h:a.zero,i:void 0,j:void 0,k:b("LSPendingTasksPluginType.bs").lsBroker,l:a.zero,m:void 0,n:void 0,o:void 0})}f.createLabelForTask=g;f.queueFromType=a;f.enqueue=c}),null);
__d("LSWriteLabel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,5];var g=[0,6],h=[0,7],i=[0,8],j=[0,9],k=[0,10],l=[0,11],m=[0,12],n=[0,13],o=[0,14],p=[0,15],q=[0,17],r=[0,18],s=[0,19],t=[0,20],u=[0,21],v=[0,22],w=[0,23],x=[0,24],y=[0,25],z=[0,26],A=[0,27],B=[0,28],C=[0,29],D=[0,30],E=[0,31],F=[0,32],G=[0,33],H=[0,34],I=[0,35],J=[0,36],K=[0,37],L=[0,38],M=[0,39],N=[0,40],O=[0,41],P=[0,42],Q=[0,43],R=[0,44],S=[0,45],T=[0,46],U=[0,47],V=[0,49],W=[0,50],X=[0,51],Y=[0,52],Z=[0,53],$=[0,54],aa=[0,55],ba=[0,56],ca=[0,57],da=[0,58],ea=[0,59],fa=[0,60],ga=[0,61],ha=[0,62],ia=[0,63],ja=[0,65],ka=[0,66],la=[0,67],ma=[0,68],na=[0,69],oa=[0,70],pa=[0,71],qa=[0,72],ra=[0,73],sa=[0,74],ta=[0,75],ua=[0,76],va=[0,77],wa=[0,78],xa=[0,79],ya=[0,80],za=[0,81],Aa=[0,82],Ba=[0,83],Ca=[0,84],Da=[0,85],Ea=[0,86],Fa=[0,87],Ga=[0,88],Ha=[0,89],Ia=[0,90],Ja=[0,91],Ka=[0,92],La=[0,93],Ma=[0,94],Na=[0,95],Oa=[0,96],Pa=[0,97],Qa=[0,98],Ra=[0,99],Sa=[0,100],Ta=[0,101],Ua=[0,102],Va=[0,103],Wa=[0,104],Xa=[0,105],Ya=[0,106],Za=[0,107],$a=[0,108],ab=[0,109],bb=[0,110],cb=[0,111],db=[0,112],eb=[0,113],fb=[0,114],gb=[0,115],hb=[0,116],ib=[0,117],jb=[0,118],kb=[0,119],lb=[0,120],mb=[0,121],nb=[0,122],ob=[0,123],pb=[0,125],qb=[0,126],rb=[0,127],sb=[0,128],tb=[0,129],ub=[0,130],vb=[0,131],wb=[0,132],xb=[0,133],yb=[0,134],zb=[0,135],Ab=[0,136],Bb=[0,137],Cb=[0,138],Db=[0,139],Eb=[0,140],Fb=[0,141],Gb=[0,142],Hb=[0,143],Ib=[0,144],Jb=[0,145],Kb=[0,146],Lb=[0,147],Mb=[0,148],Nb=[0,149],Ob=[0,150],Pb=[0,151],Qb=[0,152],Rb=[0,153],Sb=[0,154],Tb=[0,155],Ub=[0,156],Vb=[0,157],Wb=[0,158],Xb=[0,159],Yb=[0,160],Zb=[0,161],$b=[0,162],ac=[0,163],bc=[0,164],cc=[0,165],dc=[0,166],ec=[0,167],fc=[0,168],gc=[0,169],hc=[0,170],ic=[0,171],jc=[0,172],kc=[0,174],lc=[0,175],mc=[0,176],nc=[0,177],oc=[0,178],pc=[0,179],qc=[0,180],rc=[0,181],sc=[0,182],tc=[0,183],uc=[0,184],vc=[0,185],wc=[0,186],xc=[0,187],yc=[0,188],zc=[0,189],Ac=[0,190],Bc=[0,191],Cc=[0,192],Dc=[0,193],Ec=[0,194],Fc=[0,195],Gc=[0,196],Hc=[0,197],Ic=[0,198],Jc=[0,199],Kc=[0,200],Lc=[0,201],Mc=[0,202],Nc=[0,203],Oc=[0,204],Pc=[0,205],Qc=[0,206],Rc=[0,207],Sc=[0,208],Tc=[0,209],Uc=[0,210],Vc=[0,211],Wc=[0,212],Xc=[0,213],Yc=[0,214],Zc=[0,215],$c=[0,216],ad=[0,217],bd=[0,218],cd=[0,219],dd=[0,220],ed=[0,221],fd=[0,222],gd=[0,223],hd=[0,224],id=[0,225],jd=[0,226],kd=[0,227],ld=[0,228],md=[0,229],nd=[0,230],od=[0,231],pd=[0,232],qd=[0,233],rd=[0,234],sd=[0,235],td=[0,236],ud=[0,237],vd=[0,238],wd=[0,239],xd=[0,240],yd=[0,241],zd=[0,242],Ad=[0,243],Bd=[0,244],Cd=[0,245],Dd=[0,246],Ed=[0,247],Fd=[0,248],Gd=[0,249],Hd=[0,250],Id=[0,251],Jd=[0,252],Kd=[0,253],Ld=[0,254],Md=[0,255],Nd=[0,256],Od=[0,257],Pd=[0,258],Qd=[0,259],Rd=[0,260],Sd=[0,261],Td=[0,262],Ud=[0,263],Vd=[0,264],Wd=[0,265],Xd=[0,266],Yd=[0,267],Zd=[0,268],$d=[0,269],ae=[0,270],be=[0,271],ce=[0,272],de=[0,273],ee=[0,274],fe=[0,275],ge=[0,276],he=[0,277],ie=[0,278],je=[0,279],ke=[0,280],le=[0,281],me=[0,282],ne=[0,283],oe=[0,284],pe=[0,285],qe=[0,286],re=[0,287],se=[0,288],te=[0,289],ue=[0,290],ve=[0,291],we=[0,292],xe=[0,293],ye=[0,294],ze=[0,295],Ae=[0,296],Be=[0,297],Ce=[0,298],De=[0,299],Ee=[0,300],Fe=[0,301],Ge=[0,302],He=[0,303],Ie=[0,304],Je=[0,305],Ke=[0,306],Le=[0,307],Me=[0,308],Ne=[0,309],Oe=[0,310],Pe=[0,311],Qe=[0,312],Re=[0,313],Se=[0,314],Te=[0,315],Ue=[0,316],Ve=[0,317],We=[0,319],Xe=[0,320],Ye=[0,321],Ze=[0,325],$e=[0,326],af=[0,327],bf=[0,328],cf=[0,329],df=[0,330],ef=[0,331],ff=[0,332],gf=[0,333],hf=[0,334],jf=[0,335],kf=[0,336],lf=[0,337],mf=[0,338],nf=[0,340],of=[0,341],pf=[0,342],qf=[0,343],rf=[0,344],sf=[0,345],tf=[0,346],uf=[0,347],vf=[0,348],wf=[0,349],xf=[0,350],yf=[0,351],zf=[0,352],Af=[0,353],Bf=[0,354],Cf=[0,355],Df=[0,356],Ef=[0,357],Ff=[0,358],Gf=[0,359],Hf=[0,360],If=[0,361],Jf=[0,362],Kf=[0,363],Lf=[0,364],Mf=[0,365],Nf=[0,366],Of=[0,367],Pf=[0,368],Qf=[0,369],Rf=[0,370],Sf=[0,371],Tf=[0,372],Uf=[0,373],Vf=[0,374],Wf=[0,375],Xf=[0,376],Yf=[0,377],Zf=[0,378],$f=[0,379],ag=[0,380],bg=[0,381],cg=[0,382],dg=[0,383],eg=[0,384],fg=[0,385],gg=[0,386],hg=[0,387],ig=[0,388],jg=[0,389],kg=[0,390],lg=[0,391],mg=[0,392],ng=[0,393],og=[0,394],pg=[0,395],qg=[0,396],rg=[0,397],sg=[0,398],tg=[0,399],ug=[0,400],vg=[0,401],wg=[0,402],xg=[0,403],yg=[0,404],zg=[0,405],Ag=[0,406],Bg=[0,407],Cg=[0,408],Dg=[0,409],Eg=[0,410],Fg=[0,411],Gg=[0,412],Hg=[0,413],Ig=[0,414],Jg=[0,415],Kg=[0,416],Lg=[0,417],Mg=[0,418],Ng=[0,419],Og=[0,420],Pg=[0,421],Qg=[0,422],Rg=[0,423],Sg=[0,424],Tg=[0,425],Ug=[0,426],Vg=[0,427],Wg=[0,428],Xg=[0,429],Yg=[0,430],Zg=[0,431],$g=[0,10001],ah=[0,10002],bh=[0,10003],ch=[0,10004],dh=[0,10005],eh=[0,10006],fh=[0,10007],gh=[0,10008],hh=[0,10009],ih=[0,10010],jh=[0,10011],kh=[0,10012],lh=[0,10013],mh=[0,10014],nh=[0,10015],oh=[0,10016],ph=[0,10017],qh=[0,10018],rh=[0,10019],sh=[0,10020],th=[0,19998],uh=[0,19999],vh=[0,20001],wh=[0,20002],xh=[0,20003],yh=[0,20004],zh=[0,20005],Ah=[0,20006],Bh=[0,20007],Ch=[0,20008],Dh=[0,20010],Eh=[0,20011],Fh=[0,20012],Gh=[0,20013],Hh=[0,20014],Ih=[0,20015],Jh=[0,20016],Kh=[0,20017],Lh=[0,30001],Mh=[0,30002],Nh=[0,30003],Oh=[0,30004],Ph=[0,30005],Qh=[0,30006],Rh=[0,30007],Sh=[0,30008],Th=[0,40001],Uh=[0,50001],Vh=[0,50002],Wh=[0,50003],Xh=[0,50004],Yh=[0,50005],Zh=[0,50006],$h=[0,50007],ai=[0,50008],bi=[0,50009],ci=[0,50010],di=[0,50011],ei=[0,50012],fi=[0,60001];f.test=a;f.sendMessage=c;f.readReceipt=d;f.newGroupThread=e;f.threadPointQuery=b;f.contactPointQuery=g;f.archiveThread=h;f.muteThread=i;f.deleteThread=j;f.blockMessage=k;f.deleteMessage=l;f.addParticipant=m;f.removeParticipant=n;f.messagesRangeQuery=o;f.threadsRangeQuery=p;f.participantPointQuery=q;f.storiesMarkRead=r;f.messagePointQuery=s;f.storyCreate=t;f.readReceiptV2=u;f.frxReportingPromptQuery=v;f.addParticipantV2=w;f.frxSubmitFeedback=x;f.updateParticipantAdminStatus=y;f.storyDelete=z;f.respondToAdminApprovalRequest=A;f.setNeedsAdminApprovalForNewParticipant=B;f.sendOrRemoveReaction=C;f.searchQueryPrimary=D;f.searchQuerySecondary=E;f.updateThreadName=F;f.unsendMessage=G;f.gifSearchQuery=H;f.platformExtensionSdkGetContext=I;f.rtcP2pEndCall=J;f.updateThreadImage=K;f.storyAdsFetch=L;f.frxSendReport=M;f.inboxAdsFetch=N;f.storiesPreferenceUpdate=O;f.storiesParticipantUpdate=P;f.updateThreadThemeColor=Q;f.updateThreadParticipantNickname=R;f.paymentCreate=S;f.sendMessageV2=T;f.pinVerificationRequest=U;f.markThreadUnread=V;f.checkPaymentEligibilityStatus=W;f.sponsoredMessageAdHide=X;f.forwardContentGenerate=Y;f.updateThreadCustomEmoji=Z;f.insertPersistentMenuCtas=$;f.paymentRequestCreate=aa;f.paymentPasscodeCreate=ba;f.paymentPasscodeDelete=ca;f.userLevelNotificationSettingsUpdate=da;f.deviceLevelNotificationSettingsUpdate=ea;f.ctmAdFromApp=fa;f.sendTypingIndicator=ga;f.contactUploadUpdateSettings=ha;f.insertThreadNullstateCtas=ia;f.ignoreMessageRequest=ja;f.acceptMessageRequest=ka;f.adsSendCtmWelcomeMessage=la;f.processAccountUnlink=ma;f.accountLinkEncodedUrlCreate=na;f.storyPollVote=oa;f.storyPointQuery=pa;f.inThreadBannerFetch=qa;f.inThreadBannerExecuteCta=ra;f.updateRepliesOnUnsend=sa;f.paymentRequestDecline=ta;f.storyReaction=ua;f.paymentRiskVerification=va;f.messengerOnlyChangeName=wa;f.accountLinkEncodedUrlCreateV2=xa;f.rtcFetchMultiwayConferenceName=ya;f.stickerSearch=za;f.processCtaAccountUnlink=Aa;f.integrityCheck=Ba;f.bookingAddToCalendar=Ca;f.paymentPasscodeChange=Da;f.deleteThreadV2=Ea;f.messengerOnlyChangePassword=Fa;f.paymentPasscodeReset=Ga;f.fetchOwnedAlohas=Ha;f.newGroupThreadV2=Ia;f.changeProfilePic=Ja;f.paymentPaypalLink=Ka;f.paymentsDeleteCredential=La;f.paymentSetDefault=Ma;f.paymentFetchP2mInvoiceDetail=Na;f.paymentAddCard=Oa;f.paymentInvalidateNewPaymentCredentialOptions=Pa;f.payPaymentRequest=Qa;f.paypalLoadFundingOptions=Ra;f.sendCallTransferRequest=Sa;f.paymentFetchP2mInvoiceStatus=Ta;f.paymentHistoryQuery=Ua;f.getFbidFromUserAlias=Va;f.contactUploadUploadContacts=Wa;f.attachmentsRangeQuery=Xa;f.sendPhoneConfirmationCode=Ya;f.messageSearch=Za;f.resetMessageWindow=$a;f.sendReferralEvent=ab;f.stickerSearchFeaturedTags=bb;f.queryPaymentActivityView=cb;f.paymentCharge=db;f.updatePresenceViewableSettings=eb;f.cancelPaymentRequest=fb;f.cancelPaymentTransfer=gb;f.paymentEditCard=hb;f.insertPersistentMenuItems=ib;f.queryPaymentHistory=jb;f.verifyConfirmationCodeAndConfirmPhone=kb;f.declinePaymentTransfer=lb;f.queryAllP2mPaymentMethods=mb;f.presenceControlsReport=nb;f.presenceAppStateReport=ob;f.videoChatLinkCreate=pb;f.videoChatLinkResolve=qb;f.videoChatLinkEnterRoom=rb;f.ignoreMessage=sb;f.queryStickerPackDetails=tb;f.newGroupThreadV3=ub;f.storyMoreBuckets=vb;f.storyArchiveRangeQuery=wb;f.downloadStickerPack=xb;f.refreshSwitchAccountProfiles=yb;f.contactUploadUpdateSnapshot=zb;f.sendPhase2UpdateMessage=Ab;f.syncWatchdogRequest=Bb;f.bloksProgramQuery=Cb;f.queryStickerStore=Db;f.removeParticipantV2=Eb;f.removeStickerPack=Fb;f.refreshSwitchAccountPersonalProfiles=Gb;f.queryThreadContactsEligibility=Hb;f.muteThreadV2=Ib;f.threadsRangeQueryV2=Jb;f.removeThread=Kb;f.paymentNonceCreate=Lb;f.paymentNonceDelete=Mb;f.paymentNonceVerify=Nb;f.exitFocusMode=Ob;f.blockStatus=Pb;f.contactUploadForThreads=Qb;f.existingGroupThreadFromParticipantsLookup=Rb;f.queryPostcapStickers=Sb;f.deleteMessageV2=Tb;f.existingGroupThreadPointQuery=Ub;f.updateMessagingSettings=Vb;f.pinThread=Wb;f.celebritySearchQuery=Xb;f.reorderStickerPacks=Yb;f.fetchAllPhoneNumbers=Zb;f.fbpayPinSwitch=$b;f.pollCreation=ac;f.pollUpdate=bc;f.paymentsCreateInvoice=cc;f.updateThreadDescription=dc;f.videoChatLinkUpdateLock=ec;f.updateThreadDisappearingMode=fc;f.videoChatLinkNotifyJoinAttempt=gc;f.pollPointQuery=hc;f.videoChatLinkRevoke=ic;f.roomCreate=jc;f.fbpayClientAuthKeyCreate=kc;f.fbpayClientAuthKeyDelete=lc;f.fbpayClientAuthTokenVerify=mc;f.notImplemented=nc;f.roomRevoke=oc;f.roomUpdateInterested=pc;f.roomUpdate=qc;f.paymentsSellerOnboardingStatus=rc;f.roomInviteeUpdate=sc;f.linkedAccountFetchBadges=tc;f.presenceOnDemandFetch=uc;f.processMarketplaceXmaCta=vc;f.switchAccountBadgingRealtimeFetchBadges=wc;f.fetchGroupForThread=xc;f.instagramStortReply=yc;f.roomsUpdateUserRingability=zc;f.updateContactUploadSettings=Ac;f.updateEphemeralMediaState=Bc;f.proactiveWarningsFetch=Cc;f.fxcalFlowFetchQuery=Dc;f.pseudoUnblock=Ec;f.requestAttemptedJoiners=Fc;f.marketplaceCreateMeetingPlan=Gc;f.liveStreamMetadata=Hc;f.fxcalSettings=Ic;f.paymentGroupRequestCreate=Jc;f.getMediaDrmLicense=Kc;f.marketplaceUpdateMeetingPlan=Lc;f.marketplaceDeleteMeetingPlan=Mc;f.removeStickerPacks=Nc;f.fxcalDoLink=Oc;f.videoChatLinkRequestUpdate=Pc;f.roomsUpdateRequireJoinRequests=Qc;f.contactPointQueryV2=Rc;f.dndMode=Sc;f.threadPointQueryV2=Tc;f.submitBusinessFeedback=Uc;f.sendPresenceCorrelationId=Vc;f.dndModeSchedule=Wc;f.fxcalMutateSettingsServiceStatus=Xc;f.supportInboxFetchItemsPreviews=Yc;f.fxcalDoUnlink=Zc;f.fxdecalFetchQuery=$c;f.supportInboxFetchItemDetails=ad;f.newThread=bd;f.newContact=cd;f.roomChatThreadCreate=dd;f.fxcalMutateAutoShareStatus=ed;f.fxcalMutateServiceSelectedIdentity=fd;f.marketplaceFetchMeetingPlan=gd;f.fximOptinContent=hd;f.fxcalReauthQuery=id;f.roomsSocialContextFetch=jd;f.unignoreMessage=kd;f.messagesRangeQueryV2=ld;f.muteCallsFromThread=md;f.fximCreateOrUpdate=nd;f.joinRoomChatThread=od;f.fxFetchUpsellType=pd;f.upsertSelfieStickerFromAttachment=qd;f.fxcalSsoBottomSheet=rd;f.ctmAdContext=sd;f.threadCoPresenceSubscribe=td;f.threadCoPresenceUpdate=ud;f.paymentFetchP2mReservationDetail=vd;f.fximSyncedFields=wd;f.fxcalLinkedAccounts=xd;f.updateDeliverySetting=yd;f.unarchiveThread=zd;f.threadCoPresenceUnsubscribe=Ad;f.paymentReserve=Bd;f.attachmentSearch=Cd;f.fxcalResetSharingSettings=Dd;f.roomChatResolve=Ed;f.fxcalSelectRadioOptionSettings=Fd;f.queryFbpayConnectEligibility=Gd;f.liveLocationSharingSessionStart=Hd;f.liveLocationSharingSessionUpdateCoordinates=Id;f.liveLocationSharingSessionStop=Jd;f.messageSetReminder=Kd;f.generateAvatarEffect=Ld;f.storiesContextualRepliesWrite=Md;f.roomChatUpdate=Nd;f.marketplaceFetchListing=Od;f.marketplaceFetchOffer=Pd;f.marketplaceCounterOffer=Qd;f.getCoplayAppInformation=Rd;f.threadCapabilityPointQuery=Sd;f.fetchTopUserGroups=Td;f.staticLocationSharingSend=Ud;f.saveEffect=Vd;f.unsaveEffect=Wd;f.paidadsPrepareConversionValue=Xd;f.marketplaceSendOffer=Yd;f.fetchAvatarSpriteSheet=Zd;f.singleEffectRequest=$d;f.ctmAdContextUpdateWarningStatus=ae;f.ctmAdContextFetchWarningStatus=be;f.roomsBroadcastCreate=ce;f.roomsBroadcastStart=de;f.roomsBroadcastEnd=ee;f.bumpOdsCounter=fe;f.marketplaceSendRequestRating=ge;f.marketplaceMarkAsPaid=he;f.generativeGroupThreadRanking=ie;f.marketplaceServerMutationCta=je;f.marketplaceFetchTxnSurvey=ke;f.paymentFetchPaymentConfig=le;f.updateMessageSaveStatus=me;f.businessRtcSettingsUpdate=ne;f.businessSavedRepliesDelete=oe;f.businessSavedRepliesEdit=pe;f.locationReverseGeocode=qe;f.businessSavedRepliesCreate=re;f.fetchPinnedThreads=se;f.fximSyncResources=te;f.fximUnsyncResources=ue;f.businessSavedRepliesIncreaseUsage=ve;f.locationSearch=we;f.messagingSettingsUpdateSaLastSeen=xe;f.filteredMessagesRangeQuery=ye;f.deleteMessengerContact=ze;f.ixtServerTriggerSubscribe=Ae;f.ixtServerTriggerUnsubscribe=Be;f.updateMessagePinStatus=Ce;f.downloadScriptingModules=De;f.sandboxDebugLog=Ee;f.inboxAdPcmFetchConversionData=Fe;f.fetchAvatarPreviewImage=Ge;f.removeEffect=He;f.fetchNoviP2pIdentifierPayload=Ie;f.roomsUpdateJoinPermissionSetting=Je;f.fetchNoviP2pAccountLinkPayload=Ke;f.getMediaCertificate=Le;f.addMessengerContact=Me;f.deleteAllStickersInPack=Ne;f.noviCreateTxnAndSendXma=Oe;f.paymentAddCardSecure=Pe;f.roomInviteSheet=Qe;f.filteredThreadsRangeQuery=Re;f.roomCancelRing=Se;f.accountCapabilitiesUpdate=Te;f.mediaSendCopyData=Ue;f.pageRtcSettingsFetch=Ve;f.encryptedBackupAction=We;f.encryptedBackupOpenEpochAction=Xe;f.marketplaceArchiveMessageThreads=Ye;f.updateThreadMessageSound=Ze;f.updateThreadRingtoneSound=$e;f.universalSearchGenerativeRanking=af;f.upsertEmojiSet=bf;f.deleteEmojiSetOfTypeThenInsertEmojiSets=cf;f.fetchCommunityFolderList=df;f.createShaderPack=ef;f.generateContextLines=ff;f.updateBiimPageAdminSettings=gf;f.nativeSyncBlock=hf;f.createCommunityChannel=jf;f.cannotReplyReason=kf;f.joinCommunityChannel=lf;f.fetchCommunityChannelList=mf;f.upsertUserPrefsBool=nf;f.upsertUserPrefsInt=of;f.upsertUserPrefsString=pf;f.deleteUserPrefsBool=qf;f.deleteUserPrefsInt=rf;f.deleteUserPrefsString=sf;f.threadEmojiBackfillSearchTerms=tf;f.getNoviTxnMetadata=uf;f.setThreadMagicWords=vf;f.persistSessionForLocalAuth=wf;f.mlModelLoadModel=xf;f.fetchAcsServerConfigurations=yf;f.businessCatalogProductsDelete=zf;f.cancelCallTransferRequest=Af;f.acsIssueCredentials=Bf;f.fetchCommunityMemberList=Cf;f.queryP2pMarketplaceDisclaimerResults=Df;f.pollMostLikelyToPollCreation=Ef;f.getShaderPack=Ff;f.contactSharing=Gf;f.pageRtcNextOpenHourFetch=Hf;f.paymentFetchPaymentThemes=If;f.acsIssueNextSync=Jf;f.businessCatalogProductsSend=Kf;f.changeThreadGroupNotificationSettings=Lf;f.ringAloha=Mf;f.deleteCommunityChannel=Nf;f.messengerRestrict=Of;f.testE2eGk=Pf;f.storiesFetchBucket=Qf;f.fetchSuggestedReply=Rf;f.reportCommunityChannel=Sf;f.businessCreateNewOrder=Tf;f.businessRequestUpdatePageCurrencyCode=Uf;f.reportMessageInCommunityChannel=Vf;f.businessRequestUpdateOrder=Wf;f.paymentP2mAttachInvoiceReceipt=Xf;f.proactiveWarningsContactFetch=Yf;f.frxFetchPromptAndSubmitFeedback=Zf;f.businessModifyExistingOrder=$f;f.contactUploadDeleteContacts=ag;f.backfillMagicWords=bg;f.businessRequestThreadOrderHistory=cg;f.epdCookieSettingsUpsert=dg;f.testAnonymous=eg;f.startBreakoutSession=fg;f.blockUnblockFromCommunity=gg;f.fetchAttachmentForMessage=hg;f.newE2eeMetadataThread=ig;f.e2eeMetadataMailboxBumpThread=jg;f.setConsistentThreadFbid=kg;f.effectSearch=lg;f.paymentP2mFetchOffsiteBankViewDetails=mg;f.fetchSandboxHosts=ng;f.e2eeMetadataMailboxUpdateParticipants=og;f.logSandboxHostSelection=pg;f.fetchCommunityRules=qg;f.muteOrUnmuteCommunityMember=rg;f.removeCommunityMember=sg;f.sendN4mInvite=tg;f.getGamesBotThreadCta=ug;f.createCommunityChannelCategory=vg;f.fetchCommunitySingleMember=wg;f.createRoomForThread=xg;f.unregisterOrcaPushToken=yg;f.updateCommunityNotificationSetting=zg;f.reportCoPresence=Ag;f.promoteOrDemoteCommunityMember=Bg;f.acceptOrDeclineCommunityAdminInvite=Cg;f.updateCommunityChannelCategoryName=Dg;f.communityMessagingThreadAudioRoomCreate=Eg;f.updateAssociatedChannelCategory=Fg;f.bookingConfirm=Gg;f.deleteCommunityMemberRecentActivity=Hg;f.updateGlobalMuteCallAfterNuxImpression=Ig;f.deleteCommunityChannelCategory=Jg;f.expireNewFriendBump=Kg;f.richStatusCreate=Lg;f.setFirstImpressionTimeForNfbThread=Mg;f.cmExtraLargeThreadSubscriptionStatusUpdate=Ng;f.fetchSingleCommunityInfo=Og;f.richStatusRevoke=Pg;f.manageNotificationMessages=Qg;f.verifyCommunityChannelListSynced=Rg;f.insertThreadPersistentIcebreakers=Sg;f.verifyCommunityListSynced=Tg;f.setThreadInvitesEnabledMode=Ug;f.resetThreadInviteLink=Vg;f.communityAdminModerationActionsFetch=Wg;f.updateCommunityMuteSetting=Xg;f.pinMessageV2=Yg;f.unpinMessageV2=Zg;f.tincanRegister=$g;f.tincanCreateThread=ah;f.tincanPrekeyLookup=bh;f.tincanPrekeyUpload=ch;f.tincanSend=dh;f.tincanEnableDevice=eh;f.tincanDisableDevice=fh;f.tincanOmnistoreDelete=gh;f.tincanVerifyThreadChecksum=hh;f.tincanThreadMute=ih;f.tincanEphemeralUiRefresh=jh;f.tincanMarkRead=kh;f.tincanCreateGroupThread=lh;f.tincanMarkUnread=mh;f.tincanGetGroupThreadInfo=nh;f.tincanBatchableSend=oh;f.tincanCreateThreadV2=ph;f.tincanNotifyUnsupportedDmClients=qh;f.tincanOverWaGenerateCat=rh;f.tincanDeliveryReceipt=sh;f.tincanUpdateWaAddressability=th;f.tincanArmadilloMigration=uh;f.cowatchGetCategories=vh;f.cowatchGetCategoryMedia=wh;f.cowatchCreateSession=xh;f.cowatchSetActiveMediaAction=yh;f.cowatchSyncLiveClock=zh;f.cowatchEndSession=Ah;f.cowatchCancelUpNextMedia=Bh;f.cowatchGetAddMediaDialogComponent=Ch;f.cowatchSubscribeActiveMedia=Dh;f.cowatchUnsubscribeActiveMedia=Eh;f.cowatchSendXma=Fh;f.cowatchGetMediaInfo=Gh;f.cowatchGetVideoClosedCaptionItems=Hh;f.cowatchGetCowatchAdInsertionPoints=Ih;f.cowatchGetCowatchAds=Jh;f.cowatchGetAutoplayMedia=Kh;f.syncPluginSeenHeadsThreadKey=Lh;f.syncPluginWhatsappMessageSend=Mh;f.syncPluginMediaManagerExpire=Nh;f.syncPluginStoryPost=Oh;f.syncPluginRankingScoreUpdate=Ph;f.syncPluginPpmlScoreUpdate=Qh;f.syncPluginMessageAction=Rh;f.syncPluginIndexContent=Sh;f.igmsGetCategoryMedia=Th;f.encryptedBackupsCreation=Uh;f.encryptedBackupsMailboxCreation=Vh;f.encryptedBackupsRestore=Wh;f.encryptedBackupsVirtualDeviceCreation=Xh;f.getEpochDeviceMacAndPubKey=Yh;f.encryptedBackupsDeviceAddition=Zh;f.encryptedBackupsFetchVirtualDevice=$h;f.encryptedBackupsFetchBackups=ai;f.encryptedBackupsRemoveDevice=bi;f.encryptedBackupsCloseEpochAction=ci;f.encryptedBackupsDeleteBackups=di;f.encryptedBackupsCreateAttachmentBackup=ei;f.igdSetE2eeEligibility=fi}),null);
__d("MWV2MessageActions.bs",["LSBitFlag.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMessageContentType.bs","LSMessageSendStatusV2.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MAWMsg.bs","MWLSFeatureLimitedStatus.bs","MWPTooltipGroup.react","MWV2ContextualActionsButton.bs","MWV2ForwardMessageButton.bs","MWV2MessageReactionButton.bs","MWV2MessageRowActionsContext.bs","MWV2OneToOneThreadBlockedContext.bs","MWV2ReplyButton.bs","MWV2UseMessageForwardAction.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_option","cr:10871","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:10871")==null?void 0:b("bs_caml_option").some(b("cr:10871"));function k(a){a=a.children;return i.jsx("div",{children:a})}d={make:k};var l={root:{height:"rgmg9uty",width:"chyndd0w",display:"j83agx80"},outgoing:{flexDirection:"rl25f0pe"},incoming:{flexDirection:"btwxx1t3"}};function m(a){var c=a.children;a=a.outgoing;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(l.root,a?l.outgoing:l.incoming),children:i.jsx(b("MWPTooltipGroup.react"),{children:c})})}e={make:m};function n(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useFirstExn(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:a.a,tl:0})},[c,JSON.stringify(a.a)]))}function o(a){var c=a.message,d=a.outgoing,e=a.setMoreMenuOpen,f=a.setReactionsMenuOpen,g=a.interactedWith,h=a.alwaysShowForwardForMediaMessages;a=a.closeActionsMenu;var l=n(c),o=b("MWV2OneToOneThreadBlockedContext.bs").useIsBlocked(void 0),p=b("ReStore.bs").useHook(void 0),q=l.a,r=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(p,"contacts").asc,{hd:q,tl:0})},[JSON.stringify(q),p]));r=r!==void 0?b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,r),!1):!1;var s=b("LSMessagingThreadTypeUtil.bs").isSecure(l.c),t=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!s||b("MAWGating.bs").isFeatureLimitEnabled(void 0));t=(s?b("MAWGating.bs").isForwardEnabled(void 0):!0)&&b("gkx")("1844772")&&!o&&!r&&!t&&!c.m&&!b("MAWMsg.bs").isPlaceholder(c)&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageForward,l)&&(s?b("MAWGating.bs").isForwardEnabled(void 0):!0);var u=!o&&!r&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageReply,l)&&!c.m;o=!o&&!r&&!c.m&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reactions,l)&&(s?b("MAWGating.bs").isReactionsEnabled(void 0):!0);r=u&&!h&&g;h=h&&t;o=g&&o;s=s&&b("bs_caml").i64_eq(c.l,b("LSMessageSendStatusV2.bs").retriableError);var v=b("MWV2UseMessageForwardAction.bs").useHook(l,c),w=i.useContext(b("MWV2MessageRowActionsContext.bs").context);t&&(w.forwardMessage.current=v);return i.jsxs(m,{children:[h?i.jsx(k,{children:i.jsx(b("MWV2ForwardMessageButton.bs").make,{message:c})}):null,o?i.jsx(k,{children:i.jsx(b("MWV2MessageReactionButton.bs").make,{message:c,thread:l,setReactionsMenuOpen:f,closeActionsMenu:a})}):null,!(b("cr:10871")==null)&&s?i.jsx(j.make,{message:c}):null,r?i.jsx(k,{children:i.jsx(b("MWV2ReplyButton.bs").make,{message:c})}):null,g?i.jsx(k,{children:i.jsx(b("MWV2ContextualActionsButton.bs").make,{message:c,thread:l,showForwardActionInContextualMenu:!h&&t,showReplyActionInContextualMenu:!r&&u,closeActionsMenu:a,setMoreMenuOpen:e})}):null],message:c,outgoing:d})}var p={make:o};function q(a){var c=a.focused,d=a.hovered,e=a.message;a=a.outgoing;var f=i.useState(function(){return!1}),g=i.useState(function(){return!1}),h=b("LSBitFlag.bs").has(b("LSMessageContentType.bs").mediaPreview,e.Q),j=function(a){};d=d||c||g[0]||f[0];if(d||h)return i.jsx(o,{message:e,outgoing:a,setMoreMenuOpen:g[1],setReactionsMenuOpen:f[1],interactedWith:d,alwaysShowForwardForMediaMessages:h,closeActionsMenu:j});else return null}var r={make:q};function s(a){var b=a.focused,c=a.hovered,d=a.message;a=a.outgoing;return i.jsx(q,{focused:b,hovered:c,message:d,outgoing:a})}var t={make:s},u={root:{flexShrink:"pfnyh3mw",display:"j83agx80",flexDirection:"cbu4d94t",width:"chyndd0w",justifyContent:"taijpn5t",flexGrow:"buofh1pr",position:"l9j0dhe7",zIndex:"s90hwng2"},moveUpToAccountForReactions:{paddingBottom:"jfpizvyy"},outgoing:{paddingEnd:"jxrgncrl"},incoming:{paddingStart:"qnrpqo6b"}};function a(a){var c=a.children,d=a.makeSpaceForReactionsRow,e=a.outgoing;a=a.ariaHidden;a=a!==void 0?a:!1;return i.jsx("div",{"aria-hidden":a,className:(h||(h=b("stylex")))(u.root,d?u.moveUpToAccountForReactions:!1,e?u.outgoing:u.incoming),children:c})}a={styles:u,make:a};function c(a){var b=a.message,c=a.focused,d=a.hovered;a=a.outgoing;return i.jsx(s,{focused:c,hovered:d,message:b,outgoing:a})}c=c;f.$MAWMessageRetryButton$requireCond=b("cr:10871");f.NonInheritWidthDiv=d;f.ActionsRowContainer=e;f.ActionsRow=p;f.MenuState=r;f.FocusRing=t;f.Container=a;f.make=c}),null);
__d("MWV2MessageRowBase.bs",["fbt","CometPressable.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.bs","MWMessageCellKeyCommands.bs","MWMessageTableFocusTable.bs","MWPMessageAuthor.bs","MWV2MessageListIsRowModalContext.bs","ReactDOMComet","StylexHelpers.bs","bs_caml_int64","bs_curry","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useCometUniqueID","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={row:{position:"l9j0dhe7"},cell:{display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7"},cellFocusVisible:{zIndex:"tkr6xdv7"},cellModal:{outline:"etjob87o","@media (-webkit-min-device-pixel-ratio: 0)":{outline:"l9gyps8x"},outlineOffset:"shww88j2"},enterModalButton:{position:"pmk7jnqg",end:"hhcrnkbu",top:"ormqv51v",transform:"i9k17dj3",backgroundColor:"ms7hmo2b",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"r92hip7p",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq",zIndex:"tkr6xdv7"},enterModalButtonVisible:{opacity:"pedkr2u6"}};function a(a){}function l(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var m=g._(/*FBT_CALL*/"\u8a73\u60c5\u548c\u52d5\u4f5c"/*FBT_CALL*/),n=g._(/*FBT_CALL*/"\u95dc\u9589\u8a73\u60c5\u548c\u52d5\u4f5c"/*FBT_CALL*/);function c(a){var c=a.message,d=a.messageDomID,e=a.outgoing,f=a.stopHoveringRef,h=a.setFocused,o=a.setHovered,p=a.children,q=a.isModal,r=a.isDialogOpened,s=a.isFocused,t=j.useCallback(function(a){return b("bs_curry")._1(o,function(a){return!1})},[o]),u=j.useContext(b("MWV2MessageListIsRowModalContext.bs").context),v=j.useRef(null),w=j.useCallback(function(a){return b("bs_curry")._1(u,function(a){return c.e})},[u,c]),x=function(a){b("bs_curry")._1(u,function(a){return""});a=v.current;if(!(a==null))return a.focus()};a=b("CometTimestamp.react").getTimestamp(b("useServerTime")(),new Date(b("bs_caml_int64").to_float(c.b)));var y=b("MWPMessageAuthor.bs").useAuthorName(c);y=y[0];e=e?g._(/*FBT_CALL*/"\u4f60"/*FBT_CALL*/):y!==void 0?y:g._(/*FBT_CALL*/"\u53c3\u8207\u8005"/*FBT_CALL*/);var z=b("useCometUniqueID")(),A=j.jsx(b("CometScreenReaderText.react"),{text:g._(/*FBT_CALL*/"\u8a0a\u606f\u5df2\u5728{Stringified timestamp of the incoming message}\u7531{Name of the author of the incoming message}\u50b3\u9001"/*FBT_CALL*/,[g._param("Stringified timestamp of the incoming message",a),g._param("Name of the author of the incoming message",e)]),id:z}),B=b("useCometUniqueID")();y=b("useCometTheme")("invert");var C=y[1],D=y[0],E=j.useRef(null),F=b("gkx")("3598");return j.jsx(b("MWMessageTableFocusTable.bs").Table_.Row.make,{children:j.jsx("div",{role:"row",className:(i||(i=b("stylex")))(k.row),onMouseOver:function(a){b("bs_curry")._1(f.current,void 0),b("bs_curry")._1(o,function(a){return!0}),f.current=t},onMouseLeave:function(a){if(f.current===t){b("bs_curry")._1(t,void 0);f.current=function(a){};return}},children:j.jsx(b("FocusWithinHandler.react"),{onFocusChange:function(a){if(s!==a){b("bs_curry")._1(h,function(b){return a});return b("bs_curry")._1(u,function(b){if((a||r)&&q)return c.e;else return""})}},onFocusVisibleChange:function(c){var a=E.current;if(c&&!(a==null)){b("setTimeout")(function(b){try{return a.scrollIntoView({block:"nearest",behavior:"smooth"})}catch(b){return a.scrollIntoView(!1)}},0);return}},children:function(a,e){a=b("bs_curry")._1(D,{children:j.jsx(b("CometPressable.react"),{"aria-label":q?n:m,ref:E,onPress:function(a){if(q)return x(void 0);else return b("bs_curry")._1(w,void 0)},xstyle:function(a){return[C,k.enterModalButton,e||q?k.enterModalButtonVisible:b("StylexHelpers.bs").styles.visuallyHidden]},focusable:!F||q,children:j.jsx(b("MDSTextPairing.react"),{body:q?g._(/*FBT_CALL*/"\u9000\u51fa"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u9032\u5165"/*FBT_CALL*/),bodyColor:"primary"})})});var f=j.jsx(b("MWMessageTableFocusTable.bs").Table_.Cell.make,{children:j.jsx("div",{ref:v,role:"gridcell",tabIndex:0,"data-scope":b("MWMessageTableFocusTable.bs").scopeID,"data-release-focus-from":"CLICK",className:(i||(i=b("stylex")))(k.cell,q?k.cellModal:!1,e?k.cellFocusVisible:!1),children:j.jsx(b("FocusInertRegion.react"),{disabled:q,children:q?j.jsxs(j.Fragment,{children:[j.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:b("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:b("focusScopeQueries").tabbableScopeQuery,recoverFocusQuery:b("focusScopeQueries").tabbableScopeQuery,children:j.jsx(b("KeyCommandHandler.react"),{children:j.jsxs("div",{role:"dialog","aria-describedby":d,"aria-labelledby":z,id:B,children:[p,q?A:null,a]}),onKeyDown:l})}),b("ReactDOMComet").createPortal(j.jsx("div",{"aria-owns":B}),document.body)]}):j.jsxs(j.Fragment,{children:[p,F?null:a]}),focusQuery:b("focusScopeQueries").tabbableScopeQuery})})});return j.jsxs(j.Fragment,{children:[j.jsx(b("MWMessageCellFocusTable.bs").keyCommands,{onEscape:q?x:void 0,onEnter:q?void 0:w,onSpace:q?void 0:w,children:F?j.jsx(b("MWMessageCellKeyCommands.bs").keyCommands,{message:c,children:f}):f}),!q&&F?j.jsx("div",{role:"gridcell",children:a}):null]})}})})})}d=c;f.styles=k;f.noop=a;f.onKeyDown=l;f.enterModalLabel=m;f.exitModalLabel=n;f.make=d}),null);
__d("MWV2MessageRow.bs",["BaseHeadingContextWrapper.re","CometErrorBoundary.re","LSMessageContentType.bs","MWChatGutterItem.bs","MWLSActor.bs","MWPMessageListColumn.bs","MWV2Attachments.bs","MWV2ChatAdminMessage.bs","MWV2ChatErrorBubble.bs","MWV2ChatReactionsPill.bs","MWV2Message.bs","MWV2MessageActions.bs","MWV2MessageEndOfGroupContent.bs","MWV2MessageHasReply.bs","MWV2MessageParsingUtils.bs","MWV2MessageProfilePhoto.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowBase.bs","MWV2MessageRowHeader.bs","MWV2MessageRowIsRowFocusedContext.bs","MWV2MessageRowSimple.bs","MWV2MessageStartOfGroupContent.bs","MWV2Reply.bs","MWV2ReplyError.bs","MWV2SeenHead.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","cr:4443","react","stylex","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",flexGrow:"buofh1pr"},containerOutgoing:{flexDirection:"rl25f0pe",maxWidth:"o6b9zlra"},containerIncoming:{maxWidth:"e409flbk"},alignEnd:{alignItems:"aovydwv3"},body:{display:"j83agx80"},adminMessageAttachment:{paddingTop:"jwdofwj8",paddingBottom:"hwnh5xvq",paddingEnd:"gl4o1x5y",paddingStart:"lt9micmv",minWidth:"fli3ptqi",maxWidth:"qmfd67dx"},gutter:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"odw8uiq3"},reply:{display:"j83agx80",alignItems:"ll8tlv6m",flexDirection:"cbu4d94t",marginBottom:"dglbbz69"}};function k(a){}var l=b("cr:4443")==null?void 0:b("bs_caml_option").some(b("cr:4443"));function m(a){return b("bs_caml").i64_eq(b("bs_caml_int64").and_(a.Q,b("LSMessageContentType.bs").hscrollXma),b("bs_caml_int64").zero)}function n(a){var c=a.message,d=a.prevMessage,e=a.nextMessage,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,k=a.isSecureThread,l=a.isGroupThread,n=a.status,o=a.focused,p=a.hovered,q=a.outgoing,r=a.reactions,s=a.messageElementRef,t=a.isModal,u=a.isDialogOpened,v=a.hasMessageEmphasisRing;a=a.renderAttachment;var w=!q,x=r.length>0,y=w&&l,z=b("MWV2MessageHasReply.bs").make(c);r={message:c,reactions:r,isFirstMessageInGroup:f,isLastMessageInGroup:g,outgoing:q,isSecureThread:k,hasEmphasisRing:v,prevMessage:d,nextMessage:e};a!==void 0&&(r.renderAttachment=b("bs_caml_option").valFromOption(a));return i.jsxs(i.Fragment,{children:[f&&!y?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:2}):null,z?i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.reply,q?j.alignEnd:!1),children:i.jsx(b("MWPMessageListColumn.bs").WithGutters.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ReplyError.bs").make,{outgoing:q})},children:i.jsx(b("MWV2Reply.bs").make,{message:c,outgoing:q,isSecureThread:k})}),grow:!0})}):null,i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.body),children:[i.jsxs(b("MWPMessageListColumn.bs").Profile.make,{children:[w?i.jsx(b("MWV2MessageProfilePhoto.bs").make,{message:c,isLastMessageInGroup:g,isGroupThread:l}):null,x?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:18}):null]}),i.jsxs("div",{role:"none","data-testid":"message-container",ref:s,className:h(j.container,q?j.containerOutgoing:j.containerIncoming),children:[i.jsx(b("MWPMessageListColumn.bs").Bubble.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ChatErrorBubble.bs").make,{hasReply:z})},children:i.jsx(b("MWV2Message.bs").make,r)}),paint:w||z,makeSpaceForActions:m(c)}),m(c)?i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:i.jsx(b("MWV2MessageActions.bs").Container.make,{children:i.jsx(b("MWV2MessageActions.bs").make,{message:c,focused:o||u,hovered:p,outgoing:q}),makeSpaceForReactionsRow:x,outgoing:q,ariaHidden:t===!1})}):null,i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})]}),i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[i.jsx(b("MWChatGutterItem.bs").make,{status:n,incoming:!1,xstyle:j.gutter}),x?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:18}):null]})]}),g?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:7}):null]})}c={make:n};function a(a){var c=a.prevMessage,d=a.message,e=a.nextMessage,f=a.status,g=a.isGroupThread,h=a.isSecureThread,m=a.isModal,o=a.stopHoveringRef,p=a.messageElementRefs,q=a.hasMessageEmphasisRing;a=a.renderAttachment;var r=b("MWLSActor.bs").useActor(void 0),s=b("MWV2MessageParsingUtils.bs").isStartOfGroup(d,c),t=b("MWV2MessageParsingUtils.bs").isEndOfGroup(d,e);r=b("bs_caml").i64_eq(d.h,r);var u=b("MWV2ChatReactionsPill.bs").useReactions(d),v=i.useState(function(){return!1}),w=v[1];v=v[0];var x=i.useState(function(){return!1}),y=b("useCometUniqueID")(),z=i.useMemo(function(){return b("bs_curry")._1(p.set,d.e)},[]),A=i.useState(function(){return!1}),B=A[1],C=A[0],D=i.useRef(k),E=i.useRef(k),F=i.useRef(k),G=i.useRef(k);if(d.j)A=i.jsx(b("MWV2MessageRowSimple.bs").make,{children:i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[i.jsx(b("MWV2ChatAdminMessage.bs").make,{message:d}),i.jsx(b("MWV2Attachments.bs").make,{message:d,connectTop:!1,connectBottom:!1,outgoing:r,xstyle:j.adminMessageAttachment})],centered:!0})});else{e={message:d,prevMessage:c,nextMessage:e,messageDomID:y,isFirstMessageInGroup:s,isLastMessageInGroup:t,isSecureThread:h,isGroupThread:g,status:f,focused:v,hovered:x[0],outgoing:r,reactions:u,messageElementRef:z,isModal:m,isDialogOpened:C,hasMessageEmphasisRing:q};a!==void 0&&(e.renderAttachment=b("bs_caml_option").valFromOption(a));if(t){h=typeof f==="number"||f.TAG!==1?b("MWV2SeenHead.bs").noSeenHeads:f._0;u=i.jsx(b("MWV2MessageEndOfGroupContent.bs").make,{message:d,seenHeads:h})}else u=null;A=i.jsxs(i.Fragment,{children:[s?i.jsx(b("MWV2MessageStartOfGroupContent.bs").make,{message:d,prevMessage:c}):null,i.jsxs(b("MWV2MessageRowBase.bs").make,{message:d,messageDomID:y,outgoing:r,stopHoveringRef:o,setFocused:w,setHovered:x[1],children:[i.jsx(b("MWV2MessageRowHeader.bs").make,{isFirstMessageInGroup:s,message:d,outgoing:r,isGroupThread:g}),i.jsx(n,e),u],isModal:m,isDialogOpened:C,isFocused:v})]})}z=i.useMemo(function(){return{setFocused:w,setIsDialogOpened:B,isDialogOpened:C}},[w,B,C]);q=i.useMemo(function(){return{forwardMessage:F,openReactionsMenu:D,removeMessage:G,replyToMessage:E}},[D,E]);return i.jsx(b("MWV2MessageRowIsRowFocusedContext.bs").Provider.make,{children:i.jsx(b("MWV2MessageRowActionsContext.bs").Provider.make,{children:i.jsxs(b("BaseHeadingContextWrapper.re").make,{children:[A,b("cr:4443")==null?null:i.jsx(l.make,{})]}),value:q}),value:z})}d=i.memo(a);f.styles=j;f.noop=k;f.$MWRenderCounter$requireCond=b("cr:4443");f.Body=c;f.make=d}),null);
__d("csx",[],(function(a,b,c,d,e,f){function a(a){throw new Error("csx: Unexpected class selector transformation.")}f["default"]=a}),66);
__d("BlueBar",["csx","CSS","DOMQuery","Style","ge"],(function(a,b,c,d,e,f,g,h){var i=document,j={};function k(a){return d("DOMQuery").scry(i,a)[0]}function l(a,b){return j[a]?j[a]:j[a]=k(b)}function a(){i=c("ge")("blueBarDOMInspector")||document,j={}}function b(){var a=this.getMaybeFixedRoot();return!a?!1:d("CSS").matchesSelector(a,"._5rmj")||c("Style").isFixed(a)}function m(){return l("bar","div._1s4v")}function e(){return l("navRoot","div._cx4")||m()}function f(){return l("maybeFixedRoot","div._26aw")}function h(){return l("maybeFixedRootLoggedOut","div._1pmx")}function n(){return l("maybeFixedRootLogin","div._53jh")}a();g.hasFixedBlueBar=b;g.getBar=m;g.getNavRoot=e;g.getMaybeFixedRoot=f;g.getLoggedOutRoot=h;g.getNewLoggedOutRoot=n}),98);
__d("isValidReactElement",[],(function(a,b,c,d,e,f){var g=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function a(a){return!!(typeof a==="object"&&a!==null&&a.$$typeof===g)}f["default"]=a}),66);
__d("BootloadedReact",["Bootloader","isValidReactElement"],(function(a,b,c,d,e,f){var g=function(a){b("Bootloader").loadModules(["ReactDOM"],a,"BootloadedReact")};a={isValidElement:function(a){return b("isValidReactElement")(a)},render:function(a,b,c){g(function(d){d.render(a,b,function(){c&&c(this)})})},unmountComponentAtNode:function(a,b){g(function(c){c.unmountComponentAtNode(a),b&&b()})}};e.exports=a}),null);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g){function a(a,b){a.setAttribute("data-ownerid",c("getOrCreateDOMID")(b))}function b(a,b){b=b;while(b){if(c("containsNode")(a,b))return!0;b=h(b)}return!1}function h(a){a=a;var b;while(a){if(a.getAttribute&&(b=a.getAttribute("data-ownerid")))return c("ge")(b);a=a.parentNode}return null}function e(a,b){a=a;var e;while(a&&!d("CSS").hasClass(a,b))a.getAttribute&&(e=a.getAttribute("data-ownerid"))?a=c("ge")(e):a=a.parentNode;return a}g.register=a;g.containsIncludingLayers=b;g.getContext=h;g.parentByClass=e}),98);
__d("DOMDimensions",["Style","getDocumentScrollElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a?a.offsetHeight:0;a=a?a.offsetWidth:0;return{height:b,width:a}}function b(a){a=c("getDocumentScrollElement")(a);var b=a.scrollWidth||0;a=a.scrollHeight||0;return{width:b,height:a}}function d(a,b,d,e,f){var g;switch(b){case"left":case"right":case"top":case"bottom":g=[b];break;case"width":g=["left","right"];break;case"height":g=["top","bottom"];break;default:throw Error("Invalid plane: "+b)}b=function(b,d){var e=0;for(var f=0;f<g.length;f++)e+=parseFloat(c("Style").get(a,b+"-"+g[f]+d))||0;return e};return(d?b("padding",""):0)+(e?b("border","-width"):0)+(f?b("margin",""):0)}g.getElementDimensions=a;g.getDocumentDimensions=b;g.measureElementBox=d}),98);
__d("getElementText",["isElementNode","isTextNode"],(function(a,b,c,d,e,f,g){var h=null;function a(a){if(c("isTextNode")(a))return a.data;else if(c("isElementNode")(a)){if(h===null){var b=document.createElement("div");h=b.textContent!=null?"textContent":"innerText"}return a[h]}else return""}g["default"]=a}),98);
__d("isContentEditable",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;while(a instanceof HTMLElement){if(a.contentEditable==="true"||a.contentEditable==="plaintext-only")return!0;a=a.parentElement}return!1}f["default"]=a}),66);
__d("isElementInteractive",["isContentEditable"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),i=new Set(["button","checkbox","radio","submit"]);function a(a){if(!a instanceof HTMLElement)return!1;var b=c("isContentEditable")(a),d=h.has(a.nodeName);a=a instanceof HTMLInputElement&&i.has(a.type);return(b||d)&&!a}g["default"]=a}),98);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function(a,b,c,d,e,f,g){var h=null,i={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187],FORWARD_SLASH:[191]},j=(a={},a[8]=1,a[9]=1,a[13]=1,a[27]=1,a[32]=1,a[37]=1,a[63234]=1,a[38]=1,a[63232]=1,a[39]=1,a[63235]=1,a[40]=1,a[63233]=1,a[46]=1,a);b=function(){function a(){var a=this;this.handlers={};["keyup","keydown","keypress"].forEach(function(b){return document.addEventListener(b,a.onkeyevent.bind(a,"on"+b))})}var b=a.prototype;b.mapKey=function(a){if(/^[0-9]$/.test(a+"")){typeof a!=="number"&&(a=a.charCodeAt(0)-48);return[48+a,96+a]}a+="";var b=i[a.toUpperCase()];return b?b:[a.toUpperCase().charCodeAt(0)]};b.onkeyevent=function(a,b){b=c("Event").$E(b);var d=this.handlers[b.keyCode]||this.handlers[b.which];if(d)for(var e=0;e<d.length;e++){var f=d[e].callback,g=d[e].filter;try{if(!g||g(b,a)){g=function(){var d=f(b,a),e=b.which||b.keyCode;c("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut").setKey(b.key||"").setKeyChar(String.fromCharCode(e)).setKeyCode(e).addToExtraData("is_trusted",b.isTrusted).log()},"KeyEventController");if(d===!1)return{v:c("Event").kill(b)}}();if(typeof g==="object")return g.v}}catch(a){}}return!0};b.resetHandlers=function(){for(var a in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,a)){var b=this.handlers[a].filter(function(a){return a.preserve()});b.length?this.handlers[a]=b:delete this.handlers[a]}};a.getInstance=function(){return h||(h=new a())};a.defaultFilter=function(b,d){b=c("Event").$E(b);return a.filterEventTypes(b,d)&&a.filterEventTargets(b,d)&&a.filterEventModifiers(b,d)};a.filterEventTypes=function(a,b){return b==="onkeydown"?!0:!1};a.filterEventTargets=function(a,b){b=a.getTarget();return!c("isElementInteractive")(b)||a.keyCode in j&&(d("DOMQuery").isNodeOfType(b,["input","textarea"])&&b.value.length===0||c("isContentEditable")(b)&&c("getElementText")(b).length===0)};a.filterEventModifiers=function(a,b){return a.ctrlKey||a.altKey||a.metaKey||a.repeat?!1:!0};a.registerKeyAcrossTransitions=function(b,d,e,f){e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);return a.registerKey(b,d,e,f,c("emptyFunction").thatReturnsTrue)};a.registerKey=function(b,e,f,g,h){f===void 0&&(f=a.defaultFilter);g===void 0&&(g=!1);h===void 0&&(h=c("emptyFunction").thatReturnsFalse);var i=a.getInstance(),j=b==null?[]:i.mapKey(b);c("isEmpty")(i.handlers)&&d("Run").onLeave(i.resetHandlers.bind(i));var k={};for(var l=0;l<j.length;l++){b=""+j[l];(!i.handlers[b]||g)&&(i.handlers[b]=[]);var m={callback:e,filter:f,preserve:h};k[b]=m;i.handlers[b].push(m)}return{remove:function(){for(var a in k){if(i.handlers[a]&&i.handlers[a].length){var b=i.handlers[a].indexOf(k[a]);b>=0&&i.handlers[a].splice(b,1)}delete k[a]}}}};return a}();g["default"]=b}),98);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function(a,b,c,d,e,f,g){var h=null,i=null;function j(){i||(i=c("Event").listen(window,"blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=c("Event").getKeyCode(a),j()}function b(){h=null,k()}if(d("ExecutionEnvironment").canUseDOM){d=document.documentElement;if(d)if(d.addEventListener)d.addEventListener("keydown",a,!0),d.addEventListener("keyup",b,!0);else if(d.attachEvent){d=d.attachEvent;d("onkeydown",a);d("onkeyup",b)}}function e(){return!!h}function f(){return h}g.isKeyDown=e;g.getKeyDownCode=f}),98);
__d("BasicVector",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.x=a,this.y=b}var b=a.prototype;b.derive=function(b,c){return new a(b,c)};b.toString=function(){return"("+this.x+", "+this.y+")"};b.add=function(a,b){b===void 0&&(b=a.y,a=a.x);a=parseFloat(a);b=parseFloat(b);return this.derive(this.x+a,this.y+b)};b.mul=function(a,b){b===void 0&&(b=a);return this.derive(this.x*a,this.y*b)};b.div=function(a,b){b===void 0&&(b=a);return this.derive(this.x*1/a,this.y*1/b)};b.sub=function(a,b){if(arguments.length===1)return this.add(a.mul(-1));else return this.add(-a,-b)};b.distanceTo=function(a){return this.sub(a).magnitude()};b.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.rotate=function(a){return this.derive(this.x*Math.cos(a)-this.y*Math.sin(a),this.x*Math.sin(a)+this.y*Math.cos(a))};return a}();f["default"]=a}),66);
__d("DOMVector",["BasicVector","getDocumentScrollElement","getElementPosition","getUnboundedScrollPosition","getViewportDimensions"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){b=a.call(this,b,c)||this;b.domain=d||"pure";return b}var d=b.prototype;d.derive=function(a,c,d){return new b(a,c,d||this.domain)};d.add=function(c,d){c instanceof b&&c.getDomain()!=="pure"&&(c=c.convertTo(this.domain));return a.prototype.add.call(this,c,d)};d.convertTo=function(a){if(a!="pure"&&a!="viewport"&&a!="document")return this.derive(0,0);if(a==this.domain)return this.derive(this.x,this.y,this.domain);if(a=="pure")return this.derive(this.x,this.y);if(this.domain=="pure")return this.derive(0,0);var c=b.getScrollPosition("document"),d=this.x,e=this.y;this.domain=="document"?(d-=c.x,e-=c.y):(d+=c.x,e+=c.y);return this.derive(d,e,a)};d.getDomain=function(){return this.domain};b.from=function(a,c,d){return new b(a,c,d)};b.getScrollPosition=function(a){a=a||"document";var b=c("getUnboundedScrollPosition")(window);return this.from(b.x,b.y,"document").convertTo(a)};b.getElementPosition=function(a,b){b=b||"document";a=c("getElementPosition")(a);return this.from(a.x,a.y,"viewport").convertTo(b)};b.getElementDimensions=function(a){return this.from(a.offsetWidth||0,a.offsetHeight||0)};b.getViewportDimensions=function(){var a=c("getViewportDimensions")();return this.from(a.width,a.height,"viewport")};b.getLayoutViewportDimensions=function(){var a=c("getViewportDimensions").layout();return this.from(a.width,a.height,"viewport")};b.getViewportWithoutScrollbarDimensions=function(){var a=c("getViewportDimensions").withoutScrollbars();return this.from(a.width,a.height,"viewport")};b.getDocumentDimensions=function(a){a=c("getDocumentScrollElement")(a);return this.from(a.scrollWidth,a.scrollHeight,"document")};return b}(c("BasicVector"));g["default"]=a}),98);
__d("Vector",["DOMVector","Event","Scroll"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){return a.call(this,parseFloat(b),parseFloat(c),d)||this}var e=b.prototype;e.derive=function(a,c,d){return new b(a,c,d||this.domain)};e.setElementPosition=function(a){var b=this.convertTo("document");a.style.left=parseInt(b.x,10)+"px";a.style.top=parseInt(b.y,10)+"px";return this};e.setElementDimensions=function(a){return this.setElementWidth(a).setElementHeight(a)};e.setElementWidth=function(a){a.style.width=parseInt(this.x,10)+"px";return this};e.setElementHeight=function(a){a.style.height=parseInt(this.y,10)+"px";return this};e.scrollElementBy=function(a){a==document.body?window.scrollBy(this.x,this.y):(d("Scroll").setLeft(a,d("Scroll").getLeft(a)+this.x),d("Scroll").setTop(a,d("Scroll").getTop(a)+this.y));return this};b.from=function(a,c,d){return new b(a,c,d)};b.getEventPosition=function(a,b){b===void 0&&(b="document");a=c("Event").getPosition(a);a=this.from(a.x,a.y,"document");return a.convertTo(b)};b.getTouchEventPosition=function(a,b){b===void 0&&(b="document");a=a.touches[0];a=this.from(a.pageX,a.pageY,"document");return a.convertTo(b)};b.deserialize=function(a){a=a.split(",");return this.from(a[0],a[1])};return b}(c("DOMVector"));g["default"]=a}),98);
__d("Rect",["invariant","$","Vector","react"],(function(a,b,c,d,e,f,g,h){d("react");a=function(){function a(b,d,e,f,g){if(arguments.length===1){if(b instanceof a)return b;if(b instanceof c("Vector"))return new a(b.y,b.x,b.y,b.x,b.domain);typeof b==="string"&&(b=c("$")(b));return a.getElementBounds(b)}typeof b==="number"&&typeof d==="number"&&typeof e==="number"&&typeof f==="number"&&(!g||typeof g==="string")||h(0,1087);Object.assign(this,{t:b,r:d,b:e,l:f,domain:g||"pure"});return this}var b=a.prototype;b.w=function(){return this.r-this.l};b.h=function(){return this.b-this.t};b.getWidth=function(){return this.w()};b.getHeight=function(){return this.h()};b.toString=function(){return"(("+this.l+", "+this.t+"), ("+this.r+", "+this.b+"))"};b.contains=function(b){b=new a(b).convertTo(this.domain);var c=this;return c.l<=b.l&&c.r>=b.r&&c.t<=b.t&&c.b>=b.b};b.intersection=function(b){b=b.convertTo(this.domain);var c=Math.min(this.b,b.getBottom()),d=Math.max(this.l,b.getLeft()),e=Math.min(this.r,b.getRight());b=Math.max(this.t,b.getTop());return c>b&&e>d?new a(b,e,c,d):null};b.isEqualTo=function(a){return this.t===a.t&&this.r===a.r&&this.b===a.b&&this.l===a.l&&this.domain===a.domain};b.add=function(b,d){if(arguments.length==1){b instanceof a&&b.domain!="pure"&&(b=b.convertTo(this.domain));return b instanceof c("Vector")?this.add(b.x,b.y):this}var e=parseFloat(b),f=parseFloat(d);return new a(this.t+f,this.r+e,this.b+f,this.l+e,this.domain)};b.sub=function(a,b){if(arguments.length==1&&a instanceof c("Vector"))return this.add(a.mul(-1));else if(typeof a==="number"&&typeof b==="number")return this.add(-a,-b);return this};b.rotateAroundOrigin=function(b){var c=this.getCenter().rotate(b*Math.PI/2),d=0;b%2?(d=this.h(),b=this.w()):(d=this.w(),b=this.h());var e=c.y-b/2;c=c.x-d/2;b=e+b;d=c+d;return new a(e,d,b,c,this.domain)};b.boundWithin=function(a){var b=0,c=0;this.l<a.l?b=a.l-this.l:this.r>a.r&&(b=a.r-this.r);this.t<a.t?c=a.t-this.t:this.b>a.b&&(c=a.b-this.b);return this.add(b,c)};b.getCenter=function(){return new(c("Vector"))(this.l+this.w()/2,this.t+this.h()/2,this.domain)};b.getTop=function(){return this.t};b.getRight=function(){return this.r};b.getBottom=function(){return this.b};b.getLeft=function(){return this.l};b.getArea=function(){return(this.b-this.t)*(this.r-this.l)};b.getPositionVector=function(){return new(c("Vector"))(this.l,this.t,this.domain)};b.getDimensionVector=function(){return new(c("Vector"))(this.w(),this.h(),"pure")};b.convertTo=function(b){if(this.domain==b)return this;if(b=="pure")return new a(this.t,this.r,this.b,this.l,"pure");if(this.domain=="pure")return new a(0,0,0,0);var d=new(c("Vector"))(this.l,this.t,this.domain).convertTo(b);return new a(d.y,d.x+this.w(),d.y+this.h(),d.x,b)};a.deserialize=function(b){b=b.split(":");return new a(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]),parseFloat(b[0]))};a.newFromVectors=function(b,c){return new a(b.y,b.x+c.x,b.y+c.y,b.x,b.domain)};a.getElementBounds=function(b){return a.newFromVectors(c("Vector").getElementPosition(b),c("Vector").getElementDimensions(b))};a.getViewportBounds=function(){return a.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportDimensions())};a.getViewportWithoutScrollbarsBounds=function(){return a.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportWithoutScrollbarDimensions())};a.minimumBoundingBox=function(b){var c=new a(Infinity,-Infinity,-Infinity,Infinity),d;for(var e=0;e<b.length;e++)d=b[e],c.t=Math.min(c.t,d.t),c.r=Math.max(c.r,d.r),c.b=Math.max(c.b,d.b),c.l=Math.min(c.l,d.l);return c};return a}();g["default"]=a}),98);
__d("tooltipPropsFor",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(!a)return{};a={"data-tooltip-content":a,"data-hover":"tooltip"};b&&(a["data-tooltip-position"]=b);c&&(a["data-tooltip-alignh"]=c);return a}f["default"]=a}),66);
__d("TooltipData",["DOM","DataStore","FBLogger","URI","getElementText","ifRequired","isStringNullOrEmpty","isTextNode","killswitch","tooltipPropsFor"],(function(a,b,c,d,e,f){var g;function h(a){var c=a.getAttribute("data-tooltip-delay");c=c?parseInt(c,10)||1e3:0;if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT"))return babelHelpers["extends"]({className:a.getAttribute("data-tooltip-root-class"),content:a.getAttribute("data-tooltip-content"),delay:c,position:a.getAttribute("data-tooltip-position")||"above",alignH:a.getAttribute("data-tooltip-alignh")||"left",offsetY:a.getAttribute("data-tooltip-offsety")||0,suppress:!1,overflowDisplay:a.getAttribute("data-tooltip-display")==="overflow",persistOnClick:a.getAttribute("data-pitloot-persistonclick"),textDirection:a.getAttribute("data-tooltip-text-direction")},b("DataStore").get(a,"tooltip"));else{var d;d=(d=b("DataStore").get(a,"tooltip"))!=null?d:{};var e=d.content;d=babelHelpers.objectWithoutPropertiesLoose(d,["content"]);var f=a.getAttribute("data-tooltip-content");!b("isStringNullOrEmpty")(e)&&!b("isStringNullOrEmpty")(f)&&b("FBLogger")("tooltip").warn('Getting DataStore tooltip content on an element that has both a "data-tooltip-content" attribute value (set to %s) and a value coming from the DataStore',a.getAttribute("data-tooltip-content"));return babelHelpers["extends"]({className:a.getAttribute("data-tooltip-root-class"),delay:c,position:a.getAttribute("data-tooltip-position")||"above",alignH:a.getAttribute("data-tooltip-alignh")||"left",offsetY:a.getAttribute("data-tooltip-offsety")||0,suppress:!1,overflowDisplay:a.getAttribute("data-tooltip-display")==="overflow",persistOnClick:a.getAttribute("data-pitloot-persistonclick"),textDirection:a.getAttribute("data-tooltip-text-direction"),content:(a=(c=f)!=null?c:e)!=null?a:null},d)}}function i(a,c){var d=h(a);if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT"))b("DataStore").set(a,"tooltip",{content:c.content||d.content,position:c.position||d.position,alignH:c.alignH||d.alignH,suppress:c.suppress!==void 0?c.suppress:d.suppress,overflowDisplay:c.overflowDisplay||d.overflowDisplay,persistOnClick:c.persistOnClick||d.persistOnClick});else{!b("isStringNullOrEmpty")(c.content)&&!b("isStringNullOrEmpty")(a.getAttribute("data-tooltip-content"))&&b("FBLogger")("tooltip").warn('Setting DataStore tooltip content on an element that already has the "data-tooltip-content" attribute (set to %s) is invalid',a.getAttribute("data-tooltip-content"));b("DataStore").set(a,"tooltip",{content:c.content||((a=b("DataStore").get(a,"tooltip"))!=null?a:{}).content,position:c.position||d.position,alignH:c.alignH||d.alignH,suppress:c.suppress!==void 0?c.suppress:d.suppress,overflowDisplay:c.overflowDisplay||d.overflowDisplay,persistOnClick:c.persistOnClick||d.persistOnClick})}}function j(a,b){i(a,b),a.setAttribute("data-hover","tooltip")}function k(a,b){}var l={remove:function(a,c){c=c===void 0?{}:c;c=c.onlyCleanupDataStore;c=c===void 0?!1:c;b("DataStore").remove(a,"tooltip");c||(a.removeAttribute("data-hover"),a.removeAttribute("data-tooltip-position"),a.removeAttribute("data-tooltip-alignh"),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.hide()}))},set:function(a,c,d,e){k(a,c);if(c instanceof(g||(g=b("URI"))))a.setAttribute("data-tooltip-uri",c),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.fetchIfNecessary(a)});else if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT")){var f=l._store({context:a,content:c,position:d,alignH:e});typeof f.content!=="string"?a.setAttribute("data-tooltip-content",b("getElementText")(f.content)):a.setAttribute("data-tooltip-content",f.content);l.refreshIfActive(a)}else a.removeAttribute("data-tooltip-content"),l._store({context:a,content:c,position:d,alignH:e}),l.refreshIfActive(a)},refreshIfActive:function(a){b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.show(a)})},_store:function(a){var c=a.context,d=a.content,e=a.position;a=a.alignH;k(c,d);b("isTextNode")(d)&&(d=b("getElementText")(d));var f=!1;typeof d!=="string"?d=b("DOM").create("div",{},d):f=d==="";a={alignH:a,content:d,position:e,suppress:f};j(c,a);return a},propsFor:b("tooltipPropsFor"),enableDisplayOnOverflow:function(a){a.removeAttribute("data-tooltip-display"),j(a,{overflowDisplay:!0})},enablePersistOnClick:function(a){a.removeAttribute("data-pitloot-persistOnClick"),j(a,{persistOnClick:!0})},suppress:function(a,b){i(a,{suppress:b})},_get:h};e.exports=l}),null);
__d("ViewportBounds",["Arbiter","ArbiterMixin","BlueBar","ExecutionEnvironment","PageEvents","Vector","emptyFunction","removeFromArray"],(function(a,b,c,d,e,f){var g={top:[],right:[],bottom:[],left:[]};function a(a){return function(){return g[a].reduce(function(a,b){return Math.max(a,b.getSize())},0)}}function c(a,b){return function(c){return new h(a,c,b)}}var h=function(){"use strict";function a(a,c,d){d===void 0&&(d=!1),this.getSide=b("emptyFunction").thatReturns(a),this.getSize=function(){return typeof c==="function"?c():c},this.isPersistent=b("emptyFunction").thatReturns(d),g[a].push(this),i.inform("change")}var c=a.prototype;c.remove=function(){b("removeFromArray")(g[this.getSide()],this),i.inform("change")};return a}();b("Arbiter").subscribe(b("PageEvents").AJAXPIPE_ONUNLOAD,function(){["top","right","bottom","left"].forEach(function(a){a=g[a];for(var b=a.length-1;b>=0;b--){var c=a[b];c.isPersistent()||c.remove()}})});var i=babelHelpers["extends"]({},b("ArbiterMixin"),{getTop:a("top"),getRight:a("right"),getBottom:a("bottom"),getLeft:a("left"),getElementPosition:function(a){a=b("Vector").getElementPosition(a);a.y-=i.getTop();return a},addTop:c("top"),addRight:c("right"),addBottom:c("bottom"),addLeft:c("left"),addPersistentTop:c("top",!0),addPersistentRight:c("right",!0),addPersistentBottom:c("bottom",!0),addPersistentLeft:c("left",!0)});i.addPersistentTop(function(){if(b("ExecutionEnvironment").canUseDOM&&b("BlueBar").hasFixedBlueBar()){var a=b("BlueBar").getMaybeFixedRoot();return a?a.offsetHeight:0}return 0});e.exports=i}),null);
__d("getOverlayZIndex",["Style"],(function(a,b,c,d,e,f,g){function a(a,b){b=b;a=a;b=b||document.body;var d=[];while(a&&a!==b)d.push(a),a=a.parentNode;if(a!==b)return 0;for(var a=d.length-1;a>=0;a--){b=d[a];if(c("Style").get(b,"position")!="static"){b=parseInt(c("Style").get(b,"z-index"),10);if(!isNaN(b))return b}}return 0}g["default"]=a}),98);
__d("BehaviorsMixin",[],(function(a,b,c,d,e,f){var g=function(){function a(a){this.$1=a,this.$2=!1}var b=a.prototype;b.enable=function(){this.$2||(this.$2=!0,this.$1.enable())};b.disable=function(){this.$2&&(this.$2=!1,this.$1.disable())};return a}(),h=1;function i(a){a.__BEHAVIOR_ID||(a.__BEHAVIOR_ID=h++);return a.__BEHAVIOR_ID}a={enableBehavior:function(a){this._behaviors||(this._behaviors={});var b=i(a);this._behaviors[b]||(this._behaviors[b]=new g(new a(this)));this._behaviors[b].enable();return this},disableBehavior:function(a){if(this._behaviors){a=i(a);this._behaviors[a]&&this._behaviors[a].disable()}return this},enableBehaviors:function(a){a.forEach(this.enableBehavior,this);return this},destroyBehaviors:function(){if(this._behaviors){for(var a in this._behaviors)this._behaviors[a].disable();this._behaviors={}}},hasBehavior:function(a){return this._behaviors&&i(a)in this._behaviors}};b=a;f["default"]=b}),66);
__d("Layer",["invariant","ArbiterMixin","BehaviorsMixin","BootloadedReact","CSS","ContextualThing","DOM","DataStore","Event","FBLogger","HTML","KeyEventController","KeyStatus","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g,h){b("KeyStatus");var i=[],j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,d){var e;e=b.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else c("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var e=a.prototype;e.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};e._configure=function(a,b){var e=this;if(b){var f=c("isNode")(b),g=typeof b==="string"||c("HTML").isHTML(b);this.containsReactComponent=d("BootloadedReact").isValidElement(b);!f&&!g&&!this.containsReactComponent&&c("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(g)b=c("HTML")(b).getRootNode();else if(this.containsReactComponent){f=document.createElement("div");var h=!0;d("BootloadedReact").render(b,f,function(){e.inform("reactshow"),h||e.updatePosition()});h=!1;b=this._reactContainer=f}}this._root=this._buildWrapper(a,b);a.attributes&&c("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(d("CSS").addClass.bind(null,this._root));d("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=c("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);d("DataStore").set(this._root,"layer",this)};e._getDefaultBehaviors=function(){return[]};e.getCausalElement=function(){return this._causalElement};e.setCausalElement=function(a){this._causalElement=a;return this};e.getInsertParent=function(){return this._insertParent||document.body};e.getRoot=function(){this._root||(this._destroyed?c("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):c("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};e.getContentRoot=function(){return this.getRoot()};e._buildWrapper=function(a,b){return b};e.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(c("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};e.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};e.show=function(){var b=this;if(this._shown)return this;var e=this.getRoot();e!=null||h(0,5142);this.inform("beforeshow");c("Style").set(e,"visibility","hidden");c("Style").set(e,"overflow","hidden");d("CSS").show(e);c("DOM").appendContent(this.getInsertParent(),e);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){b._shown&&i.push(b)},0)):d("CSS").hide(e);c("Style").set(e,"visibility","");c("Style").set(e,"overflow","");c("Style").set(e,"opacity","1");this.inform("aftershow");return this};e.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};e._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};e.conditionShow=function(a){return a?this.show():this._hide()};e.finishHide=function(){if(this._shown){this._permanent||c("removeFromArray")(i,this);this._hiding=!1;this._shown=!1;var b=this.getRoot();b!=null||h(0,5143);d("CSS").hide(b);this.inform("hide");a.inform("hide",this)}};e.isShown=function(){return this._shown};e.updatePosition=function(){return!0};e.destroy=function(){this.containsReactComponent&&d("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var b=this.getRoot();c("DOM").remove(b);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);d("DataStore").remove(b,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return i[i.length-1]};a.informBlur=function(a){k=null;l=null;var b=i.length;if(!b)return;while(b--){var c=i[b],e=c.getContentRoot();e!=null||h(0,5144);if(d("ContextualThing").containsIncludingLayers(e,a))return;if(c.inform("blur",{target:a})===!1||c.isShown())return}};return a}(c("mixin")(d("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(j,d("ArbiterMixin"));Object.assign(j.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});c("Event").listen(document.documentElement,"keydown",function(a){if(c("KeyEventController").filterEventTargets(a,"keydown"))for(var b=i.length-1;b>=0;b--)if(i[b].inform("key",a)===!1)return!1;return!0},c("Event").Priority.URGENT);var k;c("Event").listen(document.documentElement,"mousedown",function(a){k=a.getTarget()});var l;c("Event").listen(document.documentElement,"mouseup",function(a){l=a.getTarget(),c("setImmediate")(function(){k=null,l=null})});c("Event").listen(document.documentElement,"click",function(a){var b=k,e=l;k=null;l=null;var f=i.length;if(!f)return;f=a.getTarget();if(f!==e||f!==b)return;if(!c("DOM").contains(document.documentElement,f))return;if(f.offsetWidth!=null&&!f.offsetWidth)return;if(d("Parent").byClass(f,"generic_dialog"))return;j.informBlur(f)});g["default"]=j}),98);
__d("useMessengerUnsendNUXQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],b=[{kind:"Variable",name:"nux_id",variableName:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"3302322696546660",metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("BaseSlider.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","Locale","Pressable.react","react","recoverableViolation","stylex","useCometUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n={rail:{backgroundColor:"pwoa4pd7",borderTopStartRadius:"s8bnoagg",borderTopEndRadius:"bn9qtmzc",borderBottomEndRadius:"hp05c5td",borderBottomStartRadius:"b6jg2yqc",display:"a8c37x1j",height:"mw227v9j",position:"pmk7jnqg",width:"k4urcfbm"},root:{boxSizing:"cjfnh4rs",cursor:"nhd2j8a9",display:"q9uorilb",height:"mw227v9j",paddingBottom:"sj5x9vvc",paddingTop:"cxgpxx05",position:"l9j0dhe7",touchAction:"gokke00a",width:"k4urcfbm"},thumb:{backgroundColor:"q2y6ezfg",borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"frvqaej8",borderEndWidth:"ed0hlay0",borderBottomWidth:"afxsp9o4",borderStartWidth:"jcgfde61",bottom:"i09qtzwb",boxShadow:"ibrqsekg",boxSizing:"rq0escxv",cursor:"nhd2j8a9",height:"jnigpg78",marginStart:"e5bbllhu",outline:"lzcic4wl",position:"pmk7jnqg",top:"kr520xx4",width:"odw8uiq3"},thumbFocusVisible:{borderTopColor:"ng4oes9w",borderEndColor:"epui8hbc",borderBottomColor:"nxp5a7ae",borderStartColor:"og13rbbo",boxShadow:"gxj1dplq"},thumbWrapper:{marginEnd:"o3lre8g0",marginStart:"gu00c43d",marginTop:"sv5sfqaa",position:"l9j0dhe7"},track:{backgroundColor:"is6700om",borderTopStartRadius:"s8bnoagg",borderTopEndRadius:"bn9qtmzc",borderBottomEndRadius:"hp05c5td",borderBottomStartRadius:"b6jg2yqc",display:"a8c37x1j",height:"mw227v9j",position:"pmk7jnqg"}};function o(a,b){a=a.reduce(function(a,c,d){c=Math.abs(b-c);return a==null||c<a.distance||c===a.distance?{distance:c,index:d}:a},null);return(a=a==null?void 0:a.index)!=null?a:0}function p(a,b,c){return(a-b)*100/(c-b)}function q(a,b,c){return Math.min(Math.max(a,b),c)}function r(a){return a.toString()}function s(a,b){return a+b}function t(a){var b=m(a);k(function(){b.current=a});return j(function(a){return b.current(a)},[])}function u(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return d.pageX}return null}function a(a,b){var e,f=a.ariaLabel,g=a.ariaLabelledBy,v=a.ariaValueText,w=v===void 0?r:v;v=a.disabled;var x=v===void 0?!1:v;v=a.max;var y=v===void 0?100:v;v=a.min;var z=v===void 0?0:v,A=a.onChange,B=a.onChangeSettled;v=a.step;var C=v===void 0?1:v,D=a.values;v=a.xstyleRail;var E=a.xstyleRoot,F=a.xstyleThumb;a=a.xstyleTrack;var G=c("useCometUniqueID")(),H=m(null),I=m(0),J=m(null),K=m(null),L=l(function(){var a=typeof D==="number"?[D]:[].concat(D);a.sort(function(a,b){return a-b});return a},[D]),M=p(L.length>1?L[0]:z,z,y),N=p(L[L.length-1],z,y)-M;M=(e={},e[d("Locale").isRTL()?"right":"left"]=M+"%",e.width=N+"%",e);var O=j(function(){if(I.current!=null&&H.current){var a=H.current.querySelector("#"+s(G,I.current));a!=null&&a.focus()}},[G]),P=j(function(a){var b,e=a.eventX;a=a.isMove;a=a===void 0?!1:a;var f=H.current;if(f==null){c("recoverableViolation")("Slider Ref should have been set","comet_ui");return null}if(x)return null;b=(b=f.ownerDocument.defaultView)!=null?b:window;f=f.getBoundingClientRect();var g=f.left;f=f.width;e=(e-g-b.pageXOffset)/f;d("Locale").isRTL()&&(e=1-e);g=q(Math.round(((y-z)*e+z)/C)*C,z,y);b=a?I.current:o(L,g);f=L;if(L[b]!==g){e=[].concat(L);e[b]=g;e.sort(function(a,b){return a-b});f=e}I.current=f.indexOf(g);return f},[x,y,z,C,L]),Q=t(function(a){a=P({eventX:a.pageX,isMove:!0});a!=null&&A&&A(a);O()}),R=t(function(a){a=P({eventX:a.pageX});a!=null&&B&&B(a);window.removeEventListener("mousemove",Q,!0);window.removeEventListener("mouseup",R,!0)});N=t(function(a){if(x)return;var b=window.navigator.userAgent.indexOf("MSIE")>=0;b||a.preventDefault();b=P({eventX:a.pageX});b!=null&&A&&A(b);O();window.addEventListener("mousemove",Q,!0);window.addEventListener("mouseup",R,!0)});var S=t(function(a){a=u(a,J.current);if(a==null)return;a=P({eventX:a,isMove:!0});a!=null&&A&&A(a);O()}),T=t(function(a){a=u(a,J.current);if(a==null)return;a=P({eventX:a});a!=null&&B&&B(a);window.removeEventListener("touchmove",S,!0);window.removeEventListener("touchend",T,!0)});e=t(function(a){if(x)return;a.preventDefault();var b=a.changedTouches[0];b!=null&&(J.current=b.identifier);b=u(a,J.current);if(b==null)return;a=P({eventX:b});a!=null&&A&&A(a);O();window.addEventListener("touchmove",S,!0);window.addEventListener("touchend",T,!0)});k(function(){if(x)return;return function(){window.removeEventListener("mousemove",Q,!0),window.removeEventListener("mouseup",R,!0),window.removeEventListener("touchmove",S,!0),window.removeEventListener("touchend",T,!0)}},[x,Q,R,T,S,e]);var U=j(function(a){var b=K.current;if(b!=null){a=q(Math.round(a/C)*C,z,y);if(L[b]!==a){var c=[].concat(L);c[b]=a;c.sort(function(a,b){return a-b});A&&A(c);B&&B(c)}}},[y,z,A,B,C,L]),V=(y-z)/10,W=l(function(){return[{command:{key:c("CometKeys").HOME},description:h._(/*FBT_CALL*/"\u5c07\u6ed1\u687f\u8a2d\u5b9a\u6210\u6700\u5c0f\u503c\u3002"/*FBT_CALL*/),handler:function(){K.current!=null&&U(z)}},{command:{key:c("CometKeys").END},description:h._(/*FBT_CALL*/"\u5c07\u6ed1\u687f\u8a2d\u5b9a\u6210\u6700\u5927\u503c\u3002"/*FBT_CALL*/),handler:function(){K.current!=null&&U(y)}},{command:{key:c("CometKeys").PAGE_DOWN},description:h._(/*FBT_CALL*/"\u6e1b\u5c11\u6ed1\u687f\u503c\uff08\u591a\u6bb5\uff09\u3002\u5728\u9019\u500b\u6ed1\u687f\uff0c\u4ee5 10\u0025 \u8df3\u52d5\u3002"/*FBT_CALL*/),handler:function(){K.current!=null&&U(L[K.current]-V)}},{command:{key:c("CometKeys").PAGE_UP},description:h._(/*FBT_CALL*/"\u589e\u52a0\u6ed1\u687f\u503c\uff08\u591a\u6bb5\uff09\u3002\u5728\u9019\u500b\u6ed1\u687f\uff0c\u4ee5 10\u0025 \u8df3\u52d5\u3002"/*FBT_CALL*/),handler:function(){K.current!=null&&U(L[K.current]+V)}},{command:{key:c("CometKeys").LEFT},description:h._(/*FBT_CALL*/"\u6e1b\u5c11\u6ed1\u687f\u503c\uff08\u4e00\u6bb5\uff09\u3002"/*FBT_CALL*/),handler:function(){K.current!=null&&U(L[K.current]-C)}},{command:{key:c("CometKeys").DOWN},description:h._(/*FBT_CALL*/"\u6e1b\u5c11\u6ed1\u687f\u503c\uff08\u4e00\u6bb5\uff09\u3002"/*FBT_CALL*/),handler:function(){K.current!=null&&U(L[K.current]-C)}},{command:{key:c("CometKeys").RIGHT},description:h._(/*FBT_CALL*/"\u589e\u52a0\u6ed1\u687f\u503c\uff08\u4e00\u6bb5\uff09\u3002"/*FBT_CALL*/),handler:function(){K.current!=null&&U(L[K.current]+C)}},{command:{key:c("CometKeys").UP},description:h._(/*FBT_CALL*/"\u589e\u52a0\u6ed1\u687f\u503c\uff08\u4e00\u6bb5\uff09\u3002"/*FBT_CALL*/),handler:function(){K.current!=null&&U(L[K.current]+C)}}]},[y,z,U,C,V,L]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:W,children:i.jsxs("div",{className:c("stylex")([n.root,E]),onMouseDown:N,onTouchStart:e,ref:H,role:"none",children:[i.jsx("div",{className:c("stylex")([n.rail,v]),ref:b}),i.jsx("div",{className:c("stylex")([n.track,a]),style:M}),i.jsx("div",{className:c("stylex")(n.thumbWrapper),children:L.map(function(a,b){var e=p(a,z,y),j=f;f!=null&&L.length>1&&(b===0?j=h._(/*FBT_CALL*/"{slider label}\uff0c\u6700\u5c0f\u503c"/*FBT_CALL*/,[h._param("slider label",f)]):b===L.length-1&&(j=h._(/*FBT_CALL*/"{slider label}\uff0c\u6700\u5927\u503c"/*FBT_CALL*/,[h._param("slider label",f)])));return i.jsx(c("Pressable.react"),{accessibilityLabel:j,accessibilityRelationship:{labelledby:g},accessibilityRole:"slider",accessibilityState:{disabled:x,orientation:"horizontal"},accessibilityValue:{max:y,min:z,now:a,text:w(a)},disabled:x,nativeID:s(G,b),onBlur:function(){K.current=null},onFocus:function(){K.current=b},style:(j={},j[d("Locale").isRTL()?"right":"left"]=e+"%",j),xstyle:function(a){return[n.thumb,a.focusVisible&&n.thumbFocusVisible,typeof F==="function"?F(a):F]}},b)})})]})})}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={4:{paddingEnd:"n8tt0mok",paddingStart:"hyh9befq"},8:{paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus"},12:{paddingEnd:"p8fzw8mz",paddingStart:"pcp91wgn"},16:{paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},24:{paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"},32:{paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"}},k={4:{paddingBottom:"r8blr3vg",paddingTop:"jwdofwj8"},8:{paddingBottom:"e5nlhep0",paddingTop:"ecm0bbzt"},12:{paddingBottom:"iuny7tx3",paddingTop:"ipjc6fyt"},16:{paddingBottom:"sj5x9vvc",paddingTop:"cxgpxx05"},24:{paddingBottom:"f10w8fjw",paddingTop:"pybr56ya"},32:{paddingBottom:"ihqw7lf3",paddingTop:"discj3wi"}};function a(a,b){var d;d=(d=i(c("MDSRowContext")))!=null?d:{};var e=d.spacingHorizontal;d=d.spacingVertical;var f=a.fallback,g=a.placeholder,m=babelHelpers.objectWithoutPropertiesLoose(a,["fallback","placeholder"]);if(g!==void 0){a.placeholder;var n=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);return h.jsx(c("CometPlaceholder.react"),{fallback:g!=null?h.jsx(l,babelHelpers["extends"]({},n,{ref:b,children:g})):null,children:h.jsx(l,babelHelpers["extends"]({},n,{ref:b}))})}if(f!==void 0){a.fallback;var o=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);return f===null?h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))}):h.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return h.jsx(l,babelHelpers["extends"]({},o,{ref:b,children:typeof f==="function"?f(a,c):f}))},children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))})}return h.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},m,{ref:b,useDeprecatedStyles:m.useDeprecatedStyles,xstyle:[j[e],k[d],m.xstyle],children:h.jsx(c("MDSRowContext").Provider,{value:null,children:m.children})}))}a.displayName=a.name+" [from "+f.id+"]";var l=h.forwardRef(a);b=l;g["default"]=b}),98);
__d("MDSRow.react",["BaseRow.react","CometColumnContext","CometColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k={4:{paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus"},8:{paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},10:{paddingEnd:"rv4hoivh",paddingStart:"h4z51re5"},12:{paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"},16:{paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"}},l={0:{paddingTop:"jb3vyjys"},4:{paddingTop:"ecm0bbzt"},8:{paddingTop:"cxgpxx05"},10:{paddingTop:"jktsbyx5"},12:{paddingTop:"pybr56ya"},16:{paddingTop:"discj3wi"}},m={4:{paddingBottom:"e5nlhep0",paddingTop:"ecm0bbzt"},8:{paddingBottom:"sj5x9vvc",paddingTop:"cxgpxx05"},10:{paddingBottom:"osnr6wyh",paddingTop:"jktsbyx5"},12:{paddingBottom:"f10w8fjw",paddingTop:"pybr56ya"},16:{paddingBottom:"ihqw7lf3",paddingTop:"discj3wi"}},n={4:{marginEnd:"nkwizq5d",marginStart:"roh60bw9"},8:{marginEnd:"dlv3wnog",marginStart:"rl04r1d5"},10:{marginEnd:"ocv6bq3q",marginStart:"pec0n382"},12:{marginEnd:"b5q2rw42",marginStart:"lq239pai"},16:{marginEnd:"o22cckgh",marginStart:"fop5sh7t"},24:{marginEnd:"a9txdygg",marginStart:"fnu23jab"},32:{marginEnd:"tmqn73lw",marginStart:"ocgrx2df"}},o={4:{marginBottom:"scwd0bx6",marginTop:"hop8lmos"},8:{marginBottom:"enqfppq2",marginTop:"muag1w35"},10:{marginBottom:"ew0dbk1b",marginTop:"irj2b8pg"},12:{marginBottom:"mysgfdmx",marginTop:"hddg9phg"},16:{marginBottom:"obtkqiv7",marginTop:"sv5sfqaa"},24:{marginBottom:"fi9g468h",marginTop:"gy6hb44f"},32:{marginBottom:"b20td4e0",marginTop:"rtmu0sqt"}};function a(a,b){var d=i(c("CometColumnContext")),e=i(c("MDSRowContext")),f=(d==null?void 0:d.paddingHorizontal)!=null?0:12,g=(d==null?void 0:d.spacing)!=null?0:16,p=a.children,q=a.paddingHorizontal;f=q===void 0?f:q;q=a.paddingVertical;q=q===void 0?0:q;var r=a.paddingTop;g=r===void 0?a.paddingVertical==null?g:null:r;r=a.spacing;r=r===void 0?12:r;var s=a.spacingHorizontal,t=s===void 0?r:s;s=a.spacingVertical;var u=s===void 0?r:s;r=a.xstyle;s=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=j(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);b=h.jsx(c("BaseRow.react"),babelHelpers["extends"]({},s,{ref:b,xstyle:[k[f],m[q],g!=null&&l[g],n[t],o[u],r],children:h.jsx(c("MDSRowContext").Provider,{value:a,children:p})}));if(e!=null)return h.jsx(c("MDSRowItem.react"),{expanding:s.expanding,children:b});return d!=null?h.jsx(c("CometColumnItem.react"),{expanding:s.expanding,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);d=e;g["default"]=d}),98);
__d("MWChatVideoPlayer.bs",["MWChatVideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatVideoPlayer.react");f.make=a}),null);
__d("MWLSThreadEmoji.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:d,tl:0}),function(a){return a.w})},[c,d]));if(a!==void 0)return b("bs_caml_option").valFromOption(a)}f.useEmoji=a}),null);
__d("MWUILoadParticipants.bs",["cr:604"],(function(a,b,c,d,e,f){"use strict";a=b("cr:604").useMercuryParticipants;c=b("cr:604").useParticipants;f.$MWLSLoadParticipants$OR$WorkplaceMSLoadParticipants$requireCond=b("cr:604");f.useMercuryParticipants=a;f.useParticipants=c}),null);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometLazyDialogTrigger.react","CometSkittleIcon.react","JSResource","MDSRow.react","MDSRowItem.react","MDSText.react","TetraButton.react","bs_curry","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={button:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},imageRow:{paddingTop:"jwdofwj8"},card:{width:"k4urcfbm",position:"pmk7jnqg",zIndex:"tkr6xdv7",backgroundColor:"nred35xi",boxShadow:"rlauoc8d"}};function a(a){var c=a.onView;a=a.onDismiss;var d=g._(/*FBT_CALL*/"\u300c\u6536\u56de\u8a0a\u606f\u300d\u529f\u80fd\u7684\u904b\u4f5c\u65b9\u5f0f"/*FBT_CALL*/),e=g._(/*FBT_CALL*/"\u5982\u679c\u6536\u56de\u7684\u8a0a\u606f\u9055\u53cd\u6211\u5011\u7684\u793e\u7fa4\u5b88\u5247\uff0c\u9019\u4e9b\u8a0a\u606f\u4ecd\u6703\u5305\u542b\u5728\u6aa2\u8209\u5167\u5bb9\u4e2d\u3002"/*FBT_CALL*/);return k.jsxs("div",{className:(j||(j=b("stylex")))(l.card),children:[k.jsxs(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[k.jsx(b("MDSRowItem.react"),{xstyle:l.imageRow,children:k.jsx(b("CometSkittleIcon.react"),{color:"gray",size:36,icon:b("fbicon")._(h("685851"),16)})}),k.jsxs(b("MDSRowItem.react"),{expanding:!0,children:[k.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MDSText.react"),{color:"primary",type:"headline4",children:d})})}),k.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:e})})})]})]}),k.jsxs(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[k.jsx(b("MDSRowItem.react"),{xstyle:l.button,children:k.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),dialogProps:{onClose:function(a){}},children:function(a,d){return k.jsx(b("TetraButton.react"),{label:g._(/*FBT_CALL*/"\u77ad\u89e3\u8a73\u60c5"/*FBT_CALL*/),type:"secondary",onPress:function(d){b("bs_curry")._1(a,void 0);return b("bs_curry")._1(c,void 0)}})}})}),k.jsx(b("MDSRowItem.react"),{xstyle:l.button,children:k.jsx(b("TetraButton.react"),{label:g._(/*FBT_CALL*/"\u78ba\u5b9a"/*FBT_CALL*/),type:"secondary",onPress:a})})]})]})}c=a;f.styles=l;f.make=c}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.bs",["MWChatUnsendNUXReceiverBanner.bs","MWLSActor.bs","MWThreadKey.bs","ReQL.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","react","useMessengerUnsendNUX"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return Date.now()-b("bs_caml_int64").to_float(b("bs_belt_Option").getWithDefault(a.X,b("bs_caml_int64").zero))<=1e4}function a(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("ReStore.bs").useHook(void 0);a=h.useState(function(){return!1});var f=a[1],g=a[0],j=h.useRef(!1),k=h.useRef(!1),l=h.useRef(void 0);a=b("useMessengerUnsendNUX")(8568);var m=a[2],n=a[1],o=a[0],p=h.useCallback(function(a){a=l.current;if(a!==void 0){b("bs_curry")._1(a,void 0);l.current=void 0;return}},[]);a=h.useCallback(function(a){k.current=!0;b("bs_curry")._1(n,void 0);b("bs_curry")._1(p,void 0);return b("bs_curry")._1(f,function(a){return!1})},[]);var q=h.useCallback(function(a){var c=!g&&!j.current;if(c&&i(a)){j.current=!0;return b("bs_curry")._1(o,function(a){j.current=!1;if(a)return b("bs_curry")._1(f,function(a){return!0});else{b("bs_curry")._1(p,void 0);k.current=!0;return}})}},[c,g]);h.useEffect(function(){if(k.current)return;else{l.current=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"messages").asc,{hd:d,tl:0}),function(a){if(a.m)return b("bs_caml").i64_neq(a.h,c);else return!1}),function(a,c){if(typeof c==="number")return;else return b("bs_curry")._1(q,c._0)});return function(a){b("bs_curry")._1(p,void 0);if(g&&!k.current)return b("bs_curry")._1(m,void 0)}}},[g,q,d,p]);if(g)return h.jsx(b("MWChatUnsendNUXReceiverBanner.bs").make,{onView:a,onDismiss:a});else return null}c=8568;d=1e4;e=a;f.cNUX_ID=c;f.cTEN_SECONDS=d;f.isMessageUnsentInLastTenSeconds=i;f.make=e}),null);
__d("FBLikeSvgIcon.bs",["bs_caml_option","react","uniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.className,d=a.color,e=a.size;a=a.title;e=e!==void 0?e:"20";var f=a!==void 0?b("bs_caml_option").valFromOption(a):null;a=h.useState(function(){if(f===null)return;else return b("uniqueID")()});a=a[0];return h.jsxs("svg",{"aria-labelledby":a,viewBox:"0 0 16 16",height:e,width:e,className:c,children:[a!==void 0&&f!==null?h.jsx("title",{id:a,children:f}):null,h.jsx("path",{fill:d,d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z"}),h.jsx("path",{fill:d,d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z"})]})}c=a;f.make=c}),null);
__d("MWLikeSvgIcon.bs",["cr:1828791"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1828791").make;f.$MDSLikeSvgIcon$OR$FBLikeSvgIcon$requireCond=b("cr:1828791");f.make=a}),null);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("LSAuthorityLevel.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,20];b=[0,40];c=[0,60];d=[0,75];e=[0,80];var g=[0,100];f.optimistic=a;f.clientPartial=b;f.serverPartial=c;f.authoritativePendingReplacement=d;f.authoritative=e;f.clientAuthoritativeDelete=g}),null);
__d("LSMessageThreadUnsendabilityStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9];f.canUnsend=a;f.denyForSpecificIds=c;f.denyIfThreadContainsPau=d;f.denyIfThreadContainsWorkUser=e;f.denyIfPageThread=b;f.denyIfMarketplaceThread=g;f.denyIfCannotLoadThread=h;f.denyIfThreadContainsWorkUserFailingKillswitch=i;f.denyIfCanonicalThreadContainsBlockedUsers=j;f.denyIfCannotReplyToViewerThread=k}),null);
__d("MessagingAttachmentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,12];f.none=a;f.sticker=c;f.image=d;f.animatedImage=e;f.video=b;f.audio=g;f.file=h;f.xma=i;f.ephemeralImage=j;f.ephemeralVideo=k;f.selfieSticker=l;f.soundBite=m}),null);
__d("LineClamp.react",["cx","DOMContainer.react","Locale","getElementText","getVendorPrefixedName","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("getVendorPrefixedName")("lineClamp");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={enableTooltip:!1},c.$2=function(a){a instanceof HTMLElement&&(c.innerElement=a,c.$3())},c.$4=function(a){a instanceof HTMLElement&&(c.rootElement=a,c.$3())},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){var a;this.props.lineHeight&&!this.props.customEllipsisDisableGradient&&(a={bottom:this.props.lineHeight+"px"});var b;this.props.customEllipsis&&this.props.customEllipsisDisableGradient?b=d("Locale").isRTL()?"_1osp":"_1osq":b=d("Locale").isRTL()?"_4ik3 _2k5c":"_4ik3"+(this.props.enableCustomizedStyleForEllipsis?" _6q5n":"")+(this.props.enableCustomizedStyleForEllipsis?"":" _2k5d");return i.jsx("div",{style:a,className:b,children:this.props.customEllipsis?this.props.customEllipsis:"\u2026"},"ellipsis")};e.$3=function(){if(!this.props.enableTooltipOnOverflow)return;var a=this.isOverflowing();this.state.enableTooltip!==a&&this.setState({enableTooltip:a})};e.$5=function(){return!!j&&!this.props.disableNative};e.isOverflowing=function(){var a=!1;if(!this.rootElement)return a;var b=this.rootElement;if(this.$5())a=b.scrollHeight>b.offsetHeight;else{if(!this.innerElement)return a;a=this.innerElement.offsetHeight>b.offsetHeight}return a};e.componentDidMount=function(){this.$3()};e.componentDidUpdate=function(){this.$3()};e.render=function(){var a=this.$5(),b=c("joinClasses")(this.props.className,"_4ik4"+(a?" _4ik5":"")+(this.props.width?" _8hwj":"")),d=this.props.hasXHPChildren?i.jsx(c("DOMContainer.react"),{children:this.props.children}):this.props.children,e={};this.props.lineHeight&&(e={lineHeight:this.props.lineHeight+"px"},this.props.fitHeightToShorterText?e=babelHelpers["extends"]({},e,{maxHeight:this.props.lineHeight*this.props.lines}):e=babelHelpers["extends"]({},e,{height:this.props.lineHeight*this.props.lines}));this.props.width&&(e=babelHelpers["extends"]({},e,{width:this.props.width+"px"}));a?e[j]=this.props.lines:(b=c("joinClasses")(b,"clearfix"),this.props.customEllipsisDisableGradient?d=[i.jsx("div",{className:"_1osu"},"spacer"),this.$1(),i.jsx("div",{className:"_1osv",ref:this.$2,children:this.props.children},"inner")]:d=[i.jsx("div",{className:"_4ik6",ref:this.$2,children:d},"inner"),this.$1()]);var f={};this.props.enableTooltipOnOverflow&&(f["data-hover"]="tooltip",this.state.enableTooltip&&(f["data-tooltip-content"]=a?c("getElementText")(this.rootElement):c("getElementText")(this.innerElement),this.props.tooltipDelay!=null&&(f["data-tooltip-delay"]=this.props.tooltipDelay)));return i.jsx("div",babelHelpers["extends"]({},f,{className:b,ref:this.$4,style:e,children:d}))};return b}(i.Component);g["default"]=a}),98);
__d("StickerConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120})}),null);